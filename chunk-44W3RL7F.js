import{a as wn}from"./chunk-RXKBJT6U.js";import{c as xn}from"./chunk-NFJDU5IN.js";import"./chunk-DPVQZYPC.js";import{d as Nt}from"./chunk-HGFRKFU7.js";import{B as te,F as oe,G as Zi,H as ne,K as re,N as ae,c as L,e as zn,g as G,i as Cn,j as Mn,k as _n,l as Nn,m as vn,n as yn,o as U,q,t as Z,u as Tn,v as $t,w as X,y as Dn}from"./chunk-W66HFKH2.js";import{A as P,Aa as At,B as A,Ba as It,Ca as J,Da as Yt,E as I,Ea as Xt,Fa as Jt,Ga as Kt,Ha as K,Ja as ee,L as k,M as cn,N as O,Na as ie,Pa as bn,Qa as se,R as V,S as fn,Ta as le,W as hn,Y as j,ab as me,cb as pe,e as mn,eb as ue,f as pn,g as un,ga as H,i as Ft,k as Bt,l as Ut,ma as Wi,n as qt,na as Ui,oa as W,p as Rt,pa as gn,q as Zt,qa as b,r as dn,ra as Sn,sa as Pt,ua as qi,xa as $,ya as En,za as Y}from"./chunk-RIIMSFG6.js";import{$ as kt,$b as Te,Ab as Go,Ac as Si,Ad as Li,Bb as Pi,Bd as Wt,Bh as nn,Cb as Mi,Cd as Ei,Db as _i,Dh as x,E as co,Ea as l,Eh as F,Fa as Vo,Fc as Uo,Gd as Oi,H as Ro,Hb as Ni,Ic as xt,Id as Ko,Jb as Vt,Jd as go,Kd as Co,Kh as ze,La as E,Lc as qo,Ma as Ot,Mb as h,Mh as he,N as Po,Na as fo,Nb as _t,Nc as Zo,Nh as w,Ni as R,Ob as ve,Od as Qo,Qb as ye,Qh as rn,Ra as Me,Rb as Se,Sa as jo,Sb as Ee,Sc as $o,T as Ao,Ta as Ci,U as Io,Ua as Ho,Ui as Hi,W as gi,Wd as en,Xb as vi,Zc as Ii,aa as Lt,ab as _e,ac as Wo,aj as Gi,ba as ko,c as ci,cb as Ne,d as fi,da as N,db as Dt,e as xo,eb as yt,ec as wt,fb as De,fc as bt,gb as we,gi as an,hb as f,hc as Ai,ia as de,ib as m,ja as ce,jb as u,kb as fe,lb as Bi,ld as Yo,m as Fo,mb as Ri,mj as ln,n as hi,o as vt,oa as xi,ob as St,od as Xo,pb as Et,pd as ki,rb as Pe,s as zi,se as tn,ta as Ht,ub as S,ue as Ti,va as Fi,vh as Vi,vj as ge,w as Bo,wd as Jo,wh as D,wj as Q,xa as Lo,xb as v,xh as ji,xi as sn,yb as ho,yc as Gt,yh as on,yi as B,za as Oo,zb as zo,zc as yi}from"./chunk-GSKYGLQZ.js";import{a as Re,d as Hn,f as wo,g as uo,i as bo}from"./chunk-57BLH6QZ.js";var yo=Hn((No,vo)=>{"use strict";(function(i,n){typeof define=="function"&&define.amd?define([],n):typeof No<"u"?n():(n(),i.FileSaver={})})(No,function(){"use strict";function i(g,o){return typeof o>"u"?o={autoBom:!1}:typeof o!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(g.type)?new Blob(["\uFEFF",g],{type:g.type}):g}function n(g,o,r){var a=new XMLHttpRequest;a.open("GET",g),a.responseType="blob",a.onload=function(){d(a.response,o,r)},a.onerror=function(){console.error("could not download file")},a.send()}function e(g){var o=new XMLHttpRequest;o.open("HEAD",g,!1);try{o.send()}catch{}return 200<=o.status&&299>=o.status}function t(g){try{g.dispatchEvent(new MouseEvent("click"))}catch{var o=document.createEvent("MouseEvents");o.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),g.dispatchEvent(o)}}var s=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof global=="object"&&global.global===global?global:void 0,p=s.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),d=s.saveAs||(typeof window!="object"||window!==s?function(){}:"download"in HTMLAnchorElement.prototype&&!p?function(g,o,r){var a=s.URL||s.webkitURL,c=document.createElement("a");o=o||g.name||"download",c.download=o,c.rel="noopener",typeof g=="string"?(c.href=g,c.origin===location.origin?t(c):e(c.href)?n(g,o,r):t(c,c.target="_blank")):(c.href=a.createObjectURL(g),setTimeout(function(){a.revokeObjectURL(c.href)},4e4),setTimeout(function(){t(c)},0))}:"msSaveOrOpenBlob"in navigator?function(g,o,r){if(o=o||g.name||"download",typeof g!="string")navigator.msSaveOrOpenBlob(i(g,r),o);else if(e(g))n(g,o,r);else{var a=document.createElement("a");a.href=g,a.target="_blank",setTimeout(function(){t(a)})}}:function(g,o,r,a){if(a=a||open("","_blank"),a&&(a.document.title=a.document.body.innerText="downloading..."),typeof g=="string")return n(g,o,r);var c=g.type==="application/octet-stream",z=/constructor/i.test(s.HTMLElement)||s.safari,y=/CriOS\/[\d]+/.test(navigator.userAgent);if((y||c&&z||p)&&typeof FileReader<"u"){var C=new FileReader;C.onloadend=function(){var be=C.result;be=y?be:be.replace(/^data:[^;]*;/,"data:attachment/file;"),a?a.location.href=be:location=be,a=null},C.readAsDataURL(g)}else{var M=s.URL||s.webkitURL,_=M.createObjectURL(g);a?a.location=_:location.href=_,a=null,setTimeout(function(){M.revokeObjectURL(_)},4e4)}});s.saveAs=d.saveAs=d,typeof vo<"u"&&(vo.exports=d)})});var Qt=class Qt{constructor(){this.aclSrv=N(Oi);this.menuSrv=N(Hi);this.full=!0;this.roleA="";this.roleB=""}get data(){return this.aclSrv.data}reMenu(){this.menuSrv.resume()}toggleFull(){this.full=!this.full,this.aclSrv.setFull(this.full),this.reMenu()}toggleRoleA(){this.full=!1,this.roleA=this.roleA==="role-a"?"":"role-a",this.aclSrv.setFull(this.full),this.aclSrv.setRole([this.roleA]),this.reMenu()}toggleRoleB(){this.full=!1,this.roleB=this.roleB==="role-b"?"":"role-b",this.aclSrv.setFull(this.full),this.aclSrv.setRole([this.roleB]),this.reMenu()}};Qt.\u0275fac=function(e){return new(e||Qt)},Qt.\u0275cmp=E({type:Qt,selectors:[["app-acl"]],decls:32,vars:14,consts:[[1,"alain-default__content-title"],["nz-row","",3,"nzGutter"],["nz-col","",3,"nzSpan"],["nzTitle","\u6309\u94AE\u7C92\u5EA6"],["nz-button","",3,"acl"],["nz-button","",1,"ml-sm",3,"acl"],["nzTitle","\u5168\u91CF"],["nz-button","",3,"click"],[1,"pt-md"],["nzTitle","\u89D2\u8272[role-a]"],["nzTitle","\u89D2\u8272[role-b]"]],template:function(e,t){e&1&&(m(0,"div",0)(1,"h1"),h(2," ACL \u8BBF\u95EE\u63A7\u5236 "),m(3,"small"),h(4,"\u6CE8\u610F\u89C2\u5BDF\u5DE6\u8FB9\u7684\u83DC\u5355\uFF1BACLService\u63D0\u4F9B\u4E00\u4E2A\u5B8C\u6574\u7684\u57FA\u4E8E\u89D2\u8272\u7684\u8BBF\u95EE\u63A7\u5236\u7684\u670D\u52A1\uFF0C\u82E5\u9700\u8981\u652F\u6301\u8DEF\u7531\u5B88\u536B\uFF0C\u8BF7\u914D\u5408ACLService\u4E0ERoute Guard\u914D\u5408\u7B80\u4FBF\u5B9E\u73B0\u3002"),u()()(),m(5,"div",1)(6,"div",2)(7,"nz-card",3),h(8),wt(9,"json"),m(10,"button",4),h(11,"role-a"),u(),m(12,"button",5),h(13,"role-b"),u()()()(),m(14,"div",1)(15,"div",2)(16,"nz-card",6)(17,"button",7),S("click",function(){return t.toggleFull()}),m(18,"span"),h(19),u()(),m(20,"p",8),h(21,"\u5168\u91CF\u7C7B\u6307\u7CFB\u7EDF\u7BA1\u7406\u5458\u89D2\u8272\uFF0C\u65E0\u4EFB\u4F55\u53D7\u9650\u3002"),u()()(),m(22,"div",2)(23,"nz-card",9)(24,"button",7),S("click",function(){return t.toggleRoleA()}),m(25,"span"),h(26),u()()()(),m(27,"div",2)(28,"nz-card",10)(29,"button",7),S("click",function(){return t.toggleRoleB()}),m(30,"span"),h(31),u()()()()()),e&2&&(l(5),f("nzGutter",8),l(),f("nzSpan",24),l(2),ve(" ACL\u539F\u59CB\u6570\u636E\uFF1A",bt(9,12,t.data)," "),l(2),f("acl","role-a"),l(2),f("acl","role-b"),l(2),f("nzGutter",8),l(),f("nzSpan",8),l(4),ve("",t.full?"\u79BB\u5F00":"\u8BBE\u7F6E","\u6743\u9650"),l(3),f("nzSpan",8),l(4),ve("",t.roleA.length>0?"\u79BB\u5F00":"\u8BBE\u7F6E","\u6743\u9650"),l(),f("nzSpan",8),l(4),ve("",t.roleB.length>0?"\u79BB\u5F00":"\u8BBE\u7F6E","\u6743\u9650"))},dependencies:[P,A,te,X,ae,re,ne,Ko,w,he,F,ze,H,J,It,At,k,V,pe,W,D,I,se,B,U,R,ie,$,Y,Z,q,O,oe,me,ee,L,K,le,b,Q,ge,j,ue,G,x,xt],encapsulation:2});var $i=Qt;var Gn=new ko("DC_STORE_STORAGE_TOKEN",{providedIn:"root",factory:()=>new _o}),_o=class{platform=N(Co);get(n){return this.platform.isBrowser&&JSON.parse(localStorage.getItem(n)||"null")||null}set(n,e){return this.platform.isBrowser&&localStorage.setItem(n,JSON.stringify(e)),!0}remove(n){this.platform.isBrowser&&localStorage.removeItem(n)}},Fn=(()=>{class i{store=N(Gn);http=N(Ii);platform=N(Co);memory=new Map;notifyBuffer=new Map;meta=new Set;freqTick=3e3;freqTime;cog=N(Wt).merge("cache",{mode:"promise",reName:"",prefix:"",meta_key:"__cache_meta"});constructor(){this.platform.isBrowser&&(this.loadMeta(),this.startExpireNotify())}pushMeta(e){this.meta.has(e)||(this.meta.add(e),this.saveMeta())}removeMeta(e){this.meta.has(e)&&(this.meta.delete(e),this.saveMeta())}loadMeta(){let e=this.store.get(this.cog.meta_key);e&&e.v&&e.v.forEach(t=>this.meta.add(t))}saveMeta(){let e=[];this.meta.forEach(t=>e.push(t)),this.store.set(this.cog.meta_key,{v:e,e:0})}getMeta(){return this.meta}set(e,t,s={}){if(!this.platform.isBrowser)return;let p=0,{type:d,expire:g}=this.cog;s=Re({type:d,expire:g},s),s.expire&&(p=rn(new Date,s.expire).valueOf());let o=s.emitNotify!==!1;if(!(t instanceof ci)){this.save(s.type,e,{v:t,e:p},o);return}return t.pipe(gi(r=>{this.save(s.type,e,{v:r,e:p},o)}))}save(e,t,s,p=!0){e==="m"?this.memory.set(t,s):(this.store.set(this.cog.prefix+t,s),this.pushMeta(t)),p&&this.runNotify(t,"set")}get(e,t={}){if(!this.platform.isBrowser)return null;let s=t.mode!=="none"&&this.cog.mode==="promise",p=this.memory.has(e)?this.memory.get(e):this.store.get(this.cog.prefix+e);return!p||p.e&&p.e>0&&p.e<new Date().valueOf()?s?(this.cog.request?this.cog.request(e):this.http.get(e)).pipe(Bo(d=>Jo(d,this.cog.reName,d)),gi(d=>this.set(e,d,{type:t.type,expire:t.expire,emitNotify:t.emitNotify}))):null:s?zi(p.v):p.v}getNone(e){return this.get(e,{mode:"none"})}tryGet(e,t,s={}){if(!this.platform.isBrowser)return null;let p=this.getNone(e);return p===null?t instanceof ci?this.set(e,t,s):(this.set(e,t,s),t):zi(p)}has(e){return this.memory.has(e)||this.meta.has(e)}_remove(e,t){if(t&&this.runNotify(e,"remove"),this.memory.has(e)){this.memory.delete(e);return}this.store.remove(this.cog.prefix+e),this.removeMeta(e)}remove(e){this.platform.isBrowser&&this._remove(e,!0)}clear(){this.platform.isBrowser&&(this.notifyBuffer.forEach((e,t)=>this.runNotify(t,"remove")),this.memory.clear(),this.meta.forEach(e=>this.store.remove(this.cog.prefix+e)))}set freq(e){this.freqTick=Math.max(20,e),this.abortExpireNotify(),this.startExpireNotify()}startExpireNotify(){this.checkExpireNotify(),this.runExpireNotify()}runExpireNotify(){this.freqTime=setTimeout(()=>{this.checkExpireNotify(),this.runExpireNotify()},this.freqTick)}checkExpireNotify(){let e=[];this.notifyBuffer.forEach((t,s)=>{this.has(s)&&this.getNone(s)===null&&e.push(s)}),e.forEach(t=>{this.runNotify(t,"expire"),this._remove(t,!1)})}abortExpireNotify(){clearTimeout(this.freqTime)}runNotify(e,t){this.notifyBuffer.has(e)&&this.notifyBuffer.get(e).next({type:t,value:this.getNone(e)})}notify(e){if(!this.notifyBuffer.has(e)){let t=new xo(this.getNone(e));this.notifyBuffer.set(e,t)}return this.notifyBuffer.get(e).asObservable()}cancelNotify(e){this.notifyBuffer.has(e)&&(this.notifyBuffer.get(e).unsubscribe(),this.notifyBuffer.delete(e))}hasNotify(e){return this.notifyBuffer.has(e)}clearNotify(){this.notifyBuffer.forEach(e=>e.unsubscribe()),this.notifyBuffer.clear()}ngOnDestroy(){this.memory.clear(),this.abortExpireNotify(),this.clearNotify()}static \u0275fac=function(t){return new(t||i)};static \u0275prov=kt({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),va=new $o(()=>({}));var ei=class ei{constructor(){this.cache=N(Fn);this.msg=N(Nt);this.KEY="user"}set(){this.cache.set(this.KEY,+new Date)}get(){this.msg.success(this.cache.getNone(this.KEY))}};ei.\u0275fac=function(e){return new(e||ei)},ei.\u0275cmp=E({type:ei,selectors:[["app-cache"]],decls:10,vars:0,consts:[[1,"alain-default__content-title"],["href","https://ng-alain.com/components/cache","target","_blank"],["nzTitle","Service"],["nz-button","",3,"click"],["nz-button","",1,"ml-sm",3,"click"]],template:function(e,t){e&1&&(m(0,"div",0)(1,"h1"),h(2," Cache \u7F13\u5B58, "),m(3,"a",1),h(4,"Document"),u()()(),m(5,"nz-card",2)(6,"button",3),S("click",function(){return t.set()}),h(7,"\u8BBE\u7F6E"),u(),m(8,"button",4),S("click",function(){return t.get()}),h(9,"\u83B7\u53D6"),u()())},dependencies:[P,A,te,X,ae,re,ne,w,he,F,ze,H,J,k,V,pe,W,D,I,se,B,U,R,ie,$,Y,Z,q,O,oe,me,ee,L,K,le,b,Q,ge,j,ue,G,x],encapsulation:2});var Yi=ei;var Bn=wo(yo(),1);var Rn=(()=>{class i{el=N(Fi).nativeElement;_http=N(Gi);httpData;httpBody;httpMethod="get";httpUrl;fileName;pre;success=new Ci;error=new Ci;getDisposition(e){return(e||"").split(";").filter(s=>s.includes("=")).map(s=>{let p=s.split("="),d="UTF-8''",g=p[1];return g.startsWith(d)&&(g=g.substring(d.length)),{[p[0].trim()]:g}}).reduce((s,p)=>p,{})}isFileSaverSupported=!1;constructor(){try{this.isFileSaverSupported=!!new Blob}catch{}this.isFileSaverSupported||this.el.classList.add("down-file__not-support")}setDisabled(e){let t=this.el;t.disabled=e,t.classList[e?"add":"remove"]("down-file__disabled")}_click(e){return bo(this,null,function*(){if(!this.isFileSaverSupported||typeof this.pre=="function"&&!(yield this.pre(e))){e.stopPropagation(),e.preventDefault();return}this.setDisabled(!0),this._http.request(this.httpMethod,this.httpUrl,{params:this.httpData||{},responseType:"blob",observe:"response",body:this.httpBody}).pipe(Po(()=>this.setDisabled(!1))).subscribe({next:t=>{if(t.status!==200||t.body.size<=0){this.error.emit(t);return}let s=this.getDisposition(t.headers.get("content-disposition")),p=this.fileName;typeof p=="function"&&(p=p(t)),p=p||s["filename*"]||s.filename||t.headers.get("filename")||t.headers.get("x-filename"),(0,Bn.saveAs)(t.body,decodeURI(p)),this.success.emit(t)},error:t=>this.error.emit(t)})})}static \u0275fac=function(t){return new(t||i)};static \u0275dir=fo({type:i,selectors:[["","down-file",""]],hostBindings:function(t,s){t&1&&S("click",function(d){return s._click(d)})},inputs:{httpData:[0,"http-data","httpData"],httpBody:[0,"http-body","httpBody"],httpMethod:[0,"http-method","httpMethod"],httpUrl:[0,"http-url","httpUrl"],fileName:[0,"file-name","fileName"],pre:"pre"},outputs:{success:"success",error:"error"},exportAs:["downFile"]})}return i})();function Wn(i,n){if(i&1&&(m(0,"button",2),h(1),u()),i&2){let e=n.$implicit,t=v();f("http-url",vi("assets/tmp/demo",e))("http-data",t.data),l(),ve(" ",e," ")}}var ti=class ti{constructor(){this.fileTypes=[".xlsx",".docx",".pptx",".pdf"];this.data={otherdata:1,time:new Date}}};ti.\u0275fac=function(e){return new(e||ti)},ti.\u0275cmp=E({type:ti,selectors:[["app-down-file"]],decls:6,vars:0,consts:[[1,"alain-default__content-title"],["nzTitle","DEMO"],["nz-button","","down-file","","file-name","demo\u4E2D\u6587",1,"mr-sm",3,"http-data","http-url"]],template:function(e,t){e&1&&(m(0,"div",0)(1,"h1"),h(2,"Download a file"),u()(),m(3,"nz-card",1),De(4,Wn,2,4,"button",2,Dt),u()),e&2&&(l(4),we(t.fileTypes))},dependencies:[P,A,te,X,ae,re,ne,w,he,F,ze,H,J,k,V,pe,W,D,I,se,B,U,R,ie,$,Y,Z,q,O,oe,me,ee,L,K,le,b,Q,ge,j,ue,G,x,Rn],encapsulation:2});var Xi=ti;var Un=i=>({params:i}),ii=class ii{constructor(){this.params={};this.url="/user";this.searchSchema={properties:{no:{type:"string",title:"\u7F16\u53F7"}}};this.columns=[{title:"\u7F16\u53F7",index:"no"},{title:"\u8C03\u7528\u6B21\u6570",type:"number",index:"callNo"},{title:"\u5934\u50CF",type:"img",width:"50px",index:"avatar"},{title:"\u65F6\u95F4",type:"date",index:"updatedAt"}]}};ii.\u0275fac=function(e){return new(e||ii)},ii.\u0275cmp=E({type:ii,selectors:[["app-delon-form"]],decls:5,vars:8,consts:[["st",""],[3,"title"],["mode","search",3,"formSubmit","formReset","schema","formData"],[3,"data","columns","req"]],template:function(e,t){if(e&1){let s=Pe();fe(0,"page-header",1),m(1,"nz-card")(2,"sf",2),S("formSubmit",function(d){de(s);let g=Ni(4);return ce(g.reset(d))})("formReset",function(){de(s);let d=Ni(4);return ce(d.reset(t.params))}),u(),fe(3,"st",3,0),u()}e&2&&(f("title","Page Name"),l(2),f("schema",t.searchSchema)("formData",t.params),l(),f("data",t.url)("columns",t.columns)("req",Wo(6,Un,t.params)))},dependencies:[P,A,te,Dn,X,$t,ae,re,ne,Zi,w,H,J,k,V,pe,W,D,I,se,B,U,R,ie,$,Y,Z,q,O,oe,me,ee,L,K,le,b,Q,ge,j,ue,G,x],encapsulation:2});var Ji=ii;var oi=class oi{};oi.\u0275fac=function(e){return new(e||oi)},oi.\u0275cmp=E({type:oi,selectors:[["app-guard-admin"]],decls:2,vars:0,template:function(e,t){e&1&&(Bi(0,"p"),h(1,"\u8FD9\u662F\u4E00\u4E2Aadmin\u9875\u9762"),Ri())},encapsulation:2});var Ki=oi;var ni=class ni{};ni.\u0275fac=function(e){return new(e||ni)},ni.\u0275cmp=E({type:ni,selectors:[["app-guard-auth"]],decls:2,vars:0,template:function(e,t){e&1&&(Bi(0,"p"),h(1,"\u8FD9\u662F\u4E00\u4E2Auser1\u9875\u9762"),Ri())},encapsulation:2});var Qi=ni;var Pn=()=>{let i=N(sn);return new ci(n=>{i.confirm({nzTitle:"\u786E\u8BA4\u8981\u79BB\u5F00\u5417\uFF1F",nzContent:"\u4F60\u5DF2\u7ECF\u586B\u5199\u4E86\u90E8\u5206\u8868\u5355\u79BB\u5F00\u4F1A\u653E\u5F03\u5DF2\u7ECF\u586B\u5199\u7684\u5185\u5BB9\u3002",nzOkText:"\u79BB\u5F00",nzCancelText:"\u53D6\u6D88",nzOnOk:()=>{n.next(!0),n.complete()},nzOnCancel:()=>{n.next(!1),n.complete()}})})};var Zn=()=>["/delon/guard/leave"],$n=()=>["/delon/guard/auth"],Yn=()=>["/delon/guard/admin"],ri=class ri{constructor(){this.aclSrv=N(Oi);this.menuSrv=N(Hi);this.router=N(Xo)}get data(){return this.aclSrv.data}setRole(n){this.aclSrv.setFull(!1),typeof n=="boolean"?this.aclSrv.setFull(n):this.aclSrv.set({role:[n]}),this.menuSrv.resume(),this.router.navigate(["/delon/guard"])}};ri.\u0275fac=function(e){return new(e||ri)},ri.\u0275cmp=E({type:ri,selectors:[["app-guard"]],decls:28,vars:9,consts:[[1,"alain-default__content-title"],["nz-button","",3,"routerLink"],[1,"ml-sm"],["nz-button","",3,"click"],[1,"mb-lg"]],template:function(e,t){e&1&&(m(0,"div",0)(1,"h1"),h(2," \u8DEF\u7531\u5B88\u536B "),u()(),m(3,"nz-space-compact")(4,"button",1)(5,"span"),h(6,"\u79BB\u5F00\u786E\u8BA4\u9875"),u()()(),m(7,"nz-space-compact",2)(8,"button",3),S("click",function(){return t.setRole(!0)}),m(9,"span"),h(10,"\u8BBE\u7F6E\u7BA1\u7406\u5458"),u()(),m(11,"button",3),S("click",function(){return t.setRole("user1")}),m(12,"span"),h(13,"\u8BBE\u7F6E\u5458\u5DE51"),u()(),m(14,"button",3),S("click",function(){return t.setRole("user2")}),m(15,"span"),h(16,"\u8BBE\u7F6E\u5458\u5DE52"),u()()(),m(17,"nz-space-compact",2)(18,"button",1)(19,"span"),h(20,"\u9700\u8981user1"),u()(),m(21,"button",1)(22,"span"),h(23,"\u9700\u8981\u7BA1\u7406\u5458"),u()()(),m(24,"p",4),h(25),wt(26,"json"),u(),fe(27,"router-outlet")),e&2&&(l(4),f("routerLink",Te(6,Zn)),l(14),f("routerLink",Te(7,$n)),l(3),f("routerLink",Te(8,Yn)),l(4),ve("\u5F53\u524DACL\u4FE1\u606F\uFF1A",bt(26,4,t.data)))},dependencies:[P,A,ki,Yo,te,X,ae,re,ne,w,he,F,ze,H,J,k,V,pe,W,D,I,se,B,U,R,ie,$,Y,Z,q,O,oe,me,ee,L,K,le,b,Q,j,ue,G,x,nn,xt],encapsulation:2});var eo=ri;var Xn=()=>["/delon/guard"],ai=class ai{};ai.\u0275fac=function(e){return new(e||ai)},ai.\u0275cmp=E({type:ai,selectors:[["app-guard-leave"]],decls:5,vars:3,consts:[["nz-button","",3,"nzType","routerLink"]],template:function(e,t){e&1&&(m(0,"p"),h(1,"\u79BB\u5F00\u65F6\u9700\u8981\u786E\u8BA4"),u(),m(2,"button",0)(3,"span"),h(4,"\u6211\u8981\u79BB\u5F00"),u()()),e&2&&(l(2),f("nzType","primary")("routerLink",Te(2,Xn)))},dependencies:[P,A,ki,te,X,ae,re,ne,w,he,F,ze,H,J,k,V,pe,W,D,I,se,B,U,R,ie,$,Y,Z,q,O,oe,me,ee,L,K,le,b,Q,j,ue,G,x],encapsulation:2});var to=ai;var An=(()=>{class i{scriptSrv=N(Li);cogSrv=N(Wt);defaultConfig;_cog;pending=!1;_lodop=null;_init=new fi;_events=new fi;printBuffer=[];constructor(){this.defaultConfig=this.cogSrv.merge("lodop",{url:"http://localhost:8443/CLodopfuncs.js",name:"CLODOP",companyName:"",checkMaxCount:100}),this.cog=this.defaultConfig}get cog(){return this._cog}set cog(e){this._cog=Re(Re({},this.defaultConfig),e)}get events(){return this._events.asObservable()}get lodop(){return this._lodop?zi({ok:!0,lodop:this._lodop}):this.pending?this._init.asObservable():(this.request(),this._init.asObservable())}get printer(){this.check();let e=[],t=this._lodop.GET_PRINTER_COUNT();for(let s=0;s<t;s++)e.push(this._lodop.GET_PRINTER_NAME(s));return e}check(){if(!this._lodop)throw new Error("\u8BF7\u52A1\u5FC5\u5148\u8C03\u7528 lodop \u83B7\u53D6\u5BF9\u8C61")}request(){this.pending=!0;let e=new URL(this.cog.url);e.searchParams.set("name",this.cog.name);let t=e.toString(),s=this.cog.checkMaxCount,p=(g,o)=>{this._init.next({ok:g==="ok",status:g,error:o,lodop:this._lodop})},d=()=>{if(--s,this._lodop.webskt&&this._lodop.webskt.readyState===1)p("ok");else{if(s<0){p("check-limit");return}setTimeout(()=>d(),100)}};this.scriptSrv.loadScript(t).then(g=>{if(g.status!=="ok"){this.pending=!1,p("script-load-error",g[0]);return}let o=window;if(Object.prototype.hasOwnProperty.call(o,this.cog.name)&&(this._lodop=o[this.cog.name]),this._lodop===null){p("load-variable-name-error",{name:this.cog.name});return}this._lodop.SET_LICENSES(this.cog.companyName,this.cog.license,this.cog.licenseA,this.cog.licenseB),d()})}reset(){this._lodop=null,this.pending=!1,this.request()}attachCode(e,t,s){this.check(),s||(s=/LODOP\.([^(]+)\(([^\n]+)?\);/i),e.split(`
`).forEach(p=>{let d=s.exec(p.trim());if(!d)return;let g=this._lodop[d[1]];if(g){let o=null;try{o=new Function(`return [${d[2]}]`)()}catch{}if(o!=null&&Array.isArray(o)&&t)for(let r=0;r<o.length;r++)typeof o[r]=="string"&&(o[r]=o[r].replace(/{{(.*?)}}/g,(a,c)=>t[c.trim()]||""));g.apply(this._lodop,o)}})}design(){this.check();let e=this._lodop.PRINT_DESIGN();return new Promise(t=>{this._lodop.On_Return=(s,p)=>{e===s&&(this._lodop.On_Return=null,t(`${p}`))}})}printDo(){let e=this.printBuffer.shift();if(!e)return;this.attachCode(e.code,e.item,e.parser);let t=this._lodop.PRINT();this._lodop.On_Return=(s,p)=>{t===s&&(this._lodop.On_Return=null,this._events.next(Re({ok:p===!0,error:p===!0?null:p},e)),this.printDo())}}print(e,t,s){this.check(),t&&this.printBuffer.push(...(Array.isArray(t)?t:[t]).map(p=>({code:e,parser:s,item:p}))),this.printDo()}ngOnDestroy(){this._init.unsubscribe(),this._events.unsubscribe()}static \u0275fac=function(t){return new(t||i)};static \u0275prov=kt({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function Jn(i,n){i&1&&(h(0," \u8BF7\u5148\u4E0B\u8F7D "),m(1,"a",5),h(2,"Lodop\u63D2\u4EF6"),u(),h(3,"\u3002 "))}function Kn(i,n){if(i&1&&(m(0,"nz-alert",3),Me(1,Jn,4,0,"ng-template",null,0,Ai),u()),i&2){let e=Ni(2);f("nzType","warning")("nzMessage",e)}}function Qn(i,n){if(i&1&&fe(0,"nz-option",12),i&2){let e=n.$implicit;f("nzLabel",e)("nzValue",e)}}function er(i,n){if(i&1&&fe(0,"nz-option",12),i&2){let e=n.$implicit;f("nzLabel",e)("nzValue",e)}}function tr(i,n){if(i&1){let e=Pe();m(0,"form",4)(1,"nz-form-item",6)(2,"nz-form-label",7),h(3,"\u6253\u5370\u670D\u52A1\u5668"),u(),m(4,"nz-form-control",7)(5,"nz-input-group")(6,"div",8)(7,"input",9),Ee("ngModelChange",function(s){de(e);let p=v();return Se(p.cog.url,s)||(p.cog.url=s),ce(s)}),u()(),m(8,"div",8)(9,"button",10),S("click",function(){de(e);let s=v();return ce(s.reload(null))}),h(10,"\u91CD\u65B0\u52A0\u8F7D\u6253\u5370\u673A"),u()()()()(),m(11,"nz-form-item",6)(12,"nz-form-label",7),h(13,"\u6253\u5370\u673A"),u(),m(14,"nz-form-control",7)(15,"nz-select",11),Ee("ngModelChange",function(s){de(e);let p=v();return Se(p.cog.printer,s)||(p.cog.printer=s),ce(s)}),S("ngModelChange",function(s){de(e);let p=v();return ce(p.changePinter(s))}),De(16,Qn,1,2,"nz-option",12,Dt),u()()(),m(18,"nz-form-item",6)(19,"nz-form-label",7),h(20,"\u7EB8\u5F20\u7C7B\u578B"),u(),m(21,"nz-form-control",7)(22,"nz-select",13),Ee("ngModelChange",function(s){de(e);let p=v();return Se(p.cog.paper,s)||(p.cog.paper=s),ce(s)}),De(23,er,1,2,"nz-option",12,Dt),u()()(),m(25,"nz-form-item",6)(26,"nz-form-label",7),h(27,"\u6253\u5370\u5185\u5BB9"),u(),m(28,"nz-form-control",7)(29,"textarea",14),Ee("ngModelChange",function(s){de(e);let p=v();return Se(p.cog.html,s)||(p.cog.html=s),ce(s)}),u(),m(30,"div",15),h(31,"\u4EC5\u9650HTML\uFF0C\u66F4\u591A\u7C7B\u578B\u652F\u6301\u8BF7\u53C2\u8003\u5B98\u7F51"),u()()(),m(32,"nz-form-item",6)(33,"nz-form-control",16)(34,"button",17),S("click",function(){de(e);let s=v();return ce(s.print(!0))}),h(35,"\u6253\u5370\u9884\u89C8"),u(),m(36,"button",17),S("click",function(){de(e);let s=v();return ce(s.print())}),h(37,"\u76F4\u63A5\u6253\u5370"),u()()()()}if(i&2){let e=v();l(2),f("nzSm",6),l(2),f("nzSm",18),l(2),f("nzSpan",16),l(),ye("ngModel",e.cog.url),l(),f("nzSpan",8),l(4),f("nzSm",6),l(2),f("nzSm",18),l(),ye("ngModel",e.cog.printer),l(),we(e.pinters),l(3),f("nzSm",6),l(2),f("nzSm",18),l(),ye("ngModel",e.cog.paper),l(),we(e.papers),l(3),f("nzSm",6),l(2),f("nzSm",18),l(),ye("ngModel",e.cog.html),l(4),f("nzSm",18)("nzOffset",6),l(),f("nzLoading",e.printing),l(2),f("nzLoading",e.printing)}}var si=class si{constructor(){this.lodopSrv=N(An);this.msg=N(Nt);this.cog={url:"https://localhost:8443/CLodopfuncs.js",printer:"",paper:"",html:`
      <h1>Title</h1>
      <p>\u8FD9~\uFF01@#\uFFE5%\u2026\u2026&*\uFF08\uFF09\u2014\u2014sdilfjnvn</p>
      <p>\u8FD9~\uFF01@#\uFFE5%\u2026\u2026&*\uFF08\uFF09\u2014\u2014sdilfjnvn</p>
      <p>\u8FD9~\uFF01@#\uFFE5%\u2026\u2026&*\uFF08\uFF09\u2014\u2014sdilfjnvn</p>
      <p>\u8FD9~\uFF01@#\uFFE5%\u2026\u2026&*\uFF08\uFF09\u2014\u2014sdilfjnvn</p>
      <p>\u8FD9~\uFF01@#\uFFE5%\u2026\u2026&*\uFF08\uFF09\u2014\u2014sdilfjnvn</p>
    `};this.error=!1;this.lodop=null;this.pinters=[];this.papers=[];this.printing=!1;this.lodopSrv.lodop.subscribe(({lodop:n,ok:e})=>{if(!e){this.error=!0;return}this.error=!1,this.msg.success("\u6253\u5370\u673A\u52A0\u8F7D\u6210\u529F"),this.lodop=n,this.pinters=this.lodopSrv.printer})}reload(n={url:"https://localhost:8443/CLodopfuncs.js"}){this.pinters=[],this.papers=[],this.cog.printer="",this.cog.paper="",this.lodopSrv.cog=Re(Re({},this.cog),n),this.error=!1,n===null&&this.lodopSrv.reset()}changePinter(n){this.lodop!=null&&(this.papers=this.lodop.GET_PAGESIZES_LIST(n,`
`).split(`
`))}print(n=!1){let e=this.lodop;e.PRINT_INITA(10,20,810,610,"\u6D4B\u8BD5C-Lodop\u8FDC\u7A0B\u6253\u5370\u56DB\u6B65\u9AA4"),e.SET_PRINTER_INDEXA(this.cog.printer),e.SET_PRINT_PAGESIZE(0,0,0,this.cog.paper),e.ADD_PRINT_TEXT(1,1,300,200,"\u4E0B\u9762\u8F93\u51FA\u7684\u662F\u672C\u9875\u6E90\u4EE3\u7801\u53CA\u5176\u5C55\u73B0\u6548\u679C\uFF1A"),e.ADD_PRINT_TEXT(20,10,"90%","95%",this.cog.html),e.SET_PRINT_STYLEA(0,"ItemType",4),e.NEWPAGEA(),e.ADD_PRINT_HTM(20,10,"90%","95%",this.cog.html),n?e.PREVIEW():e.PRINT()}};si.\u0275fac=function(e){return new(e||si)},si.\u0275cmp=E({type:si,selectors:[["app-print"]],decls:10,vars:2,consts:[["message",""],[1,"alain-default__content-title"],["href","https://ng-alain.com/components/lodop","target","_blank"],[3,"nzType","nzMessage"],["nz-form",""],["href","http://c-lodop.com/download.html","target","_blank"],["nz-row",""],["nz-col","",3,"nzSm"],["nz-col","",3,"nzSpan"],["nz-input","","nzPlaceHolder","https://localhost:8443/CLodopfuncs.js","name","url",3,"ngModelChange","ngModel"],["nz-button","",3,"click"],["nzPlaceHolder","\u8BF7\u9009\u62E9\u6253\u5370\u673A","nzShowSearch","","nzAllowClear","","name","printer",2,"width","90%",3,"ngModelChange","ngModel"],[3,"nzLabel","nzValue"],["nzPlaceHolder","\u8BF7\u9009\u62E9\u7EB8\u5F20\u7C7B\u578B","nzShowSearch","","nzAllowClear","","name","paper",2,"width","90%",3,"ngModelChange","ngModel"],["nz-input","","name","html","nzAutosize","",3,"ngModelChange","ngModel"],["nz-form-extra",""],["nz-col","",3,"nzSm","nzOffset"],["nz-button","",3,"click","nzLoading"]],template:function(e,t){e&1&&(m(0,"div",1)(1,"h1"),h(2," Lodop\u6253\u5370 "),m(3,"small"),h(4," \u66F4\u591A\u4F53\u9A8C\u8BF7\u81F3 "),m(5,"a",2),h(6,"NG-ALAIN.com"),u()()()(),m(7,"nz-card"),_e(8,Kn,3,2,"nz-alert",3),_e(9,tr,38,18,"form",4),u()),e&2&&(l(8),Ne(t.error?8:-1),l(),Ne(t.error?-1:9))},dependencies:[P,Zt,Ft,Bt,Ut,Rt,qt,A,te,X,ae,re,ne,w,he,F,ze,H,J,It,At,k,V,pe,W,Wi,Ui,D,I,se,bn,B,U,R,ie,$,Pt,qi,Sn,Y,Z,q,O,oe,me,ee,L,K,Xt,Yt,Kt,Jt,le,b,Q,ge,j,ue,G,x],encapsulation:2});var io=si;var ir=["canvas"];function or(i,n){if(i&1&&(St(0),h(1),Et()),i&2){let e=v(2);l(),_t(e.nzStatusRender)}}function nr(i,n){if(i&1&&(m(0,"div",1),Me(1,or,2,1,"ng-container",2),u()),i&2){let e=v();l(),f("nzStringTemplateOutlet",e.nzStatusRender)}}function rr(i,n){i&1&&fe(0,"nz-spin")}function ar(i,n){if(i&1){let e=Pe();m(0,"div")(1,"p",3),h(2),u(),m(3,"button",4),S("click",function(){de(e);let s=v(2);return ce(s.reloadQRCode())}),fe(4,"nz-icon",5),m(5,"span"),h(6),u()()()}if(i&2){let e=v(2);l(2),_t(e.locale.expired),l(4),_t(e.locale.refresh)}}function sr(i,n){if(i&1&&(m(0,"div")(1,"p",3),h(2),u()()),i&2){let e=v(2);l(2),_t(e.locale.scanned)}}function lr(i,n){if(i&1&&(m(0,"div",1),_e(1,rr,1,0,"nz-spin")(2,ar,7,2,"div")(3,sr,3,1,"div"),u()),i&2){let e,t=v();l(),Ne((e=t.nzStatus)==="loading"?1:e==="expired"?2:e==="scanned"?3:-1)}}function mr(i,n){i&1&&fe(0,"canvas",null,0)}var jt;(function(i){let n=(()=>{class d{version;errorCorrectionLevel;static encodeText(o,r){let a=i.QrSegment.makeSegments(o);return d.encodeSegments(a,r)}static encodeBinary(o,r){let a=i.QrSegment.makeBytes(o);return d.encodeSegments([a],r)}static encodeSegments(o,r,a=1,c=40,z=-1,y=!0){if(!(d.MIN_VERSION<=a&&a<=c&&c<=d.MAX_VERSION)||z<-1||z>7)throw new RangeError("Invalid value");let C,M;for(C=a;;C++){let T=d.getNumDataCodewords(C,r)*8,xe=p.getTotalBits(o,C);if(xe<=T){M=xe;break}if(C>=c)throw new RangeError("Data too long")}for(let T of[d.Ecc.MEDIUM,d.Ecc.QUARTILE,d.Ecc.HIGH])y&&M<=d.getNumDataCodewords(C,T)*8&&(r=T);let _=[];for(let T of o){e(T.mode.modeBits,4,_),e(T.numChars,T.mode.numCharCountBits(C),_);for(let xe of T.getData())_.push(xe)}s(_.length==M);let be=d.getNumDataCodewords(C,r)*8;s(_.length<=be),e(0,Math.min(4,be-_.length),_),e(0,(8-_.length%8)%8,_),s(_.length%8==0);for(let T=236;_.length<be;T^=253)e(T,8,_);let Fe=[];for(;Fe.length*8<_.length;)Fe.push(0);return _.forEach((T,xe)=>Fe[xe>>>3]|=T<<7-(xe&7)),new d(C,r,Fe,z)}size;mask;modules=[];isFunction=[];constructor(o,r,a,c){if(this.version=o,this.errorCorrectionLevel=r,o<d.MIN_VERSION||o>d.MAX_VERSION)throw new RangeError("Version value out of range");if(c<-1||c>7)throw new RangeError("Mask value out of range");this.size=o*4+17;let z=[];for(let C=0;C<this.size;C++)z.push(!1);for(let C=0;C<this.size;C++)this.modules.push(z.slice()),this.isFunction.push(z.slice());this.drawFunctionPatterns();let y=this.addEccAndInterleave(a);if(this.drawCodewords(y),c==-1){let C=1e9;for(let M=0;M<8;M++){this.applyMask(M),this.drawFormatBits(M);let _=this.getPenaltyScore();_<C&&(c=M,C=_),this.applyMask(M)}}s(c>=0&&c<=7),this.mask=c,this.applyMask(c),this.drawFormatBits(c),this.isFunction=[]}getModule(o,r){return o>=0&&o<this.size&&r>=0&&r<this.size&&this.modules[r][o]}getModules(){return this.modules}drawFunctionPatterns(){for(let a=0;a<this.size;a++)this.setFunctionModule(6,a,a%2==0),this.setFunctionModule(a,6,a%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);let o=this.getAlignmentPatternPositions(),r=o.length;for(let a=0;a<r;a++)for(let c=0;c<r;c++)a==0&&c==0||a==0&&c==r-1||a==r-1&&c==0||this.drawAlignmentPattern(o[a],o[c]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(o){let r=this.errorCorrectionLevel.formatBits<<3|o,a=r;for(let z=0;z<10;z++)a=a<<1^(a>>>9)*1335;let c=(r<<10|a)^21522;s(c>>>15==0);for(let z=0;z<=5;z++)this.setFunctionModule(8,z,t(c,z));this.setFunctionModule(8,7,t(c,6)),this.setFunctionModule(8,8,t(c,7)),this.setFunctionModule(7,8,t(c,8));for(let z=9;z<15;z++)this.setFunctionModule(14-z,8,t(c,z));for(let z=0;z<8;z++)this.setFunctionModule(this.size-1-z,8,t(c,z));for(let z=8;z<15;z++)this.setFunctionModule(8,this.size-15+z,t(c,z));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let o=this.version;for(let a=0;a<12;a++)o=o<<1^(o>>>11)*7973;let r=this.version<<12|o;s(r>>>18==0);for(let a=0;a<18;a++){let c=t(r,a),z=this.size-11+a%3,y=Math.floor(a/3);this.setFunctionModule(z,y,c),this.setFunctionModule(y,z,c)}}drawFinderPattern(o,r){for(let a=-4;a<=4;a++)for(let c=-4;c<=4;c++){let z=Math.max(Math.abs(c),Math.abs(a)),y=o+c,C=r+a;y>=0&&y<this.size&&C>=0&&C<this.size&&this.setFunctionModule(y,C,z!=2&&z!=4)}}drawAlignmentPattern(o,r){for(let a=-2;a<=2;a++)for(let c=-2;c<=2;c++)this.setFunctionModule(o+c,r+a,Math.max(Math.abs(c),Math.abs(a))!=1)}setFunctionModule(o,r,a){this.modules[r][o]=a,this.isFunction[r][o]=!0}addEccAndInterleave(o){let r=this.version,a=this.errorCorrectionLevel;if(o.length!=d.getNumDataCodewords(r,a))throw new RangeError("Invalid argument");let c=d.NUM_ERROR_CORRECTION_BLOCKS[a.ordinal][r],z=d.ECC_CODEWORDS_PER_BLOCK[a.ordinal][r],y=Math.floor(d.getNumRawDataModules(r)/8),C=c-y%c,M=Math.floor(y/c),_=[],be=d.reedSolomonComputeDivisor(z);for(let T=0,xe=0;T<c;T++){let Le=o.slice(xe,xe+M-z+(T<C?0:1));xe+=Le.length;let lo=d.reedSolomonComputeRemainder(Le,be);T<C&&Le.push(0),_.push(Le.concat(lo))}let Fe=[];for(let T=0;T<_[0].length;T++)_.forEach((xe,Le)=>{(T!=M-z||Le>=C)&&Fe.push(xe[T])});return s(Fe.length==y),Fe}drawCodewords(o){if(o.length!=Math.floor(d.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let r=0;for(let a=this.size-1;a>=1;a-=2){a==6&&(a=5);for(let c=0;c<this.size;c++)for(let z=0;z<2;z++){let y=a-z,M=(a+1&2)==0?this.size-1-c:c;!this.isFunction[M][y]&&r<o.length*8&&(this.modules[M][y]=t(o[r>>>3],7-(r&7)),r++)}}s(r==o.length*8)}applyMask(o){if(o<0||o>7)throw new RangeError("Mask value out of range");for(let r=0;r<this.size;r++)for(let a=0;a<this.size;a++){let c;switch(o){case 0:c=(a+r)%2==0;break;case 1:c=r%2==0;break;case 2:c=a%3==0;break;case 3:c=(a+r)%3==0;break;case 4:c=(Math.floor(a/3)+Math.floor(r/2))%2==0;break;case 5:c=a*r%2+a*r%3==0;break;case 6:c=(a*r%2+a*r%3)%2==0;break;case 7:c=((a+r)%2+a*r%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[r][a]&&c&&(this.modules[r][a]=!this.modules[r][a])}}getPenaltyScore(){let o=0;for(let z=0;z<this.size;z++){let y=!1,C=0,M=[0,0,0,0,0,0,0];for(let _=0;_<this.size;_++)this.modules[z][_]==y?(C++,C==5?o+=d.PENALTY_N1:C>5&&o++):(this.finderPenaltyAddHistory(C,M),y||(o+=this.finderPenaltyCountPatterns(M)*d.PENALTY_N3),y=this.modules[z][_],C=1);o+=this.finderPenaltyTerminateAndCount(y,C,M)*d.PENALTY_N3}for(let z=0;z<this.size;z++){let y=!1,C=0,M=[0,0,0,0,0,0,0];for(let _=0;_<this.size;_++)this.modules[_][z]==y?(C++,C==5?o+=d.PENALTY_N1:C>5&&o++):(this.finderPenaltyAddHistory(C,M),y||(o+=this.finderPenaltyCountPatterns(M)*d.PENALTY_N3),y=this.modules[_][z],C=1);o+=this.finderPenaltyTerminateAndCount(y,C,M)*d.PENALTY_N3}for(let z=0;z<this.size-1;z++)for(let y=0;y<this.size-1;y++){let C=this.modules[z][y];C==this.modules[z][y+1]&&C==this.modules[z+1][y]&&C==this.modules[z+1][y+1]&&(o+=d.PENALTY_N2)}let r=0;for(let z of this.modules)r=z.reduce((y,C)=>y+(C?1:0),r);let a=this.size*this.size,c=Math.ceil(Math.abs(r*20-a*10)/a)-1;return s(c>=0&&c<=9),o+=c*d.PENALTY_N4,s(o>=0&&o<=2568888),o}getAlignmentPatternPositions(){if(this.version==1)return[];{let o=Math.floor(this.version/7)+2,r=Math.floor((this.version*8+o*3+5)/(o*4-4))*2,a=[6];for(let c=this.size-7;a.length<o;c-=r)a.splice(1,0,c);return a}}static getNumRawDataModules(o){if(o<d.MIN_VERSION||o>d.MAX_VERSION)throw new RangeError("Version number out of range");let r=(16*o+128)*o+64;if(o>=2){let a=Math.floor(o/7)+2;r-=(25*a-10)*a-55,o>=7&&(r-=36)}return s(r>=208&&r<=29648),r}static getNumDataCodewords(o,r){return Math.floor(d.getNumRawDataModules(o)/8)-d.ECC_CODEWORDS_PER_BLOCK[r.ordinal][o]*d.NUM_ERROR_CORRECTION_BLOCKS[r.ordinal][o]}static reedSolomonComputeDivisor(o){if(o<1||o>255)throw new RangeError("Degree out of range");let r=[];for(let c=0;c<o-1;c++)r.push(0);r.push(1);let a=1;for(let c=0;c<o;c++){for(let z=0;z<r.length;z++)r[z]=d.reedSolomonMultiply(r[z],a),z+1<r.length&&(r[z]^=r[z+1]);a=d.reedSolomonMultiply(a,2)}return r}static reedSolomonComputeRemainder(o,r){let a=r.map(c=>0);for(let c of o){let z=c^a.shift();a.push(0),r.forEach((y,C)=>a[C]^=d.reedSolomonMultiply(y,z))}return a}static reedSolomonMultiply(o,r){if(o>>>8||r>>>8)throw new RangeError("Byte out of range");let a=0;for(let c=7;c>=0;c--)a=a<<1^(a>>>7)*285,a^=(r>>>c&1)*o;return s(a>>>8==0),a}finderPenaltyCountPatterns(o){let r=o[1];s(r<=this.size*3);let a=r>0&&o[2]==r&&o[3]==r*3&&o[4]==r&&o[5]==r;return(a&&o[0]>=r*4&&o[6]>=r?1:0)+(a&&o[6]>=r*4&&o[0]>=r?1:0)}finderPenaltyTerminateAndCount(o,r,a){return o&&(this.finderPenaltyAddHistory(r,a),r=0),r+=this.size,this.finderPenaltyAddHistory(r,a),this.finderPenaltyCountPatterns(a)}finderPenaltyAddHistory(o,r){r[0]==0&&(o+=this.size),r.pop(),r.unshift(o)}static MIN_VERSION=1;static MAX_VERSION=40;static PENALTY_N1=3;static PENALTY_N2=3;static PENALTY_N3=40;static PENALTY_N4=10;static ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]];static NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]]}return d})();i.QrCode=n;function e(d,g,o){if(g<0||g>31||d>>>g)throw new RangeError("Value out of range");for(let r=g-1;r>=0;r--)o.push(d>>>r&1)}function t(d,g){return(d>>>g&1)!=0}function s(d){if(!d)throw new Error("Assertion error")}let p=(()=>{class d{mode;numChars;bitData;static makeBytes(o){let r=[];for(let a of o)e(a,8,r);return new d(d.Mode.BYTE,o.length,r)}static makeNumeric(o){if(!d.isNumeric(o))throw new RangeError("String contains non-numeric characters");let r=[];for(let a=0;a<o.length;){let c=Math.min(o.length-a,3);e(parseInt(o.substring(a,a+c),10),c*3+1,r),a+=c}return new d(d.Mode.NUMERIC,o.length,r)}static makeAlphanumeric(o){if(!d.isAlphanumeric(o))throw new RangeError("String contains unencodable characters in alphanumeric mode");let r=[],a;for(a=0;a+2<=o.length;a+=2){let c=d.ALPHANUMERIC_CHARSET.indexOf(o.charAt(a))*45;c+=d.ALPHANUMERIC_CHARSET.indexOf(o.charAt(a+1)),e(c,11,r)}return a<o.length&&e(d.ALPHANUMERIC_CHARSET.indexOf(o.charAt(a)),6,r),new d(d.Mode.ALPHANUMERIC,o.length,r)}static makeSegments(o){return o==""?[]:d.isNumeric(o)?[d.makeNumeric(o)]:d.isAlphanumeric(o)?[d.makeAlphanumeric(o)]:[d.makeBytes(d.toUtf8ByteArray(o))]}static makeEci(o){let r=[];if(o<0)throw new RangeError("ECI assignment value out of range");if(o<128)e(o,8,r);else if(o<16384)e(2,2,r),e(o,14,r);else if(o<1e6)e(6,3,r),e(o,21,r);else throw new RangeError("ECI assignment value out of range");return new d(d.Mode.ECI,0,r)}static isNumeric(o){return d.NUMERIC_REGEX.test(o)}static isAlphanumeric(o){return d.ALPHANUMERIC_REGEX.test(o)}constructor(o,r,a){if(this.mode=o,this.numChars=r,this.bitData=a,r<0)throw new RangeError("Invalid argument");this.bitData=a.slice()}getData(){return this.bitData.slice()}static getTotalBits(o,r){let a=0;for(let c of o){let z=c.mode.numCharCountBits(r);if(c.numChars>=1<<z)return 1/0;a+=4+z+c.bitData.length}return a}static toUtf8ByteArray(o){o=encodeURI(o);let r=[];for(let a=0;a<o.length;a++)o.charAt(a)!="%"?r.push(o.charCodeAt(a)):(r.push(parseInt(o.substring(a+1,a+3),16)),a+=2);return r}static NUMERIC_REGEX=/^[0-9]*$/;static ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+./:-]*$/;static ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:"}return d})();i.QrSegment=p})(jt||(jt={}));(function(i){let n;(function(e){class t{ordinal;formatBits;static LOW=new t(0,1);static MEDIUM=new t(1,0);static QUARTILE=new t(2,3);static HIGH=new t(3,2);constructor(p,d){this.ordinal=p,this.formatBits=d}}e.Ecc=t})(n=i.QrCode||(i.QrCode={}))})(jt||(jt={}));(function(i){let n;(function(e){class t{modeBits;numBitsCharCount;static NUMERIC=new t(1,[10,12,14]);static ALPHANUMERIC=new t(2,[9,11,13]);static BYTE=new t(4,[8,16,16]);static KANJI=new t(8,[8,10,12]);static ECI=new t(7,[0,0,0]);constructor(p,d){this.modeBits=p,this.numBitsCharCount=d}numCharCountBits(p){return this.numBitsCharCount[Math.floor((p+7)/17)]}}e.Mode=t})(n=i.QrSegment||(i.QrSegment={}))})(jt||(jt={}));var Di=jt,pr={L:Di.QrCode.Ecc.LOW,M:Di.QrCode.Ecc.MEDIUM,Q:Di.QrCode.Ecc.QUARTILE,H:Di.QrCode.Ecc.HIGH},ur=160,dr=10,cr=10,fr="#000000",hr="#FFFFFF",zr=40,gr="M",Cr=(i,n=gr)=>i?Di.QrCode.encodeText(i,pr[n]):null;function Mr(i,n,e=ur,t=dr,s=cr,p=fr,d=hr,g=zr,o){let r=i.getContext("2d"),a=_r(s);if(i.style.width=`${e}px`,i.style.height=`${e}px`,!n){r.fillStyle="rgba(0, 0, 0, 0)",r.fillRect(0,0,i.width,i.height);return}if(i.width=n.size*t+a[1]+a[3],i.height=n.size*t+a[0]+a[2],!o)Eo(r,i.width,i.height,t,d),So(r,n,t,a,d,p);else{let c=new Image;c.src=o,c.crossOrigin="anonymous",c.width=g*(i.width/e),c.height=g*(i.width/e);let z=()=>{C(),Eo(r,i.width,i.height,t,d),So(r,n,t,a,d,p);let M=i.width/2-g*(i.width/e)/2;r.fillRect(M,M,g*(i.width/e),g*(i.width/e)),r.drawImage(c,M,M,g*(i.width/e),g*(i.width/e))},y=()=>{C(),Eo(r,i.width,i.height,t,d),So(r,n,t,a,d,p)},C=()=>{c.removeEventListener("load",z),c.removeEventListener("error",y)};c.addEventListener("load",z),c.addEventListener("error",y)}}function So(i,n,e,t,s,p){for(let d=0;d<n.size;d++)for(let g=0;g<n.size;g++)i.fillStyle=n.getModule(g,d)?p:s,i.fillRect(t[3]+g*e,t[0]+d*e,e,e)}function Eo(i,n,e,t,s){i.fillStyle=s,i.fillRect(0,0,n*t,e*t)}function _r(i){return Array.isArray(i)?Array(4).fill(0).map((n,e)=>i[e%i.length]):[i,i,i,i]}var In=(()=>{class i{i18n=N(an);el=N(Fi);cdr=N(Gt);destroyRef=N(xi);isBrowser=Zo(N(Lo));canvas;nzValue="";nzPadding=0;nzColor="#000000";nzBgColor="#FFFFFF";nzSize=160;nzIcon="";nzIconSize=40;nzBordered=!0;nzStatus="active";nzLevel="M";nzStatusRender=null;nzRefresh=new Ci;locale;ngOnInit(){this.el.nativeElement.style.backgroundColor=this.nzBgColor,this.i18n.localeChange.pipe(Ei(this.destroyRef)).subscribe(()=>{this.locale=this.i18n.getLocaleData("QRCode"),this.cdr.markForCheck()})}ngOnChanges(e){let{nzValue:t,nzIcon:s,nzLevel:p,nzSize:d,nzIconSize:g,nzColor:o,nzPadding:r,nzBgColor:a}=e;(t||s||p||d||g||o||r||a)&&this.canvas&&this.drawCanvasQRCode(),a&&(this.el.nativeElement.style.backgroundColor=this.nzBgColor)}ngAfterViewInit(){this.drawCanvasQRCode()}reloadQRCode(){this.drawCanvasQRCode(),this.nzRefresh.emit("refresh")}drawCanvasQRCode(){this.canvas&&Mr(this.canvas.nativeElement,Cr(this.nzValue,this.nzLevel),this.nzSize,10,this.nzPadding,this.nzColor,this.nzBgColor,this.nzIconSize,this.nzIcon)}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=E({type:i,selectors:[["nz-qrcode"]],viewQuery:function(t,s){if(t&1&&Pi(ir,5),t&2){let p;Mi(p=_i())&&(s.canvas=p.first)}},hostAttrs:[1,"ant-qrcode"],hostVars:2,hostBindings:function(t,s){t&2&&Vt("ant-qrcode-border",s.nzBordered)},inputs:{nzValue:"nzValue",nzPadding:"nzPadding",nzColor:"nzColor",nzBgColor:"nzBgColor",nzSize:[2,"nzSize","nzSize",Si],nzIcon:"nzIcon",nzIconSize:[2,"nzIconSize","nzIconSize",Si],nzBordered:[2,"nzBordered","nzBordered",yi],nzStatus:"nzStatus",nzLevel:"nzLevel",nzStatusRender:"nzStatusRender"},outputs:{nzRefresh:"nzRefresh"},exportAs:["nzQRCode"],features:[Ht],decls:3,vars:2,consts:[["canvas",""],[1,"ant-qrcode-mask"],[4,"nzStringTemplateOutlet"],[1,"ant-qrcode-expired"],["nz-button","","nzType","link",3,"click"],["nzType","reload","nzTheme","outline"]],template:function(t,s){t&1&&(_e(0,nr,2,1,"div",1)(1,lr,4,1,"div",1),_e(2,mr,2,0,"canvas")),t&2&&(Ne(s.nzStatusRender?0:s.nzStatus!=="active"?1:-1),l(2),Ne(s.isBrowser?2:-1))},dependencies:[b,gn,w,he,F,D,Vi,ji],encapsulation:2,changeDetection:0})}return i})();var wi=()=>({standalone:!0}),li=class li{constructor(){this.value="https://ng-alain.com/";this.background="#ffffff";this.foreground="#000000";this.level="L";this.mime="image/png";this.padding=10;this.size=220}};li.\u0275fac=function(e){return new(e||li)},li.\u0275cmp=E({type:li,selectors:[["app-qr"]],decls:44,vars:39,consts:[[1,"alain-default__content-title"],["href","https://ng.ant.design/components/qr-code","target","_blank"],[3,"nzGutter"],[1,"text-center",3,"nzSpan"],[3,"nzValue","nzBgColor","nzColor","nzLevel","nzSize","nzPadding"],[3,"nzSpan"],["nz-form",""],["nz-input","","type","color",2,"width","100px",3,"ngModelChange","ngModel","ngModelOptions"],[3,"ngModelChange","ngModel","ngModelOptions"],["nzValue","L","nzLabel","L"],["nzValue","M","nzLabel","M"],["nzValue","Q","nzLabel","Q"],["nzValue","H","nzLabel","H"],[3,"ngModelChange","ngModel","ngModelOptions","nzMin","nzMax"],[3,"ngModelChange","ngModel","ngModelOptions","nzMin","nzMax","nzStep"]],template:function(e,t){e&1&&(m(0,"div",0)(1,"h1"),h(2," \u4E8C\u7EF4\u7801 "),m(3,"a",1),h(4,"Document"),u()()(),m(5,"nz-card")(6,"nz-row",2)(7,"nz-col",3),fe(8,"nz-qrcode",4),u(),m(9,"nz-col",5)(10,"form",6)(11,"nz-form-item")(12,"nz-form-label",5),h(13,"\u80CC\u666F"),u(),m(14,"nz-form-control",5)(15,"nz-input-group")(16,"input",7),Ee("ngModelChange",function(p){return Se(t.background,p)||(t.background=p),p}),u()()()(),m(17,"nz-form-item")(18,"nz-form-label",5),h(19,"\u524D\u666F"),u(),m(20,"nz-form-control",5)(21,"nz-input-group")(22,"input",7),Ee("ngModelChange",function(p){return Se(t.foreground,p)||(t.foreground=p),p}),u()()()(),m(23,"nz-form-item")(24,"nz-form-label",5),h(25,"\u8BEF\u5DEE"),u(),m(26,"nz-form-control",5)(27,"nz-select",8),Ee("ngModelChange",function(p){return Se(t.level,p)||(t.level=p),p}),fe(28,"nz-option",9)(29,"nz-option",10)(30,"nz-option",11)(31,"nz-option",12),u()()(),m(32,"nz-form-item")(33,"nz-form-label",5),h(34,"\u5185\u8FB9\u8DDD"),u(),m(35,"nz-form-control",5)(36,"nz-input-number",13),Ee("ngModelChange",function(p){return Se(t.padding,p)||(t.padding=p),p}),u(),h(37,"px "),u()(),m(38,"nz-form-item")(39,"nz-form-label",5),h(40,"\u5927\u5C0F"),u(),m(41,"nz-form-control",5)(42,"nz-input-number",14),Ee("ngModelChange",function(p){return Se(t.size,p)||(t.size=p),p}),u(),h(43,"px "),u()()()()()()),e&2&&(l(6),f("nzGutter",24),l(),f("nzSpan",8),l(),f("nzValue",t.value)("nzBgColor",t.background)("nzColor",t.foreground)("nzLevel",t.level)("nzSize",t.size)("nzPadding",t.padding),l(),f("nzSpan",16),l(3),f("nzSpan",8),l(2),f("nzSpan",16),l(2),ye("ngModel",t.background),f("ngModelOptions",Te(34,wi)),l(2),f("nzSpan",8),l(2),f("nzSpan",16),l(2),ye("ngModel",t.foreground),f("ngModelOptions",Te(35,wi)),l(2),f("nzSpan",8),l(2),f("nzSpan",16),l(),ye("ngModel",t.level),f("ngModelOptions",Te(36,wi)),l(6),f("nzSpan",8),l(2),f("nzSpan",16),l(),ye("ngModel",t.padding),f("ngModelOptions",Te(37,wi))("nzMin",0)("nzMax",100),l(3),f("nzSpan",8),l(2),f("nzSpan",16),l(),ye("ngModel",t.size),f("ngModelOptions",Te(38,wi))("nzMin",100)("nzMax",1e3)("nzStep",t.padding))},dependencies:[P,Zt,Ft,Bt,Ut,Rt,qt,A,te,X,ae,re,ne,w,F,H,J,It,At,k,V,pe,W,Wi,Ui,D,I,se,B,U,R,ie,$,Pt,qi,Y,En,Z,q,O,oe,me,ee,L,K,Xt,Yt,Kt,Jt,le,b,Q,ge,j,ue,G,x,In],encapsulation:2});var oo=li;var kn=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=Ot({type:i});static \u0275inj=Lt({imports:[qo]})}return i})();var Nr=["*"];function vr(i,n){i&1&&zo(0)}function yr(i,n){if(i&1&&(St(0),h(1),Et()),i&2){let e=v(3);l(),_t(e.nzTitle)}}function Sr(i,n){if(i&1&&(m(0,"div",2),Me(1,yr,2,1,"ng-container",4),u()),i&2){let e=v(2);l(),f("nzStringTemplateOutlet",e.nzTitle)}}function Er(i,n){if(i&1&&(St(0),h(1),Et()),i&2){let e=v(3);l(),_t(e.nzExtra)}}function Tr(i,n){if(i&1&&(m(0,"div",3),Me(1,Er,2,1,"ng-container",4),u()),i&2){let e=v(2);l(),f("nzStringTemplateOutlet",e.nzExtra)}}function Dr(i,n){if(i&1&&(m(0,"div",0),_e(1,Sr,2,1,"div",2),_e(2,Tr,2,1,"div",3),u()),i&2){let e=v();l(),Ne(e.nzTitle?1:-1),l(),Ne(e.nzExtra?2:-1)}}function wr(i,n){if(i&1&&(St(0),h(1),Et()),i&2){let e=v(2).$implicit;l(),ve(" ",e.title," ")}}function br(i,n){}function xr(i,n){if(i&1&&(m(0,"td",6)(1,"div",7)(2,"span",8),Me(3,wr,2,1,"ng-container",4),u(),m(4,"span",9),Me(5,br,0,0,"ng-template",10),u()()()),i&2){let e=v().$implicit,t=v(3);f("colSpan",e.span),l(2),Vt("ant-descriptions-item-no-colon",!t.nzColon),l(),f("nzStringTemplateOutlet",e.title),l(2),f("ngTemplateOutlet",e.content)}}function Fr(i,n){if(i&1&&(St(0),h(1),Et()),i&2){let e=v(2).$implicit;l(),ve(" ",e.title," ")}}function Br(i,n){}function Rr(i,n){if(i&1&&(m(0,"td",8),Me(1,Fr,2,1,"ng-container",4),u(),m(2,"td",11),Me(3,Br,0,0,"ng-template",10),u()),i&2){let e=v().$implicit;l(),f("nzStringTemplateOutlet",e.title),l(),f("colSpan",e.span*2-1),l(),f("ngTemplateOutlet",e.content)}}function Pr(i,n){if(i&1&&_e(0,xr,6,5,"td",6)(1,Rr,4,3),i&2){let e=v(3);Ne(e.nzBordered?1:0)}}function Ar(i,n){if(i&1&&(m(0,"tr",5),De(1,Pr,2,1,null,null,yt),u()),i&2){let e=n.$implicit;l(),we(e)}}function Ir(i,n){if(i&1&&De(0,Ar,3,0,"tr",5,yt),i&2){let e=v();we(e.itemMatrix)}}function kr(i,n){if(i&1&&(St(0),h(1),Et()),i&2){let e=v().$implicit;l(),ve(" ",e.title," ")}}function Lr(i,n){if(i&1&&(m(0,"td",6)(1,"div",7)(2,"span",8),Me(3,kr,2,1,"ng-container",4),u()()()),i&2){let e=n.$implicit,t=v(4);f("colSpan",e.span),l(2),Vt("ant-descriptions-item-no-colon",!t.nzColon),l(),f("nzStringTemplateOutlet",e.title)}}function Or(i,n){}function Vr(i,n){if(i&1&&(m(0,"td",6)(1,"div",7)(2,"span",9),Me(3,Or,0,0,"ng-template",10),u()()()),i&2){let e=n.$implicit;f("colSpan",e.span),l(3),f("ngTemplateOutlet",e.content)}}function jr(i,n){if(i&1&&(m(0,"tr",5),De(1,Lr,4,4,"td",6,yt),u(),m(3,"tr",5),De(4,Vr,4,2,"td",6,yt),u()),i&2){let e=n.$implicit;l(),we(e),l(3),we(e)}}function Hr(i,n){if(i&1&&De(0,jr,6,0,null,null,yt),i&2){let e=v(2);we(e.itemMatrix)}}function Gr(i,n){if(i&1&&(St(0),h(1),Et()),i&2){let e=v().$implicit;l(),ve(" ",e.title," ")}}function Wr(i,n){if(i&1&&(m(0,"td",12),Me(1,Gr,2,1,"ng-container",4),u()),i&2){let e=n.$implicit;f("colSpan",e.span),l(),f("nzStringTemplateOutlet",e.title)}}function Ur(i,n){}function qr(i,n){if(i&1&&(m(0,"td",11),Me(1,Ur,0,0,"ng-template",10),u()),i&2){let e=n.$implicit;f("colSpan",e.span),l(),f("ngTemplateOutlet",e.content)}}function Zr(i,n){if(i&1&&(m(0,"tr",5),De(1,Wr,2,2,"td",12,yt),u(),m(3,"tr",5),De(4,qr,2,2,"td",11,yt),u()),i&2){let e=n.$implicit;l(),we(e),l(3),we(e)}}function $r(i,n){if(i&1&&De(0,Zr,6,0,null,null,yt),i&2){let e=v(2);we(e.itemMatrix)}}function Yr(i,n){if(i&1&&_e(0,Hr,2,0)(1,$r,2,0),i&2){let e=v();Ne(e.nzBordered?1:0)}}var To=(()=>{class i{content;nzSpan=1;nzTitle="";inputChange$=new fi;ngOnChanges(){this.inputChange$.next()}ngOnDestroy(){this.inputChange$.complete()}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=E({type:i,selectors:[["nz-descriptions-item"]],viewQuery:function(t,s){if(t&1&&Pi(Vo,7),t&2){let p;Mi(p=_i())&&(s.content=p.first)}},inputs:{nzSpan:[2,"nzSpan","nzSpan",Si],nzTitle:"nzTitle"},exportAs:["nzDescriptionsItem"],features:[Ht],ngContentSelectors:Nr,decls:1,vars:0,template:function(t,s){t&1&&(ho(),jo(0,vr,1,0,"ng-template"))},encapsulation:2,changeDetection:0})}return i})(),Xr="descriptions",Jr={xxl:3,xl:3,lg:3,md:3,sm:2,xs:1},Do=(()=>{var z;let i,n=[],e=[],t,s=[],p=[],d,g=[],o=[],r,a=[],c=[];return z=class{nzConfigService=N(tn);cdr=N(Gt);breakpointService=N(un);directionality=N(Qo);destroyRef=N(xi);_nzModuleName=Xr;items;nzBordered=vt(this,n,!1);nzLayout=(vt(this,e),"horizontal");nzColumn=vt(this,s,Jr);nzSize=(vt(this,p),vt(this,g,"default"));nzTitle=(vt(this,o),"");nzExtra;nzColon=vt(this,a,!0);itemMatrix=(vt(this,c),[]);realColumn=3;dir="ltr";breakpoint=mn.md;ngOnInit(){this.dir=this.directionality.value,this.directionality.change?.pipe(Ei(this.destroyRef)).subscribe(C=>{this.dir=C})}ngOnChanges(C){C.nzColumn&&this.prepareMatrix()}ngAfterContentInit(){let C=this.items.changes.pipe(Ao(this.items));co(C,C.pipe(Io(()=>co(...this.items.map(M=>M.inputChange$)).pipe(Ro(16)))),this.breakpointService.subscribe(pn).pipe(gi(M=>this.breakpoint=M))).pipe(Ei(this.destroyRef)).subscribe(()=>{this.prepareMatrix(),this.cdr.markForCheck()})}prepareMatrix(){if(!this.items)return;let C=[],M=0,_=this.realColumn=this.getColumn(),be=this.items.toArray(),Fe=be.length,T=[],xe=()=>{T.push(C),C=[],M=0};for(let Le=0;Le<Fe;Le++){let lo=be[Le],{nzTitle:mo,content:po,nzSpan:bi}=lo;M+=bi,M>=_?(M>_&&en(`"nzColumn" is ${_} but we have row length ${M}`),C.push({title:mo,content:po,span:_-(M-bi)}),xe()):Le===Fe-1?(C.push({title:mo,content:po,span:_-(M-bi)}),xe()):C.push({title:mo,content:po,span:bi})}this.itemMatrix=T}getColumn(){return typeof this.nzColumn!="number"?this.nzColumn[this.breakpoint]:this.nzColumn}},(()=>{let C=typeof Symbol=="function"&&Symbol.metadata?Object.create(null):void 0;i=[Ti()],t=[Ti()],d=[Ti()],r=[Ti()],hi(null,null,i,{kind:"field",name:"nzBordered",static:!1,private:!1,access:{has:M=>"nzBordered"in M,get:M=>M.nzBordered,set:(M,_)=>{M.nzBordered=_}},metadata:C},n,e),hi(null,null,t,{kind:"field",name:"nzColumn",static:!1,private:!1,access:{has:M=>"nzColumn"in M,get:M=>M.nzColumn,set:(M,_)=>{M.nzColumn=_}},metadata:C},s,p),hi(null,null,d,{kind:"field",name:"nzSize",static:!1,private:!1,access:{has:M=>"nzSize"in M,get:M=>M.nzSize,set:(M,_)=>{M.nzSize=_}},metadata:C},g,o),hi(null,null,r,{kind:"field",name:"nzColon",static:!1,private:!1,access:{has:M=>"nzColon"in M,get:M=>M.nzColon,set:(M,_)=>{M.nzColon=_}},metadata:C},a,c),C&&Object.defineProperty(z,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:C})})(),uo(z,"\u0275fac",function(M){return new(M||z)}),uo(z,"\u0275cmp",E({type:z,selectors:[["nz-descriptions"]],contentQueries:function(M,_,be){if(M&1&&Go(be,To,4),M&2){let Fe;Mi(Fe=_i())&&(_.items=Fe)}},hostAttrs:[1,"ant-descriptions"],hostVars:8,hostBindings:function(M,_){M&2&&Vt("ant-descriptions-bordered",_.nzBordered)("ant-descriptions-middle",_.nzSize==="middle")("ant-descriptions-small",_.nzSize==="small")("ant-descriptions-rtl",_.dir==="rtl")},inputs:{nzBordered:[2,"nzBordered","nzBordered",yi],nzLayout:"nzLayout",nzColumn:"nzColumn",nzSize:"nzSize",nzTitle:"nzTitle",nzExtra:"nzExtra",nzColon:[2,"nzColon","nzColon",yi]},exportAs:["nzDescriptions"],features:[Ht],decls:6,vars:3,consts:[[1,"ant-descriptions-header"],[1,"ant-descriptions-view"],[1,"ant-descriptions-title"],[1,"ant-descriptions-extra"],[4,"nzStringTemplateOutlet"],[1,"ant-descriptions-row"],[1,"ant-descriptions-item",3,"colSpan"],[1,"ant-descriptions-item-container"],[1,"ant-descriptions-item-label"],[1,"ant-descriptions-item-content"],[3,"ngTemplateOutlet"],[1,"ant-descriptions-item-content",3,"colSpan"],[1,"ant-descriptions-item-label",3,"colSpan"]],template:function(M,_){M&1&&(_e(0,Dr,3,2,"div",0),m(1,"div",1)(2,"table")(3,"tbody"),_e(4,Ir,2,0),_e(5,Yr,2,1),u()()()),M&2&&(Ne(_.nzTitle||_.nzExtra?0:-1),l(4),Ne(_.nzLayout==="horizontal"?4:-1),l(),Ne(_.nzLayout==="vertical"?5:-1))},dependencies:[on,ji,Uo],encapsulation:2,changeDetection:0})),z})(),Ln=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=Ot({type:i});static \u0275inj=Lt({imports:[Do]})}return i})();var Qr=()=>({show:!0,front:!1}),ea=()=>[0,0,0,0];function ta(i,n){if(i&1){let e=Pe();m(0,"button",14),S("click",function(){de(e);let s=v();return ce(s.fullChange())}),fe(1,"span",15),h(2," \u5168\u87A2\u5E55 "),u()}}function ia(i,n){if(i&1&&fe(0,"g2-mini-bar",16),i&2){let e=v();f("data",e.events)("height",30)("padding",Te(3,ea))}}var mi=class mi{constructor(){this.http=N(Gi);this.message=N(Nt);this.ps=20;this.total=200;this.args={_allow_anonymous:!0,userid:null};this.url="https://api.randomuser.me/?results=20";this.events=[];this.scroll={y:"230px"};this.columns=[{title:"id",index:"id.value",type:"checkbox"},{title:"Avatar",index:"picture.thumbnail",type:"img",width:80},{title:"Name",index:"name.first",width:150,format:n=>`${n.name.first} ${n.name.last}`,type:"link",click:n=>this.message.info(`${n.name.first}`)},{title:"Email",index:"email"},{title:"Gender",index:"gender",type:"yn",yn:{truth:"female",yes:"\u7537",no:"\u5973",mode:"text"},width:120},{title:"Events",render:"events",width:90},{title:"Registered",index:"registered.date",type:"date",width:170},{title:"Actions",width:120,buttons:[{text:"Edit",click:n=>this.message.info(`edit [${n.id.value}]`),iif:n=>n.gender==="female"},{text:"Delete",type:"del",click:n=>this.message.info(`deleted [${n.id.value}]`)}]}]}ngOnInit(){this.http.get("/chart/visit").subscribe(n=>this.events=n.slice(0,8))}fullChange(n){this.scroll=n?{y:"350px"}:{y:"230px"}}};mi.\u0275fac=function(e){return new(e||mi)},mi.\u0275cmp=E({type:mi,selectors:[["app-st"]],decls:23,vars:9,consts:[["extra",""],["st",""],[1,"st-demo"],[3,"title","home"],[3,"data","columns","total","page","scroll"],["st-row","events"],["nzTitle","Firebase \u6574\u5408\u72C0\u614B",1,"mt-lg"],[1,"firebase-status"],["nzTitle","\u8A8D\u8B49\u72C0\u614B",3,"nzColumn"],["nzTitle","Firebase Auth"],["nzColor","green"],["nzTitle","Firestore ACL"],["nzTitle","Google \u767B\u5165"],["nzTitle","\u6B0A\u9650\u63A7\u5236"],["nz-button","","nzType","primary",3,"click"],["nz-icon","","nzType","fullscreen"],["color","#999","borderWidth","3","tooltipType","mini","theme","mini",3,"data","height","padding"]],template:function(e,t){e&1&&(m(0,"div",2)(1,"page-header",3),Me(2,ta,3,0,"ng-template",null,0,Ai),u(),m(4,"nz-card")(5,"st",4,1),Me(7,ia,1,4,"ng-template",5),u()(),m(8,"nz-card",6)(9,"div",7)(10,"nz-descriptions",8)(11,"nz-descriptions-item",9)(12,"nz-tag",10),h(13,"\u5DF2\u6574\u5408"),u()(),m(14,"nz-descriptions-item",11)(15,"nz-tag",10),h(16,"\u5DF2\u6574\u5408"),u()(),m(17,"nz-descriptions-item",12)(18,"nz-tag",10),h(19,"\u5DF2\u6574\u5408"),u()(),m(20,"nz-descriptions-item",13)(21,"nz-tag",10),h(22,"\u5DF2\u6574\u5408"),u()()()()()()),e&2&&(l(),f("title","ST \u8868\u683C\u5143\u4EF6\u6F14\u793A")("home","home"),l(4),f("data",t.url)("columns",t.columns)("total",t.total)("page",Te(8,Qr))("scroll",t.scroll),l(5),f("nzColumn",2))},dependencies:[P,A,te,X,$t,Tn,ae,re,ne,Zi,w,he,F,ze,H,J,k,V,pe,W,D,Vi,I,se,B,U,R,ie,$,Y,Z,q,O,cn,oe,me,ee,L,K,le,b,Q,ge,j,ue,G,x,kn,xn,Ln,Do,To],encapsulation:2});var no=mi;var On=()=>({standalone:!0}),pi=class pi{constructor(){this.messageSrv=N(Nt);this.format_str="this is ${name}";this.format_res="";this.format_obj=JSON.stringify({name:"asdf"});this.content=`time ${+new Date}

    \u4E2D\u6587\uFF01@#\uFFE5%\u2026\u2026&*`}onFormat(){let n=null;try{n=JSON.parse(this.format_obj)}catch{this.messageSrv.error("\u65E0\u6CD5\u4F7F\u7528 JSON.parse \u8F6C\u6362");return}this.format_res=fn(this.format_str,n,!0)}onYuan(n){this.yuan_res=wn(n)}onCopy(){ln(`time ${+new Date}`).then(()=>this.messageSrv.success("success"))}};pi.\u0275fac=function(e){return new(e||pi)},pi.\u0275cmp=E({type:pi,selectors:[["app-util"]],decls:39,vars:23,consts:[[1,"alain-default__content-title"],[3,"nzGutter"],[3,"nzSpan"],["nzTitle","\u5B57\u7B26\u4E32\u7C7B"],["nzType","inner","nzTitle","format"],["nz-form",""],[3,"nzSm"],["nz-input","",3,"ngModelChange","ngModel","ngModelOptions"],[3,"nzSpan","nzOffset"],["nz-button","",3,"click"],["nzType","inner","nzTitle","yuan"],["type","number","nz-input","",3,"ngModelChange","ngModel"],[3,"innerHTML"],["nzTitle","\u5176\u5B83\u7C7B"]],template:function(e,t){e&1&&(m(0,"div",0)(1,"h1"),h(2," \u5DE5\u5177\u96C6 "),m(3,"small"),h(4,"@delon/util \u65E5\u5E38\u7528\u6CD5\u3002"),u()()(),m(5,"nz-row",1)(6,"nz-col",2)(7,"nz-card",3)(8,"nz-card",4)(9,"form",5)(10,"nz-form-item")(11,"nz-form-label",6),h(12,"String"),u(),m(13,"nz-form-control",6)(14,"input",7),Ee("ngModelChange",function(p){return Se(t.format_str,p)||(t.format_str=p),p}),u()()(),m(15,"nz-form-item")(16,"nz-form-label",6),h(17,"Object"),u(),m(18,"nz-form-control",6)(19,"input",7),Ee("ngModelChange",function(p){return Se(t.format_obj,p)||(t.format_obj=p),p}),u()()(),m(20,"nz-form-item")(21,"nz-form-control",8)(22,"button",9),S("click",function(){return t.onFormat()}),h(23,"Run"),u()()(),m(24,"nz-form-item")(25,"nz-form-label",6),h(26,"Result"),u(),m(27,"nz-form-control",6),h(28),u()()()(),m(29,"nz-card",10)(30,"nz-row",1)(31,"nz-col",2)(32,"input",11),Ee("ngModelChange",function(p){return Se(t.yuan_str,p)||(t.yuan_str=p),p}),S("ngModelChange",function(p){return t.onYuan(p)}),u()(),m(33,"nz-col",2),fe(34,"div",12),u()()()()(),m(35,"nz-col",2)(36,"nz-card",13)(37,"button",9),S("click",function(){return t.onCopy()}),h(38,"Copy"),u()()()()),e&2&&(l(5),f("nzGutter",16),l(),f("nzSpan",12),l(5),f("nzSm",8),l(2),f("nzSm",16),l(),ye("ngModel",t.format_str),f("ngModelOptions",Te(21,On)),l(2),f("nzSm",8),l(2),f("nzSm",16),l(),ye("ngModel",t.format_obj),f("ngModelOptions",Te(22,On)),l(2),f("nzSpan",16)("nzOffset",8),l(4),f("nzSm",8),l(2),f("nzSm",16),l(),ve(" ",t.format_res," "),l(2),f("nzGutter",16),l(),f("nzSpan",12),l(),ye("ngModel",t.yuan_str),l(),f("nzSpan",12),l(),f("innerHTML",t.yuan_res,Oo),l(),f("nzSpan",12))},dependencies:[P,Zt,Ft,dn,Bt,Ut,Rt,qt,A,te,X,ae,re,ne,w,he,F,ze,H,J,It,At,k,V,pe,W,D,I,se,B,U,R,ie,$,Pt,Y,Z,q,O,oe,me,ee,L,K,Xt,Yt,Kt,Jt,le,b,Q,ge,j,ue,G,x],encapsulation:2});var ro=pi;var ui=class ui{constructor(){this.xlsx=N(zn);this.users=Array(100).fill(0).map((n,e)=>({id:e+1,name:`name ${e+1}`,age:Math.ceil(Math.random()*10)+20}));this.columns=[{title:"\u7F16\u53F7",index:"id",type:"checkbox"},{title:"\u59D3\u540D",index:"name"},{title:"\u5E74\u9F84",index:"age"}]}url(){this.xlsx.import("./assets/tmp/demo.xlsx").then(n=>this.data=n)}change(n){let e=n.target.files[0];this.xlsx.import(e).then(t=>this.data=t)}download(){let n=[this.columns.map(e=>e.title)];this.users.forEach(e=>n.push(this.columns.map(t=>e[t.index]))),this.xlsx.export({sheets:[{data:n,name:"sheet name"}]})}};ui.\u0275fac=function(e){return new(e||ui)},ui.\u0275cmp=E({type:ui,selectors:[["app-xlsx"]],decls:16,vars:6,consts:[[1,"alain-default__content-title"],["href","//ng-alain.com/components/xlsx","target","_blank"],["nzTitle","Import"],["nz-button","",3,"click"],["type","file","multiple","false",1,"ml-sm",3,"change"],[1,"mt-sm"],["nzTitle","Export"],[1,"mt-sm",3,"data","ps","columns"]],template:function(e,t){e&1&&(m(0,"div",0)(1,"h1"),h(2," Import & Export excel file, "),m(3,"a",1),h(4,"Document"),u()()(),m(5,"nz-card",2)(6,"button",3),S("click",function(){return t.url()}),h(7,"Via Url"),u(),m(8,"input",4),S("change",function(p){return t.change(p)}),u(),m(9,"p",5),h(10),wt(11,"json"),u()(),m(12,"nz-card",6)(13,"button",3),S("click",function(){return t.download()}),h(14,"Export"),u(),fe(15,"st",7),u()),e&2&&(l(10),ve("result: ",bt(11,4,t.data)),l(5),f("data",t.users)("ps",3)("columns",t.columns))},dependencies:[P,A,te,X,$t,ae,re,ne,w,he,F,ze,H,J,k,V,pe,W,D,I,se,B,U,R,ie,$,Y,Z,q,O,oe,me,ee,L,K,le,b,Q,ge,j,ue,G,x,xt],encapsulation:2});var ao=ui;var Vn=wo(yo(),1);var jn=(()=>{class i{http=N(Ii);lazy=N(Li);ngZone=N(Ho);cogSrv=N(Wt);cog;constructor(){this.cog=this.cogSrv.merge("zip",{url:"https://cdn.jsdelivr.net/npm/jszip@3/dist/jszip.min.js",utils:[]})}init(){return this.lazy.load([this.cog.url].concat(this.cog.utils))}check(e){if(!e)throw new Error("get instance via `ZipService.create()`")}read(e,t){return new Promise((s,p)=>{let d=g=>{this.ngZone.run(()=>s(g))};this.init().then(()=>{if(typeof e=="string"){this.http.request("GET",e,{responseType:"arraybuffer"}).subscribe({next:o=>{JSZip.loadAsync(o,t).then(r=>d(r))},error:o=>{p(o)}});return}let g=new FileReader;g.onload=o=>{JSZip.loadAsync(o.target.result,t).then(r=>d(r))},g.readAsBinaryString(e)})})}create(){return new Promise(e=>{this.init().then(()=>{let t=new JSZip;e(t)}).catch(()=>e(null))})}pushUrl(e,t,s){return this.check(e),new Promise((p,d)=>{this.http.request("GET",s,{responseType:"arraybuffer"}).subscribe({next:g=>{e.file(t,g),p()},error:g=>{d({url:s,error:g})}})})}save(e,t){this.check(e);let s=Re({filename:"download.zip"},t);return new Promise((p,d)=>{e.generateAsync(Re({type:"blob"},s.options),s.update).then(g=>{s.callback&&s.callback(g),(0,Vn.saveAs)(g,s.filename),p()},g=>{d(g)})})}static \u0275fac=function(t){return new(t||i)};static \u0275prov=kt({token:i,factory:i.\u0275fac,providedIn:"root"})}return Fo([hn()],i.prototype,"read",null),i})();function oa(i,n){if(i&1&&(m(0,"li"),h(1),wt(2,"json"),u()),i&2){let e=n.$implicit;l(),_t(bt(2,1,e))}}function na(i,n){if(i&1){let e=Pe();m(0,"nz-card",2)(1,"button",4),S("click",function(){de(e);let s=v();return ce(s.url())}),h(2,"Via Url"),u(),m(3,"input",5),S("change",function(s){de(e);let p=v();return ce(p.change(s))}),u(),m(4,"ol"),De(5,oa,3,3,"li",null,Dt),u()()}if(i&2){let e=v();l(5),we(e.list)}}function ra(i,n){if(i&1){let e=Pe();m(0,"tr")(1,"td")(2,"input",9),Ee("ngModelChange",function(s){let p=de(e).$implicit;return Se(p.path,s)||(p.path=s),ce(s)}),u()(),m(3,"td")(4,"input",9),Ee("ngModelChange",function(s){let p=de(e).$implicit;return Se(p.url,s)||(p.url=s),ce(s)}),u()()()}if(i&2){let e=n.$implicit,t=n.$index;l(2),f("name",vi("path",t)),ye("ngModel",e.path),l(2),f("name",vi("url",t)),ye("ngModel",e.url)}}function aa(i,n){if(i&1){let e=Pe();m(0,"nz-card",3)(1,"button",6),S("click",function(){de(e);let s=v();return ce(s.data.push({}))}),h(2,"new"),u(),m(3,"button",7),S("click",function(){de(e);let s=v();return ce(s.download())}),h(4,"download"),u(),m(5,"nz-table",8)(6,"thead")(7,"tr")(8,"th")(9,"span"),h(10,"path"),u()(),m(11,"th")(12,"span"),h(13,"url"),u()()()(),m(14,"tbody"),De(15,ra,5,6,"tr",null,Dt),u()()()}if(i&2){let e=v();l(),f("nzType","primary"),l(4),f("nzData",e.data)("nzFrontPagination",!1)("nzShowPagination",!1),l(10),we(e.data)}}var di=class di{constructor(){this.zip=N(jn);this.msg=N(Nt);this.cdr=N(Gt);this.instance=null;this.data=[{path:"demo.docx",url:"https://ng-alain.com/assets/demo.docx"},{path:"\u5C0F\u7A0B\u5E8F\u6807\u5FD7.zip",url:"https://wximg.gtimg.com/shake_tv/mina/standard_logo.zip"}]}ngOnInit(){this.zip.create().then(n=>{this.instance=n,this.cdr.detectChanges()})}format(n){let e=n.files;this.list=Object.keys(e).map(t=>({name:t,dir:e[t].dir,date:e[t].date})),this.cdr.detectChanges()}url(){this.zip.read("./assets/tmp/demo.zip").then(n=>this.format(n))}change(n){let e=n.target.files[0];this.zip.read(e).then(t=>this.format(t))}download(){let n=[];this.data.forEach(e=>{n.push(this.zip.pushUrl(this.instance,e.path,e.url))}),Promise.all(n).then(()=>{this.zip.save(this.instance).then(()=>{this.msg.success("download success"),this.data=[]})},e=>{console.warn(e),this.msg.error(JSON.stringify(e))})}};di.\u0275fac=function(e){return new(e||di)},di.\u0275cmp=E({type:di,selectors:[["app-zip"]],decls:7,vars:2,consts:[[1,"alain-default__content-title"],["href","//ng-alain.com/components/zip","target","_blank"],["nzTitle","\u89E3\u538B"],["nzTitle","\u538B\u7F29"],["nz-button","",3,"click"],["type","file","multiple","false",1,"ml-sm",3,"change"],["nz-button","",3,"click","nzType"],["nz-button","",1,"ml-sm",3,"click"],[1,"mt-sm",3,"nzData","nzFrontPagination","nzShowPagination"],["nz-input","",3,"ngModelChange","ngModel","name"]],template:function(e,t){e&1&&(m(0,"div",0)(1,"h1"),h(2," Read & Write zip file, "),m(3,"a",1),h(4,"Document"),u()()(),_e(5,na,7,0,"nz-card",2),_e(6,aa,17,4,"nz-card",3)),e&2&&(l(5),Ne(t.instance?5:-1),l(),Ne(t.instance?6:-1))},dependencies:[P,Ft,Bt,Rt,A,te,X,ae,re,ne,w,he,F,ze,H,J,k,V,pe,W,D,I,se,B,U,Nn,Cn,Mn,yn,_n,vn,R,ie,$,Pt,Y,Z,q,O,oe,me,ee,L,K,le,b,Q,ge,j,ue,G,x,xt],encapsulation:2,changeDetection:0});var so=di;var nm=[{path:"st",component:no},{path:"util",component:ro},{path:"print",component:io},{path:"acl",component:$i},{path:"guard",component:eo,children:[{path:"leave",component:to,canDeactivate:[Pn]},{path:"auth",component:Qi,canActivate:[go],data:{guard:"user1"}},{path:"admin",component:Ki,canActivate:[go],data:{guard:"admin"}}]},{path:"cache",component:Yi},{path:"qr",component:oo},{path:"downfile",component:Xi},{path:"xlsx",component:ao},{path:"zip",component:so},{path:"form",component:Ji}];export{nm as routes};
