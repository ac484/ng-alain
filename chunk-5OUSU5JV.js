import{F as ie,K as se,L as ae,Q as ce,W as B,X as M,ia as ue,xa as le,z as oe}from"./chunk-SIZM2XL7.js";import{H as Fe,I as Le,J as te,L as xe,R as ne,S as re,V as ze,W as H,X as j,Z as f,a as Oe,d as We,h as W,v as ee,z as Me}from"./chunk-2DVOMO4J.js";import{$c as Se,Fa as ye,Ha as m,Id as De,Qa as N,ad as $e,bd as O,be as Ne,d as b,ja as be,k as Ce,l as Re,ma as _,o as J,oa as T,p as Q,pa as y,sa as _e,sb as A,ta as U,ya as S}from"./chunk-6TK32UBT.js";import{i as p}from"./chunk-57BLH6QZ.js";var pt="firebase",ft="11.10.0";f(pt,ft,"app");var w=new Se("ANGULARFIRE2_VERSION");function K(e,t,n){if(t){if(t.length===1)return t[0];let i=t.filter(s=>s.app===n);if(i.length===1)return i[0]}return n.container.getProvider(e).getImmediate({optional:!0})}var q=(e,t)=>{let n=t?[t]:j(),r=[];return n.forEach(o=>{o.container.getProvider(e).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},$=function(e){return e[e.SILENT=0]="SILENT",e[e.WARN=1]="WARN",e[e.VERBOSE=2]="VERBOSE",e}($||{}),Ue=O()&&typeof Zone<"u"?$.WARN:$.SILENT;var V=class{zone;delegate;constructor(t,n=Re){this.zone=t,this.delegate=n}now(){return this.delegate.now()}schedule(t,n,r){let o=this.zone,i=function(s){o?o.runGuarded(()=>{t.apply(this,[s])}):t.apply(this,[s])};return this.delegate.schedule(i,n,r)}},v=(()=>{class e{outsideAngular;insideAngular;constructor(){let n=T(A);this.outsideAngular=n.runOutsideAngular(()=>new V(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=n.run(()=>new V(typeof Zone>"u"?void 0:Zone.current,Ce))}static \u0275fac=function(r){return new(r||e)};static \u0275prov=be({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),He=!1;function gt(e,t){!He&&(Ue>$.SILENT||O())&&(He=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),Ue>=t&&console.warn(`Firebase API called outside injection context: ${e.name}`)}function mt(e){let t=T(A,{optional:!0});return t?t.runOutsideAngular(()=>e()):e()}function I(e){let t=T(A,{optional:!0});return t?t.run(()=>e()):e()}var At=(e,t,n)=>(...r)=>(t&&setTimeout(t,0),U(n,()=>I(()=>e.apply(void 0,r)))),d=(e,t,n)=>(n||=t?$.WARN:$.VERBOSE,function(){let r,o=arguments,i,s,u;try{i=T(v),s=T(ye),u=T(_e)}catch{return gt(e,n),e.apply(this,o)}for(let a=0;a<arguments.length;a++)typeof o[a]=="function"&&(t&&(r||=I(()=>s.add())),o[a]=At(o[a],r,u));let c=mt(()=>e.apply(this,o));return t?c instanceof b?c.pipe(Q(i.outsideAngular),J(i.insideAngular),Ne(u)):c instanceof Promise?I(()=>{let a=s.add();return new Promise((C,Y)=>{c.then(R=>U(u,()=>I(()=>C(R))),R=>U(u,()=>I(()=>Y(R)))).finally(a)})}):typeof c=="function"&&r?function(){return setTimeout(r,0),c.apply(this,arguments)}:I(()=>c):c instanceof b?c.pipe(Q(i.outsideAngular),J(i.insideAngular)):I(()=>c)});var k=class{constructor(t){return t}},P=class{constructor(){return j()}};function kt(e){return e&&e.length===1?e[0]:new k(H())}var de=new _("angularfire2._apps"),Et={provide:k,useFactory:kt,deps:[[new m,de]]},Tt={provide:P,deps:[[new m,de]]};function It(e){return(t,n)=>{let r=n.get(N);f("angularfire",w.full,"core"),f("angularfire",w.full,"app"),f("angular",$e.full,r.toString());let o=t.runOutsideAngular(()=>e(n));return new k(o)}}function Pr(e,...t){return y([Et,Tt,{provide:de,useFactory:It(e),multi:!0,deps:[A,S,v,...t]}])}var Cr=d(ze,!0);var fe=new Map,Ze={activated:!1,tokenObservers:[]},wt={initialized:!1,enabled:!1};function l(e){return fe.get(e)||Object.assign({},Ze)}function vt(e,t){return fe.set(e,t),fe.get(e)}function X(){return wt}var Xe="https://content-firebaseappcheck.googleapis.com/v1";var Pt="exchangeRecaptchaEnterpriseToken",Ct="exchangeDebugToken",je={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},Rt=24*60*60*1e3;var ge=class{constructor(t,n,r,o,i){if(this.operation=t,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=o,this.upperBound=i,this.pending=null,this.nextErrorWaitInterval=o,o>i)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){return p(this,null,function*(){this.stop();try{this.pending=new W,this.pending.promise.catch(n=>{}),yield bt(this.getNextRun(t)),this.pending.resolve(),yield this.pending.promise,this.pending=new W,this.pending.promise.catch(n=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}};function bt(e){return new Promise(t=>{setTimeout(t,e)})}var _t={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},h=new Me("appCheck","AppCheck",_t);function Be(e=!1){var t;return e?(t=self.grecaptcha)===null||t===void 0?void 0:t.enterprise:self.grecaptcha}function ke(e){if(!l(e).activated)throw h.create("use-before-activation",{appName:e.name})}function Ye(e){let t=Math.round(e/1e3),n=Math.floor(t/(3600*24)),r=Math.floor((t-n*3600*24)/3600),o=Math.floor((t-n*3600*24-r*3600)/60),i=t-n*3600*24-r*3600-o*60,s="";return n&&(s+=G(n)+"d:"),r&&(s+=G(r)+"h:"),s+=G(o)+"m:"+G(i)+"s",s}function G(e){return e===0?"00":e>=10?e.toString():"0"+e}function Ee(r,o){return p(this,arguments,function*({url:e,body:t},n){let i={"Content-Type":"application/json"},s=n.getImmediate({optional:!0});if(s){let g=yield s.getHeartbeatsHeader();g&&(i["X-Firebase-Client"]=g)}let u={method:"POST",body:JSON.stringify(t),headers:i},c;try{c=yield fetch(e,u)}catch(g){throw h.create("fetch-network-error",{originalErrorMessage:g?.message})}if(c.status!==200)throw h.create("fetch-status-error",{httpStatus:c.status});let a;try{a=yield c.json()}catch(g){throw h.create("fetch-parse-error",{originalErrorMessage:g?.message})}let C=a.ttl.match(/^([\d.]+)(s)$/);if(!C||!C[2]||isNaN(Number(C[1])))throw h.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});let Y=Number(C[1])*1e3,R=Date.now();return{token:a.token,expireTimeMillis:R+Y,issuedAtTimeMillis:R}})}function yt(e,t){let{projectId:n,appId:r,apiKey:o}=e.options;return{url:`${Xe}/projects/${n}/apps/${r}:${Pt}?key=${o}`,body:{recaptcha_enterprise_token:t}}}function Je(e,t){let{projectId:n,appId:r,apiKey:o}=e.options;return{url:`${Xe}/projects/${n}/apps/${r}:${Ct}?key=${o}`,body:{debug_token:t}}}var St="firebase-app-check-database",$t=1,F="firebase-app-check-store",Qe="debug-token",Z=null;function et(){return Z||(Z=new Promise((e,t)=>{try{let n=indexedDB.open(St,$t);n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{var o;t(h.create("storage-open",{originalErrorMessage:(o=r.target.error)===null||o===void 0?void 0:o.message}))},n.onupgradeneeded=r=>{let o=r.target.result;switch(r.oldVersion){case 0:o.createObjectStore(F,{keyPath:"compositeKey"})}}}catch(n){t(h.create("storage-open",{originalErrorMessage:n?.message}))}}),Z)}function Dt(e){return nt(rt(e))}function Nt(e,t){return tt(rt(e),t)}function Ot(e){return tt(Qe,e)}function Wt(){return nt(Qe)}function tt(e,t){return p(this,null,function*(){let r=(yield et()).transaction(F,"readwrite"),i=r.objectStore(F).put({compositeKey:e,value:t});return new Promise((s,u)=>{i.onsuccess=c=>{s()},r.onerror=c=>{var a;u(h.create("storage-set",{originalErrorMessage:(a=c.target.error)===null||a===void 0?void 0:a.message}))}})})}function nt(e){return p(this,null,function*(){let n=(yield et()).transaction(F,"readonly"),o=n.objectStore(F).get(e);return new Promise((i,s)=>{o.onsuccess=u=>{let c=u.target.result;i(c?c.value:void 0)},n.onerror=u=>{var c;s(h.create("storage-get",{originalErrorMessage:(c=u.target.error)===null||c===void 0?void 0:c.message}))}})})}function rt(e){return`${e.options.appId}-${e.name}`}var E=new xe("@firebase/app-check");function Mt(e){return p(this,null,function*(){if(ee()){let t;try{t=yield Dt(e)}catch(n){E.warn(`Failed to read token from IndexedDB. Error: ${n}`)}return t}})}function he(e,t){return ee()?Nt(e,t).catch(n=>{E.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function Ft(){return p(this,null,function*(){let e;try{e=yield Wt()}catch{}if(e)return e;{let t=crypto.randomUUID();return Ot(t).catch(n=>E.warn(`Failed to persist debug token to IndexedDB. Error: ${n}`)),t}})}function Te(){return X().enabled}function Ie(){return p(this,null,function*(){let e=X();if(e.enabled&&e.token)return e.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}function Lt(){let e=We(),t=X();if(t.initialized=!0,typeof e.FIREBASE_APPCHECK_DEBUG_TOKEN!="string"&&e.FIREBASE_APPCHECK_DEBUG_TOKEN!==!0)return;t.enabled=!0;let n=new W;t.token=n,typeof e.FIREBASE_APPCHECK_DEBUG_TOKEN=="string"?n.resolve(e.FIREBASE_APPCHECK_DEBUG_TOKEN):n.resolve(Ft())}var xt={error:"UNKNOWN_ERROR"};function zt(e){return Oe.encodeString(JSON.stringify(e),!1)}function me(e,t=!1,n=!1){return p(this,null,function*(){let r=e.app;ke(r);let o=l(r),i=o.token,s;if(i&&!D(i)&&(o.token=void 0,i=void 0),!i){let a=yield o.cachedTokenPromise;a&&(D(a)?i=a:yield he(r,void 0))}if(!t&&i&&D(i))return{token:i.token};let u=!1;if(Te())try{o.exchangeTokenPromise||(o.exchangeTokenPromise=Ee(Je(r,yield Ie()),e.heartbeatServiceProvider).finally(()=>{o.exchangeTokenPromise=void 0}),u=!0);let a=yield o.exchangeTokenPromise;return yield he(r,a),o.token=a,{token:a.token}}catch(a){return a.code==="appCheck/throttled"||a.code==="appCheck/initial-throttle"?E.warn(a.message):n&&E.error(a),pe(a)}try{o.exchangeTokenPromise||(o.exchangeTokenPromise=o.provider.getToken().finally(()=>{o.exchangeTokenPromise=void 0}),u=!0),i=yield l(r).exchangeTokenPromise}catch(a){a.code==="appCheck/throttled"||a.code==="appCheck/initial-throttle"?E.warn(a.message):n&&E.error(a),s=a}let c;return i?s?D(i)?c={token:i.token,internalError:s}:c=pe(s):(c={token:i.token},o.token=i,yield he(r,i)):c=pe(s),u&&st(r,c),c})}function Ut(e){return p(this,null,function*(){let t=e.app;ke(t);let{provider:n}=l(t);if(Te()){let r=yield Ie(),{token:o}=yield Ee(Je(t,r),e.heartbeatServiceProvider);return{token:o}}else{let{token:r}=yield n.getToken();return{token:r}}})}function ot(e,t,n,r){let{app:o}=e,i=l(o),s={next:n,error:r,type:t};if(i.tokenObservers=[...i.tokenObservers,s],i.token&&D(i.token)){let u=i.token;Promise.resolve().then(()=>{n({token:u.token}),Ve(e)}).catch(()=>{})}i.cachedTokenPromise.then(()=>Ve(e))}function it(e,t){let n=l(e),r=n.tokenObservers.filter(o=>o.next!==t);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function Ve(e){let{app:t}=e,n=l(t),r=n.tokenRefresher;r||(r=Ht(e),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function Ht(e){let{app:t}=e;return new ge(()=>p(null,null,function*(){let n=l(t),r;if(n.token?r=yield me(e,!0):r=yield me(e),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let n=l(t);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5,o=n.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,o),Math.max(0,r-Date.now())}else return 0},je.RETRIAL_MIN_WAIT,je.RETRIAL_MAX_WAIT)}function st(e,t){let n=l(e).tokenObservers;for(let r of n)try{r.type==="EXTERNAL"&&t.error!=null?r.error(t.error):r.next(t)}catch{}}function D(e){return e.expireTimeMillis-Date.now()>0}function pe(e){return{token:zt(xt),error:e}}var Ae=class{constructor(t,n){this.app=t,this.heartbeatServiceProvider=n}_delete(){let{tokenObservers:t}=l(this.app);for(let n of t)it(this.app,n.next);return Promise.resolve()}};function jt(e,t){return new Ae(e,t)}function Bt(e){return{getToken:t=>me(e,t),getLimitedUseToken:()=>Ut(e),addTokenListener:t=>ot(e,"INTERNAL",t),removeTokenListener:t=>it(e.app,t)}}var Vt="@firebase/app-check",Kt="0.10.1";var qt="https://www.google.com/recaptcha/enterprise.js";function Gt(e,t){let n=new W,r=l(e);r.reCAPTCHAState={initialized:n};let o=Zt(e),i=Be(!0);return i?Ke(e,t,i,o,n):Jt(()=>{let s=Be(!0);if(!s)throw new Error("no recaptcha");Ke(e,t,s,o,n)}),n.promise}function Ke(e,t,n,r,o){n.ready(()=>{Yt(e,t,n,r),o.resolve(n)})}function Zt(e){let t=`fire_app_check_${e.name}`,n=document.createElement("div");return n.id=t,n.style.display="none",document.body.appendChild(n),t}function Xt(e){return p(this,null,function*(){ke(e);let n=yield l(e).reCAPTCHAState.initialized.promise;return new Promise((r,o)=>{let i=l(e).reCAPTCHAState;n.ready(()=>{r(n.execute(i.widgetId,{action:"fire_app_check"}))})})})}function Yt(e,t,n,r){let o=n.render(r,{sitekey:t,size:"invisible",callback:()=>{l(e).reCAPTCHAState.succeeded=!0},"error-callback":()=>{l(e).reCAPTCHAState.succeeded=!1}}),i=l(e);i.reCAPTCHAState=Object.assign(Object.assign({},i.reCAPTCHAState),{widgetId:o})}function Jt(e){let t=document.createElement("script");t.src=qt,t.onload=e,document.head.appendChild(t)}var qe=class e{constructor(t){this._siteKey=t,this._throttleData=null}getToken(){return p(this,null,function*(){var t,n,r;en(this._throttleData);let o=yield Xt(this._app).catch(s=>{throw h.create("recaptcha-error")});if(!(!((t=l(this._app).reCAPTCHAState)===null||t===void 0)&&t.succeeded))throw h.create("recaptcha-error");let i;try{i=yield Ee(yt(this._app,o),this._heartbeatServiceProvider)}catch(s){throw!((n=s.code)===null||n===void 0)&&n.includes("fetch-status-error")?(this._throttleData=Qt(Number((r=s.customData)===null||r===void 0?void 0:r.httpStatus),this._throttleData),h.create("initial-throttle",{time:Ye(this._throttleData.allowRequestsAfter-Date.now()),httpStatus:this._throttleData.httpStatus})):s}return this._throttleData=null,i})}initialize(t){this._app=t,this._heartbeatServiceProvider=re(t,"heartbeat"),Gt(t,this._siteKey).catch(()=>{})}isEqual(t){return t instanceof e?this._siteKey===t._siteKey:!1}};function Qt(e,t){if(e===404||e===403)return{backoffCount:1,allowRequestsAfter:Date.now()+Rt,httpStatus:e};{let n=t?t.backoffCount:0,r=Fe(n,1e3,2);return{backoffCount:n+1,allowRequestsAfter:Date.now()+r,httpStatus:e}}}function en(e){if(e&&Date.now()-e.allowRequestsAfter<=0)throw h.create("throttled",{time:Ye(e.allowRequestsAfter-Date.now()),httpStatus:e.httpStatus})}function at(e=H(),t){e=Le(e);let n=re(e,"app-check");if(X().initialized||Lt(),Te()&&Ie().then(o=>console.log(`App Check debug token: ${o}. You will need to add it to your app's App Check settings in the Firebase console for it to work.`)),n.isInitialized()){let o=n.getImmediate(),i=n.getOptions();if(i.isTokenAutoRefreshEnabled===t.isTokenAutoRefreshEnabled&&i.provider.isEqual(t.provider))return o;throw h.create("already-initialized",{appName:e.name})}let r=n.initialize({options:t});return tn(e,t.provider,t.isTokenAutoRefreshEnabled),l(e).isTokenAutoRefreshEnabled&&ot(r,"INTERNAL",()=>{}),r}function tn(e,t,n=!1){let r=vt(e,Object.assign({},Ze));r.activated=!0,r.provider=t,r.cachedTokenPromise=Mt(e).then(o=>(o&&D(o)&&(r.token=o,st(e,{token:o.token})),o)),r.isTokenAutoRefreshEnabled=n&&e.automaticDataCollectionEnabled,!e.automaticDataCollectionEnabled&&n&&E.warn("`isTokenAutoRefreshEnabled` is true but `automaticDataCollectionEnabled` was set to false during `initializeApp()`. This blocks automatic token refresh."),r.provider.initialize(e)}var nn="app-check",Ge="app-check-internal";function rn(){ne(new te(nn,e=>{let t=e.getProvider("app").getImmediate(),n=e.getProvider("heartbeat");return jt(t,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider(Ge).initialize()})),ne(new te(Ge,e=>{let t=e.getProvider("app-check").getImmediate();return Bt(t)},"PUBLIC").setInstantiationMode("EXPLICIT")),f(Vt,Kt)}rn();var ct="app-check",L=class{constructor(t){return t}},x=class{constructor(){return q(ct)}};var we=new _("angularfire2.app-check-instances");function on(e,t){let n=K(ct,e,t);return n&&new L(n)}var sn=["localhost","0.0.0.0","127.0.0.1"],an=typeof window<"u"&&sn.includes(window.location.hostname);function cn(e){return(t,n,r)=>{!De(r)&&(O()||an)&&(globalThis.FIREBASE_APPCHECK_DEBUG_TOKEN??=!0);let o=t.runOutsideAngular(()=>e(n));return new L(o)}}var un={provide:x,deps:[[new m,we]]},ln={provide:L,useFactory:on,deps:[[new m,we],k,N]};function Gr(e,...t){return f("angularfire",w.full,"app-check"),y([ln,un,{provide:we,useFactory:cn(e),multi:!0,deps:[A,S,N,v,P,...t]}])}var Zr=d(at,!0);function lt(e){return new b(function(t){var n=M(e,t.next.bind(t),t.error.bind(t),t.complete.bind(t));return{unsubscribe:n}})}function dt(e){return new b(function(t){var n=B(e,t.next.bind(t),t.error.bind(t),t.complete.bind(t));return{unsubscribe:n}})}var ht="auth",z=class{constructor(t){return t}},ve=class{constructor(){return q(ht)}};var Pe=new _("angularfire2.auth-instances");function er(e,t){let n=K(ht,e,t);return n&&new z(n)}function tr(e){return(t,n)=>{let r=t.runOutsideAngular(()=>e(n));return new z(r)}}var nr={provide:ve,deps:[[new m,Pe]]},rr={provide:z,useFactory:er,deps:[[new m,Pe],k]};function Qo(e,...t){return f("angularfire",w.full,"auth"),y([rr,nr,{provide:Pe,useFactory:tr(e),multi:!0,deps:[A,S,v,P,[new m,x],...t]}])}var ei=d(lt,!0);var ti=d(dt,!0);var ni=d(se,!0,2);var ri=d(le,!0);var oi=d(M,!0);var ii=d(ce,!0,2),si=d(ie,!0,2);var ai=d(oe,!0,2);var ci=d(ae,!0,2);var ui=d(ue,!0,2);export{w as a,K as b,q as c,v as d,d as e,k as f,P as g,Pr as h,Cr as i,qe as j,x as k,Gr as l,Zr as m,z as n,ve as o,Qo as p,ei as q,ti as r,ni as s,ri as t,oi as u,ii as v,si as w,ai as x,ci as y,ui as z};
