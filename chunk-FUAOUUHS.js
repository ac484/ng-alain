import{e as zl}from"./chunk-GOAKBUUM.js";import{a as vl,b as Cl}from"./chunk-LCVWFO3P.js";import{a as bl}from"./chunk-UFST3KEI.js";import{a as un,b as fn,c as pl,d as zi,e as ml,h as hl}from"./chunk-CCVCOKLM.js";import{f as bi}from"./chunk-FYDCKUZW.js";import{B as Ts,C as Es,D as Ci,F as Ps,M as Os,N as Ms,W as cn,b as Fn,f as Se,g as vs,r as xs,w as yi,z as vi}from"./chunk-SB2HO6JZ.js";import{c as el,d as tl,e as nl,f as il,g as rl,h as ol}from"./chunk-P3L244CT.js";import{a as ul,b as fl}from"./chunk-MHOS3WCP.js";import{a as al,f as Vr,g as sl,h as ll,j as cl,k as dl}from"./chunk-Y5JRCH72.js";import{c as _t,e as dn}from"./chunk-NW4FU3V3.js";import{a as Hs,b as Bs,c as Us}from"./chunk-QFOHOQDS.js";import{a as Ks,e as Gs}from"./chunk-IFPPFMNI.js";import{a as As,b as qs,c as Ls,d as Ws}from"./chunk-SA46UIDN.js";import{a as Qs}from"./chunk-E2CCMZAM.js";import{c as Js,d as Xs,e as Zs,f as Ys}from"./chunk-F4IBXQAQ.js";import{a as Wt}from"./chunk-754CTGRH.js";import{T as ln,U as _i,x as hi}from"./chunk-MPLSKRO5.js";import{a as hs,c as mi,i as _s,m as Rn,n as gs,t as ys}from"./chunk-HNEBRDLY.js";import{B as Rs,C as Fs,G as js,d as Ns,l as Dr,m as Is,o as ht,p as ks,s as Ds,u as Qe,v as Vs}from"./chunk-53SO5WPT.js";import{$b as Sr,Ac as on,B as At,Ba as In,Bb as x,C as br,Ca as ss,Da as rn,Db as T,Dc as ms,Eb as Ue,Ei as _l,Fb as ds,Fe as Mr,Fi as gl,Gb as be,Hb as ze,Ib as _,Jb as z,Jc as ke,Ji as Rr,Kb as C,Ki as yl,L as en,Lb as G,Le as ws,M as Be,Ma as Oe,Na as ce,P as es,Pa as Me,Pb as we,Pe as $s,Qb as $e,R as zr,Rb as us,Re as Nr,Sb as ee,Sd as Er,Sh as De,T as ts,Ta as zt,Td as ge,Th as Et,Uh as rt,V as wr,Va as ls,Vb as K,Vh as Pt,Xd as an,Yb as f,Za as m,Zb as oe,_a as kn,_b as ae,ac as Ke,ad as Ge,ae as Cs,b as Ja,bb as Ce,bc as Ne,bd as q,be as sn,bi as Ot,cc as Ie,cd as ue,ce as bs,d as Xa,ea as ns,eb as cs,fa as $r,g as pi,ga as tn,gc as le,h as jt,hc as nt,i as Za,ia as is,ib as U,ic as Q,ie as zs,ii as Ir,jb as Re,jc as fs,kb as qt,kc as it,ki as kr,la as rs,lc as j,li as Ss,ma as nn,mb as de,mc as re,na as Ve,nc as se,ob as N,pc as $t,q as Cr,qb as wt,qc as St,qe as Pr,r as Nn,ra as w,rb as Dn,rc as xt,sa as os,sc as xr,sd as je,ta as as,tc as Tr,te as Or,uc as Vn,ui as gi,v as Ya,wc as ps,xa as P,ya as O,zb as Fe,zc as Lt,zd as Tt}from"./chunk-W6OF5JYC.js";import{a as $,b as X,c as Ga,d as S,f as Qa,g as vr,i as Yt}from"./chunk-57BLH6QZ.js";var qn=S(H=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0});H.regexpCode=H.getEsmExportName=H.getProperty=H.safeStringify=H.stringify=H.strConcat=H.addCodeArg=H.str=H._=H.nil=H._Code=H.Name=H.IDENTIFIER=H._CodeOrName=void 0;var jn=class{};H._CodeOrName=jn;H.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;var Ht=class extends jn{constructor(n){if(super(),!H.IDENTIFIER.test(n))throw new Error("CodeGen: name must be a valid identifier");this.str=n}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}};H.Name=Ht;var Ae=class extends jn{constructor(n){super(),this._items=typeof n=="string"?[n]:n}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;let n=this._items[0];return n===""||n==='""'}get str(){var n;return(n=this._str)!==null&&n!==void 0?n:this._str=this._items.reduce((e,i)=>`${e}${i}`,"")}get names(){var n;return(n=this._names)!==null&&n!==void 0?n:this._names=this._items.reduce((e,i)=>(i instanceof Ht&&(e[i.str]=(e[i.str]||0)+1),e),{})}};H._Code=Ae;H.nil=new Ae("");function wl(t,...n){let e=[t[0]],i=0;for(;i<n.length;)jr(e,n[i]),e.push(t[++i]);return new Ae(e)}H._=wl;var Fr=new Ae("+");function $l(t,...n){let e=[An(t[0])],i=0;for(;i<n.length;)e.push(Fr),jr(e,n[i]),e.push(Fr,An(t[++i]));return Du(e),new Ae(e)}H.str=$l;function jr(t,n){n instanceof Ae?t.push(...n._items):n instanceof Ht?t.push(n):t.push(Fu(n))}H.addCodeArg=jr;function Du(t){let n=1;for(;n<t.length-1;){if(t[n]===Fr){let e=Vu(t[n-1],t[n+1]);if(e!==void 0){t.splice(n-1,3,e);continue}t[n++]="+"}n++}}function Vu(t,n){if(n==='""')return t;if(t==='""')return n;if(typeof t=="string")return n instanceof Ht||t[t.length-1]!=='"'?void 0:typeof n!="string"?`${t.slice(0,-1)}${n}"`:n[0]==='"'?t.slice(0,-1)+n.slice(1):void 0;if(typeof n=="string"&&n[0]==='"'&&!(t instanceof Ht))return`"${t}${n.slice(1)}`}function Ru(t,n){return n.emptyStr()?t:t.emptyStr()?n:$l`${t}${n}`}H.strConcat=Ru;function Fu(t){return typeof t=="number"||typeof t=="boolean"||t===null?t:An(Array.isArray(t)?t.join(","):t)}function ju(t){return new Ae(An(t))}H.stringify=ju;function An(t){return JSON.stringify(t).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}H.safeStringify=An;function Au(t){return typeof t=="string"&&H.IDENTIFIER.test(t)?new Ae(`.${t}`):wl`[${t}]`}H.getProperty=Au;function qu(t){if(typeof t=="string"&&H.IDENTIFIER.test(t))return new Ae(`${t}`);throw new Error(`CodeGen: invalid export name: ${t}, use explicit $id name mapping`)}H.getEsmExportName=qu;function Lu(t){return new Ae(t.toString())}H.regexpCode=Lu});var Lr=S(Te=>{"use strict";Object.defineProperty(Te,"__esModule",{value:!0});Te.ValueScope=Te.ValueScopeName=Te.Scope=Te.varKinds=Te.UsedValueState=void 0;var xe=qn(),Ar=class extends Error{constructor(n){super(`CodeGen: "code" for ${n} not defined`),this.value=n.value}},wi=function(t){return t[t.Started=0]="Started",t[t.Completed=1]="Completed",t}(wi||(Te.UsedValueState=wi={}));Te.varKinds={const:new xe.Name("const"),let:new xe.Name("let"),var:new xe.Name("var")};var $i=class{constructor({prefixes:n,parent:e}={}){this._names={},this._prefixes=n,this._parent=e}toName(n){return n instanceof xe.Name?n:this.name(n)}name(n){return new xe.Name(this._newName(n))}_newName(n){let e=this._names[n]||this._nameGroup(n);return`${n}${e.index++}`}_nameGroup(n){var e,i;if(!((i=(e=this._parent)===null||e===void 0?void 0:e._prefixes)===null||i===void 0)&&i.has(n)||this._prefixes&&!this._prefixes.has(n))throw new Error(`CodeGen: prefix "${n}" is not allowed in this scope`);return this._names[n]={prefix:n,index:0}}};Te.Scope=$i;var Si=class extends xe.Name{constructor(n,e){super(e),this.prefix=n}setValue(n,{property:e,itemIndex:i}){this.value=n,this.scopePath=(0,xe._)`.${new xe.Name(e)}[${i}]`}};Te.ValueScopeName=Si;var Wu=(0,xe._)`\n`,qr=class extends $i{constructor(n){super(n),this._values={},this._scope=n.scope,this.opts=X($({},n),{_n:n.lines?Wu:xe.nil})}get(){return this._scope}name(n){return new Si(n,this._newName(n))}value(n,e){var i;if(e.ref===void 0)throw new Error("CodeGen: ref must be passed in value");let r=this.toName(n),{prefix:o}=r,a=(i=e.key)!==null&&i!==void 0?i:e.ref,s=this._values[o];if(s){let d=s.get(a);if(d)return d}else s=this._values[o]=new Map;s.set(a,r);let l=this._scope[o]||(this._scope[o]=[]),c=l.length;return l[c]=e.ref,r.setValue(e,{property:o,itemIndex:c}),r}getValue(n,e){let i=this._values[n];if(i)return i.get(e)}scopeRefs(n,e=this._values){return this._reduceValues(e,i=>{if(i.scopePath===void 0)throw new Error(`CodeGen: name "${i}" has no value`);return(0,xe._)`${n}${i.scopePath}`})}scopeCode(n=this._values,e,i){return this._reduceValues(n,r=>{if(r.value===void 0)throw new Error(`CodeGen: name "${r}" has no value`);return r.value.code},e,i)}_reduceValues(n,e,i={},r){let o=xe.nil;for(let a in n){let s=n[a];if(!s)continue;let l=i[a]=i[a]||new Map;s.forEach(c=>{if(l.has(c))return;l.set(c,wi.Started);let d=e(c);if(d){let u=this.opts.es5?Te.varKinds.var:Te.varKinds.const;o=(0,xe._)`${o}${u} ${c} = ${d};${this.opts._n}`}else if(d=r?.(c))o=(0,xe._)`${o}${d}${this.opts._n}`;else throw new Ar(c);l.set(c,wi.Completed)})}return o}};Te.ValueScope=qr});var R=S(F=>{"use strict";Object.defineProperty(F,"__esModule",{value:!0});F.or=F.and=F.not=F.CodeGen=F.operators=F.varKinds=F.ValueScopeName=F.ValueScope=F.Scope=F.Name=F.regexpCode=F.stringify=F.getProperty=F.nil=F.strConcat=F.str=F._=void 0;var L=qn(),Je=Lr(),Mt=qn();Object.defineProperty(F,"_",{enumerable:!0,get:function(){return Mt._}});Object.defineProperty(F,"str",{enumerable:!0,get:function(){return Mt.str}});Object.defineProperty(F,"strConcat",{enumerable:!0,get:function(){return Mt.strConcat}});Object.defineProperty(F,"nil",{enumerable:!0,get:function(){return Mt.nil}});Object.defineProperty(F,"getProperty",{enumerable:!0,get:function(){return Mt.getProperty}});Object.defineProperty(F,"stringify",{enumerable:!0,get:function(){return Mt.stringify}});Object.defineProperty(F,"regexpCode",{enumerable:!0,get:function(){return Mt.regexpCode}});Object.defineProperty(F,"Name",{enumerable:!0,get:function(){return Mt.Name}});var Oi=Lr();Object.defineProperty(F,"Scope",{enumerable:!0,get:function(){return Oi.Scope}});Object.defineProperty(F,"ValueScope",{enumerable:!0,get:function(){return Oi.ValueScope}});Object.defineProperty(F,"ValueScopeName",{enumerable:!0,get:function(){return Oi.ValueScopeName}});Object.defineProperty(F,"varKinds",{enumerable:!0,get:function(){return Oi.varKinds}});F.operators={GT:new L._Code(">"),GTE:new L._Code(">="),LT:new L._Code("<"),LTE:new L._Code("<="),EQ:new L._Code("==="),NEQ:new L._Code("!=="),NOT:new L._Code("!"),OR:new L._Code("||"),AND:new L._Code("&&"),ADD:new L._Code("+")};var gt=class{optimizeNodes(){return this}optimizeNames(n,e){return this}},Wr=class extends gt{constructor(n,e,i){super(),this.varKind=n,this.name=e,this.rhs=i}render({es5:n,_n:e}){let i=n?Je.varKinds.var:this.varKind,r=this.rhs===void 0?"":` = ${this.rhs}`;return`${i} ${this.name}${r};`+e}optimizeNames(n,e){if(n[this.name.str])return this.rhs&&(this.rhs=pn(this.rhs,n,e)),this}get names(){return this.rhs instanceof L._CodeOrName?this.rhs.names:{}}},Ti=class extends gt{constructor(n,e,i){super(),this.lhs=n,this.rhs=e,this.sideEffects=i}render({_n:n}){return`${this.lhs} = ${this.rhs};`+n}optimizeNames(n,e){if(!(this.lhs instanceof L.Name&&!n[this.lhs.str]&&!this.sideEffects))return this.rhs=pn(this.rhs,n,e),this}get names(){let n=this.lhs instanceof L.Name?{}:$({},this.lhs.names);return Pi(n,this.rhs)}},Hr=class extends Ti{constructor(n,e,i,r){super(n,i,r),this.op=e}render({_n:n}){return`${this.lhs} ${this.op}= ${this.rhs};`+n}},Br=class extends gt{constructor(n){super(),this.label=n,this.names={}}render({_n:n}){return`${this.label}:`+n}},Ur=class extends gt{constructor(n){super(),this.label=n,this.names={}}render({_n:n}){return`break${this.label?` ${this.label}`:""};`+n}},Kr=class extends gt{constructor(n){super(),this.error=n}render({_n:n}){return`throw ${this.error};`+n}get names(){return this.error.names}},Gr=class extends gt{constructor(n){super(),this.code=n}render({_n:n}){return`${this.code};`+n}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(n,e){return this.code=pn(this.code,n,e),this}get names(){return this.code instanceof L._CodeOrName?this.code.names:{}}},Ln=class extends gt{constructor(n=[]){super(),this.nodes=n}render(n){return this.nodes.reduce((e,i)=>e+i.render(n),"")}optimizeNodes(){let{nodes:n}=this,e=n.length;for(;e--;){let i=n[e].optimizeNodes();Array.isArray(i)?n.splice(e,1,...i):i?n[e]=i:n.splice(e,1)}return n.length>0?this:void 0}optimizeNames(n,e){let{nodes:i}=this,r=i.length;for(;r--;){let o=i[r];o.optimizeNames(n,e)||(Hu(n,o.names),i.splice(r,1))}return i.length>0?this:void 0}get names(){return this.nodes.reduce((n,e)=>Bt(n,e.names),{})}},yt=class extends Ln{render(n){return"{"+n._n+super.render(n)+"}"+n._n}},Qr=class extends Ln{},Jr=(()=>{class t extends yt{}return t.kind="else",t})(),xi=(()=>{class t extends yt{constructor(e,i){super(i),this.condition=e}render(e){let i=`if(${this.condition})`+super.render(e);return this.else&&(i+="else "+this.else.render(e)),i}optimizeNodes(){super.optimizeNodes();let e=this.condition;if(e===!0)return this.nodes;let i=this.else;if(i){let r=i.optimizeNodes();i=this.else=Array.isArray(r)?new Jr(r):r}if(i)return e===!1?i instanceof t?i:i.nodes:this.nodes.length?this:new t(Pl(e),i instanceof t?[i]:i.nodes);if(!(e===!1||!this.nodes.length))return this}optimizeNames(e,i){var r;if(this.else=(r=this.else)===null||r===void 0?void 0:r.optimizeNames(e,i),!!(super.optimizeNames(e,i)||this.else))return this.condition=pn(this.condition,e,i),this}get names(){let e=super.names;return Pi(e,this.condition),this.else&&Bt(e,this.else.names),e}}return t.kind="if",t})(),Mi=(()=>{class t extends yt{}return t.kind="for",t})(),Xr=class extends Mi{constructor(n){super(),this.iteration=n}render(n){return`for(${this.iteration})`+super.render(n)}optimizeNames(n,e){if(super.optimizeNames(n,e))return this.iteration=pn(this.iteration,n,e),this}get names(){return Bt(super.names,this.iteration.names)}},Zr=class extends Mi{constructor(n,e,i,r){super(),this.varKind=n,this.name=e,this.from=i,this.to=r}render(n){let e=n.es5?Je.varKinds.var:this.varKind,{name:i,from:r,to:o}=this;return`for(${e} ${i}=${r}; ${i}<${o}; ${i}++)`+super.render(n)}get names(){let n=Pi(super.names,this.from);return Pi(n,this.to)}},Ei=class extends Mi{constructor(n,e,i,r){super(),this.loop=n,this.varKind=e,this.name=i,this.iterable=r}render(n){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(n)}optimizeNames(n,e){if(super.optimizeNames(n,e))return this.iterable=pn(this.iterable,n,e),this}get names(){return Bt(super.names,this.iterable.names)}},Sl=(()=>{class t extends yt{constructor(e,i,r){super(),this.name=e,this.args=i,this.async=r}render(e){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(e)}}return t.kind="func",t})(),xl=(()=>{class t extends Ln{render(e){return"return "+super.render(e)}}return t.kind="return",t})(),Yr=class extends yt{render(n){let e="try"+super.render(n);return this.catch&&(e+=this.catch.render(n)),this.finally&&(e+=this.finally.render(n)),e}optimizeNodes(){var n,e;return super.optimizeNodes(),(n=this.catch)===null||n===void 0||n.optimizeNodes(),(e=this.finally)===null||e===void 0||e.optimizeNodes(),this}optimizeNames(n,e){var i,r;return super.optimizeNames(n,e),(i=this.catch)===null||i===void 0||i.optimizeNames(n,e),(r=this.finally)===null||r===void 0||r.optimizeNames(n,e),this}get names(){let n=super.names;return this.catch&&Bt(n,this.catch.names),this.finally&&Bt(n,this.finally.names),n}},Tl=(()=>{class t extends yt{constructor(e){super(),this.error=e}render(e){return`catch(${this.error})`+super.render(e)}}return t.kind="catch",t})(),El=(()=>{class t extends yt{render(e){return"finally"+super.render(e)}}return t.kind="finally",t})(),eo=class{constructor(n,e={}){this._values={},this._blockStarts=[],this._constants={},this.opts=X($({},e),{_n:e.lines?`
`:""}),this._extScope=n,this._scope=new Je.Scope({parent:n}),this._nodes=[new Qr]}toString(){return this._root.render(this.opts)}name(n){return this._scope.name(n)}scopeName(n){return this._extScope.name(n)}scopeValue(n,e){let i=this._extScope.value(n,e);return(this._values[i.prefix]||(this._values[i.prefix]=new Set)).add(i),i}getScopeValue(n,e){return this._extScope.getValue(n,e)}scopeRefs(n){return this._extScope.scopeRefs(n,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(n,e,i,r){let o=this._scope.toName(e);return i!==void 0&&r&&(this._constants[o.str]=i),this._leafNode(new Wr(n,o,i)),o}const(n,e,i){return this._def(Je.varKinds.const,n,e,i)}let(n,e,i){return this._def(Je.varKinds.let,n,e,i)}var(n,e,i){return this._def(Je.varKinds.var,n,e,i)}assign(n,e,i){return this._leafNode(new Ti(n,e,i))}add(n,e){return this._leafNode(new Hr(n,F.operators.ADD,e))}code(n){return typeof n=="function"?n():n!==L.nil&&this._leafNode(new Gr(n)),this}object(...n){let e=["{"];for(let[i,r]of n)e.length>1&&e.push(","),e.push(i),(i!==r||this.opts.es5)&&(e.push(":"),(0,L.addCodeArg)(e,r));return e.push("}"),new L._Code(e)}if(n,e,i){if(this._blockNode(new xi(n)),e&&i)this.code(e).else().code(i).endIf();else if(e)this.code(e).endIf();else if(i)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(n){return this._elseNode(new xi(n))}else(){return this._elseNode(new Jr)}endIf(){return this._endBlockNode(xi,Jr)}_for(n,e){return this._blockNode(n),e&&this.code(e).endFor(),this}for(n,e){return this._for(new Xr(n),e)}forRange(n,e,i,r,o=this.opts.es5?Je.varKinds.var:Je.varKinds.let){let a=this._scope.toName(n);return this._for(new Zr(o,a,e,i),()=>r(a))}forOf(n,e,i,r=Je.varKinds.const){let o=this._scope.toName(n);if(this.opts.es5){let a=e instanceof L.Name?e:this.var("_arr",e);return this.forRange("_i",0,(0,L._)`${a}.length`,s=>{this.var(o,(0,L._)`${a}[${s}]`),i(o)})}return this._for(new Ei("of",r,o,e),()=>i(o))}forIn(n,e,i,r=this.opts.es5?Je.varKinds.var:Je.varKinds.const){if(this.opts.ownProperties)return this.forOf(n,(0,L._)`Object.keys(${e})`,i);let o=this._scope.toName(n);return this._for(new Ei("in",r,o,e),()=>i(o))}endFor(){return this._endBlockNode(Mi)}label(n){return this._leafNode(new Br(n))}break(n){return this._leafNode(new Ur(n))}return(n){let e=new xl;if(this._blockNode(e),this.code(n),e.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(xl)}try(n,e,i){if(!e&&!i)throw new Error('CodeGen: "try" without "catch" and "finally"');let r=new Yr;if(this._blockNode(r),this.code(n),e){let o=this.name("e");this._currNode=r.catch=new Tl(o),e(o)}return i&&(this._currNode=r.finally=new El,this.code(i)),this._endBlockNode(Tl,El)}throw(n){return this._leafNode(new Kr(n))}block(n,e){return this._blockStarts.push(this._nodes.length),n&&this.code(n).endBlock(e),this}endBlock(n){let e=this._blockStarts.pop();if(e===void 0)throw new Error("CodeGen: not in self-balancing block");let i=this._nodes.length-e;if(i<0||n!==void 0&&i!==n)throw new Error(`CodeGen: wrong number of nodes: ${i} vs ${n} expected`);return this._nodes.length=e,this}func(n,e=L.nil,i,r){return this._blockNode(new Sl(n,e,i)),r&&this.code(r).endFunc(),this}endFunc(){return this._endBlockNode(Sl)}optimize(n=1){for(;n-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(n){return this._currNode.nodes.push(n),this}_blockNode(n){this._currNode.nodes.push(n),this._nodes.push(n)}_endBlockNode(n,e){let i=this._currNode;if(i instanceof n||e&&i instanceof e)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${e?`${n.kind}/${e.kind}`:n.kind}"`)}_elseNode(n){let e=this._currNode;if(!(e instanceof xi))throw new Error('CodeGen: "else" without "if"');return this._currNode=e.else=n,this}get _root(){return this._nodes[0]}get _currNode(){let n=this._nodes;return n[n.length-1]}set _currNode(n){let e=this._nodes;e[e.length-1]=n}};F.CodeGen=eo;function Bt(t,n){for(let e in n)t[e]=(t[e]||0)+(n[e]||0);return t}function Pi(t,n){return n instanceof L._CodeOrName?Bt(t,n.names):t}function pn(t,n,e){if(t instanceof L.Name)return i(t);if(!r(t))return t;return new L._Code(t._items.reduce((o,a)=>(a instanceof L.Name&&(a=i(a)),a instanceof L._Code?o.push(...a._items):o.push(a),o),[]));function i(o){let a=e[o.str];return a===void 0||n[o.str]!==1?o:(delete n[o.str],a)}function r(o){return o instanceof L._Code&&o._items.some(a=>a instanceof L.Name&&n[a.str]===1&&e[a.str]!==void 0)}}function Hu(t,n){for(let e in n)t[e]=(t[e]||0)-(n[e]||0)}function Pl(t){return typeof t=="boolean"||typeof t=="number"||t===null?!t:(0,L._)`!${to(t)}`}F.not=Pl;var Bu=Ol(F.operators.AND);function Uu(...t){return t.reduce(Bu)}F.and=Uu;var Ku=Ol(F.operators.OR);function Gu(...t){return t.reduce(Ku)}F.or=Gu;function Ol(t){return(n,e)=>n===L.nil?e:e===L.nil?n:(0,L._)`${to(n)} ${t} ${to(e)}`}function to(t){return t instanceof L.Name?t:(0,L._)`(${t})`}});var B=S(A=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0});A.checkStrictMode=A.getErrorPath=A.Type=A.useFunc=A.setEvaluated=A.evaluatedPropsToName=A.mergeEvaluated=A.eachItem=A.unescapeJsonPointer=A.escapeJsonPointer=A.escapeFragment=A.unescapeFragment=A.schemaRefOrVal=A.schemaHasRulesButRef=A.schemaHasRules=A.checkUnknownRules=A.alwaysValidSchema=A.toHash=void 0;var Z=R(),Qu=qn();function Ju(t){let n={};for(let e of t)n[e]=!0;return n}A.toHash=Ju;function Xu(t,n){return typeof n=="boolean"?n:Object.keys(n).length===0?!0:(Il(t,n),!kl(n,t.self.RULES.all))}A.alwaysValidSchema=Xu;function Il(t,n=t.schema){let{opts:e,self:i}=t;if(!e.strictSchema||typeof n=="boolean")return;let r=i.RULES.keywords;for(let o in n)r[o]||Rl(t,`unknown keyword: "${o}"`)}A.checkUnknownRules=Il;function kl(t,n){if(typeof t=="boolean")return!t;for(let e in t)if(n[e])return!0;return!1}A.schemaHasRules=kl;function Zu(t,n){if(typeof t=="boolean")return!t;for(let e in t)if(e!=="$ref"&&n.all[e])return!0;return!1}A.schemaHasRulesButRef=Zu;function Yu({topSchemaRef:t,schemaPath:n},e,i,r){if(!r){if(typeof e=="number"||typeof e=="boolean")return e;if(typeof e=="string")return(0,Z._)`${e}`}return(0,Z._)`${t}${n}${(0,Z.getProperty)(i)}`}A.schemaRefOrVal=Yu;function ef(t){return Dl(decodeURIComponent(t))}A.unescapeFragment=ef;function tf(t){return encodeURIComponent(io(t))}A.escapeFragment=tf;function io(t){return typeof t=="number"?`${t}`:t.replace(/~/g,"~0").replace(/\//g,"~1")}A.escapeJsonPointer=io;function Dl(t){return t.replace(/~1/g,"/").replace(/~0/g,"~")}A.unescapeJsonPointer=Dl;function nf(t,n){if(Array.isArray(t))for(let e of t)n(e);else n(t)}A.eachItem=nf;function Ml({mergeNames:t,mergeToName:n,mergeValues:e,resultToName:i}){return(r,o,a,s)=>{let l=a===void 0?o:a instanceof Z.Name?(o instanceof Z.Name?t(r,o,a):n(r,o,a),a):o instanceof Z.Name?(n(r,a,o),o):e(o,a);return s===Z.Name&&!(l instanceof Z.Name)?i(r,l):l}}A.mergeEvaluated={props:Ml({mergeNames:(t,n,e)=>t.if((0,Z._)`${e} !== true && ${n} !== undefined`,()=>{t.if((0,Z._)`${n} === true`,()=>t.assign(e,!0),()=>t.assign(e,(0,Z._)`${e} || {}`).code((0,Z._)`Object.assign(${e}, ${n})`))}),mergeToName:(t,n,e)=>t.if((0,Z._)`${e} !== true`,()=>{n===!0?t.assign(e,!0):(t.assign(e,(0,Z._)`${e} || {}`),ro(t,e,n))}),mergeValues:(t,n)=>t===!0?!0:$($({},t),n),resultToName:Vl}),items:Ml({mergeNames:(t,n,e)=>t.if((0,Z._)`${e} !== true && ${n} !== undefined`,()=>t.assign(e,(0,Z._)`${n} === true ? true : ${e} > ${n} ? ${e} : ${n}`)),mergeToName:(t,n,e)=>t.if((0,Z._)`${e} !== true`,()=>t.assign(e,n===!0?!0:(0,Z._)`${e} > ${n} ? ${e} : ${n}`)),mergeValues:(t,n)=>t===!0?!0:Math.max(t,n),resultToName:(t,n)=>t.var("items",n)})};function Vl(t,n){if(n===!0)return t.var("props",!0);let e=t.var("props",(0,Z._)`{}`);return n!==void 0&&ro(t,e,n),e}A.evaluatedPropsToName=Vl;function ro(t,n,e){Object.keys(e).forEach(i=>t.assign((0,Z._)`${n}${(0,Z.getProperty)(i)}`,!0))}A.setEvaluated=ro;var Nl={};function rf(t,n){return t.scopeValue("func",{ref:n,code:Nl[n.code]||(Nl[n.code]=new Qu._Code(n.code))})}A.useFunc=rf;var no=function(t){return t[t.Num=0]="Num",t[t.Str=1]="Str",t}(no||(A.Type=no={}));function of(t,n,e){if(t instanceof Z.Name){let i=n===no.Num;return e?i?(0,Z._)`"[" + ${t} + "]"`:(0,Z._)`"['" + ${t} + "']"`:i?(0,Z._)`"/" + ${t}`:(0,Z._)`"/" + ${t}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return e?(0,Z.getProperty)(t).toString():"/"+io(t)}A.getErrorPath=of;function Rl(t,n,e=t.opts.strictSchema){if(e){if(n=`strict mode: ${n}`,e===!0)throw new Error(n);t.self.logger.warn(n)}}A.checkStrictMode=Rl});var vt=S(oo=>{"use strict";Object.defineProperty(oo,"__esModule",{value:!0});var me=R(),af={data:new me.Name("data"),valCxt:new me.Name("valCxt"),instancePath:new me.Name("instancePath"),parentData:new me.Name("parentData"),parentDataProperty:new me.Name("parentDataProperty"),rootData:new me.Name("rootData"),dynamicAnchors:new me.Name("dynamicAnchors"),vErrors:new me.Name("vErrors"),errors:new me.Name("errors"),this:new me.Name("this"),self:new me.Name("self"),scope:new me.Name("scope"),json:new me.Name("json"),jsonPos:new me.Name("jsonPos"),jsonLen:new me.Name("jsonLen"),jsonPart:new me.Name("jsonPart")};oo.default=af});var Wn=S(he=>{"use strict";Object.defineProperty(he,"__esModule",{value:!0});he.extendErrors=he.resetErrorsCount=he.reportExtraError=he.reportError=he.keyword$DataError=he.keywordError=void 0;var W=R(),Ni=B(),ye=vt();he.keywordError={message:({keyword:t})=>(0,W.str)`must pass "${t}" keyword validation`};he.keyword$DataError={message:({keyword:t,schemaType:n})=>n?(0,W.str)`"${t}" keyword must be ${n} ($data)`:(0,W.str)`"${t}" keyword is invalid ($data)`};function sf(t,n=he.keywordError,e,i){let{it:r}=t,{gen:o,compositeRule:a,allErrors:s}=r,l=Al(t,n,e);i??(a||s)?Fl(o,l):jl(r,(0,W._)`[${l}]`)}he.reportError=sf;function lf(t,n=he.keywordError,e){let{it:i}=t,{gen:r,compositeRule:o,allErrors:a}=i,s=Al(t,n,e);Fl(r,s),o||a||jl(i,ye.default.vErrors)}he.reportExtraError=lf;function cf(t,n){t.assign(ye.default.errors,n),t.if((0,W._)`${ye.default.vErrors} !== null`,()=>t.if(n,()=>t.assign((0,W._)`${ye.default.vErrors}.length`,n),()=>t.assign(ye.default.vErrors,null)))}he.resetErrorsCount=cf;function df({gen:t,keyword:n,schemaValue:e,data:i,errsCount:r,it:o}){if(r===void 0)throw new Error("ajv implementation error");let a=t.name("err");t.forRange("i",r,ye.default.errors,s=>{t.const(a,(0,W._)`${ye.default.vErrors}[${s}]`),t.if((0,W._)`${a}.instancePath === undefined`,()=>t.assign((0,W._)`${a}.instancePath`,(0,W.strConcat)(ye.default.instancePath,o.errorPath))),t.assign((0,W._)`${a}.schemaPath`,(0,W.str)`${o.errSchemaPath}/${n}`),o.opts.verbose&&(t.assign((0,W._)`${a}.schema`,e),t.assign((0,W._)`${a}.data`,i))})}he.extendErrors=df;function Fl(t,n){let e=t.const("err",n);t.if((0,W._)`${ye.default.vErrors} === null`,()=>t.assign(ye.default.vErrors,(0,W._)`[${e}]`),(0,W._)`${ye.default.vErrors}.push(${e})`),t.code((0,W._)`${ye.default.errors}++`)}function jl(t,n){let{gen:e,validateName:i,schemaEnv:r}=t;r.$async?e.throw((0,W._)`new ${t.ValidationError}(${n})`):(e.assign((0,W._)`${i}.errors`,n),e.return(!1))}var Ut={keyword:new W.Name("keyword"),schemaPath:new W.Name("schemaPath"),params:new W.Name("params"),propertyName:new W.Name("propertyName"),message:new W.Name("message"),schema:new W.Name("schema"),parentSchema:new W.Name("parentSchema")};function Al(t,n,e){let{createErrors:i}=t.it;return i===!1?(0,W._)`{}`:uf(t,n,e)}function uf(t,n,e={}){let{gen:i,it:r}=t,o=[ff(r,e),pf(t,e)];return mf(t,n,o),i.object(...o)}function ff({errorPath:t},{instancePath:n}){let e=n?(0,W.str)`${t}${(0,Ni.getErrorPath)(n,Ni.Type.Str)}`:t;return[ye.default.instancePath,(0,W.strConcat)(ye.default.instancePath,e)]}function pf({keyword:t,it:{errSchemaPath:n}},{schemaPath:e,parentSchema:i}){let r=i?n:(0,W.str)`${n}/${t}`;return e&&(r=(0,W.str)`${r}${(0,Ni.getErrorPath)(e,Ni.Type.Str)}`),[Ut.schemaPath,r]}function mf(t,{params:n,message:e},i){let{keyword:r,data:o,schemaValue:a,it:s}=t,{opts:l,propertyName:c,topSchemaRef:d,schemaPath:u}=s;i.push([Ut.keyword,r],[Ut.params,typeof n=="function"?n(t):n||(0,W._)`{}`]),l.messages&&i.push([Ut.message,typeof e=="function"?e(t):e]),l.verbose&&i.push([Ut.schema,a],[Ut.parentSchema,(0,W._)`${d}${u}`],[ye.default.data,o]),c&&i.push([Ut.propertyName,c])}});var Ll=S(mn=>{"use strict";Object.defineProperty(mn,"__esModule",{value:!0});mn.boolOrEmptySchema=mn.topBoolOrEmptySchema=void 0;var hf=Wn(),_f=R(),gf=vt(),yf={message:"boolean schema is false"};function vf(t){let{gen:n,schema:e,validateName:i}=t;e===!1?ql(t,!1):typeof e=="object"&&e.$async===!0?n.return(gf.default.data):(n.assign((0,_f._)`${i}.errors`,null),n.return(!0))}mn.topBoolOrEmptySchema=vf;function Cf(t,n){let{gen:e,schema:i}=t;i===!1?(e.var(n,!1),ql(t)):e.var(n,!0)}mn.boolOrEmptySchema=Cf;function ql(t,n){let{gen:e,data:i}=t,r={gen:e,keyword:"false schema",data:i,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:t};(0,hf.reportError)(r,yf,void 0,n)}});var ao=S(hn=>{"use strict";Object.defineProperty(hn,"__esModule",{value:!0});hn.getRules=hn.isJSONType=void 0;var bf=["string","number","integer","boolean","null","object","array"],zf=new Set(bf);function wf(t){return typeof t=="string"&&zf.has(t)}hn.isJSONType=wf;function $f(){let t={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:X($({},t),{integer:!0,boolean:!0,null:!0}),rules:[{rules:[]},t.number,t.string,t.array,t.object],post:{rules:[]},all:{},keywords:{}}}hn.getRules=$f});var so=S(Nt=>{"use strict";Object.defineProperty(Nt,"__esModule",{value:!0});Nt.shouldUseRule=Nt.shouldUseGroup=Nt.schemaHasRulesForType=void 0;function Sf({schema:t,self:n},e){let i=n.RULES.types[e];return i&&i!==!0&&Wl(t,i)}Nt.schemaHasRulesForType=Sf;function Wl(t,n){return n.rules.some(e=>Hl(t,e))}Nt.shouldUseGroup=Wl;function Hl(t,n){var e;return t[n.keyword]!==void 0||((e=n.definition.implements)===null||e===void 0?void 0:e.some(i=>t[i]!==void 0))}Nt.shouldUseRule=Hl});var Hn=S(_e=>{"use strict";Object.defineProperty(_e,"__esModule",{value:!0});_e.reportTypeError=_e.checkDataTypes=_e.checkDataType=_e.coerceAndCheckDataType=_e.getJSONTypes=_e.getSchemaTypes=_e.DataType=void 0;var xf=ao(),Tf=so(),Ef=Wn(),V=R(),Bl=B(),_n=function(t){return t[t.Correct=0]="Correct",t[t.Wrong=1]="Wrong",t}(_n||(_e.DataType=_n={}));function Pf(t){let n=Ul(t.type);if(n.includes("null")){if(t.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!n.length&&t.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');t.nullable===!0&&n.push("null")}return n}_e.getSchemaTypes=Pf;function Ul(t){let n=Array.isArray(t)?t:t?[t]:[];if(n.every(xf.isJSONType))return n;throw new Error("type must be JSONType or JSONType[]: "+n.join(","))}_e.getJSONTypes=Ul;function Of(t,n){let{gen:e,data:i,opts:r}=t,o=Mf(n,r.coerceTypes),a=n.length>0&&!(o.length===0&&n.length===1&&(0,Tf.schemaHasRulesForType)(t,n[0]));if(a){let s=co(n,i,r.strictNumbers,_n.Wrong);e.if(s,()=>{o.length?Nf(t,n,o):uo(t)})}return a}_e.coerceAndCheckDataType=Of;var Kl=new Set(["string","number","integer","boolean","null"]);function Mf(t,n){return n?t.filter(e=>Kl.has(e)||n==="array"&&e==="array"):[]}function Nf(t,n,e){let{gen:i,data:r,opts:o}=t,a=i.let("dataType",(0,V._)`typeof ${r}`),s=i.let("coerced",(0,V._)`undefined`);o.coerceTypes==="array"&&i.if((0,V._)`${a} == 'object' && Array.isArray(${r}) && ${r}.length == 1`,()=>i.assign(r,(0,V._)`${r}[0]`).assign(a,(0,V._)`typeof ${r}`).if(co(n,r,o.strictNumbers),()=>i.assign(s,r))),i.if((0,V._)`${s} !== undefined`);for(let c of e)(Kl.has(c)||c==="array"&&o.coerceTypes==="array")&&l(c);i.else(),uo(t),i.endIf(),i.if((0,V._)`${s} !== undefined`,()=>{i.assign(r,s),If(t,s)});function l(c){switch(c){case"string":i.elseIf((0,V._)`${a} == "number" || ${a} == "boolean"`).assign(s,(0,V._)`"" + ${r}`).elseIf((0,V._)`${r} === null`).assign(s,(0,V._)`""`);return;case"number":i.elseIf((0,V._)`${a} == "boolean" || ${r} === null
              || (${a} == "string" && ${r} && ${r} == +${r})`).assign(s,(0,V._)`+${r}`);return;case"integer":i.elseIf((0,V._)`${a} === "boolean" || ${r} === null
              || (${a} === "string" && ${r} && ${r} == +${r} && !(${r} % 1))`).assign(s,(0,V._)`+${r}`);return;case"boolean":i.elseIf((0,V._)`${r} === "false" || ${r} === 0 || ${r} === null`).assign(s,!1).elseIf((0,V._)`${r} === "true" || ${r} === 1`).assign(s,!0);return;case"null":i.elseIf((0,V._)`${r} === "" || ${r} === 0 || ${r} === false`),i.assign(s,null);return;case"array":i.elseIf((0,V._)`${a} === "string" || ${a} === "number"
              || ${a} === "boolean" || ${r} === null`).assign(s,(0,V._)`[${r}]`)}}}function If({gen:t,parentData:n,parentDataProperty:e},i){t.if((0,V._)`${n} !== undefined`,()=>t.assign((0,V._)`${n}[${e}]`,i))}function lo(t,n,e,i=_n.Correct){let r=i===_n.Correct?V.operators.EQ:V.operators.NEQ,o;switch(t){case"null":return(0,V._)`${n} ${r} null`;case"array":o=(0,V._)`Array.isArray(${n})`;break;case"object":o=(0,V._)`${n} && typeof ${n} == "object" && !Array.isArray(${n})`;break;case"integer":o=a((0,V._)`!(${n} % 1) && !isNaN(${n})`);break;case"number":o=a();break;default:return(0,V._)`typeof ${n} ${r} ${t}`}return i===_n.Correct?o:(0,V.not)(o);function a(s=V.nil){return(0,V.and)((0,V._)`typeof ${n} == "number"`,s,e?(0,V._)`isFinite(${n})`:V.nil)}}_e.checkDataType=lo;function co(t,n,e,i){if(t.length===1)return lo(t[0],n,e,i);let r,o=(0,Bl.toHash)(t);if(o.array&&o.object){let a=(0,V._)`typeof ${n} != "object"`;r=o.null?a:(0,V._)`!${n} || ${a}`,delete o.null,delete o.array,delete o.object}else r=V.nil;o.number&&delete o.integer;for(let a in o)r=(0,V.and)(r,lo(a,n,e,i));return r}_e.checkDataTypes=co;var kf={message:({schema:t})=>`must be ${t}`,params:({schema:t,schemaValue:n})=>typeof t=="string"?(0,V._)`{type: ${t}}`:(0,V._)`{type: ${n}}`};function uo(t){let n=Df(t);(0,Ef.reportError)(n,kf)}_e.reportTypeError=uo;function Df(t){let{gen:n,data:e,schema:i}=t,r=(0,Bl.schemaRefOrVal)(t,i,"type");return{gen:n,keyword:"type",data:e,schema:i.type,schemaCode:r,schemaValue:r,parentSchema:i,params:{},it:t}}});var Ql=S(Ii=>{"use strict";Object.defineProperty(Ii,"__esModule",{value:!0});Ii.assignDefaults=void 0;var gn=R(),Vf=B();function Rf(t,n){let{properties:e,items:i}=t.schema;if(n==="object"&&e)for(let r in e)Gl(t,r,e[r].default);else n==="array"&&Array.isArray(i)&&i.forEach((r,o)=>Gl(t,o,r.default))}Ii.assignDefaults=Rf;function Gl(t,n,e){let{gen:i,compositeRule:r,data:o,opts:a}=t;if(e===void 0)return;let s=(0,gn._)`${o}${(0,gn.getProperty)(n)}`;if(r){(0,Vf.checkStrictMode)(t,`default is ignored for: ${s}`);return}let l=(0,gn._)`${s} === undefined`;a.useDefaults==="empty"&&(l=(0,gn._)`${l} || ${s} === null || ${s} === ""`),i.if(l,(0,gn._)`${s} = ${(0,gn.stringify)(e)}`)}});var qe=S(J=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0});J.validateUnion=J.validateArray=J.usePattern=J.callValidateCode=J.schemaProperties=J.allSchemaProperties=J.noPropertyInData=J.propertyInData=J.isOwnProperty=J.hasPropFunc=J.reportMissingProp=J.checkMissingProp=J.checkReportMissingProp=void 0;var te=R(),fo=B(),It=vt(),Ff=B();function jf(t,n){let{gen:e,data:i,it:r}=t;e.if(mo(e,i,n,r.opts.ownProperties),()=>{t.setParams({missingProperty:(0,te._)`${n}`},!0),t.error()})}J.checkReportMissingProp=jf;function Af({gen:t,data:n,it:{opts:e}},i,r){return(0,te.or)(...i.map(o=>(0,te.and)(mo(t,n,o,e.ownProperties),(0,te._)`${r} = ${o}`)))}J.checkMissingProp=Af;function qf(t,n){t.setParams({missingProperty:n},!0),t.error()}J.reportMissingProp=qf;function Jl(t){return t.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,te._)`Object.prototype.hasOwnProperty`})}J.hasPropFunc=Jl;function po(t,n,e){return(0,te._)`${Jl(t)}.call(${n}, ${e})`}J.isOwnProperty=po;function Lf(t,n,e,i){let r=(0,te._)`${n}${(0,te.getProperty)(e)} !== undefined`;return i?(0,te._)`${r} && ${po(t,n,e)}`:r}J.propertyInData=Lf;function mo(t,n,e,i){let r=(0,te._)`${n}${(0,te.getProperty)(e)} === undefined`;return i?(0,te.or)(r,(0,te.not)(po(t,n,e))):r}J.noPropertyInData=mo;function Xl(t){return t?Object.keys(t).filter(n=>n!=="__proto__"):[]}J.allSchemaProperties=Xl;function Wf(t,n){return Xl(n).filter(e=>!(0,fo.alwaysValidSchema)(t,n[e]))}J.schemaProperties=Wf;function Hf({schemaCode:t,data:n,it:{gen:e,topSchemaRef:i,schemaPath:r,errorPath:o},it:a},s,l,c){let d=c?(0,te._)`${t}, ${n}, ${i}${r}`:n,u=[[It.default.instancePath,(0,te.strConcat)(It.default.instancePath,o)],[It.default.parentData,a.parentData],[It.default.parentDataProperty,a.parentDataProperty],[It.default.rootData,It.default.rootData]];a.opts.dynamicRef&&u.push([It.default.dynamicAnchors,It.default.dynamicAnchors]);let g=(0,te._)`${d}, ${e.object(...u)}`;return l!==te.nil?(0,te._)`${s}.call(${l}, ${g})`:(0,te._)`${s}(${g})`}J.callValidateCode=Hf;var Bf=(0,te._)`new RegExp`;function Uf({gen:t,it:{opts:n}},e){let i=n.unicodeRegExp?"u":"",{regExp:r}=n.code,o=r(e,i);return t.scopeValue("pattern",{key:o.toString(),ref:o,code:(0,te._)`${r.code==="new RegExp"?Bf:(0,Ff.useFunc)(t,r)}(${e}, ${i})`})}J.usePattern=Uf;function Kf(t){let{gen:n,data:e,keyword:i,it:r}=t,o=n.name("valid");if(r.allErrors){let s=n.let("valid",!0);return a(()=>n.assign(s,!1)),s}return n.var(o,!0),a(()=>n.break()),o;function a(s){let l=n.const("len",(0,te._)`${e}.length`);n.forRange("i",0,l,c=>{t.subschema({keyword:i,dataProp:c,dataPropType:fo.Type.Num},o),n.if((0,te.not)(o),s)})}}J.validateArray=Kf;function Gf(t){let{gen:n,schema:e,keyword:i,it:r}=t;if(!Array.isArray(e))throw new Error("ajv implementation error");if(e.some(l=>(0,fo.alwaysValidSchema)(r,l))&&!r.opts.unevaluated)return;let a=n.let("valid",!1),s=n.name("_valid");n.block(()=>e.forEach((l,c)=>{let d=t.subschema({keyword:i,schemaProp:c,compositeRule:!0},s);n.assign(a,(0,te._)`${a} || ${s}`),t.mergeValidEvaluated(d,s)||n.if((0,te.not)(a))})),t.result(a,()=>t.reset(),()=>t.error(!0))}J.validateUnion=Gf});var ec=S(ot=>{"use strict";Object.defineProperty(ot,"__esModule",{value:!0});ot.validateKeywordUsage=ot.validSchemaType=ot.funcKeywordCode=ot.macroKeywordCode=void 0;var ve=R(),Kt=vt(),Qf=qe(),Jf=Wn();function Xf(t,n){let{gen:e,keyword:i,schema:r,parentSchema:o,it:a}=t,s=n.macro.call(a.self,r,o,a),l=Yl(e,i,s);a.opts.validateSchema!==!1&&a.self.validateSchema(s,!0);let c=e.name("valid");t.subschema({schema:s,schemaPath:ve.nil,errSchemaPath:`${a.errSchemaPath}/${i}`,topSchemaRef:l,compositeRule:!0},c),t.pass(c,()=>t.error(!0))}ot.macroKeywordCode=Xf;function Zf(t,n){var e;let{gen:i,keyword:r,schema:o,parentSchema:a,$data:s,it:l}=t;ep(l,n);let c=!s&&n.compile?n.compile.call(l.self,o,a,l):n.validate,d=Yl(i,r,c),u=i.let("valid");t.block$data(u,g),t.ok((e=n.valid)!==null&&e!==void 0?e:u);function g(){if(n.errors===!1)v(),n.modifying&&Zl(t),p(()=>t.error());else{let b=n.async?y():h();n.modifying&&Zl(t),p(()=>Yf(t,b))}}function y(){let b=i.let("ruleErrs",null);return i.try(()=>v((0,ve._)`await `),k=>i.assign(u,!1).if((0,ve._)`${k} instanceof ${l.ValidationError}`,()=>i.assign(b,(0,ve._)`${k}.errors`),()=>i.throw(k))),b}function h(){let b=(0,ve._)`${d}.errors`;return i.assign(b,null),v(ve.nil),b}function v(b=n.async?(0,ve._)`await `:ve.nil){let k=l.opts.passContext?Kt.default.this:Kt.default.self,D=!("compile"in n&&!s||n.schema===!1);i.assign(u,(0,ve._)`${b}${(0,Qf.callValidateCode)(t,d,k,D)}`,n.modifying)}function p(b){var k;i.if((0,ve.not)((k=n.valid)!==null&&k!==void 0?k:u),b)}}ot.funcKeywordCode=Zf;function Zl(t){let{gen:n,data:e,it:i}=t;n.if(i.parentData,()=>n.assign(e,(0,ve._)`${i.parentData}[${i.parentDataProperty}]`))}function Yf(t,n){let{gen:e}=t;e.if((0,ve._)`Array.isArray(${n})`,()=>{e.assign(Kt.default.vErrors,(0,ve._)`${Kt.default.vErrors} === null ? ${n} : ${Kt.default.vErrors}.concat(${n})`).assign(Kt.default.errors,(0,ve._)`${Kt.default.vErrors}.length`),(0,Jf.extendErrors)(t)},()=>t.error())}function ep({schemaEnv:t},n){if(n.async&&!t.$async)throw new Error("async keyword in sync schema")}function Yl(t,n,e){if(e===void 0)throw new Error(`keyword "${n}" failed to compile`);return t.scopeValue("keyword",typeof e=="function"?{ref:e}:{ref:e,code:(0,ve.stringify)(e)})}function tp(t,n,e=!1){return!n.length||n.some(i=>i==="array"?Array.isArray(t):i==="object"?t&&typeof t=="object"&&!Array.isArray(t):typeof t==i||e&&typeof t>"u")}ot.validSchemaType=tp;function np({schema:t,opts:n,self:e,errSchemaPath:i},r,o){if(Array.isArray(r.keyword)?!r.keyword.includes(o):r.keyword!==o)throw new Error("ajv implementation error");let a=r.dependencies;if(a?.some(s=>!Object.prototype.hasOwnProperty.call(t,s)))throw new Error(`parent schema must have dependencies of ${o}: ${a.join(",")}`);if(r.validateSchema&&!r.validateSchema(t[o])){let l=`keyword "${o}" value is invalid at path "${i}": `+e.errorsText(r.validateSchema.errors);if(n.validateSchema==="log")e.logger.error(l);else throw new Error(l)}}ot.validateKeywordUsage=np});var nc=S(kt=>{"use strict";Object.defineProperty(kt,"__esModule",{value:!0});kt.extendSubschemaMode=kt.extendSubschemaData=kt.getSubschema=void 0;var at=R(),tc=B();function ip(t,{keyword:n,schemaProp:e,schema:i,schemaPath:r,errSchemaPath:o,topSchemaRef:a}){if(n!==void 0&&i!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(n!==void 0){let s=t.schema[n];return e===void 0?{schema:s,schemaPath:(0,at._)`${t.schemaPath}${(0,at.getProperty)(n)}`,errSchemaPath:`${t.errSchemaPath}/${n}`}:{schema:s[e],schemaPath:(0,at._)`${t.schemaPath}${(0,at.getProperty)(n)}${(0,at.getProperty)(e)}`,errSchemaPath:`${t.errSchemaPath}/${n}/${(0,tc.escapeFragment)(e)}`}}if(i!==void 0){if(r===void 0||o===void 0||a===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:i,schemaPath:r,topSchemaRef:a,errSchemaPath:o}}throw new Error('either "keyword" or "schema" must be passed')}kt.getSubschema=ip;function rp(t,n,{dataProp:e,dataPropType:i,data:r,dataTypes:o,propertyName:a}){if(r!==void 0&&e!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');let{gen:s}=n;if(e!==void 0){let{errorPath:c,dataPathArr:d,opts:u}=n,g=s.let("data",(0,at._)`${n.data}${(0,at.getProperty)(e)}`,!0);l(g),t.errorPath=(0,at.str)`${c}${(0,tc.getErrorPath)(e,i,u.jsPropertySyntax)}`,t.parentDataProperty=(0,at._)`${e}`,t.dataPathArr=[...d,t.parentDataProperty]}if(r!==void 0){let c=r instanceof at.Name?r:s.let("data",r,!0);l(c),a!==void 0&&(t.propertyName=a)}o&&(t.dataTypes=o);function l(c){t.data=c,t.dataLevel=n.dataLevel+1,t.dataTypes=[],n.definedProperties=new Set,t.parentData=n.data,t.dataNames=[...n.dataNames,c]}}kt.extendSubschemaData=rp;function op(t,{jtdDiscriminator:n,jtdMetadata:e,compositeRule:i,createErrors:r,allErrors:o}){i!==void 0&&(t.compositeRule=i),r!==void 0&&(t.createErrors=r),o!==void 0&&(t.allErrors=o),t.jtdDiscriminator=n,t.jtdMetadata=e}kt.extendSubschemaMode=op});var ho=S((dC,ic)=>{"use strict";ic.exports=function t(n,e){if(n===e)return!0;if(n&&e&&typeof n=="object"&&typeof e=="object"){if(n.constructor!==e.constructor)return!1;var i,r,o;if(Array.isArray(n)){if(i=n.length,i!=e.length)return!1;for(r=i;r--!==0;)if(!t(n[r],e[r]))return!1;return!0}if(n.constructor===RegExp)return n.source===e.source&&n.flags===e.flags;if(n.valueOf!==Object.prototype.valueOf)return n.valueOf()===e.valueOf();if(n.toString!==Object.prototype.toString)return n.toString()===e.toString();if(o=Object.keys(n),i=o.length,i!==Object.keys(e).length)return!1;for(r=i;r--!==0;)if(!Object.prototype.hasOwnProperty.call(e,o[r]))return!1;for(r=i;r--!==0;){var a=o[r];if(!t(n[a],e[a]))return!1}return!0}return n!==n&&e!==e}});var oc=S((uC,rc)=>{"use strict";var Dt=rc.exports=function(t,n,e){typeof n=="function"&&(e=n,n={}),e=n.cb||e;var i=typeof e=="function"?e:e.pre||function(){},r=e.post||function(){};ki(n,i,r,t,"",t)};Dt.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};Dt.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};Dt.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};Dt.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function ki(t,n,e,i,r,o,a,s,l,c){if(i&&typeof i=="object"&&!Array.isArray(i)){n(i,r,o,a,s,l,c);for(var d in i){var u=i[d];if(Array.isArray(u)){if(d in Dt.arrayKeywords)for(var g=0;g<u.length;g++)ki(t,n,e,u[g],r+"/"+d+"/"+g,o,r,d,i,g)}else if(d in Dt.propsKeywords){if(u&&typeof u=="object")for(var y in u)ki(t,n,e,u[y],r+"/"+d+"/"+ap(y),o,r,d,i,y)}else(d in Dt.keywords||t.allKeys&&!(d in Dt.skipKeywords))&&ki(t,n,e,u,r+"/"+d,o,r,d,i)}e(i,r,o,a,s,l,c)}}function ap(t){return t.replace(/~/g,"~0").replace(/\//g,"~1")}});var Bn=S(Ee=>{"use strict";Object.defineProperty(Ee,"__esModule",{value:!0});Ee.getSchemaRefs=Ee.resolveUrl=Ee.normalizeId=Ee._getFullPath=Ee.getFullPath=Ee.inlineRef=void 0;var sp=B(),lp=ho(),cp=oc(),dp=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function up(t,n=!0){return typeof t=="boolean"?!0:n===!0?!_o(t):n?ac(t)<=n:!1}Ee.inlineRef=up;var fp=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function _o(t){for(let n in t){if(fp.has(n))return!0;let e=t[n];if(Array.isArray(e)&&e.some(_o)||typeof e=="object"&&_o(e))return!0}return!1}function ac(t){let n=0;for(let e in t){if(e==="$ref")return 1/0;if(n++,!dp.has(e)&&(typeof t[e]=="object"&&(0,sp.eachItem)(t[e],i=>n+=ac(i)),n===1/0))return 1/0}return n}function sc(t,n="",e){e!==!1&&(n=yn(n));let i=t.parse(n);return lc(t,i)}Ee.getFullPath=sc;function lc(t,n){return t.serialize(n).split("#")[0]+"#"}Ee._getFullPath=lc;var pp=/#\/?$/;function yn(t){return t?t.replace(pp,""):""}Ee.normalizeId=yn;function mp(t,n,e){return e=yn(e),t.resolve(n,e)}Ee.resolveUrl=mp;var hp=/^[a-z_][-a-z0-9._]*$/i;function _p(t,n){if(typeof t=="boolean")return{};let{schemaId:e,uriResolver:i}=this.opts,r=yn(t[e]||n),o={"":r},a=sc(i,r,!1),s={},l=new Set;return cp(t,{allKeys:!0},(u,g,y,h)=>{if(h===void 0)return;let v=a+g,p=o[h];typeof u[e]=="string"&&(p=b.call(this,u[e])),k.call(this,u.$anchor),k.call(this,u.$dynamicAnchor),o[g]=p;function b(D){let Y=this.opts.uriResolver.resolve;if(D=yn(p?Y(p,D):D),l.has(D))throw d(D);l.add(D);let I=this.refs[D];return typeof I=="string"&&(I=this.refs[I]),typeof I=="object"?c(u,I.schema,D):D!==yn(v)&&(D[0]==="#"?(c(u,s[D],D),s[D]=u):this.refs[D]=v),D}function k(D){if(typeof D=="string"){if(!hp.test(D))throw new Error(`invalid anchor "${D}"`);b.call(this,`#${D}`)}}}),s;function c(u,g,y){if(g!==void 0&&!lp(u,g))throw d(y)}function d(u){return new Error(`reference "${u}" resolves to more than one schema`)}}Ee.getSchemaRefs=_p});var Gn=S(Vt=>{"use strict";Object.defineProperty(Vt,"__esModule",{value:!0});Vt.getData=Vt.KeywordCxt=Vt.validateFunctionCode=void 0;var pc=Ll(),cc=Hn(),yo=so(),Di=Hn(),gp=Ql(),Kn=ec(),go=nc(),E=R(),M=vt(),yp=Bn(),Ct=B(),Un=Wn();function vp(t){if(_c(t)&&(gc(t),hc(t))){zp(t);return}mc(t,()=>(0,pc.topBoolOrEmptySchema)(t))}Vt.validateFunctionCode=vp;function mc({gen:t,validateName:n,schema:e,schemaEnv:i,opts:r},o){r.code.es5?t.func(n,(0,E._)`${M.default.data}, ${M.default.valCxt}`,i.$async,()=>{t.code((0,E._)`"use strict"; ${dc(e,r)}`),bp(t,r),t.code(o)}):t.func(n,(0,E._)`${M.default.data}, ${Cp(r)}`,i.$async,()=>t.code(dc(e,r)).code(o))}function Cp(t){return(0,E._)`{${M.default.instancePath}="", ${M.default.parentData}, ${M.default.parentDataProperty}, ${M.default.rootData}=${M.default.data}${t.dynamicRef?(0,E._)`, ${M.default.dynamicAnchors}={}`:E.nil}}={}`}function bp(t,n){t.if(M.default.valCxt,()=>{t.var(M.default.instancePath,(0,E._)`${M.default.valCxt}.${M.default.instancePath}`),t.var(M.default.parentData,(0,E._)`${M.default.valCxt}.${M.default.parentData}`),t.var(M.default.parentDataProperty,(0,E._)`${M.default.valCxt}.${M.default.parentDataProperty}`),t.var(M.default.rootData,(0,E._)`${M.default.valCxt}.${M.default.rootData}`),n.dynamicRef&&t.var(M.default.dynamicAnchors,(0,E._)`${M.default.valCxt}.${M.default.dynamicAnchors}`)},()=>{t.var(M.default.instancePath,(0,E._)`""`),t.var(M.default.parentData,(0,E._)`undefined`),t.var(M.default.parentDataProperty,(0,E._)`undefined`),t.var(M.default.rootData,M.default.data),n.dynamicRef&&t.var(M.default.dynamicAnchors,(0,E._)`{}`)})}function zp(t){let{schema:n,opts:e,gen:i}=t;mc(t,()=>{e.$comment&&n.$comment&&vc(t),Tp(t),i.let(M.default.vErrors,null),i.let(M.default.errors,0),e.unevaluated&&wp(t),yc(t),Op(t)})}function wp(t){let{gen:n,validateName:e}=t;t.evaluated=n.const("evaluated",(0,E._)`${e}.evaluated`),n.if((0,E._)`${t.evaluated}.dynamicProps`,()=>n.assign((0,E._)`${t.evaluated}.props`,(0,E._)`undefined`)),n.if((0,E._)`${t.evaluated}.dynamicItems`,()=>n.assign((0,E._)`${t.evaluated}.items`,(0,E._)`undefined`))}function dc(t,n){let e=typeof t=="object"&&t[n.schemaId];return e&&(n.code.source||n.code.process)?(0,E._)`/*# sourceURL=${e} */`:E.nil}function $p(t,n){if(_c(t)&&(gc(t),hc(t))){Sp(t,n);return}(0,pc.boolOrEmptySchema)(t,n)}function hc({schema:t,self:n}){if(typeof t=="boolean")return!t;for(let e in t)if(n.RULES.all[e])return!0;return!1}function _c(t){return typeof t.schema!="boolean"}function Sp(t,n){let{schema:e,gen:i,opts:r}=t;r.$comment&&e.$comment&&vc(t),Ep(t),Pp(t);let o=i.const("_errs",M.default.errors);yc(t,o),i.var(n,(0,E._)`${o} === ${M.default.errors}`)}function gc(t){(0,Ct.checkUnknownRules)(t),xp(t)}function yc(t,n){if(t.opts.jtd)return uc(t,[],!1,n);let e=(0,cc.getSchemaTypes)(t.schema),i=(0,cc.coerceAndCheckDataType)(t,e);uc(t,e,!i,n)}function xp(t){let{schema:n,errSchemaPath:e,opts:i,self:r}=t;n.$ref&&i.ignoreKeywordsWithRef&&(0,Ct.schemaHasRulesButRef)(n,r.RULES)&&r.logger.warn(`$ref: keywords ignored in schema at path "${e}"`)}function Tp(t){let{schema:n,opts:e}=t;n.default!==void 0&&e.useDefaults&&e.strictSchema&&(0,Ct.checkStrictMode)(t,"default is ignored in the schema root")}function Ep(t){let n=t.schema[t.opts.schemaId];n&&(t.baseId=(0,yp.resolveUrl)(t.opts.uriResolver,t.baseId,n))}function Pp(t){if(t.schema.$async&&!t.schemaEnv.$async)throw new Error("async schema in sync schema")}function vc({gen:t,schemaEnv:n,schema:e,errSchemaPath:i,opts:r}){let o=e.$comment;if(r.$comment===!0)t.code((0,E._)`${M.default.self}.logger.log(${o})`);else if(typeof r.$comment=="function"){let a=(0,E.str)`${i}/$comment`,s=t.scopeValue("root",{ref:n.root});t.code((0,E._)`${M.default.self}.opts.$comment(${o}, ${a}, ${s}.schema)`)}}function Op(t){let{gen:n,schemaEnv:e,validateName:i,ValidationError:r,opts:o}=t;e.$async?n.if((0,E._)`${M.default.errors} === 0`,()=>n.return(M.default.data),()=>n.throw((0,E._)`new ${r}(${M.default.vErrors})`)):(n.assign((0,E._)`${i}.errors`,M.default.vErrors),o.unevaluated&&Mp(t),n.return((0,E._)`${M.default.errors} === 0`))}function Mp({gen:t,evaluated:n,props:e,items:i}){e instanceof E.Name&&t.assign((0,E._)`${n}.props`,e),i instanceof E.Name&&t.assign((0,E._)`${n}.items`,i)}function uc(t,n,e,i){let{gen:r,schema:o,data:a,allErrors:s,opts:l,self:c}=t,{RULES:d}=c;if(o.$ref&&(l.ignoreKeywordsWithRef||!(0,Ct.schemaHasRulesButRef)(o,d))){r.block(()=>bc(t,"$ref",d.all.$ref.definition));return}l.jtd||Np(t,n),r.block(()=>{for(let g of d.rules)u(g);u(d.post)});function u(g){(0,yo.shouldUseGroup)(o,g)&&(g.type?(r.if((0,Di.checkDataType)(g.type,a,l.strictNumbers)),fc(t,g),n.length===1&&n[0]===g.type&&e&&(r.else(),(0,Di.reportTypeError)(t)),r.endIf()):fc(t,g),s||r.if((0,E._)`${M.default.errors} === ${i||0}`))}}function fc(t,n){let{gen:e,schema:i,opts:{useDefaults:r}}=t;r&&(0,gp.assignDefaults)(t,n.type),e.block(()=>{for(let o of n.rules)(0,yo.shouldUseRule)(i,o)&&bc(t,o.keyword,o.definition,n.type)})}function Np(t,n){t.schemaEnv.meta||!t.opts.strictTypes||(Ip(t,n),t.opts.allowUnionTypes||kp(t,n),Dp(t,t.dataTypes))}function Ip(t,n){if(n.length){if(!t.dataTypes.length){t.dataTypes=n;return}n.forEach(e=>{Cc(t.dataTypes,e)||vo(t,`type "${e}" not allowed by context "${t.dataTypes.join(",")}"`)}),Rp(t,n)}}function kp(t,n){n.length>1&&!(n.length===2&&n.includes("null"))&&vo(t,"use allowUnionTypes to allow union type keyword")}function Dp(t,n){let e=t.self.RULES.all;for(let i in e){let r=e[i];if(typeof r=="object"&&(0,yo.shouldUseRule)(t.schema,r)){let{type:o}=r.definition;o.length&&!o.some(a=>Vp(n,a))&&vo(t,`missing type "${o.join(",")}" for keyword "${i}"`)}}}function Vp(t,n){return t.includes(n)||n==="number"&&t.includes("integer")}function Cc(t,n){return t.includes(n)||n==="integer"&&t.includes("number")}function Rp(t,n){let e=[];for(let i of t.dataTypes)Cc(n,i)?e.push(i):n.includes("integer")&&i==="number"&&e.push("integer");t.dataTypes=e}function vo(t,n){let e=t.schemaEnv.baseId+t.errSchemaPath;n+=` at "${e}" (strictTypes)`,(0,Ct.checkStrictMode)(t,n,t.opts.strictTypes)}var Vi=class{constructor(n,e,i){if((0,Kn.validateKeywordUsage)(n,e,i),this.gen=n.gen,this.allErrors=n.allErrors,this.keyword=i,this.data=n.data,this.schema=n.schema[i],this.$data=e.$data&&n.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,Ct.schemaRefOrVal)(n,this.schema,i,this.$data),this.schemaType=e.schemaType,this.parentSchema=n.schema,this.params={},this.it=n,this.def=e,this.$data)this.schemaCode=n.gen.const("vSchema",zc(this.$data,n));else if(this.schemaCode=this.schemaValue,!(0,Kn.validSchemaType)(this.schema,e.schemaType,e.allowUndefined))throw new Error(`${i} value must be ${JSON.stringify(e.schemaType)}`);("code"in e?e.trackErrors:e.errors!==!1)&&(this.errsCount=n.gen.const("_errs",M.default.errors))}result(n,e,i){this.failResult((0,E.not)(n),e,i)}failResult(n,e,i){this.gen.if(n),i?i():this.error(),e?(this.gen.else(),e(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(n,e){this.failResult((0,E.not)(n),void 0,e)}fail(n){if(n===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(n),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(n){if(!this.$data)return this.fail(n);let{schemaCode:e}=this;this.fail((0,E._)`${e} !== undefined && (${(0,E.or)(this.invalid$data(),n)})`)}error(n,e,i){if(e){this.setParams(e),this._error(n,i),this.setParams({});return}this._error(n,i)}_error(n,e){(n?Un.reportExtraError:Un.reportError)(this,this.def.error,e)}$dataError(){(0,Un.reportError)(this,this.def.$dataError||Un.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,Un.resetErrorsCount)(this.gen,this.errsCount)}ok(n){this.allErrors||this.gen.if(n)}setParams(n,e){e?Object.assign(this.params,n):this.params=n}block$data(n,e,i=E.nil){this.gen.block(()=>{this.check$data(n,i),e()})}check$data(n=E.nil,e=E.nil){if(!this.$data)return;let{gen:i,schemaCode:r,schemaType:o,def:a}=this;i.if((0,E.or)((0,E._)`${r} === undefined`,e)),n!==E.nil&&i.assign(n,!0),(o.length||a.validateSchema)&&(i.elseIf(this.invalid$data()),this.$dataError(),n!==E.nil&&i.assign(n,!1)),i.else()}invalid$data(){let{gen:n,schemaCode:e,schemaType:i,def:r,it:o}=this;return(0,E.or)(a(),s());function a(){if(i.length){if(!(e instanceof E.Name))throw new Error("ajv implementation error");let l=Array.isArray(i)?i:[i];return(0,E._)`${(0,Di.checkDataTypes)(l,e,o.opts.strictNumbers,Di.DataType.Wrong)}`}return E.nil}function s(){if(r.validateSchema){let l=n.scopeValue("validate$data",{ref:r.validateSchema});return(0,E._)`!${l}(${e})`}return E.nil}}subschema(n,e){let i=(0,go.getSubschema)(this.it,n);(0,go.extendSubschemaData)(i,this.it,n),(0,go.extendSubschemaMode)(i,n);let r=X($($({},this.it),i),{items:void 0,props:void 0});return $p(r,e),r}mergeEvaluated(n,e){let{it:i,gen:r}=this;i.opts.unevaluated&&(i.props!==!0&&n.props!==void 0&&(i.props=Ct.mergeEvaluated.props(r,n.props,i.props,e)),i.items!==!0&&n.items!==void 0&&(i.items=Ct.mergeEvaluated.items(r,n.items,i.items,e)))}mergeValidEvaluated(n,e){let{it:i,gen:r}=this;if(i.opts.unevaluated&&(i.props!==!0||i.items!==!0))return r.if(e,()=>this.mergeEvaluated(n,E.Name)),!0}};Vt.KeywordCxt=Vi;function bc(t,n,e,i){let r=new Vi(t,e,n);"code"in e?e.code(r,i):r.$data&&e.validate?(0,Kn.funcKeywordCode)(r,e):"macro"in e?(0,Kn.macroKeywordCode)(r,e):(e.compile||e.validate)&&(0,Kn.funcKeywordCode)(r,e)}var Fp=/^\/(?:[^~]|~0|~1)*$/,jp=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function zc(t,{dataLevel:n,dataNames:e,dataPathArr:i}){let r,o;if(t==="")return M.default.rootData;if(t[0]==="/"){if(!Fp.test(t))throw new Error(`Invalid JSON-pointer: ${t}`);r=t,o=M.default.rootData}else{let c=jp.exec(t);if(!c)throw new Error(`Invalid JSON-pointer: ${t}`);let d=+c[1];if(r=c[2],r==="#"){if(d>=n)throw new Error(l("property/index",d));return i[n-d]}if(d>n)throw new Error(l("data",d));if(o=e[n-d],!r)return o}let a=o,s=r.split("/");for(let c of s)c&&(o=(0,E._)`${o}${(0,E.getProperty)((0,Ct.unescapeJsonPointer)(c))}`,a=(0,E._)`${a} && ${o}`);return a;function l(c,d){return`Cannot access ${c} ${d} levels up, current level is ${n}`}}Vt.getData=zc});var Ri=S(bo=>{"use strict";Object.defineProperty(bo,"__esModule",{value:!0});var Co=class extends Error{constructor(n){super("validation failed"),this.errors=n,this.ajv=this.validation=!0}};bo.default=Co});var Qn=S($o=>{"use strict";Object.defineProperty($o,"__esModule",{value:!0});var zo=Bn(),wo=class extends Error{constructor(n,e,i,r){super(r||`can't resolve reference ${i} from id ${e}`),this.missingRef=(0,zo.resolveUrl)(n,e,i),this.missingSchema=(0,zo.normalizeId)((0,zo.getFullPath)(n,this.missingRef))}};$o.default=wo});var ji=S(Le=>{"use strict";Object.defineProperty(Le,"__esModule",{value:!0});Le.resolveSchema=Le.getCompilingSchema=Le.resolveRef=Le.compileSchema=Le.SchemaEnv=void 0;var Xe=R(),Ap=Ri(),Gt=vt(),Ze=Bn(),wc=B(),qp=Gn(),vn=class{constructor(n){var e;this.refs={},this.dynamicAnchors={};let i;typeof n.schema=="object"&&(i=n.schema),this.schema=n.schema,this.schemaId=n.schemaId,this.root=n.root||this,this.baseId=(e=n.baseId)!==null&&e!==void 0?e:(0,Ze.normalizeId)(i?.[n.schemaId||"$id"]),this.schemaPath=n.schemaPath,this.localRefs=n.localRefs,this.meta=n.meta,this.$async=i?.$async,this.refs={}}};Le.SchemaEnv=vn;function xo(t){let n=$c.call(this,t);if(n)return n;let e=(0,Ze.getFullPath)(this.opts.uriResolver,t.root.baseId),{es5:i,lines:r}=this.opts.code,{ownProperties:o}=this.opts,a=new Xe.CodeGen(this.scope,{es5:i,lines:r,ownProperties:o}),s;t.$async&&(s=a.scopeValue("Error",{ref:Ap.default,code:(0,Xe._)`require("ajv/dist/runtime/validation_error").default`}));let l=a.scopeName("validate");t.validateName=l;let c={gen:a,allErrors:this.opts.allErrors,data:Gt.default.data,parentData:Gt.default.parentData,parentDataProperty:Gt.default.parentDataProperty,dataNames:[Gt.default.data],dataPathArr:[Xe.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:a.scopeValue("schema",this.opts.code.source===!0?{ref:t.schema,code:(0,Xe.stringify)(t.schema)}:{ref:t.schema}),validateName:l,ValidationError:s,schema:t.schema,schemaEnv:t,rootId:e,baseId:t.baseId||e,schemaPath:Xe.nil,errSchemaPath:t.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,Xe._)`""`,opts:this.opts,self:this},d;try{this._compilations.add(t),(0,qp.validateFunctionCode)(c),a.optimize(this.opts.code.optimize);let u=a.toString();d=`${a.scopeRefs(Gt.default.scope)}return ${u}`,this.opts.code.process&&(d=this.opts.code.process(d,t));let y=new Function(`${Gt.default.self}`,`${Gt.default.scope}`,d)(this,this.scope.get());if(this.scope.value(l,{ref:y}),y.errors=null,y.schema=t.schema,y.schemaEnv=t,t.$async&&(y.$async=!0),this.opts.code.source===!0&&(y.source={validateName:l,validateCode:u,scopeValues:a._values}),this.opts.unevaluated){let{props:h,items:v}=c;y.evaluated={props:h instanceof Xe.Name?void 0:h,items:v instanceof Xe.Name?void 0:v,dynamicProps:h instanceof Xe.Name,dynamicItems:v instanceof Xe.Name},y.source&&(y.source.evaluated=(0,Xe.stringify)(y.evaluated))}return t.validate=y,t}catch(u){throw delete t.validate,delete t.validateName,d&&this.logger.error("Error compiling schema, function code:",d),u}finally{this._compilations.delete(t)}}Le.compileSchema=xo;function Lp(t,n,e){var i;e=(0,Ze.resolveUrl)(this.opts.uriResolver,n,e);let r=t.refs[e];if(r)return r;let o=Bp.call(this,t,e);if(o===void 0){let a=(i=t.localRefs)===null||i===void 0?void 0:i[e],{schemaId:s}=this.opts;a&&(o=new vn({schema:a,schemaId:s,root:t,baseId:n}))}if(o!==void 0)return t.refs[e]=Wp.call(this,o)}Le.resolveRef=Lp;function Wp(t){return(0,Ze.inlineRef)(t.schema,this.opts.inlineRefs)?t.schema:t.validate?t:xo.call(this,t)}function $c(t){for(let n of this._compilations)if(Hp(n,t))return n}Le.getCompilingSchema=$c;function Hp(t,n){return t.schema===n.schema&&t.root===n.root&&t.baseId===n.baseId}function Bp(t,n){let e;for(;typeof(e=this.refs[n])=="string";)n=e;return e||this.schemas[n]||Fi.call(this,t,n)}function Fi(t,n){let e=this.opts.uriResolver.parse(n),i=(0,Ze._getFullPath)(this.opts.uriResolver,e),r=(0,Ze.getFullPath)(this.opts.uriResolver,t.baseId,void 0);if(Object.keys(t.schema).length>0&&i===r)return So.call(this,e,t);let o=(0,Ze.normalizeId)(i),a=this.refs[o]||this.schemas[o];if(typeof a=="string"){let s=Fi.call(this,t,a);return typeof s?.schema!="object"?void 0:So.call(this,e,s)}if(typeof a?.schema=="object"){if(a.validate||xo.call(this,a),o===(0,Ze.normalizeId)(n)){let{schema:s}=a,{schemaId:l}=this.opts,c=s[l];return c&&(r=(0,Ze.resolveUrl)(this.opts.uriResolver,r,c)),new vn({schema:s,schemaId:l,root:t,baseId:r})}return So.call(this,e,a)}}Le.resolveSchema=Fi;var Up=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function So(t,{baseId:n,schema:e,root:i}){var r;if(((r=t.fragment)===null||r===void 0?void 0:r[0])!=="/")return;for(let s of t.fragment.slice(1).split("/")){if(typeof e=="boolean")return;let l=e[(0,wc.unescapeFragment)(s)];if(l===void 0)return;e=l;let c=typeof e=="object"&&e[this.opts.schemaId];!Up.has(s)&&c&&(n=(0,Ze.resolveUrl)(this.opts.uriResolver,n,c))}let o;if(typeof e!="boolean"&&e.$ref&&!(0,wc.schemaHasRulesButRef)(e,this.RULES)){let s=(0,Ze.resolveUrl)(this.opts.uriResolver,n,e.$ref);o=Fi.call(this,i,s)}let{schemaId:a}=this.opts;if(o=o||new vn({schema:e,schemaId:a,root:i,baseId:n}),o.schema!==o.root.schema)return o}});var Sc=S((yC,Kp)=>{Kp.exports={$id:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON AnySchema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1}});var Tc=S((vC,xc)=>{"use strict";var Gp={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};xc.exports={HEX:Gp}});var Dc=S((CC,kc)=>{"use strict";var{HEX:Qp}=Tc(),Jp=/^(?:(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)$/u;function Mc(t){if(Ic(t,".")<3)return{host:t,isIPV4:!1};let n=t.match(Jp)||[],[e]=n;return e?{host:Zp(e,"."),isIPV4:!0}:{host:t,isIPV4:!1}}function To(t,n=!1){let e="",i=!0;for(let r of t){if(Qp[r]===void 0)return;r!=="0"&&i===!0&&(i=!1),i||(e+=r)}return n&&e.length===0&&(e="0"),e}function Xp(t){let n=0,e={error:!1,address:"",zone:""},i=[],r=[],o=!1,a=!1,s=!1;function l(){if(r.length){if(o===!1){let c=To(r);if(c!==void 0)i.push(c);else return e.error=!0,!1}r.length=0}return!0}for(let c=0;c<t.length;c++){let d=t[c];if(!(d==="["||d==="]"))if(d===":"){if(a===!0&&(s=!0),!l())break;if(n++,i.push(":"),n>7){e.error=!0;break}c-1>=0&&t[c-1]===":"&&(a=!0);continue}else if(d==="%"){if(!l())break;o=!0}else{r.push(d);continue}}return r.length&&(o?e.zone=r.join(""):s?i.push(r.join("")):i.push(To(r))),e.address=i.join(""),e}function Nc(t){if(Ic(t,":")<2)return{host:t,isIPV6:!1};let n=Xp(t);if(n.error)return{host:t,isIPV6:!1};{let e=n.address,i=n.address;return n.zone&&(e+="%"+n.zone,i+="%25"+n.zone),{host:e,escapedHost:i,isIPV6:!0}}}function Zp(t,n){let e="",i=!0,r=t.length;for(let o=0;o<r;o++){let a=t[o];a==="0"&&i?(o+1<=r&&t[o+1]===n||o+1===r)&&(e+=a,i=!1):(a===n?i=!0:i=!1,e+=a)}return e}function Ic(t,n){let e=0;for(let i=0;i<t.length;i++)t[i]===n&&e++;return e}var Ec=/^\.\.?\//u,Pc=/^\/\.(?:\/|$)/u,Oc=/^\/\.\.(?:\/|$)/u,Yp=/^\/?(?:.|\n)*?(?=\/|$)/u;function em(t){let n=[];for(;t.length;)if(t.match(Ec))t=t.replace(Ec,"");else if(t.match(Pc))t=t.replace(Pc,"/");else if(t.match(Oc))t=t.replace(Oc,"/"),n.pop();else if(t==="."||t==="..")t="";else{let e=t.match(Yp);if(e){let i=e[0];t=t.slice(i.length),n.push(i)}else throw new Error("Unexpected dot segment condition")}return n.join("")}function tm(t,n){let e=n!==!0?escape:unescape;return t.scheme!==void 0&&(t.scheme=e(t.scheme)),t.userinfo!==void 0&&(t.userinfo=e(t.userinfo)),t.host!==void 0&&(t.host=e(t.host)),t.path!==void 0&&(t.path=e(t.path)),t.query!==void 0&&(t.query=e(t.query)),t.fragment!==void 0&&(t.fragment=e(t.fragment)),t}function nm(t){let n=[];if(t.userinfo!==void 0&&(n.push(t.userinfo),n.push("@")),t.host!==void 0){let e=unescape(t.host),i=Mc(e);if(i.isIPV4)e=i.host;else{let r=Nc(i.host);r.isIPV6===!0?e=`[${r.escapedHost}]`:e=t.host}n.push(e)}return(typeof t.port=="number"||typeof t.port=="string")&&(n.push(":"),n.push(String(t.port))),n.length?n.join(""):void 0}kc.exports={recomposeAuthority:nm,normalizeComponentEncoding:tm,removeDotSegments:em,normalizeIPv4:Mc,normalizeIPv6:Nc,stringArrayToHexStripped:To}});var qc=S((bC,Ac)=>{"use strict";var im=/^[\da-f]{8}-[\da-f]{4}-[\da-f]{4}-[\da-f]{4}-[\da-f]{12}$/iu,rm=/([\da-z][\d\-a-z]{0,31}):((?:[\w!$'()*+,\-.:;=@]|%[\da-f]{2})+)/iu;function Vc(t){return typeof t.secure=="boolean"?t.secure:String(t.scheme).toLowerCase()==="wss"}function Rc(t){return t.host||(t.error=t.error||"HTTP URIs must have a host."),t}function Fc(t){let n=String(t.scheme).toLowerCase()==="https";return(t.port===(n?443:80)||t.port==="")&&(t.port=void 0),t.path||(t.path="/"),t}function om(t){return t.secure=Vc(t),t.resourceName=(t.path||"/")+(t.query?"?"+t.query:""),t.path=void 0,t.query=void 0,t}function am(t){if((t.port===(Vc(t)?443:80)||t.port==="")&&(t.port=void 0),typeof t.secure=="boolean"&&(t.scheme=t.secure?"wss":"ws",t.secure=void 0),t.resourceName){let[n,e]=t.resourceName.split("?");t.path=n&&n!=="/"?n:void 0,t.query=e,t.resourceName=void 0}return t.fragment=void 0,t}function sm(t,n){if(!t.path)return t.error="URN can not be parsed",t;let e=t.path.match(rm);if(e){let i=n.scheme||t.scheme||"urn";t.nid=e[1].toLowerCase(),t.nss=e[2];let r=`${i}:${n.nid||t.nid}`,o=Eo[r];t.path=void 0,o&&(t=o.parse(t,n))}else t.error=t.error||"URN can not be parsed.";return t}function lm(t,n){let e=n.scheme||t.scheme||"urn",i=t.nid.toLowerCase(),r=`${e}:${n.nid||i}`,o=Eo[r];o&&(t=o.serialize(t,n));let a=t,s=t.nss;return a.path=`${i||n.nid}:${s}`,n.skipEscape=!0,a}function cm(t,n){let e=t;return e.uuid=e.nss,e.nss=void 0,!n.tolerant&&(!e.uuid||!im.test(e.uuid))&&(e.error=e.error||"UUID is not valid."),e}function dm(t){let n=t;return n.nss=(t.uuid||"").toLowerCase(),n}var jc={scheme:"http",domainHost:!0,parse:Rc,serialize:Fc},um={scheme:"https",domainHost:jc.domainHost,parse:Rc,serialize:Fc},Ai={scheme:"ws",domainHost:!0,parse:om,serialize:am},fm={scheme:"wss",domainHost:Ai.domainHost,parse:Ai.parse,serialize:Ai.serialize},pm={scheme:"urn",parse:sm,serialize:lm,skipNormalize:!0},mm={scheme:"urn:uuid",parse:cm,serialize:dm,skipNormalize:!0},Eo={http:jc,https:um,ws:Ai,wss:fm,urn:pm,"urn:uuid":mm};Ac.exports=Eo});var Wc=S((zC,Li)=>{"use strict";var{normalizeIPv6:hm,normalizeIPv4:_m,removeDotSegments:Jn,recomposeAuthority:gm,normalizeComponentEncoding:qi}=Dc(),Po=qc();function ym(t,n){return typeof t=="string"?t=st(bt(t,n),n):typeof t=="object"&&(t=bt(st(t,n),n)),t}function vm(t,n,e){let i=Object.assign({scheme:"null"},e),r=Lc(bt(t,i),bt(n,i),i,!0);return st(r,X($({},i),{skipEscape:!0}))}function Lc(t,n,e,i){let r={};return i||(t=bt(st(t,e),e),n=bt(st(n,e),e)),e=e||{},!e.tolerant&&n.scheme?(r.scheme=n.scheme,r.userinfo=n.userinfo,r.host=n.host,r.port=n.port,r.path=Jn(n.path||""),r.query=n.query):(n.userinfo!==void 0||n.host!==void 0||n.port!==void 0?(r.userinfo=n.userinfo,r.host=n.host,r.port=n.port,r.path=Jn(n.path||""),r.query=n.query):(n.path?(n.path.charAt(0)==="/"?r.path=Jn(n.path):((t.userinfo!==void 0||t.host!==void 0||t.port!==void 0)&&!t.path?r.path="/"+n.path:t.path?r.path=t.path.slice(0,t.path.lastIndexOf("/")+1)+n.path:r.path=n.path,r.path=Jn(r.path)),r.query=n.query):(r.path=t.path,n.query!==void 0?r.query=n.query:r.query=t.query),r.userinfo=t.userinfo,r.host=t.host,r.port=t.port),r.scheme=t.scheme),r.fragment=n.fragment,r}function Cm(t,n,e){return typeof t=="string"?(t=unescape(t),t=st(qi(bt(t,e),!0),X($({},e),{skipEscape:!0}))):typeof t=="object"&&(t=st(qi(t,!0),X($({},e),{skipEscape:!0}))),typeof n=="string"?(n=unescape(n),n=st(qi(bt(n,e),!0),X($({},e),{skipEscape:!0}))):typeof n=="object"&&(n=st(qi(n,!0),X($({},e),{skipEscape:!0}))),t.toLowerCase()===n.toLowerCase()}function st(t,n){let e={host:t.host,scheme:t.scheme,userinfo:t.userinfo,port:t.port,path:t.path,query:t.query,nid:t.nid,nss:t.nss,uuid:t.uuid,fragment:t.fragment,reference:t.reference,resourceName:t.resourceName,secure:t.secure,error:""},i=Object.assign({},n),r=[],o=Po[(i.scheme||e.scheme||"").toLowerCase()];o&&o.serialize&&o.serialize(e,i),e.path!==void 0&&(i.skipEscape?e.path=unescape(e.path):(e.path=escape(e.path),e.scheme!==void 0&&(e.path=e.path.split("%3A").join(":")))),i.reference!=="suffix"&&e.scheme&&r.push(e.scheme,":");let a=gm(e);if(a!==void 0&&(i.reference!=="suffix"&&r.push("//"),r.push(a),e.path&&e.path.charAt(0)!=="/"&&r.push("/")),e.path!==void 0){let s=e.path;!i.absolutePath&&(!o||!o.absolutePath)&&(s=Jn(s)),a===void 0&&(s=s.replace(/^\/\//u,"/%2F")),r.push(s)}return e.query!==void 0&&r.push("?",e.query),e.fragment!==void 0&&r.push("#",e.fragment),r.join("")}var bm=Array.from({length:127},(t,n)=>/[^!"$&'()*+,\-.;=_`a-z{}~]/u.test(String.fromCharCode(n)));function zm(t){let n=0;for(let e=0,i=t.length;e<i;++e)if(n=t.charCodeAt(e),n>126||bm[n])return!0;return!1}var wm=/^(?:([^#/:?]+):)?(?:\/\/((?:([^#/?@]*)@)?(\[[^#/?\]]+\]|[^#/:?]*)(?::(\d*))?))?([^#?]*)(?:\?([^#]*))?(?:#((?:.|[\n\r])*))?/u;function bt(t,n){let e=Object.assign({},n),i={scheme:void 0,userinfo:void 0,host:"",port:void 0,path:"",query:void 0,fragment:void 0},r=t.indexOf("%")!==-1,o=!1;e.reference==="suffix"&&(t=(e.scheme?e.scheme+":":"")+"//"+t);let a=t.match(wm);if(a){if(i.scheme=a[1],i.userinfo=a[3],i.host=a[4],i.port=parseInt(a[5],10),i.path=a[6]||"",i.query=a[7],i.fragment=a[8],isNaN(i.port)&&(i.port=a[5]),i.host){let l=_m(i.host);if(l.isIPV4===!1){let c=hm(l.host);i.host=c.host.toLowerCase(),o=c.isIPV6}else i.host=l.host,o=!0}i.scheme===void 0&&i.userinfo===void 0&&i.host===void 0&&i.port===void 0&&i.query===void 0&&!i.path?i.reference="same-document":i.scheme===void 0?i.reference="relative":i.fragment===void 0?i.reference="absolute":i.reference="uri",e.reference&&e.reference!=="suffix"&&e.reference!==i.reference&&(i.error=i.error||"URI is not a "+e.reference+" reference.");let s=Po[(e.scheme||i.scheme||"").toLowerCase()];if(!e.unicodeSupport&&(!s||!s.unicodeSupport)&&i.host&&(e.domainHost||s&&s.domainHost)&&o===!1&&zm(i.host))try{i.host=URL.domainToASCII(i.host.toLowerCase())}catch(l){i.error=i.error||"Host's domain name can not be converted to ASCII: "+l}(!s||s&&!s.skipNormalize)&&(r&&i.scheme!==void 0&&(i.scheme=unescape(i.scheme)),r&&i.host!==void 0&&(i.host=unescape(i.host)),i.path&&(i.path=escape(unescape(i.path))),i.fragment&&(i.fragment=encodeURI(decodeURIComponent(i.fragment)))),s&&s.parse&&s.parse(i,e)}else i.error=i.error||"URI can not be parsed.";return i}var Oo={SCHEMES:Po,normalize:ym,resolve:vm,resolveComponents:Lc,equal:Cm,serialize:st,parse:bt};Li.exports=Oo;Li.exports.default=Oo;Li.exports.fastUri=Oo});var Bc=S(Mo=>{"use strict";Object.defineProperty(Mo,"__esModule",{value:!0});var Hc=Wc();Hc.code='require("ajv/dist/runtime/uri").default';Mo.default=Hc});var Yc=S(fe=>{"use strict";Object.defineProperty(fe,"__esModule",{value:!0});fe.CodeGen=fe.Name=fe.nil=fe.stringify=fe.str=fe._=fe.KeywordCxt=void 0;var $m=Gn();Object.defineProperty(fe,"KeywordCxt",{enumerable:!0,get:function(){return $m.KeywordCxt}});var Cn=R();Object.defineProperty(fe,"_",{enumerable:!0,get:function(){return Cn._}});Object.defineProperty(fe,"str",{enumerable:!0,get:function(){return Cn.str}});Object.defineProperty(fe,"stringify",{enumerable:!0,get:function(){return Cn.stringify}});Object.defineProperty(fe,"nil",{enumerable:!0,get:function(){return Cn.nil}});Object.defineProperty(fe,"Name",{enumerable:!0,get:function(){return Cn.Name}});Object.defineProperty(fe,"CodeGen",{enumerable:!0,get:function(){return Cn.CodeGen}});var Sm=Ri(),Jc=Qn(),xm=ao(),Xn=ji(),Tm=R(),Zn=Bn(),Wi=Hn(),Io=B(),Uc=Sc(),Em=Bc(),Xc=(t,n)=>new RegExp(t,n);Xc.code="new RegExp";var Pm=["removeAdditional","useDefaults","coerceTypes"],Om=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),Mm={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},Nm={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},Kc=200;function Im(t){var n,e,i,r,o,a,s,l,c,d,u,g,y,h,v,p,b,k,D,Y,I,tt,mt,_r,gr;let Mn=t.strict,yr=(n=t.code)===null||n===void 0?void 0:n.optimize,Ua=yr===!0||yr===void 0?1:yr||0,Ka=(i=(e=t.code)===null||e===void 0?void 0:e.regExp)!==null&&i!==void 0?i:Xc,ku=(r=t.uriResolver)!==null&&r!==void 0?r:Em.default;return{strictSchema:(a=(o=t.strictSchema)!==null&&o!==void 0?o:Mn)!==null&&a!==void 0?a:!0,strictNumbers:(l=(s=t.strictNumbers)!==null&&s!==void 0?s:Mn)!==null&&l!==void 0?l:!0,strictTypes:(d=(c=t.strictTypes)!==null&&c!==void 0?c:Mn)!==null&&d!==void 0?d:"log",strictTuples:(g=(u=t.strictTuples)!==null&&u!==void 0?u:Mn)!==null&&g!==void 0?g:"log",strictRequired:(h=(y=t.strictRequired)!==null&&y!==void 0?y:Mn)!==null&&h!==void 0?h:!1,code:t.code?X($({},t.code),{optimize:Ua,regExp:Ka}):{optimize:Ua,regExp:Ka},loopRequired:(v=t.loopRequired)!==null&&v!==void 0?v:Kc,loopEnum:(p=t.loopEnum)!==null&&p!==void 0?p:Kc,meta:(b=t.meta)!==null&&b!==void 0?b:!0,messages:(k=t.messages)!==null&&k!==void 0?k:!0,inlineRefs:(D=t.inlineRefs)!==null&&D!==void 0?D:!0,schemaId:(Y=t.schemaId)!==null&&Y!==void 0?Y:"$id",addUsedSchema:(I=t.addUsedSchema)!==null&&I!==void 0?I:!0,validateSchema:(tt=t.validateSchema)!==null&&tt!==void 0?tt:!0,validateFormats:(mt=t.validateFormats)!==null&&mt!==void 0?mt:!0,unicodeRegExp:(_r=t.unicodeRegExp)!==null&&_r!==void 0?_r:!0,int32range:(gr=t.int32range)!==null&&gr!==void 0?gr:!0,uriResolver:ku}}var Yn=class{constructor(n={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,n=this.opts=$($({},n),Im(n));let{es5:e,lines:i}=this.opts.code;this.scope=new Tm.ValueScope({scope:{},prefixes:Om,es5:e,lines:i}),this.logger=jm(n.logger);let r=n.validateFormats;n.validateFormats=!1,this.RULES=(0,xm.getRules)(),Gc.call(this,Mm,n,"NOT SUPPORTED"),Gc.call(this,Nm,n,"DEPRECATED","warn"),this._metaOpts=Rm.call(this),n.formats&&Dm.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),n.keywords&&Vm.call(this,n.keywords),typeof n.meta=="object"&&this.addMetaSchema(n.meta),km.call(this),n.validateFormats=r}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){let{$data:n,meta:e,schemaId:i}=this.opts,r=Uc;i==="id"&&(r=$({},Uc),r.id=r.$id,delete r.$id),e&&n&&this.addMetaSchema(r,r[i],!1)}defaultMeta(){let{meta:n,schemaId:e}=this.opts;return this.opts.defaultMeta=typeof n=="object"?n[e]||n:void 0}validate(n,e){let i;if(typeof n=="string"){if(i=this.getSchema(n),!i)throw new Error(`no schema with key or ref "${n}"`)}else i=this.compile(n);let r=i(e);return"$async"in i||(this.errors=i.errors),r}compile(n,e){let i=this._addSchema(n,e);return i.validate||this._compileSchemaEnv(i)}compileAsync(n,e){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");let{loadSchema:i}=this.opts;return r.call(this,n,e);function r(d,u){return Yt(this,null,function*(){yield o.call(this,d.$schema);let g=this._addSchema(d,u);return g.validate||a.call(this,g)})}function o(d){return Yt(this,null,function*(){d&&!this.getSchema(d)&&(yield r.call(this,{$ref:d},!0))})}function a(d){return Yt(this,null,function*(){try{return this._compileSchemaEnv(d)}catch(u){if(!(u instanceof Jc.default))throw u;return s.call(this,u),yield l.call(this,u.missingSchema),a.call(this,d)}})}function s({missingSchema:d,missingRef:u}){if(this.refs[d])throw new Error(`AnySchema ${d} is loaded but ${u} cannot be resolved`)}function l(d){return Yt(this,null,function*(){let u=yield c.call(this,d);this.refs[d]||(yield o.call(this,u.$schema)),this.refs[d]||this.addSchema(u,d,e)})}function c(d){return Yt(this,null,function*(){let u=this._loading[d];if(u)return u;try{return yield this._loading[d]=i(d)}finally{delete this._loading[d]}})}}addSchema(n,e,i,r=this.opts.validateSchema){if(Array.isArray(n)){for(let a of n)this.addSchema(a,void 0,i,r);return this}let o;if(typeof n=="object"){let{schemaId:a}=this.opts;if(o=n[a],o!==void 0&&typeof o!="string")throw new Error(`schema ${a} must be string`)}return e=(0,Zn.normalizeId)(e||o),this._checkUnique(e),this.schemas[e]=this._addSchema(n,i,e,r,!0),this}addMetaSchema(n,e,i=this.opts.validateSchema){return this.addSchema(n,e,!0,i),this}validateSchema(n,e){if(typeof n=="boolean")return!0;let i;if(i=n.$schema,i!==void 0&&typeof i!="string")throw new Error("$schema must be a string");if(i=i||this.opts.defaultMeta||this.defaultMeta(),!i)return this.logger.warn("meta-schema not available"),this.errors=null,!0;let r=this.validate(i,n);if(!r&&e){let o="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(o);else throw new Error(o)}return r}getSchema(n){let e;for(;typeof(e=Qc.call(this,n))=="string";)n=e;if(e===void 0){let{schemaId:i}=this.opts,r=new Xn.SchemaEnv({schema:{},schemaId:i});if(e=Xn.resolveSchema.call(this,r,n),!e)return;this.refs[n]=e}return e.validate||this._compileSchemaEnv(e)}removeSchema(n){if(n instanceof RegExp)return this._removeAllSchemas(this.schemas,n),this._removeAllSchemas(this.refs,n),this;switch(typeof n){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{let e=Qc.call(this,n);return typeof e=="object"&&this._cache.delete(e.schema),delete this.schemas[n],delete this.refs[n],this}case"object":{let e=n;this._cache.delete(e);let i=n[this.opts.schemaId];return i&&(i=(0,Zn.normalizeId)(i),delete this.schemas[i],delete this.refs[i]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(n){for(let e of n)this.addKeyword(e);return this}addKeyword(n,e){let i;if(typeof n=="string")i=n,typeof e=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),e.keyword=i);else if(typeof n=="object"&&e===void 0){if(e=n,i=e.keyword,Array.isArray(i)&&!i.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(qm.call(this,i,e),!e)return(0,Io.eachItem)(i,o=>No.call(this,o)),this;Wm.call(this,e);let r=X($({},e),{type:(0,Wi.getJSONTypes)(e.type),schemaType:(0,Wi.getJSONTypes)(e.schemaType)});return(0,Io.eachItem)(i,r.type.length===0?o=>No.call(this,o,r):o=>r.type.forEach(a=>No.call(this,o,r,a))),this}getKeyword(n){let e=this.RULES.all[n];return typeof e=="object"?e.definition:!!e}removeKeyword(n){let{RULES:e}=this;delete e.keywords[n],delete e.all[n];for(let i of e.rules){let r=i.rules.findIndex(o=>o.keyword===n);r>=0&&i.rules.splice(r,1)}return this}addFormat(n,e){return typeof e=="string"&&(e=new RegExp(e)),this.formats[n]=e,this}errorsText(n=this.errors,{separator:e=", ",dataVar:i="data"}={}){return!n||n.length===0?"No errors":n.map(r=>`${i}${r.instancePath} ${r.message}`).reduce((r,o)=>r+e+o)}$dataMetaSchema(n,e){let i=this.RULES.all;n=JSON.parse(JSON.stringify(n));for(let r of e){let o=r.split("/").slice(1),a=n;for(let s of o)a=a[s];for(let s in i){let l=i[s];if(typeof l!="object")continue;let{$data:c}=l.definition,d=a[s];c&&d&&(a[s]=Zc(d))}}return n}_removeAllSchemas(n,e){for(let i in n){let r=n[i];(!e||e.test(i))&&(typeof r=="string"?delete n[i]:r&&!r.meta&&(this._cache.delete(r.schema),delete n[i]))}}_addSchema(n,e,i,r=this.opts.validateSchema,o=this.opts.addUsedSchema){let a,{schemaId:s}=this.opts;if(typeof n=="object")a=n[s];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof n!="boolean")throw new Error("schema must be object or boolean")}let l=this._cache.get(n);if(l!==void 0)return l;i=(0,Zn.normalizeId)(a||i);let c=Zn.getSchemaRefs.call(this,n,i);return l=new Xn.SchemaEnv({schema:n,schemaId:s,meta:e,baseId:i,localRefs:c}),this._cache.set(l.schema,l),o&&!i.startsWith("#")&&(i&&this._checkUnique(i),this.refs[i]=l),r&&this.validateSchema(n,!0),l}_checkUnique(n){if(this.schemas[n]||this.refs[n])throw new Error(`schema with key or id "${n}" already exists`)}_compileSchemaEnv(n){if(n.meta?this._compileMetaSchema(n):Xn.compileSchema.call(this,n),!n.validate)throw new Error("ajv implementation error");return n.validate}_compileMetaSchema(n){let e=this.opts;this.opts=this._metaOpts;try{Xn.compileSchema.call(this,n)}finally{this.opts=e}}};Yn.ValidationError=Sm.default;Yn.MissingRefError=Jc.default;fe.default=Yn;function Gc(t,n,e,i="error"){for(let r in t){let o=r;o in n&&this.logger[i](`${e}: option ${r}. ${t[o]}`)}}function Qc(t){return t=(0,Zn.normalizeId)(t),this.schemas[t]||this.refs[t]}function km(){let t=this.opts.schemas;if(t)if(Array.isArray(t))this.addSchema(t);else for(let n in t)this.addSchema(t[n],n)}function Dm(){for(let t in this.opts.formats){let n=this.opts.formats[t];n&&this.addFormat(t,n)}}function Vm(t){if(Array.isArray(t)){this.addVocabulary(t);return}this.logger.warn("keywords option as map is deprecated, pass array");for(let n in t){let e=t[n];e.keyword||(e.keyword=n),this.addKeyword(e)}}function Rm(){let t=$({},this.opts);for(let n of Pm)delete t[n];return t}var Fm={log(){},warn(){},error(){}};function jm(t){if(t===!1)return Fm;if(t===void 0)return console;if(t.log&&t.warn&&t.error)return t;throw new Error("logger must implement log, warn and error methods")}var Am=/^[a-z_$][a-z0-9_$:-]*$/i;function qm(t,n){let{RULES:e}=this;if((0,Io.eachItem)(t,i=>{if(e.keywords[i])throw new Error(`Keyword ${i} is already defined`);if(!Am.test(i))throw new Error(`Keyword ${i} has invalid name`)}),!!n&&n.$data&&!("code"in n||"validate"in n))throw new Error('$data keyword must have "code" or "validate" function')}function No(t,n,e){var i;let r=n?.post;if(e&&r)throw new Error('keyword with "post" flag cannot have "type"');let{RULES:o}=this,a=r?o.post:o.rules.find(({type:l})=>l===e);if(a||(a={type:e,rules:[]},o.rules.push(a)),o.keywords[t]=!0,!n)return;let s={keyword:t,definition:X($({},n),{type:(0,Wi.getJSONTypes)(n.type),schemaType:(0,Wi.getJSONTypes)(n.schemaType)})};n.before?Lm.call(this,a,s,n.before):a.rules.push(s),o.all[t]=s,(i=n.implements)===null||i===void 0||i.forEach(l=>this.addKeyword(l))}function Lm(t,n,e){let i=t.rules.findIndex(r=>r.keyword===e);i>=0?t.rules.splice(i,0,n):(t.rules.push(n),this.logger.warn(`rule ${e} is not defined`))}function Wm(t){let{metaSchema:n}=t;n!==void 0&&(t.$data&&this.opts.$data&&(n=Zc(n)),t.validateSchema=this.compile(n,!0))}var Hm={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function Zc(t){return{anyOf:[t,Hm]}}});var ed=S(ko=>{"use strict";Object.defineProperty(ko,"__esModule",{value:!0});var Bm={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};ko.default=Bm});var rd=S(Qt=>{"use strict";Object.defineProperty(Qt,"__esModule",{value:!0});Qt.callRef=Qt.getValidate=void 0;var Um=Qn(),td=qe(),Pe=R(),bn=vt(),nd=ji(),Hi=B(),Km={keyword:"$ref",schemaType:"string",code(t){let{gen:n,schema:e,it:i}=t,{baseId:r,schemaEnv:o,validateName:a,opts:s,self:l}=i,{root:c}=o;if((e==="#"||e==="#/")&&r===c.baseId)return u();let d=nd.resolveRef.call(l,c,r,e);if(d===void 0)throw new Um.default(i.opts.uriResolver,r,e);if(d instanceof nd.SchemaEnv)return g(d);return y(d);function u(){if(o===c)return Bi(t,a,o,o.$async);let h=n.scopeValue("root",{ref:c});return Bi(t,(0,Pe._)`${h}.validate`,c,c.$async)}function g(h){let v=id(t,h);Bi(t,v,h,h.$async)}function y(h){let v=n.scopeValue("schema",s.code.source===!0?{ref:h,code:(0,Pe.stringify)(h)}:{ref:h}),p=n.name("valid"),b=t.subschema({schema:h,dataTypes:[],schemaPath:Pe.nil,topSchemaRef:v,errSchemaPath:e},p);t.mergeEvaluated(b),t.ok(p)}}};function id(t,n){let{gen:e}=t;return n.validate?e.scopeValue("validate",{ref:n.validate}):(0,Pe._)`${e.scopeValue("wrapper",{ref:n})}.validate`}Qt.getValidate=id;function Bi(t,n,e,i){let{gen:r,it:o}=t,{allErrors:a,schemaEnv:s,opts:l}=o,c=l.passContext?bn.default.this:Pe.nil;i?d():u();function d(){if(!s.$async)throw new Error("async schema referenced by sync schema");let h=r.let("valid");r.try(()=>{r.code((0,Pe._)`await ${(0,td.callValidateCode)(t,n,c)}`),y(n),a||r.assign(h,!0)},v=>{r.if((0,Pe._)`!(${v} instanceof ${o.ValidationError})`,()=>r.throw(v)),g(v),a||r.assign(h,!1)}),t.ok(h)}function u(){t.result((0,td.callValidateCode)(t,n,c),()=>y(n),()=>g(n))}function g(h){let v=(0,Pe._)`${h}.errors`;r.assign(bn.default.vErrors,(0,Pe._)`${bn.default.vErrors} === null ? ${v} : ${bn.default.vErrors}.concat(${v})`),r.assign(bn.default.errors,(0,Pe._)`${bn.default.vErrors}.length`)}function y(h){var v;if(!o.opts.unevaluated)return;let p=(v=e?.validate)===null||v===void 0?void 0:v.evaluated;if(o.props!==!0)if(p&&!p.dynamicProps)p.props!==void 0&&(o.props=Hi.mergeEvaluated.props(r,p.props,o.props));else{let b=r.var("props",(0,Pe._)`${h}.evaluated.props`);o.props=Hi.mergeEvaluated.props(r,b,o.props,Pe.Name)}if(o.items!==!0)if(p&&!p.dynamicItems)p.items!==void 0&&(o.items=Hi.mergeEvaluated.items(r,p.items,o.items));else{let b=r.var("items",(0,Pe._)`${h}.evaluated.items`);o.items=Hi.mergeEvaluated.items(r,b,o.items,Pe.Name)}}}Qt.callRef=Bi;Qt.default=Km});var od=S(Do=>{"use strict";Object.defineProperty(Do,"__esModule",{value:!0});var Gm=ed(),Qm=rd(),Jm=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",Gm.default,Qm.default];Do.default=Jm});var ad=S(Vo=>{"use strict";Object.defineProperty(Vo,"__esModule",{value:!0});var Ui=R(),Rt=Ui.operators,Ki={maximum:{okStr:"<=",ok:Rt.LTE,fail:Rt.GT},minimum:{okStr:">=",ok:Rt.GTE,fail:Rt.LT},exclusiveMaximum:{okStr:"<",ok:Rt.LT,fail:Rt.GTE},exclusiveMinimum:{okStr:">",ok:Rt.GT,fail:Rt.LTE}},Xm={message:({keyword:t,schemaCode:n})=>(0,Ui.str)`must be ${Ki[t].okStr} ${n}`,params:({keyword:t,schemaCode:n})=>(0,Ui._)`{comparison: ${Ki[t].okStr}, limit: ${n}}`},Zm={keyword:Object.keys(Ki),type:"number",schemaType:"number",$data:!0,error:Xm,code(t){let{keyword:n,data:e,schemaCode:i}=t;t.fail$data((0,Ui._)`${e} ${Ki[n].fail} ${i} || isNaN(${e})`)}};Vo.default=Zm});var sd=S(Ro=>{"use strict";Object.defineProperty(Ro,"__esModule",{value:!0});var ei=R(),Ym={message:({schemaCode:t})=>(0,ei.str)`must be multiple of ${t}`,params:({schemaCode:t})=>(0,ei._)`{multipleOf: ${t}}`},eh={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:Ym,code(t){let{gen:n,data:e,schemaCode:i,it:r}=t,o=r.opts.multipleOfPrecision,a=n.let("res"),s=o?(0,ei._)`Math.abs(Math.round(${a}) - ${a}) > 1e-${o}`:(0,ei._)`${a} !== parseInt(${a})`;t.fail$data((0,ei._)`(${i} === 0 || (${a} = ${e}/${i}, ${s}))`)}};Ro.default=eh});var cd=S(Fo=>{"use strict";Object.defineProperty(Fo,"__esModule",{value:!0});function ld(t){let n=t.length,e=0,i=0,r;for(;i<n;)e++,r=t.charCodeAt(i++),r>=55296&&r<=56319&&i<n&&(r=t.charCodeAt(i),(r&64512)===56320&&i++);return e}Fo.default=ld;ld.code='require("ajv/dist/runtime/ucs2length").default'});var dd=S(jo=>{"use strict";Object.defineProperty(jo,"__esModule",{value:!0});var Jt=R(),th=B(),nh=cd(),ih={message({keyword:t,schemaCode:n}){let e=t==="maxLength"?"more":"fewer";return(0,Jt.str)`must NOT have ${e} than ${n} characters`},params:({schemaCode:t})=>(0,Jt._)`{limit: ${t}}`},rh={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:ih,code(t){let{keyword:n,data:e,schemaCode:i,it:r}=t,o=n==="maxLength"?Jt.operators.GT:Jt.operators.LT,a=r.opts.unicode===!1?(0,Jt._)`${e}.length`:(0,Jt._)`${(0,th.useFunc)(t.gen,nh.default)}(${e})`;t.fail$data((0,Jt._)`${a} ${o} ${i}`)}};jo.default=rh});var ud=S(Ao=>{"use strict";Object.defineProperty(Ao,"__esModule",{value:!0});var oh=qe(),Gi=R(),ah={message:({schemaCode:t})=>(0,Gi.str)`must match pattern "${t}"`,params:({schemaCode:t})=>(0,Gi._)`{pattern: ${t}}`},sh={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:ah,code(t){let{data:n,$data:e,schema:i,schemaCode:r,it:o}=t,a=o.opts.unicodeRegExp?"u":"",s=e?(0,Gi._)`(new RegExp(${r}, ${a}))`:(0,oh.usePattern)(t,i);t.fail$data((0,Gi._)`!${s}.test(${n})`)}};Ao.default=sh});var fd=S(qo=>{"use strict";Object.defineProperty(qo,"__esModule",{value:!0});var ti=R(),lh={message({keyword:t,schemaCode:n}){let e=t==="maxProperties"?"more":"fewer";return(0,ti.str)`must NOT have ${e} than ${n} properties`},params:({schemaCode:t})=>(0,ti._)`{limit: ${t}}`},ch={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:lh,code(t){let{keyword:n,data:e,schemaCode:i}=t,r=n==="maxProperties"?ti.operators.GT:ti.operators.LT;t.fail$data((0,ti._)`Object.keys(${e}).length ${r} ${i}`)}};qo.default=ch});var pd=S(Lo=>{"use strict";Object.defineProperty(Lo,"__esModule",{value:!0});var ni=qe(),ii=R(),dh=B(),uh={message:({params:{missingProperty:t}})=>(0,ii.str)`must have required property '${t}'`,params:({params:{missingProperty:t}})=>(0,ii._)`{missingProperty: ${t}}`},fh={keyword:"required",type:"object",schemaType:"array",$data:!0,error:uh,code(t){let{gen:n,schema:e,schemaCode:i,data:r,$data:o,it:a}=t,{opts:s}=a;if(!o&&e.length===0)return;let l=e.length>=s.loopRequired;if(a.allErrors?c():d(),s.strictRequired){let y=t.parentSchema.properties,{definedProperties:h}=t.it;for(let v of e)if(y?.[v]===void 0&&!h.has(v)){let p=a.schemaEnv.baseId+a.errSchemaPath,b=`required property "${v}" is not defined at "${p}" (strictRequired)`;(0,dh.checkStrictMode)(a,b,a.opts.strictRequired)}}function c(){if(l||o)t.block$data(ii.nil,u);else for(let y of e)(0,ni.checkReportMissingProp)(t,y)}function d(){let y=n.let("missing");if(l||o){let h=n.let("valid",!0);t.block$data(h,()=>g(y,h)),t.ok(h)}else n.if((0,ni.checkMissingProp)(t,e,y)),(0,ni.reportMissingProp)(t,y),n.else()}function u(){n.forOf("prop",i,y=>{t.setParams({missingProperty:y}),n.if((0,ni.noPropertyInData)(n,r,y,s.ownProperties),()=>t.error())})}function g(y,h){t.setParams({missingProperty:y}),n.forOf(y,i,()=>{n.assign(h,(0,ni.propertyInData)(n,r,y,s.ownProperties)),n.if((0,ii.not)(h),()=>{t.error(),n.break()})},ii.nil)}}};Lo.default=fh});var md=S(Wo=>{"use strict";Object.defineProperty(Wo,"__esModule",{value:!0});var ri=R(),ph={message({keyword:t,schemaCode:n}){let e=t==="maxItems"?"more":"fewer";return(0,ri.str)`must NOT have ${e} than ${n} items`},params:({schemaCode:t})=>(0,ri._)`{limit: ${t}}`},mh={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:ph,code(t){let{keyword:n,data:e,schemaCode:i}=t,r=n==="maxItems"?ri.operators.GT:ri.operators.LT;t.fail$data((0,ri._)`${e}.length ${r} ${i}`)}};Wo.default=mh});var Qi=S(Ho=>{"use strict";Object.defineProperty(Ho,"__esModule",{value:!0});var hd=ho();hd.code='require("ajv/dist/runtime/equal").default';Ho.default=hd});var _d=S(Uo=>{"use strict";Object.defineProperty(Uo,"__esModule",{value:!0});var Bo=Hn(),pe=R(),hh=B(),_h=Qi(),gh={message:({params:{i:t,j:n}})=>(0,pe.str)`must NOT have duplicate items (items ## ${n} and ${t} are identical)`,params:({params:{i:t,j:n}})=>(0,pe._)`{i: ${t}, j: ${n}}`},yh={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:gh,code(t){let{gen:n,data:e,$data:i,schema:r,parentSchema:o,schemaCode:a,it:s}=t;if(!i&&!r)return;let l=n.let("valid"),c=o.items?(0,Bo.getSchemaTypes)(o.items):[];t.block$data(l,d,(0,pe._)`${a} === false`),t.ok(l);function d(){let h=n.let("i",(0,pe._)`${e}.length`),v=n.let("j");t.setParams({i:h,j:v}),n.assign(l,!0),n.if((0,pe._)`${h} > 1`,()=>(u()?g:y)(h,v))}function u(){return c.length>0&&!c.some(h=>h==="object"||h==="array")}function g(h,v){let p=n.name("item"),b=(0,Bo.checkDataTypes)(c,p,s.opts.strictNumbers,Bo.DataType.Wrong),k=n.const("indices",(0,pe._)`{}`);n.for((0,pe._)`;${h}--;`,()=>{n.let(p,(0,pe._)`${e}[${h}]`),n.if(b,(0,pe._)`continue`),c.length>1&&n.if((0,pe._)`typeof ${p} == "string"`,(0,pe._)`${p} += "_"`),n.if((0,pe._)`typeof ${k}[${p}] == "number"`,()=>{n.assign(v,(0,pe._)`${k}[${p}]`),t.error(),n.assign(l,!1).break()}).code((0,pe._)`${k}[${p}] = ${h}`)})}function y(h,v){let p=(0,hh.useFunc)(n,_h.default),b=n.name("outer");n.label(b).for((0,pe._)`;${h}--;`,()=>n.for((0,pe._)`${v} = ${h}; ${v}--;`,()=>n.if((0,pe._)`${p}(${e}[${h}], ${e}[${v}])`,()=>{t.error(),n.assign(l,!1).break(b)})))}}};Uo.default=yh});var gd=S(Go=>{"use strict";Object.defineProperty(Go,"__esModule",{value:!0});var Ko=R(),vh=B(),Ch=Qi(),bh={message:"must be equal to constant",params:({schemaCode:t})=>(0,Ko._)`{allowedValue: ${t}}`},zh={keyword:"const",$data:!0,error:bh,code(t){let{gen:n,data:e,$data:i,schemaCode:r,schema:o}=t;i||o&&typeof o=="object"?t.fail$data((0,Ko._)`!${(0,vh.useFunc)(n,Ch.default)}(${e}, ${r})`):t.fail((0,Ko._)`${o} !== ${e}`)}};Go.default=zh});var yd=S(Qo=>{"use strict";Object.defineProperty(Qo,"__esModule",{value:!0});var oi=R(),wh=B(),$h=Qi(),Sh={message:"must be equal to one of the allowed values",params:({schemaCode:t})=>(0,oi._)`{allowedValues: ${t}}`},xh={keyword:"enum",schemaType:"array",$data:!0,error:Sh,code(t){let{gen:n,data:e,$data:i,schema:r,schemaCode:o,it:a}=t;if(!i&&r.length===0)throw new Error("enum must have non-empty array");let s=r.length>=a.opts.loopEnum,l,c=()=>l??(l=(0,wh.useFunc)(n,$h.default)),d;if(s||i)d=n.let("valid"),t.block$data(d,u);else{if(!Array.isArray(r))throw new Error("ajv implementation error");let y=n.const("vSchema",o);d=(0,oi.or)(...r.map((h,v)=>g(y,v)))}t.pass(d);function u(){n.assign(d,!1),n.forOf("v",o,y=>n.if((0,oi._)`${c()}(${e}, ${y})`,()=>n.assign(d,!0).break()))}function g(y,h){let v=r[h];return typeof v=="object"&&v!==null?(0,oi._)`${c()}(${e}, ${y}[${h}])`:(0,oi._)`${e} === ${v}`}}};Qo.default=xh});var vd=S(Jo=>{"use strict";Object.defineProperty(Jo,"__esModule",{value:!0});var Th=ad(),Eh=sd(),Ph=dd(),Oh=ud(),Mh=fd(),Nh=pd(),Ih=md(),kh=_d(),Dh=gd(),Vh=yd(),Rh=[Th.default,Eh.default,Ph.default,Oh.default,Mh.default,Nh.default,Ih.default,kh.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},Dh.default,Vh.default];Jo.default=Rh});var Zo=S(ai=>{"use strict";Object.defineProperty(ai,"__esModule",{value:!0});ai.validateAdditionalItems=void 0;var Xt=R(),Xo=B(),Fh={message:({params:{len:t}})=>(0,Xt.str)`must NOT have more than ${t} items`,params:({params:{len:t}})=>(0,Xt._)`{limit: ${t}}`},jh={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:Fh,code(t){let{parentSchema:n,it:e}=t,{items:i}=n;if(!Array.isArray(i)){(0,Xo.checkStrictMode)(e,'"additionalItems" is ignored when "items" is not an array of schemas');return}Cd(t,i)}};function Cd(t,n){let{gen:e,schema:i,data:r,keyword:o,it:a}=t;a.items=!0;let s=e.const("len",(0,Xt._)`${r}.length`);if(i===!1)t.setParams({len:n.length}),t.pass((0,Xt._)`${s} <= ${n.length}`);else if(typeof i=="object"&&!(0,Xo.alwaysValidSchema)(a,i)){let c=e.var("valid",(0,Xt._)`${s} <= ${n.length}`);e.if((0,Xt.not)(c),()=>l(c)),t.ok(c)}function l(c){e.forRange("i",n.length,s,d=>{t.subschema({keyword:o,dataProp:d,dataPropType:Xo.Type.Num},c),a.allErrors||e.if((0,Xt.not)(c),()=>e.break())})}}ai.validateAdditionalItems=Cd;ai.default=jh});var Yo=S(si=>{"use strict";Object.defineProperty(si,"__esModule",{value:!0});si.validateTuple=void 0;var bd=R(),Ji=B(),Ah=qe(),qh={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(t){let{schema:n,it:e}=t;if(Array.isArray(n))return zd(t,"additionalItems",n);e.items=!0,!(0,Ji.alwaysValidSchema)(e,n)&&t.ok((0,Ah.validateArray)(t))}};function zd(t,n,e=t.schema){let{gen:i,parentSchema:r,data:o,keyword:a,it:s}=t;d(r),s.opts.unevaluated&&e.length&&s.items!==!0&&(s.items=Ji.mergeEvaluated.items(i,e.length,s.items));let l=i.name("valid"),c=i.const("len",(0,bd._)`${o}.length`);e.forEach((u,g)=>{(0,Ji.alwaysValidSchema)(s,u)||(i.if((0,bd._)`${c} > ${g}`,()=>t.subschema({keyword:a,schemaProp:g,dataProp:g},l)),t.ok(l))});function d(u){let{opts:g,errSchemaPath:y}=s,h=e.length,v=h===u.minItems&&(h===u.maxItems||u[n]===!1);if(g.strictTuples&&!v){let p=`"${a}" is ${h}-tuple, but minItems or maxItems/${n} are not specified or different at path "${y}"`;(0,Ji.checkStrictMode)(s,p,g.strictTuples)}}}si.validateTuple=zd;si.default=qh});var wd=S(ea=>{"use strict";Object.defineProperty(ea,"__esModule",{value:!0});var Lh=Yo(),Wh={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:t=>(0,Lh.validateTuple)(t,"items")};ea.default=Wh});var Sd=S(ta=>{"use strict";Object.defineProperty(ta,"__esModule",{value:!0});var $d=R(),Hh=B(),Bh=qe(),Uh=Zo(),Kh={message:({params:{len:t}})=>(0,$d.str)`must NOT have more than ${t} items`,params:({params:{len:t}})=>(0,$d._)`{limit: ${t}}`},Gh={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:Kh,code(t){let{schema:n,parentSchema:e,it:i}=t,{prefixItems:r}=e;i.items=!0,!(0,Hh.alwaysValidSchema)(i,n)&&(r?(0,Uh.validateAdditionalItems)(t,r):t.ok((0,Bh.validateArray)(t)))}};ta.default=Gh});var xd=S(na=>{"use strict";Object.defineProperty(na,"__esModule",{value:!0});var We=R(),Xi=B(),Qh={message:({params:{min:t,max:n}})=>n===void 0?(0,We.str)`must contain at least ${t} valid item(s)`:(0,We.str)`must contain at least ${t} and no more than ${n} valid item(s)`,params:({params:{min:t,max:n}})=>n===void 0?(0,We._)`{minContains: ${t}}`:(0,We._)`{minContains: ${t}, maxContains: ${n}}`},Jh={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:Qh,code(t){let{gen:n,schema:e,parentSchema:i,data:r,it:o}=t,a,s,{minContains:l,maxContains:c}=i;o.opts.next?(a=l===void 0?1:l,s=c):a=1;let d=n.const("len",(0,We._)`${r}.length`);if(t.setParams({min:a,max:s}),s===void 0&&a===0){(0,Xi.checkStrictMode)(o,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(s!==void 0&&a>s){(0,Xi.checkStrictMode)(o,'"minContains" > "maxContains" is always invalid'),t.fail();return}if((0,Xi.alwaysValidSchema)(o,e)){let v=(0,We._)`${d} >= ${a}`;s!==void 0&&(v=(0,We._)`${v} && ${d} <= ${s}`),t.pass(v);return}o.items=!0;let u=n.name("valid");s===void 0&&a===1?y(u,()=>n.if(u,()=>n.break())):a===0?(n.let(u,!0),s!==void 0&&n.if((0,We._)`${r}.length > 0`,g)):(n.let(u,!1),g()),t.result(u,()=>t.reset());function g(){let v=n.name("_valid"),p=n.let("count",0);y(v,()=>n.if(v,()=>h(p)))}function y(v,p){n.forRange("i",0,d,b=>{t.subschema({keyword:"contains",dataProp:b,dataPropType:Xi.Type.Num,compositeRule:!0},v),p()})}function h(v){n.code((0,We._)`${v}++`),s===void 0?n.if((0,We._)`${v} >= ${a}`,()=>n.assign(u,!0).break()):(n.if((0,We._)`${v} > ${s}`,()=>n.assign(u,!1).break()),a===1?n.assign(u,!0):n.if((0,We._)`${v} >= ${a}`,()=>n.assign(u,!0)))}}};na.default=Jh});var Pd=S(lt=>{"use strict";Object.defineProperty(lt,"__esModule",{value:!0});lt.validateSchemaDeps=lt.validatePropertyDeps=lt.error=void 0;var ia=R(),Xh=B(),li=qe();lt.error={message:({params:{property:t,depsCount:n,deps:e}})=>{let i=n===1?"property":"properties";return(0,ia.str)`must have ${i} ${e} when property ${t} is present`},params:({params:{property:t,depsCount:n,deps:e,missingProperty:i}})=>(0,ia._)`{property: ${t},
    missingProperty: ${i},
    depsCount: ${n},
    deps: ${e}}`};var Zh={keyword:"dependencies",type:"object",schemaType:"object",error:lt.error,code(t){let[n,e]=Yh(t);Td(t,n),Ed(t,e)}};function Yh({schema:t}){let n={},e={};for(let i in t){if(i==="__proto__")continue;let r=Array.isArray(t[i])?n:e;r[i]=t[i]}return[n,e]}function Td(t,n=t.schema){let{gen:e,data:i,it:r}=t;if(Object.keys(n).length===0)return;let o=e.let("missing");for(let a in n){let s=n[a];if(s.length===0)continue;let l=(0,li.propertyInData)(e,i,a,r.opts.ownProperties);t.setParams({property:a,depsCount:s.length,deps:s.join(", ")}),r.allErrors?e.if(l,()=>{for(let c of s)(0,li.checkReportMissingProp)(t,c)}):(e.if((0,ia._)`${l} && (${(0,li.checkMissingProp)(t,s,o)})`),(0,li.reportMissingProp)(t,o),e.else())}}lt.validatePropertyDeps=Td;function Ed(t,n=t.schema){let{gen:e,data:i,keyword:r,it:o}=t,a=e.name("valid");for(let s in n)(0,Xh.alwaysValidSchema)(o,n[s])||(e.if((0,li.propertyInData)(e,i,s,o.opts.ownProperties),()=>{let l=t.subschema({keyword:r,schemaProp:s},a);t.mergeValidEvaluated(l,a)},()=>e.var(a,!0)),t.ok(a))}lt.validateSchemaDeps=Ed;lt.default=Zh});var Md=S(ra=>{"use strict";Object.defineProperty(ra,"__esModule",{value:!0});var Od=R(),e0=B(),t0={message:"property name must be valid",params:({params:t})=>(0,Od._)`{propertyName: ${t.propertyName}}`},n0={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:t0,code(t){let{gen:n,schema:e,data:i,it:r}=t;if((0,e0.alwaysValidSchema)(r,e))return;let o=n.name("valid");n.forIn("key",i,a=>{t.setParams({propertyName:a}),t.subschema({keyword:"propertyNames",data:a,dataTypes:["string"],propertyName:a,compositeRule:!0},o),n.if((0,Od.not)(o),()=>{t.error(!0),r.allErrors||n.break()})}),t.ok(o)}};ra.default=n0});var aa=S(oa=>{"use strict";Object.defineProperty(oa,"__esModule",{value:!0});var Zi=qe(),Ye=R(),i0=vt(),Yi=B(),r0={message:"must NOT have additional properties",params:({params:t})=>(0,Ye._)`{additionalProperty: ${t.additionalProperty}}`},o0={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:r0,code(t){let{gen:n,schema:e,parentSchema:i,data:r,errsCount:o,it:a}=t;if(!o)throw new Error("ajv implementation error");let{allErrors:s,opts:l}=a;if(a.props=!0,l.removeAdditional!=="all"&&(0,Yi.alwaysValidSchema)(a,e))return;let c=(0,Zi.allSchemaProperties)(i.properties),d=(0,Zi.allSchemaProperties)(i.patternProperties);u(),t.ok((0,Ye._)`${o} === ${i0.default.errors}`);function u(){n.forIn("key",r,p=>{!c.length&&!d.length?h(p):n.if(g(p),()=>h(p))})}function g(p){let b;if(c.length>8){let k=(0,Yi.schemaRefOrVal)(a,i.properties,"properties");b=(0,Zi.isOwnProperty)(n,k,p)}else c.length?b=(0,Ye.or)(...c.map(k=>(0,Ye._)`${p} === ${k}`)):b=Ye.nil;return d.length&&(b=(0,Ye.or)(b,...d.map(k=>(0,Ye._)`${(0,Zi.usePattern)(t,k)}.test(${p})`))),(0,Ye.not)(b)}function y(p){n.code((0,Ye._)`delete ${r}[${p}]`)}function h(p){if(l.removeAdditional==="all"||l.removeAdditional&&e===!1){y(p);return}if(e===!1){t.setParams({additionalProperty:p}),t.error(),s||n.break();return}if(typeof e=="object"&&!(0,Yi.alwaysValidSchema)(a,e)){let b=n.name("valid");l.removeAdditional==="failing"?(v(p,b,!1),n.if((0,Ye.not)(b),()=>{t.reset(),y(p)})):(v(p,b),s||n.if((0,Ye.not)(b),()=>n.break()))}}function v(p,b,k){let D={keyword:"additionalProperties",dataProp:p,dataPropType:Yi.Type.Str};k===!1&&Object.assign(D,{compositeRule:!0,createErrors:!1,allErrors:!1}),t.subschema(D,b)}}};oa.default=o0});var kd=S(la=>{"use strict";Object.defineProperty(la,"__esModule",{value:!0});var a0=Gn(),Nd=qe(),sa=B(),Id=aa(),s0={keyword:"properties",type:"object",schemaType:"object",code(t){let{gen:n,schema:e,parentSchema:i,data:r,it:o}=t;o.opts.removeAdditional==="all"&&i.additionalProperties===void 0&&Id.default.code(new a0.KeywordCxt(o,Id.default,"additionalProperties"));let a=(0,Nd.allSchemaProperties)(e);for(let u of a)o.definedProperties.add(u);o.opts.unevaluated&&a.length&&o.props!==!0&&(o.props=sa.mergeEvaluated.props(n,(0,sa.toHash)(a),o.props));let s=a.filter(u=>!(0,sa.alwaysValidSchema)(o,e[u]));if(s.length===0)return;let l=n.name("valid");for(let u of s)c(u)?d(u):(n.if((0,Nd.propertyInData)(n,r,u,o.opts.ownProperties)),d(u),o.allErrors||n.else().var(l,!0),n.endIf()),t.it.definedProperties.add(u),t.ok(l);function c(u){return o.opts.useDefaults&&!o.compositeRule&&e[u].default!==void 0}function d(u){t.subschema({keyword:"properties",schemaProp:u,dataProp:u},l)}}};la.default=s0});var Fd=S(ca=>{"use strict";Object.defineProperty(ca,"__esModule",{value:!0});var Dd=qe(),er=R(),Vd=B(),Rd=B(),l0={keyword:"patternProperties",type:"object",schemaType:"object",code(t){let{gen:n,schema:e,data:i,parentSchema:r,it:o}=t,{opts:a}=o,s=(0,Dd.allSchemaProperties)(e),l=s.filter(v=>(0,Vd.alwaysValidSchema)(o,e[v]));if(s.length===0||l.length===s.length&&(!o.opts.unevaluated||o.props===!0))return;let c=a.strictSchema&&!a.allowMatchingProperties&&r.properties,d=n.name("valid");o.props!==!0&&!(o.props instanceof er.Name)&&(o.props=(0,Rd.evaluatedPropsToName)(n,o.props));let{props:u}=o;g();function g(){for(let v of s)c&&y(v),o.allErrors?h(v):(n.var(d,!0),h(v),n.if(d))}function y(v){for(let p in c)new RegExp(v).test(p)&&(0,Vd.checkStrictMode)(o,`property ${p} matches pattern ${v} (use allowMatchingProperties)`)}function h(v){n.forIn("key",i,p=>{n.if((0,er._)`${(0,Dd.usePattern)(t,v)}.test(${p})`,()=>{let b=l.includes(v);b||t.subschema({keyword:"patternProperties",schemaProp:v,dataProp:p,dataPropType:Rd.Type.Str},d),o.opts.unevaluated&&u!==!0?n.assign((0,er._)`${u}[${p}]`,!0):!b&&!o.allErrors&&n.if((0,er.not)(d),()=>n.break())})})}}};ca.default=l0});var jd=S(da=>{"use strict";Object.defineProperty(da,"__esModule",{value:!0});var c0=B(),d0={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(t){let{gen:n,schema:e,it:i}=t;if((0,c0.alwaysValidSchema)(i,e)){t.fail();return}let r=n.name("valid");t.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},r),t.failResult(r,()=>t.reset(),()=>t.error())},error:{message:"must NOT be valid"}};da.default=d0});var Ad=S(ua=>{"use strict";Object.defineProperty(ua,"__esModule",{value:!0});var u0=qe(),f0={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:u0.validateUnion,error:{message:"must match a schema in anyOf"}};ua.default=f0});var qd=S(fa=>{"use strict";Object.defineProperty(fa,"__esModule",{value:!0});var tr=R(),p0=B(),m0={message:"must match exactly one schema in oneOf",params:({params:t})=>(0,tr._)`{passingSchemas: ${t.passing}}`},h0={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:m0,code(t){let{gen:n,schema:e,parentSchema:i,it:r}=t;if(!Array.isArray(e))throw new Error("ajv implementation error");if(r.opts.discriminator&&i.discriminator)return;let o=e,a=n.let("valid",!1),s=n.let("passing",null),l=n.name("_valid");t.setParams({passing:s}),n.block(c),t.result(a,()=>t.reset(),()=>t.error(!0));function c(){o.forEach((d,u)=>{let g;(0,p0.alwaysValidSchema)(r,d)?n.var(l,!0):g=t.subschema({keyword:"oneOf",schemaProp:u,compositeRule:!0},l),u>0&&n.if((0,tr._)`${l} && ${a}`).assign(a,!1).assign(s,(0,tr._)`[${s}, ${u}]`).else(),n.if(l,()=>{n.assign(a,!0),n.assign(s,u),g&&t.mergeEvaluated(g,tr.Name)})})}}};fa.default=h0});var Ld=S(pa=>{"use strict";Object.defineProperty(pa,"__esModule",{value:!0});var _0=B(),g0={keyword:"allOf",schemaType:"array",code(t){let{gen:n,schema:e,it:i}=t;if(!Array.isArray(e))throw new Error("ajv implementation error");let r=n.name("valid");e.forEach((o,a)=>{if((0,_0.alwaysValidSchema)(i,o))return;let s=t.subschema({keyword:"allOf",schemaProp:a},r);t.ok(r),t.mergeEvaluated(s)})}};pa.default=g0});var Bd=S(ma=>{"use strict";Object.defineProperty(ma,"__esModule",{value:!0});var nr=R(),Hd=B(),y0={message:({params:t})=>(0,nr.str)`must match "${t.ifClause}" schema`,params:({params:t})=>(0,nr._)`{failingKeyword: ${t.ifClause}}`},v0={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:y0,code(t){let{gen:n,parentSchema:e,it:i}=t;e.then===void 0&&e.else===void 0&&(0,Hd.checkStrictMode)(i,'"if" without "then" and "else" is ignored');let r=Wd(i,"then"),o=Wd(i,"else");if(!r&&!o)return;let a=n.let("valid",!0),s=n.name("_valid");if(l(),t.reset(),r&&o){let d=n.let("ifClause");t.setParams({ifClause:d}),n.if(s,c("then",d),c("else",d))}else r?n.if(s,c("then")):n.if((0,nr.not)(s),c("else"));t.pass(a,()=>t.error(!0));function l(){let d=t.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},s);t.mergeEvaluated(d)}function c(d,u){return()=>{let g=t.subschema({keyword:d},s);n.assign(a,s),t.mergeValidEvaluated(g,a),u?n.assign(u,(0,nr._)`${d}`):t.setParams({ifClause:d})}}}};function Wd(t,n){let e=t.schema[n];return e!==void 0&&!(0,Hd.alwaysValidSchema)(t,e)}ma.default=v0});var Ud=S(ha=>{"use strict";Object.defineProperty(ha,"__esModule",{value:!0});var C0=B(),b0={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:t,parentSchema:n,it:e}){n.if===void 0&&(0,C0.checkStrictMode)(e,`"${t}" without "if" is ignored`)}};ha.default=b0});var Kd=S(_a=>{"use strict";Object.defineProperty(_a,"__esModule",{value:!0});var z0=Zo(),w0=wd(),$0=Yo(),S0=Sd(),x0=xd(),T0=Pd(),E0=Md(),P0=aa(),O0=kd(),M0=Fd(),N0=jd(),I0=Ad(),k0=qd(),D0=Ld(),V0=Bd(),R0=Ud();function F0(t=!1){let n=[N0.default,I0.default,k0.default,D0.default,V0.default,R0.default,E0.default,P0.default,T0.default,O0.default,M0.default];return t?n.push(w0.default,S0.default):n.push(z0.default,$0.default),n.push(x0.default),n}_a.default=F0});var Gd=S(ga=>{"use strict";Object.defineProperty(ga,"__esModule",{value:!0});var ie=R(),j0={message:({schemaCode:t})=>(0,ie.str)`must match format "${t}"`,params:({schemaCode:t})=>(0,ie._)`{format: ${t}}`},A0={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:j0,code(t,n){let{gen:e,data:i,$data:r,schema:o,schemaCode:a,it:s}=t,{opts:l,errSchemaPath:c,schemaEnv:d,self:u}=s;if(!l.validateFormats)return;r?g():y();function g(){let h=e.scopeValue("formats",{ref:u.formats,code:l.code.formats}),v=e.const("fDef",(0,ie._)`${h}[${a}]`),p=e.let("fType"),b=e.let("format");e.if((0,ie._)`typeof ${v} == "object" && !(${v} instanceof RegExp)`,()=>e.assign(p,(0,ie._)`${v}.type || "string"`).assign(b,(0,ie._)`${v}.validate`),()=>e.assign(p,(0,ie._)`"string"`).assign(b,v)),t.fail$data((0,ie.or)(k(),D()));function k(){return l.strictSchema===!1?ie.nil:(0,ie._)`${a} && !${b}`}function D(){let Y=d.$async?(0,ie._)`(${v}.async ? await ${b}(${i}) : ${b}(${i}))`:(0,ie._)`${b}(${i})`,I=(0,ie._)`(typeof ${b} == "function" ? ${Y} : ${b}.test(${i}))`;return(0,ie._)`${b} && ${b} !== true && ${p} === ${n} && !${I}`}}function y(){let h=u.formats[o];if(!h){k();return}if(h===!0)return;let[v,p,b]=D(h);v===n&&t.pass(Y());function k(){if(l.strictSchema===!1){u.logger.warn(I());return}throw new Error(I());function I(){return`unknown format "${o}" ignored in schema at path "${c}"`}}function D(I){let tt=I instanceof RegExp?(0,ie.regexpCode)(I):l.code.formats?(0,ie._)`${l.code.formats}${(0,ie.getProperty)(o)}`:void 0,mt=e.scopeValue("formats",{key:o,ref:I,code:tt});return typeof I=="object"&&!(I instanceof RegExp)?[I.type||"string",I.validate,(0,ie._)`${mt}.validate`]:["string",I,mt]}function Y(){if(typeof h=="object"&&!(h instanceof RegExp)&&h.async){if(!d.$async)throw new Error("async format in sync schema");return(0,ie._)`await ${b}(${i})`}return typeof p=="function"?(0,ie._)`${b}(${i})`:(0,ie._)`${b}.test(${i})`}}}};ga.default=A0});var Qd=S(ya=>{"use strict";Object.defineProperty(ya,"__esModule",{value:!0});var q0=Gd(),L0=[q0.default];ya.default=L0});var Jd=S(zn=>{"use strict";Object.defineProperty(zn,"__esModule",{value:!0});zn.contentVocabulary=zn.metadataVocabulary=void 0;zn.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];zn.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]});var Zd=S(va=>{"use strict";Object.defineProperty(va,"__esModule",{value:!0});var W0=od(),H0=vd(),B0=Kd(),U0=Qd(),Xd=Jd(),K0=[W0.default,H0.default,(0,B0.default)(),U0.default,Xd.metadataVocabulary,Xd.contentVocabulary];va.default=K0});var eu=S(ir=>{"use strict";Object.defineProperty(ir,"__esModule",{value:!0});ir.DiscrError=void 0;var Yd=function(t){return t.Tag="tag",t.Mapping="mapping",t}(Yd||(ir.DiscrError=Yd={}))});var nu=S(ba=>{"use strict";Object.defineProperty(ba,"__esModule",{value:!0});var wn=R(),Ca=eu(),tu=ji(),G0=Qn(),Q0=B(),J0={message:({params:{discrError:t,tagName:n}})=>t===Ca.DiscrError.Tag?`tag "${n}" must be string`:`value of tag "${n}" must be in oneOf`,params:({params:{discrError:t,tag:n,tagName:e}})=>(0,wn._)`{error: ${t}, tag: ${e}, tagValue: ${n}}`},X0={keyword:"discriminator",type:"object",schemaType:"object",error:J0,code(t){let{gen:n,data:e,schema:i,parentSchema:r,it:o}=t,{oneOf:a}=r;if(!o.opts.discriminator)throw new Error("discriminator: requires discriminator option");let s=i.propertyName;if(typeof s!="string")throw new Error("discriminator: requires propertyName");if(i.mapping)throw new Error("discriminator: mapping is not supported");if(!a)throw new Error("discriminator: requires oneOf keyword");let l=n.let("valid",!1),c=n.const("tag",(0,wn._)`${e}${(0,wn.getProperty)(s)}`);n.if((0,wn._)`typeof ${c} == "string"`,()=>d(),()=>t.error(!1,{discrError:Ca.DiscrError.Tag,tag:c,tagName:s})),t.ok(l);function d(){let y=g();n.if(!1);for(let h in y)n.elseIf((0,wn._)`${c} === ${h}`),n.assign(l,u(y[h]));n.else(),t.error(!1,{discrError:Ca.DiscrError.Mapping,tag:c,tagName:s}),n.endIf()}function u(y){let h=n.name("valid"),v=t.subschema({keyword:"oneOf",schemaProp:y},h);return t.mergeEvaluated(v,wn.Name),h}function g(){var y;let h={},v=b(r),p=!0;for(let Y=0;Y<a.length;Y++){let I=a[Y];if(I?.$ref&&!(0,Q0.schemaHasRulesButRef)(I,o.self.RULES)){let mt=I.$ref;if(I=tu.resolveRef.call(o.self,o.schemaEnv.root,o.baseId,mt),I instanceof tu.SchemaEnv&&(I=I.schema),I===void 0)throw new G0.default(o.opts.uriResolver,o.baseId,mt)}let tt=(y=I?.properties)===null||y===void 0?void 0:y[s];if(typeof tt!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${s}"`);p=p&&(v||b(I)),k(tt,Y)}if(!p)throw new Error(`discriminator: "${s}" must be required`);return h;function b({required:Y}){return Array.isArray(Y)&&Y.includes(s)}function k(Y,I){if(Y.const)D(Y.const,I);else if(Y.enum)for(let tt of Y.enum)D(tt,I);else throw new Error(`discriminator: "properties/${s}" must have "const" or "enum"`)}function D(Y,I){if(typeof Y!="string"||Y in h)throw new Error(`discriminator: "${s}" values must be unique strings`);h[Y]=I}}}};ba.default=X0});var iu=S((f1,Z0)=>{Z0.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0}});var wa=S((ne,za)=>{"use strict";Object.defineProperty(ne,"__esModule",{value:!0});ne.MissingRefError=ne.ValidationError=ne.CodeGen=ne.Name=ne.nil=ne.stringify=ne.str=ne._=ne.KeywordCxt=ne.Ajv=void 0;var Y0=Yc(),e_=Zd(),t_=nu(),ru=iu(),n_=["/properties"],rr="http://json-schema.org/draft-07/schema",$n=class extends Y0.default{_addVocabularies(){super._addVocabularies(),e_.default.forEach(n=>this.addVocabulary(n)),this.opts.discriminator&&this.addKeyword(t_.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;let n=this.opts.$data?this.$dataMetaSchema(ru,n_):ru;this.addMetaSchema(n,rr,!1),this.refs["http://json-schema.org/schema"]=rr}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(rr)?rr:void 0)}};ne.Ajv=$n;za.exports=ne=$n;za.exports.Ajv=$n;Object.defineProperty(ne,"__esModule",{value:!0});ne.default=$n;var i_=Gn();Object.defineProperty(ne,"KeywordCxt",{enumerable:!0,get:function(){return i_.KeywordCxt}});var Sn=R();Object.defineProperty(ne,"_",{enumerable:!0,get:function(){return Sn._}});Object.defineProperty(ne,"str",{enumerable:!0,get:function(){return Sn.str}});Object.defineProperty(ne,"stringify",{enumerable:!0,get:function(){return Sn.stringify}});Object.defineProperty(ne,"nil",{enumerable:!0,get:function(){return Sn.nil}});Object.defineProperty(ne,"Name",{enumerable:!0,get:function(){return Sn.Name}});Object.defineProperty(ne,"CodeGen",{enumerable:!0,get:function(){return Sn.CodeGen}});var r_=Ri();Object.defineProperty(ne,"ValidationError",{enumerable:!0,get:function(){return r_.default}});var o_=Qn();Object.defineProperty(ne,"MissingRefError",{enumerable:!0,get:function(){return o_.default}})});var fu=S(dt=>{"use strict";Object.defineProperty(dt,"__esModule",{value:!0});dt.formatNames=dt.fastFormats=dt.fullFormats=void 0;function ct(t,n){return{validate:t,compare:n}}dt.fullFormats={date:ct(lu,Ta),time:ct(Sa(!0),Ea),"date-time":ct(ou(!0),du),"iso-time":ct(Sa(),cu),"iso-date-time":ct(ou(),uu),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:u_,"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:y_,uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:f_,int32:{type:"number",validate:h_},int64:{type:"number",validate:__},float:{type:"number",validate:su},double:{type:"number",validate:su},password:!0,binary:!0};dt.fastFormats=X($({},dt.fullFormats),{date:ct(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,Ta),time:ct(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,Ea),"date-time":ct(/^\d\d\d\d-[0-1]\d-[0-3]\dt(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,du),"iso-time":ct(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,cu),"iso-date-time":ct(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,uu),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i});dt.formatNames=Object.keys(dt.fullFormats);function a_(t){return t%4===0&&(t%100!==0||t%400===0)}var s_=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,l_=[0,31,28,31,30,31,30,31,31,30,31,30,31];function lu(t){let n=s_.exec(t);if(!n)return!1;let e=+n[1],i=+n[2],r=+n[3];return i>=1&&i<=12&&r>=1&&r<=(i===2&&a_(e)?29:l_[i])}function Ta(t,n){if(t&&n)return t>n?1:t<n?-1:0}var $a=/^(\d\d):(\d\d):(\d\d(?:\.\d+)?)(z|([+-])(\d\d)(?::?(\d\d))?)?$/i;function Sa(t){return function(e){let i=$a.exec(e);if(!i)return!1;let r=+i[1],o=+i[2],a=+i[3],s=i[4],l=i[5]==="-"?-1:1,c=+(i[6]||0),d=+(i[7]||0);if(c>23||d>59||t&&!s)return!1;if(r<=23&&o<=59&&a<60)return!0;let u=o-d*l,g=r-c*l-(u<0?1:0);return(g===23||g===-1)&&(u===59||u===-1)&&a<61}}function Ea(t,n){if(!(t&&n))return;let e=new Date("2020-01-01T"+t).valueOf(),i=new Date("2020-01-01T"+n).valueOf();if(e&&i)return e-i}function cu(t,n){if(!(t&&n))return;let e=$a.exec(t),i=$a.exec(n);if(e&&i)return t=e[1]+e[2]+e[3],n=i[1]+i[2]+i[3],t>n?1:t<n?-1:0}var xa=/t|\s/i;function ou(t){let n=Sa(t);return function(i){let r=i.split(xa);return r.length===2&&lu(r[0])&&n(r[1])}}function du(t,n){if(!(t&&n))return;let e=new Date(t).valueOf(),i=new Date(n).valueOf();if(e&&i)return e-i}function uu(t,n){if(!(t&&n))return;let[e,i]=t.split(xa),[r,o]=n.split(xa),a=Ta(e,r);if(a!==void 0)return a||Ea(i,o)}var c_=/\/|:/,d_=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function u_(t){return c_.test(t)&&d_.test(t)}var au=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm;function f_(t){return au.lastIndex=0,au.test(t)}var p_=-(2**31),m_=2**31-1;function h_(t){return Number.isInteger(t)&&t<=m_&&t>=p_}function __(t){return Number.isInteger(t)}function su(){return!0}var g_=/[^\\]\\Z/;function y_(t){if(g_.test(t))return!1;try{return new RegExp(t),!0}catch{return!1}}});var pu=S(xn=>{"use strict";Object.defineProperty(xn,"__esModule",{value:!0});xn.formatLimitDefinition=void 0;var v_=wa(),et=R(),Ft=et.operators,or={formatMaximum:{okStr:"<=",ok:Ft.LTE,fail:Ft.GT},formatMinimum:{okStr:">=",ok:Ft.GTE,fail:Ft.LT},formatExclusiveMaximum:{okStr:"<",ok:Ft.LT,fail:Ft.GTE},formatExclusiveMinimum:{okStr:">",ok:Ft.GT,fail:Ft.LTE}},C_={message:({keyword:t,schemaCode:n})=>(0,et.str)`should be ${or[t].okStr} ${n}`,params:({keyword:t,schemaCode:n})=>(0,et._)`{comparison: ${or[t].okStr}, limit: ${n}}`};xn.formatLimitDefinition={keyword:Object.keys(or),type:"string",schemaType:"string",$data:!0,error:C_,code(t){let{gen:n,data:e,schemaCode:i,keyword:r,it:o}=t,{opts:a,self:s}=o;if(!a.validateFormats)return;let l=new v_.KeywordCxt(o,s.RULES.all.format.definition,"format");l.$data?c():d();function c(){let g=n.scopeValue("formats",{ref:s.formats,code:a.code.formats}),y=n.const("fmt",(0,et._)`${g}[${l.schemaCode}]`);t.fail$data((0,et.or)((0,et._)`typeof ${y} != "object"`,(0,et._)`${y} instanceof RegExp`,(0,et._)`typeof ${y}.compare != "function"`,u(y)))}function d(){let g=l.schema,y=s.formats[g];if(!y||y===!0)return;if(typeof y!="object"||y instanceof RegExp||typeof y.compare!="function")throw new Error(`"${r}": format "${g}" does not define "compare" function`);let h=n.scopeValue("formats",{key:g,ref:y,code:a.code.formats?(0,et._)`${a.code.formats}${(0,et.getProperty)(g)}`:void 0});t.fail$data(u(h))}function u(g){return(0,et._)`${g}.compare(${e}, ${i}) ${or[r].fail} 0`}},dependencies:["format"]};var b_=t=>(t.addKeyword(xn.formatLimitDefinition),t);xn.default=b_});var gu=S((ci,_u)=>{"use strict";Object.defineProperty(ci,"__esModule",{value:!0});var Tn=fu(),z_=pu(),Pa=R(),mu=new Pa.Name("fullFormats"),w_=new Pa.Name("fastFormats"),Oa=(t,n={keywords:!0})=>{if(Array.isArray(n))return hu(t,n,Tn.fullFormats,mu),t;let[e,i]=n.mode==="fast"?[Tn.fastFormats,w_]:[Tn.fullFormats,mu],r=n.formats||Tn.formatNames;return hu(t,r,e,i),n.keywords&&(0,z_.default)(t),t};Oa.get=(t,n="full")=>{let i=(n==="fast"?Tn.fastFormats:Tn.fullFormats)[t];if(!i)throw new Error(`Unknown format "${t}"`);return i};function hu(t,n,e,i){var r,o;(r=(o=t.opts.code).formats)!==null&&r!==void 0||(o.formats=(0,Pa._)`require("ajv-formats/dist/formats").${i}`);for(let a of n)t.addFormat(a,e[a])}_u.exports=ci=Oa;Object.defineProperty(ci,"__esModule",{value:!0});ci.default=Oa});var zu=Qa(wa(),1),wu=Qa(gu(),1);var yu=(()=>{class t{cogSrv=w(Se);c;constructor(){this.c=this.cogSrv.merge("utilArray",{deepMapName:"deep",parentMapName:"parent",idMapName:"id",parentIdMapName:"parent_id",childrenMapName:"children",titleMapName:"title",checkedMapname:"checked",selectedMapname:"selected",expandedMapname:"expanded",disabledMapname:"disabled"})}treeToArr(e,i){let r=$({deepMapName:this.c.deepMapName,parentMapName:this.c.parentMapName,childrenMapName:this.c.childrenMapName,clearChildren:!0,cb:null},i),o=[],a=(s,l,c=0)=>{for(let d of s){d[r.deepMapName]=c,d[r.parentMapName]=l,r.cb&&r.cb(d,l,c),o.push(d);let u=d[r.childrenMapName];u!=null&&Array.isArray(u)&&u.length>0&&a(u,d,c+1),r.clearChildren&&delete d[r.childrenMapName]}};return a(e,null),o}arrToTree(e,i){if(!Array.isArray(e)||e.length===0)return[];let r=$({idMapName:this.c.idMapName,parentIdMapName:this.c.parentIdMapName,childrenMapName:this.c.childrenMapName,cb:null},i),o=[],a={},s=r.rootParentIdValue,l=e;if(!s){let c=l.map(u=>u[r.parentIdMapName]),d=c.findIndex(u=>u==null);s=d!==-1?c[d]:c.sort()[0]}for(let c of l){let d=c[r.idMapName],u=c[r.parentIdMapName];a[d]=a[d]||[],c[r.childrenMapName]=a[d],r.cb&&r.cb(c),u!==s?(a[u]=a[u]||[],a[u].push(c)):o.push(c)}return o}arrToTreeNode(e,i){let r=$({idMapName:this.c.idMapName,parentIdMapName:this.c.parentIdMapName,titleMapName:this.c.titleMapName,isLeafMapName:"isLeaf",checkedMapname:this.c.checkedMapname,selectedMapname:this.c.selectedMapname,expandedMapname:this.c.expandedMapname,disabledMapname:this.c.disabledMapname,cb:null},i),o=this.arrToTree(e,{idMapName:r.idMapName,parentIdMapName:r.parentIdMapName,childrenMapName:"children"});return this.visitTree(o,(a,s,l)=>{a.key=a[r.idMapName],a.title=a[r.titleMapName],a.checked=a[r.checkedMapname],a.selected=a[r.selectedMapname],a.expanded=a[r.expandedMapname],a.disabled=a[r.disabledMapname],a[r.isLeafMapName]==null?a.isLeaf=a.children.length===0:a.isLeaf=a[r.isLeafMapName],r.cb&&r.cb(a,s,l)}),o.map(a=>new bl(a))}visitTree(e,i,r){r=$({childrenMapName:this.c.childrenMapName},r);let o=(a,s,l)=>{for(let c of a){i(c,s,l);let d=c[r.childrenMapName];Array.isArray(d)&&d.length>0&&o(d,c,l+1)}};o(e,null,1)}findTree(e,i,r){let o;return this.visitTree(e,a=>{o===void 0&&i(a)&&(o=a)},r),o}getKeysByTreeNode(e,i){let r=$({includeHalfChecked:!0},i),o=[];return this.visitTree(e,(a,s,l)=>{(a.isChecked||r.includeHalfChecked&&a.isHalfChecked)&&o.push(r.cb?r.cb(a,s,l):r.keyMapName?a.origin[r.keyMapName]:a.key)}),o}baseFlat(e,i,r=[]){let o=-1;for(;++o<e.length;){let a=e[o];if(i>0&&Array.isArray(a))if(i>1)this.baseFlat(a,i-1,r);else{let s=-1,l=r.length;for(;++s<a.length;)r[l+s]=a[s]}else r[r.length]=a}return r}flat(e,i=1/0){return Array.isArray(e)?this.baseFlat(e,i):e}groupBy(e,i){return Array.isArray(e)?e.reduce((r,o)=>{let a=i(o);return Object.prototype.hasOwnProperty.call(r,a)?r[a].push(o):r[a]=[o],r},{}):{}}uniq(e,i){return Array.from(e.reduce((r,o)=>{let a=i?typeof i=="string"?o[i]:i(o):o;return r.has(a)||r.set(a,o),r},new Map).values())}static \u0275fac=function(i){return new(i||t)};static \u0275prov=nn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var S_=["target"];function x_(t,n){}function T_(t,n){t&1&&us(0)}var $u=["*"];function E_(t,n){t&1&&ae(0)}function P_(t,n){if(t&1&&G(0,"nz-icon",11),t&2){let e=f(5);_("nzType",e._btn.submit_icon.type)("nzTheme",e._btn.submit_icon.theme)("nzTwotoneColor",e._btn.submit_icon.twoToneColor)("nzIconfont",e._btn.submit_icon.iconfont)}}function O_(t,n){if(t&1&&G(0,"nz-icon",11),t&2){f();let e=Vn(1);_("nzType",e.type)("nzTheme",e.theme)("nzTwotoneColor",e.twoToneColor)("nzIconfont",e.iconfont)}}function M_(t,n){if(t&1){let e=ee();z(0,"button",13),K("click",function(){P(e);let r=f(5);return O(r.reset(!0))}),xr(1),x(2,O_,1,4,"nz-icon",11),j(3),C()}if(t&2){f(3);let e=Vn(0),i=f(2);_("nzType",i._btn.reset_type)("nzSize",e.size)("disabled",i.loading),m();let r=Tr(i._btn.reset_icon);m(),T(r?2:-1),m(),se(" ",i._btn.reset," ")}}function N_(t,n){if(t&1&&(z(0,"button",10),x(1,P_,1,4,"nz-icon",11),j(2),C(),x(3,M_,4,6,"button",12)),t&2){f(2);let e=Vn(0),i=f(2);_("nzType",i._btn.submit_type)("nzSize",e.size)("nzLoading",i.loading)("disabled",i.liveValidate&&!i.valid),m(),T(i._btn.submit_icon?1:-1),m(),se(" ",i._btn.submit," "),m(),T(i._btn.reset?3:-1)}}function I_(t,n){}function k_(t,n){if(t&1&&N(0,I_,0,0,"ng-template",4),t&2){f(4);let e=le(1);_("ngTemplateOutlet",e)}}function D_(t,n){if(t&1&&(z(0,"nz-form-item",6)(1,"div",7)(2,"div",8)(3,"div",9),x(4,N_,4,7)(5,k_,1,1,null,4),C()()()()),t&2){f();let e=Vn(0),i=f(2);it(e.class),_("fixed-label",e.spanLabelFixed),m(),_("nzSpan",i.btnGrid.span)("nzOffset",i.btnGrid.offset)("nzXs",i.btnGrid.xs)("nzSm",i.btnGrid.sm)("nzMd",i.btnGrid.md)("nzLg",i.btnGrid.lg)("nzXl",i.btnGrid.xl)("nzXXl",i.btnGrid.xxl),m(3),T(i.button?4:5)}}function V_(t,n){if(t&1&&(xr(0),x(1,D_,6,12,"nz-form-item",5)),t&2){let e=Tr(f(2)._btn.render);m(),T(e?1:-1)}}function R_(t,n){}function F_(t,n){if(t&1&&N(0,R_,0,0,"ng-template",4),t&2){f(2);let e=le(1);_("ngTemplateOutlet",e)}}function j_(t,n){if(t&1&&x(0,V_,2,2)(1,F_,1,1,null,4),t&2){let e=f();T(e.button!=="none"?0:1)}}function A_(t,n){if(t&1&&G(0,"sf-item",3),t&2){let e=f(),i=le(3);_("formProperty",e.rootProperty)("footer",i)}}function q_(t,n){if(t&1&&G(0,"nz-icon",9),t&2){let e=f(4);_("nzTooltipTitle",e.oh.text)("nzTooltipPlacement",e.oh.placement)("nzTooltipTrigger",e.oh.trigger)("nzTooltipColor",e.oh.bgColor)("nzTooltipOverlayClassName",e.oh.overlayClassName)("nzTooltipOverlayStyle",e.oh.overlayStyle)("nzTooltipMouseEnterDelay",e.oh.mouseEnterDelay)("nzTooltipMouseLeaveDelay",e.oh.mouseLeaveDelay)("nzType",e.oh.icon)}}function L_(t,n){if(t&1&&(z(0,"span",8),j(1),x(2,q_,1,9,"nz-icon",9),C()),t&2){let e=f(3);m(),se(" ",e.ui.optional," "),m(),T(e.oh?2:-1)}}function W_(t,n){if(t&1&&(z(0,"label")(1,"span",7),j(2),C(),x(3,L_,3,2,"span",8),C()),t&2){let e=f(2);Q("ant-form-item-required",e.ui._required),Fe("for",e.id),m(2),re(e.t),m(),T(e.ui.optional||e.oh?3:-1)}}function H_(t,n){if(t&1&&(z(0,"div",0),x(1,W_,4,5,"label",6),C()),t&2){let e=f();_("nzSpan",e.ui.spanLabel),m(),T(e.t?1:-1)}}function B_(t,n){if(t&1&&(z(0,"div",4)(1,"div",10),j(2),C()()),t&2){let e=f();_("@helpMotion",void 0),m(2),se(" ",e.error," ")}}function U_(t,n){if(t&1&&G(0,"div",5),t&2){let e=f();_("innerHTML",e.ui._description,zt)}}function K_(t,n){if(t&1&&G(0,"nz-icon",7),t&2){let e=f(2);_("nzTooltipTitle",e.oh.text)("nzTooltipPlacement",e.oh.placement)("nzTooltipTrigger",e.oh.trigger)("nzTooltipOverlayClassName",e.oh.overlayClassName)("nzTooltipOverlayStyle",e.oh.overlayStyle)("nzTooltipMouseEnterDelay",e.oh.mouseEnterDelay)("nzTooltipMouseLeaveDelay",e.oh.mouseLeaveDelay)("nzType",e.oh.icon)}}function G_(t,n){if(t&1){let e=ee();z(0,"div",0)(1,"label"),j(2),z(3,"span",6),j(4),x(5,K_,1,8,"nz-icon",7),C()(),z(6,"div",8)(7,"button",9),K("click",function(){P(e);let r=f();return O(r.addItem())}),C()()()}if(t&2){let e=f();_("nzSpan",e.ui.spanLabel),m(),Q("ant-form-item-required",e.ui.required),m(),se(" ",e.schema.title," "),m(2),se(" ",e.ui.optional," "),m(),T(e.oh?5:-1),m(2),_("nzType",e.addType)("disabled",e.addDisabled)("innerHTML",e.addTitle,zt)}}function Q_(t,n){if(t&1){let e=ee();z(0,"span",13),K("click",function(){P(e);let r=f(2).$index,o=f();return O(o.removeItem(r))}),G(1,"nz-icon",14),C()}if(t&2){let e=f(3);Fe("title",e.removeTitle)}}function J_(t,n){if(t&1&&(z(0,"div",10)(1,"nz-card"),G(2,"sf-item",11),x(3,Q_,2,1,"span",12),C()()),t&2){let e=f(),i=e.$implicit,r=e.$index,o=f();_("nzSpan",o.arraySpan),Fe("data-index",r),m(2),_("formProperty",i),m(),T(o.showRemove?3:-1)}}function X_(t,n){if(t&1&&x(0,J_,4,4,"div",10),t&2){let e=n.$implicit;T(e.visible&&!e.ui.hidden?0:-1)}}function Z_(t,n){if(t&1&&(z(0,"div",4),j(1),C()),t&2){let e=f();m(),re(e.error)}}function Y_(t,n){if(t&1&&G(0,"div",5),t&2){let e=f();_("innerHTML",e.ui._description,zt)}}function eg(t,n){if(t&1){let e=ee();z(0,"label",3),xt("ngModelChange",function(r){P(e);let o=f(2);return St(o.allChecked,r)||(o.allChecked=r),O(r)}),K("ngModelChange",function(){P(e);let r=f(2);return O(r.onAllChecked())}),j(1),C()}if(t&2){let e=f(2);$t("ngModel",e.allChecked),_("nzIndeterminate",e.indeterminate),m(),se(" ",e.ui.checkAllText||e.l.checkAllText," ")}}function tg(t,n){if(t&1&&x(0,eg,2,3,"label",2),t&2){let e=f();T(e.ui.checkAll?0:-1)}}function ng(t,n){if(t&1&&G(0,"nz-icon",7),t&2){let e=f(3);_("nzTooltipTitle",e.oh.text)("nzTooltipPlacement",e.oh.placement)("nzTooltipTrigger",e.oh.trigger)("nzTooltipOverlayClassName",e.oh.overlayClassName)("nzTooltipOverlayStyle",e.oh.overlayStyle)("nzTooltipMouseEnterDelay",e.oh.mouseEnterDelay)("nzTooltipMouseLeaveDelay",e.oh.mouseLeaveDelay)("nzType",e.oh.icon)}}function ig(t,n){if(t&1){let e=ee();z(0,"label",5),K("ngModelChange",function(r){P(e);let o=f(2);return O(o._setValue(r))}),j(1),z(2,"span",6),j(3),x(4,ng,1,8,"nz-icon",7),C()()}if(t&2){let e=f(2);_("nzDisabled",e.disabled)("ngModel",e.value),m(),se(" ",e.schema.title," "),m(2),se(" ",e.ui.optional," "),m(),T(e.oh?4:-1)}}function rg(t,n){}function og(t,n){if(t&1){let e=ee();N(0,rg,0,0,"ng-template",9),z(1,"nz-checkbox-group",10),K("ngModelChange",function(r){P(e);let o=f(3);return O(o.groupInGridChange(r))}),C()}if(t&2){let e=f(3),i=le(1);_("ngTemplateOutlet",i),m(),_("ngModel",e.value)("nzOptions",e.data)}}function ag(t,n){}function sg(t,n){if(t&1&&(z(0,"div",13),N(1,ag,0,0,"ng-template",9),C()),t&2){let e=f(4),i=le(1);_("nzSpan",e.grid_span),m(),_("ngTemplateOutlet",i)}}function lg(t,n){if(t&1&&(z(0,"div",13)(1,"label",14),j(2),C()()),t&2){let e=n.$implicit,i=f(4);_("nzSpan",i.grid_span),m(),_("nzValue",e.value)("ngModel",e.checked)("nzDisabled",e.disabled),m(),se(" ",e.label," ")}}function cg(t,n){if(t&1){let e=ee();z(0,"nz-checkbox-wrapper",11),K("nzOnChange",function(r){P(e);let o=f(3);return O(o.groupInGridChange(r))}),z(1,"div",12),x(2,sg,2,2,"div",13),be(3,lg,3,5,"div",13,Ue),C()()}if(t&2){let e=f(3);m(2),T(e.ui.checkAll?2:-1),m(),ze(e.data)}}function dg(t,n){if(t&1&&x(0,og,2,3)(1,cg,5,1,"nz-checkbox-wrapper",8),t&2){let e=f(2);T(e.grid_span===0?0:1)}}function ug(t,n){if(t&1&&x(0,ig,5,5,"label",4)(1,dg,2,1),t&2){let e=f();T(e.data.length===0?0:1)}}var fg=(t,n,e)=>({$implicit:t,schema:n,ui:e});function pg(t,n){}function mg(t,n){if(t&1){let e=ee();z(0,"nz-year-picker",5),xt("ngModelChange",function(r){P(e);let o=f();return St(o.displayValue,r)||(o.displayValue=r),O(r)}),K("ngModelChange",function(r){P(e);let o=f();return O(o._change(r))})("nzOnOpenChange",function(r){P(e);let o=f();return O(o._openChange(r))}),C()}if(t&2){let e=f();it(e.ui.className),_("nzId",e.id)("nzDisabled",e.disabled)("nzSize",e.ui.size)("nzFormat",e.displayFormat),$t("ngModel",e.displayValue),_("nzAllowClear",e.i.allowClear)("nzDisabledDate",e.ui.disabledDate)("nzLocale",e.ui.locale)("nzPlaceHolder",e.ui.placeholder)("nzPopupStyle",e.ui.popupStyle)("nzDropdownClassName",e.ui.dropdownClassName)("nzRenderExtraFooter",e.ui.renderExtraFooter)("nzInputReadOnly",e.ui.inputReadOnly)("nzInline",e.ui.inline)}}function hg(t,n){if(t&1){let e=ee();z(0,"nz-month-picker",5),xt("ngModelChange",function(r){P(e);let o=f();return St(o.displayValue,r)||(o.displayValue=r),O(r)}),K("ngModelChange",function(r){P(e);let o=f();return O(o._change(r))})("nzOnOpenChange",function(r){P(e);let o=f();return O(o._openChange(r))}),C()}if(t&2){let e=f();it(e.ui.className),_("nzId",e.id)("nzDisabled",e.disabled)("nzSize",e.ui.size)("nzFormat",e.displayFormat),$t("ngModel",e.displayValue),_("nzAllowClear",e.i.allowClear)("nzDisabledDate",e.ui.disabledDate)("nzLocale",e.ui.locale)("nzPlaceHolder",e.ui.placeholder)("nzPopupStyle",e.ui.popupStyle)("nzDropdownClassName",e.ui.dropdownClassName)("nzRenderExtraFooter",e.ui.renderExtraFooter)("nzInputReadOnly",e.ui.inputReadOnly)("nzInline",e.ui.inline)}}function _g(t,n){if(t&1){let e=ee();z(0,"nz-week-picker",6),xt("ngModelChange",function(r){P(e);let o=f();return St(o.displayValue,r)||(o.displayValue=r),O(r)}),K("ngModelChange",function(r){P(e);let o=f();return O(o._change(r))})("nzOnOpenChange",function(r){P(e);let o=f();return O(o._openChange(r))}),C()}if(t&2){let e=f();it(e.ui.className),_("nzId",e.id)("nzDisabled",e.disabled)("nzSize",e.ui.size)("nzFormat",e.displayFormat),$t("ngModel",e.displayValue),_("nzAllowClear",e.i.allowClear)("nzDisabledDate",e.ui.disabledDate)("nzLocale",e.ui.locale)("nzPlaceHolder",e.ui.placeholder)("nzPopupStyle",e.ui.popupStyle)("nzDropdownClassName",e.ui.dropdownClassName)("nzInputReadOnly",e.ui.inputReadOnly)("nzInline",e.ui.inline)}}function gg(t,n){if(t&1){let e=ee();z(0,"nz-range-picker",7),xt("ngModelChange",function(r){P(e);let o=f();return St(o.displayValue,r)||(o.displayValue=r),O(r)}),K("ngModelChange",function(r){P(e);let o=f();return O(o._change(r))})("nzOnOpenChange",function(r){P(e);let o=f();return O(o._openChange(r))})("nzOnOk",function(r){P(e);let o=f();return O(o._ok(r))}),C()}if(t&2){let e=f();it(e.ui.className),_("nzId",e.id)("nzDisabled",e.disabled)("nzSize",e.ui.size)("nzFormat",e.displayFormat),$t("ngModel",e.displayValue),_("nzAllowClear",e.i.allowClear)("nzDisabledDate",e.ui.disabledDate)("nzLocale",e.ui.locale)("nzPlaceHolder",e.ui.placeholder)("nzPopupStyle",e.ui.popupStyle)("nzDropdownClassName",e.ui.dropdownClassName)("nzDisabledTime",e.ui.disabledTime)("nzRenderExtraFooter",e.ui.renderExtraFooter)("nzRanges",e.ui.ranges)("nzShowTime",e.ui.showTime)("nzSeparator",e.ui.separator)("nzShowWeekNumber",e.ui.showWeekNumber||!1)("nzMode",e.ui.rangeMode)("nzInputReadOnly",e.ui.inputReadOnly)("nzInline",e.ui.inline)}}function yg(t,n){if(t&1){let e=ee();z(0,"nz-date-picker",8),xt("ngModelChange",function(r){P(e);let o=f();return St(o.displayValue,r)||(o.displayValue=r),O(r)}),K("ngModelChange",function(r){P(e);let o=f();return O(o._change(r))})("nzOnOpenChange",function(r){P(e);let o=f();return O(o._openChange(r))})("nzOnOk",function(r){P(e);let o=f();return O(o._ok(r))}),C()}if(t&2){let e=f();it(e.ui.className),_("nzId",e.id)("nzDisabled",e.disabled)("nzSize",e.ui.size)("nzFormat",e.displayFormat),$t("ngModel",e.displayValue),_("nzAllowClear",e.i.allowClear)("nzDisabledDate",e.ui.disabledDate)("nzLocale",e.ui.locale)("nzPlaceHolder",e.ui.placeholder)("nzPopupStyle",e.ui.popupStyle)("nzDropdownClassName",e.ui.dropdownClassName)("nzDisabledTime",e.ui.disabledTime)("nzRenderExtraFooter",e.ui.renderExtraFooter)("nzShowTime",e.ui.showTime)("nzShowToday",e.i.showToday)("nzShowWeekNumber",e.ui.showWeekNumber||!1)("nzInputReadOnly",e.ui.inputReadOnly)("nzInline",e.ui.inline)}}var vg=()=>[],Cg=()=>({$implicit:!0});function bg(t,n){if(t&1&&(z(0,"div",4),j(1),C()),t&2){let e=f(2);m(),re(e.title)}}function zg(t,n){if(t&1&&(z(0,"div",6),G(1,"sf-item",7),C()),t&2){let e=f().$implicit;_("nzSpan",e.grid.span)("nzOffset",e.grid.offset)("nzXs",e.grid.xs)("nzSm",e.grid.sm)("nzMd",e.grid.md)("nzLg",e.grid.lg)("nzXl",e.grid.xl)("nzXXl",e.grid.xxl),m(),_("formProperty",e.property)("fixed-label",e.spanLabelFixed)}}function wg(t,n){if(t&1&&x(0,zg,2,10,"div",6),t&2){let e=n.$implicit;T(e.property.visible&&e.show?0:-1)}}function $g(t,n){if(t&1&&(z(0,"div",5),be(1,wg,1,1,null,null,Ue),C()),t&2){let e=f(2);_("nzGutter",e.grid.gutter),m(),ze(e.list)}}function Sg(t,n){if(t&1&&G(0,"sf-item",7),t&2){let e=f().$implicit;_("formProperty",e.property)("fixed-label",e.spanLabelFixed)}}function xg(t,n){if(t&1&&x(0,Sg,1,2,"sf-item",7),t&2){let e=n.$implicit;T(e.property.visible&&e.show?0:-1)}}function Tg(t,n){if(t&1&&be(0,xg,1,1,null,null,Ue),t&2){let e=f(2);ze(e.list)}}function Eg(t,n){if(t&1&&(x(0,bg,2,1,"div",4),x(1,$g,3,1,"div",5)(2,Tg,2,0)),t&2){let e=n.$implicit,i=f();T(!e&&i.title?0:-1),m(),T(i.grid?1:2)}}function Pg(t,n){if(t&1&&G(0,"nz-icon",11),t&2){let e=f(3);_("nzType",e.expand?"down":"up")}}function Og(t,n){if(t&1&&G(0,"nz-icon",13),t&2){let e=f(4);_("nzTooltipTitle",e.oh.text)("nzTooltipPlacement",e.oh.placement)("nzTooltipTrigger",e.oh.trigger)("nzTooltipColor",e.oh.bgColor)("nzTooltipOverlayClassName",e.oh.overlayClassName)("nzTooltipOverlayStyle",e.oh.overlayStyle)("nzTooltipMouseEnterDelay",e.oh.mouseEnterDelay)("nzTooltipMouseLeaveDelay",e.oh.mouseLeaveDelay)("nzType",e.oh.icon)}}function Mg(t,n){if(t&1&&(z(0,"span",12),j(1),x(2,Og,1,9,"nz-icon",13),C()),t&2){let e=f(3);m(),se(" ",e.ui.optional," "),m(),T(e.oh?2:-1)}}function Ng(t,n){if(t&1){let e=ee();z(0,"div",10),K("click",function(){P(e);let r=f(2);return O(r.changeExpand())}),x(1,Pg,1,1,"nz-icon",11),j(2),x(3,Mg,3,2,"span",12),C()}if(t&2){let e=f(2);Q("point",e.showExpand),m(),T(e.showExpand?1:-1),m(),se(" ",e.title," "),m(),T(e.ui.optional||e.oh?3:-1)}}function Ig(t,n){}function kg(t,n){if(t&1&&(z(0,"nz-card",8),N(1,Ng,4,5,"ng-template",null,1,ke)(3,Ig,0,0,"ng-template",9),C()),t&2){let e=le(2),i=f(),r=le(1);Q("sf__object-card-fold",!i.expand),_("nzTitle",e)("nzExtra",i.ui.cardExtra)("nzSize",i.ui.cardSize||"small")("nzActions",i.ui.cardActions||on(10,vg))("nzBodyStyle",i.ui.cardBodyStyle)("nzBordered",i.ui.cardBordered||!0),m(3),_("ngTemplateOutlet",r)("ngTemplateOutletContext",on(11,Cg))}}function Dg(t,n){}function Vg(t,n){if(t&1&&N(0,Dg,0,0,"ng-template",3),t&2){f();let e=le(1);_("ngTemplateOutlet",e)}}function Rg(t,n){if(t&1&&(z(0,"label",2),G(1,"span",3),C()),t&2){let e=n.$implicit,i=f(2);_("nzValue",e.value)("nzDisabled",i.disabled||e.disabled),m(),_("innerHTML",e.label,zt)}}function Fg(t,n){if(t&1&&be(0,Rg,2,3,"label",2,Ue),t&2){let e=f();ze(e.data)}}function jg(t,n){if(t&1&&(z(0,"label",4),G(1,"span",3),C()),t&2){let e=n.$implicit,i=f(2);_("nzValue",e.value)("nzDisabled",i.disabled||e.disabled),m(),_("innerHTML",e.label,zt)}}function Ag(t,n){if(t&1&&be(0,jg,2,3,"label",4,Ue),t&2){let e=f();ze(e.data)}}function qg(t,n){if(t&1&&G(0,"nz-option",3),t&2){let e=n.$implicit;_("nzLabel",e.label)("nzValue",e.value)("nzHide",e.hide)("nzDisabled",e.disabled)}}function Lg(t,n){if(t&1&&be(0,qg,1,4,"nz-option",3,Ue),t&2){let e=f();ze(e.data)}}function Wg(t,n){if(t&1&&G(0,"nz-option",5),t&2){let e=n.$implicit;_("nzLabel",e.label)("nzValue",e.value)("nzDisabled",e.disabled)("nzHide",e.hide)}}function Hg(t,n){if(t&1&&(z(0,"nz-option-group",4),be(1,Wg,1,4,"nz-option",5,Ue),C()),t&2){let e=n.$implicit;_("nzLabel",e.label),m(),ze(e.children)}}function Bg(t,n){if(t&1&&be(0,Hg,3,1,"nz-option-group",4,Ue),t&2){let e=f();ze(e.data)}}function Ug(t,n){if(t&1&&(z(0,"nz-option",2),G(1,"nz-icon",6),j(2),C()),t&2){let e=f();m(2),se(" ",e.ui.searchLoadingText," ")}}function Kg(t,n){if(t&1){let e=ee();z(0,"input",4),K("ngModelChange",function(r){P(e);let o=f();return O(o.change(r))})("keyup.enter",function(r){P(e);let o=f();return O(o.enter(r))})("focus",function(r){P(e);let o=f();return O(o.focus(r))})("blur",function(r){P(e);let o=f();return O(o.blur(r))}),C()}if(t&2){let e=f();_("disabled",e.disabled)("nzSize",e.ui.size)("nzBorderless",e.ui.borderless)("ngModel",e.value),Fe("id",e.id)("disabled",e.disabled)("maxLength",e.schema.maxLength||null)("type",e.ui.type||"text")("placeholder",e.ui.placeholder)("autocomplete",e.ui.autocomplete)("autoFocus",e.ui.autofocus)}}function Gg(t,n){}function Qg(t,n){if(t&1&&(z(0,"nz-input-group",2),N(1,Gg,0,0,"ng-template",3),C()),t&2){let e=f(),i=le(2);_("nzAddOnBefore",e.ui.addOnBefore)("nzAddOnAfter",e.ui.addOnAfter)("nzAddOnBeforeIcon",e.ui.addOnBeforeIcon)("nzAddOnAfterIcon",e.ui.addOnAfterIcon)("nzPrefix",e.ui.prefix)("nzPrefixIcon",e.ui.prefixIcon)("nzSuffix",e.ui.suffix)("nzSuffixIcon",e.ui.suffixIcon),m(),_("ngTemplateOutlet",i)}}function Jg(t,n){}function Xg(t,n){if(t&1&&N(0,Jg,0,0,"ng-template",3),t&2){f();let e=le(2);_("ngTemplateOutlet",e)}}function Zg(t,n){if(t&1&&G(0,"span",1),t&2){let e=f();_("innerHTML",e.text,zt)}}function Yg(t,n){if(t&1&&G(0,"span",2),t&2){let e=f();_("innerText",e.text)}}function ey(t,n){if(t&1){let e=ee();z(0,"textarea",4),K("ngModelChange",function(r){P(e);let o=f();return O(o.change(r))})("focus",function(r){P(e);let o=f();return O(o.focus(r))})("blur",function(r){P(e);let o=f();return O(o.blur(r))}),j(1,"      "),C()}if(t&2){let e=f();_("disabled",e.disabled)("nzSize",e.ui.size)("ngModel",e.value)("nzAutosize",e.autosize)("nzBorderless",e.ui.borderless),Fe("id",e.id)("disabled",e.disabled)("maxLength",e.schema.maxLength||null)("placeholder",e.ui.placeholder)}}function ty(t,n){if(t&1){let e=ee();z(0,"nz-textarea-count",2)(1,"textarea",4),K("ngModelChange",function(r){P(e);let o=f();return O(o.change(r))})("focus",function(r){P(e);let o=f();return O(o.focus(r))})("blur",function(r){P(e);let o=f();return O(o.blur(r))}),j(2,"        "),C()()}if(t&2){let e=f();_("nzMaxCharacterCount",e.ui.maxCharacterCount)("nzComputeCharacterCount",e.ui.computeCharacterCount),m(),_("disabled",e.disabled)("nzSize",e.ui.size)("ngModel",e.value)("nzAutosize",e.autosize)("nzBorderless",e.ui.borderless),Fe("id",e.id)("disabled",e.disabled)("maxLength",e.schema.maxLength||null)("placeholder",e.ui.placeholder)}}function ny(t,n){}function iy(t,n){if(t&1&&N(0,ny,0,0,"ng-template",3),t&2){f();let e=le(2);_("ngTemplateOutlet",e)}}var ry={formatMap:{"date-time":{widget:"date",showTime:!0,format:"yyyy-MM-dd'T'HH:mm:ss.SSSxxx"},date:{widget:"date",format:"yyyy-MM-dd"},"full-date":{widget:"date",format:"yyyy-MM-dd"},time:{widget:"time",format:"HH:mm:ss.SSSxxx"},"full-time":{widget:"time"},week:{widget:"date",mode:"week",format:"yyyy-ww"},month:{widget:"date",mode:"month",format:"yyyy-MM"},uri:{widget:"upload"},email:{widget:"autocomplete",type:"email"},color:{widget:"string",type:"color"},"":{widget:"string"}},ingoreKeywords:["type","enum"],liveValidate:!0,autocomplete:null,firstVisual:!1,onlyVisual:!1,errors:{},ui:{},button:{submit_type:"primary",reset_type:"default"},uiDateStringFormat:"yyyy-MM-dd HH:mm:ss",uiDateNumberFormat:"T",uiTimeStringFormat:"HH:mm:ss",uiTimeNumberFormat:"T",uiEmailSuffixes:["qq.com","163.com","gmail.com","126.com","aliyun.com"],delay:!1};function Da(t){return t.merge("sf",ry)}var ut="/";function Su(t){return t==null}function He(t,n){return t==null?n:`${t}`!="false"}function ar(t,...n){}function oy(t,n){let e=/^#\/definitions\/(.*)$/.exec(t);if(e&&e[1]){let i=e[1].split(ut),r=n;for(let o of i)if(o=o.replace(/~1/g,ut).replace(/~0/g,"~"),Object.prototype.hasOwnProperty.call(r,o))r=r[o];else throw new Error(`Could not find a definition for ${t}.`);return r}throw new Error(`Could not find a definition for ${t}.`)}function Va(t,n={}){if(Object.prototype.hasOwnProperty.call(t,"$ref")){let i=oy(t.$ref,n),e=t,{$ref:r}=e,o=Ga(e,["$ref"]);return Va($($({},i),o),n)}return t}function ay(t,n){let e=(i,r)=>{sy(i,r),Object.keys(i.properties).forEach(o=>{let a=i.properties[o],s=`$${o}`;a.items&&e(a.items,r[s].$items),a.properties&&e(a,r[s])})};e(t,n)}function sy(t,n){if(!(Object.prototype.hasOwnProperty.call(t,"if")&&Object.prototype.hasOwnProperty.call(t,"then")))return null;if(!t.if.properties)throw new Error("if: does not contain 'properties'");let e=Object.keys(t.properties),i=Object.keys(t.if.properties);Ma(e,i),Ma(e,t.then.required),t.required=t.required.concat(t.then.required);let r=Object.prototype.hasOwnProperty.call(t,"else");r&&(Ma(e,t.else.required),t.required=t.required.concat(t.else.required));let o={},a={};return i.forEach(s=>{let l=t.if.properties[s].enum;o[s]=l,r&&(a[s]=c=>!l.includes(c))}),t.then.required.forEach(s=>n[`$${s}`].visibleIf=o),r&&t.else.required.forEach(s=>n[`$${s}`].visibleIf=a),t}function Ma(t,n){n.forEach(e=>{if(!t.includes(e))throw new Error(`if: properties does not contain '${e}'`)})}function ly(t,n){if(!Array.isArray(n))return t;let e=d=>d.reduce((u,g)=>(u[g]=!0,u),{}),i=d=>`property [${d.join("', '")}]`,r=e(t),o=e(n),a=n.filter(d=>d!=="*"&&!r[d]);if(a.length)throw new Error(`ui schema order list contains extraneous ${i(a)}`);let s=t.filter(d=>!o[d]),l=n.indexOf("*");if(l===-1){if(s.length)throw new Error(`ui schema order list does not contain ${i(s)}`);return n}if(l!==n.lastIndexOf("*"))throw new Error("ui schema order list contains more than one wildcard item");let c=[...n];return c.splice(l,1,...s),c}function cy(t,n,e){return Su(t)||!Array.isArray(t)||t.length===0?[]:(typeof t[0]!="object"&&(t=t.map(i=>({label:i,value:i}))),n&&(Array.isArray(n)||(n=[n]),t.forEach(i=>{~n.indexOf(i.value)&&(i.checked=!0)})),e&&t.forEach(i=>i.disabled=!0),t)}function vu(t,n,e){return cy(Fn(t||[]),n,e)}function Ra(t,n,e,i){return typeof n.asyncData=="function"?n.asyncData(i).pipe(At(r=>vu(r,e,t.readOnly))):Ya(vu(t.enum,e,t.readOnly))}var sr=class{injector;_options;_errors=null;_valueChanges=new jt({path:null,pathValue:null,value:null});_errorsChanges=new jt(null);_visible=!0;_visibilityChanges=new jt(!0);_root;_parent;_objErrors={};schemaValidator;schema;ui;formData;_value=null;widget;path;propertyId;constructor(n,e,i,r,o,a,s,l){this.injector=n,this._options=l,this.schema=i,this.ui=r,this.schemaValidator=e.createValidatorFn(i,{ingoreKeywords:this.ui.ingoreKeywords,debug:r.debug}),this.formData=o||i.default,this._parent=a,a?this._root=a.root:this._root=this,this.path=s}get valueChanges(){return this._valueChanges}get errorsChanges(){return this._errorsChanges}get type(){return this.schema.type}get parent(){return this._parent}get root(){return this._root}get value(){return this._value}get errors(){return this._errors}get visible(){return this._visible}get valid(){return this._errors===null||this._errors.length===0}get options(){return this._options}cd(n=!1){this.widget?.detectChanges(n)}updateValueAndValidity(n){n=$({onlySelf:!1,emitValidator:!0,emitValueEvent:!0,updatePath:"",updateValue:null},n),this._updateValue(),n.emitValueEvent&&(n.updatePath=n.updatePath||this.path,n.updateValue=n.updateValue==null?this.value:n.updateValue,this.valueChanges.next({value:this.value,path:n.updatePath,pathValue:n.updateValue})),n.emitValidator&&this.ui.liveValidate===!0&&this._runValidation(),this.parent&&!n.onlySelf&&this.parent.updateValueAndValidity(X($({},n),{emitValidator:!1}))}searchProperty(n){let e=this,i=null,r=null;if(n[0]===ut)i=this.findRoot(),r=i.getProperty(n.substring(1));else for(;r===null&&e.parent!==null;)e=i=e.parent,r=i.getProperty(n);return r}findRoot(){let n=this;for(;n.parent!==null;)n=n.parent;return n}isEmptyData(n){if(Su(n))return!0;switch(this.type){case"string":return`${n}`.length===0}return!1}_runValidation(){let n,e=this.isEmptyData(this._value);e&&this.ui._required?n=[{keyword:"required"}]:e?n=[]:n=this.schemaValidator(this._value)||[];let i=this.ui.validator;if(typeof i=="function"){let r=i(this.value,this,this.findRoot());if(r instanceof Xa){r.subscribe(o=>{this.setCustomErrors(n,o),this.cd(!1)});return}this.setCustomErrors(n,r);return}this._errors=n,this.setErrors(this._errors)}setCustomErrors(n,e){let i=Array.isArray(e)&&e.length>0;i&&e.forEach(r=>{if(!r.message)throw new Error("The custom validator must contain a 'message' attribute to viewed error text");r.keyword=null}),this._errors=i?n.concat(...e):n,this.setErrors(this._errors)}setErrors(n=[],e=!0){let i=Array.isArray(n)?n:[n];if(e&&i&&!this.ui.onlyVisual){let r=this.widget&&this.widget.l.error||{};i=i.map(o=>{let a=o.keyword==null&&o.message?o.message:(this.ui.errors||{})[o.keyword]||this._options.errors[o.keyword]||r[o.keyword]||"";return a&&typeof a=="function"&&(a=a(o)),a&&(~a.indexOf("{")&&o.params&&(a=a.replace(/{([.a-zA-Z0-9]+)}/g,(s,l)=>o.params[l]||"")),o.message=a),o})}this._errors=i,this._errorsChanges.next(i),this._parent&&this._parent.setParentAndPlatErrors(i,this.path)}setParentAndPlatErrors(n,e){this._objErrors[e]=n;let i=[];Object.keys(this._objErrors).forEach(r=>{let o=this.searchProperty(r);o&&!o.visible||i.push(...this._objErrors[r])}),this.setErrors(i,!1)}setVisible(n){return this._visible=n,this._visibilityChanges.next(n),n&&this.injector.get(Dn).onStable.pipe(ts(1)).subscribe(()=>{this.resetValue(this.value,!0)}),this}_bindVisibility(){let n=this.ui.visibleIf;if(typeof n=="object"&&Object.keys(n).length===0)this.setVisible(!1);else if(n!=null){let e=[];for(let i in n)if(Object.prototype.hasOwnProperty.call(n,i)){let r=this.searchProperty(i);if(r){let o=r.valueChanges.pipe(At(l=>{let c=n[i];if(typeof c=="function"){let d=c(l.value,r);if(typeof d=="object"){let u=$({show:!1,required:!1},d),g=this.parent?.schema.required;if(g&&this.propertyId){let y=g.findIndex(h=>h===this.propertyId);u.required?y===-1&&g.push(this.propertyId):y!==-1&&g.splice(y,1),this.ui._required=u.required}return u.show}return d}return c.indexOf("$ANY$")!==-1?l.value&&l.value.length>0:c.indexOf(l.value)!==-1})),a=r._visibilityChanges,s=br([o,a]).pipe(At(l=>l[0]&&l[1]));e.push(s)}}br(e).pipe(At(i=>this.ui.visibleIfLogical==="and"?i.every(r=>r):i.some(r=>r)),wr()).subscribe(i=>this.setVisible(i))}}updateFeedback(n=""){this.ui.feedback=n,this.widget?.injector.get(Wt).formStatusChanges.next({status:n,hasFeedback:!!n}),this.cd(!0)}},Pn=class t extends sr{properties=null;getProperty(n){let e=n.indexOf(ut),i=e!==-1?n.substring(0,e):n,r=this.properties[i];if(r!==null&&e!==-1&&r instanceof t){let o=n.substring(e+1);r=r.getProperty(o)}return r}forEachChild(n){for(let e in this.properties)if(Object.prototype.hasOwnProperty.call(this.properties,e)){let i=this.properties[e];n(i,e)}}forEachChildRecursive(n){this.forEachChild(e=>{n(e),e instanceof t&&e.forEachChildRecursive(n)})}_bindVisibility(){super._bindVisibility(),this._bindVisibilityRecursive()}_bindVisibilityRecursive(){this.forEachChildRecursive(n=>{n._bindVisibility()})}isRoot(){return this===this.root}},lr=class extends Pn{formPropertyFactory;_propertiesId=[];get propertiesId(){return this._propertiesId}constructor(n,e,i,r,o,a,s,l,c){super(n,i,r,o,a,s,l,c),this.formPropertyFactory=e,this.createProperties()}createProperties(){this.properties={},this._propertiesId=[];let n;try{n=ly(Object.keys(this.schema.properties),this.ui.order)}catch(e){console.error(`Invalid ${this.schema.title||"root"} object field configuration:`,e)}n.forEach(e=>{this.properties[e]=this.formPropertyFactory.createProperty(this.schema.properties[e],this.ui[`$${e}`],(this.formData||{})[e],this,e),this._propertiesId.push(e)})}setValue(n,e){let i=this.properties;for(let r in n)Object.prototype.hasOwnProperty.call(n,r)&&i[r]&&i[r].setValue(n[r],!0);this.cd(e),this.updateValueAndValidity({onlySelf:e,emitValueEvent:!0})}resetValue(n,e){n=n||this.schema.default||{};let i=this.properties;for(let r in this.schema.properties)Object.prototype.hasOwnProperty.call(this.schema.properties,r)&&i[r].resetValue(n[r],!0);this.cd(e),this.updateValueAndValidity({onlySelf:e,emitValueEvent:!0})}_hasValue(){return this.value!=null&&!!Object.keys(this.value).length}_updateValue(){let n={};this.forEachChild((e,i)=>{e.visible&&e._hasValue()&&(n[i]=e.value)}),this._value=n}},cr=class extends Pn{formPropertyFactory;constructor(n,e,i,r,o,a,s,l,c){super(n,i,r,o,a,s,l,c),this.formPropertyFactory=e,this.properties=[]}getProperty(n){let e=n.indexOf(ut),i=+(e!==-1?n.substring(0,e):n),r=this.properties;if(isNaN(i)||i>=r.length)return;let o=n.substring(e+1);return r[i].getProperty(o)}setValue(n,e){this.properties=[],this.clearErrors(),this.resetProperties(n),this.cd(e),this.updateValueAndValidity({onlySelf:e,emitValueEvent:!0})}resetValue(n,e){this._value=n||this.schema.default||[],this.setValue(this._value,e)}_hasValue(){return!0}_updateValue(){let n=[];this.forEachChild(e=>{e.visible&&n.push($($({},this.widget?.cleanValue?null:e.formData),e.value))}),this._value=n}addProperty(n){let e=this.formPropertyFactory.createProperty(Fn(this.schema.items),Fn(this.ui.$items),n,this);return this.properties.push(e),e}resetProperties(n){for(let e of n)this.addProperty(e).resetValue(e,!0)}clearErrors(n){(n||this)._objErrors={}}add(n){let e=this.addProperty(n);return e.resetValue(n,!1),e}remove(n){let e=this.properties;this.clearErrors(),e.splice(n,1),e.forEach((i,r)=>{i.path=[i.parent.path,r].join(ut),this.clearErrors(i),i instanceof lr&&i.forEachChild(o=>{o.updateValueAndValidity({emitValueEvent:!1})})}),e.length===0&&this.updateValueAndValidity()}},di=class extends sr{setValue(n,e){this._value=n,this.cd(e),this.updateValueAndValidity({onlySelf:e,emitValueEvent:!0})}resetValue(n,e){n==null&&(n=this.schema.default!==void 0?this.schema.default:this.fallbackValue()),this._value=n,this.updateValueAndValidity({onlySelf:e,emitValueEvent:!0}),this.widget&&(this.widget.reset(n),this.cd(e))}_hasValue(){return this.fallbackValue()!==this.value}_updateValue(){}},Na=class extends di{fallbackValue(){return null}},Ia=class extends di{fallbackValue(){return null}setValue(n,e){typeof n=="string"&&(n.length?n=n.indexOf(".")>-1?parseFloat(n):parseInt(n,10):n=void 0),this._value=n,this.cd(e),this.updateValueAndValidity({onlySelf:e,emitValueEvent:!0})}},ka=class extends di{fallbackValue(){return null}setValue(n,e){this._value=n??"",this.cd(e),this.updateValueAndValidity({onlySelf:e,emitValueEvent:!0})}},ui=class{injector;schemaValidatorFactory;options;constructor(n,e,i){this.injector=n,this.schemaValidatorFactory=e,this.options=Da(i)}createProperty(n,e,i,r=null,o){let a=null,s="";if(r)switch(s+=r.path,r.parent!==null&&(s+=ut),r.type){case"object":s+=o;break;case"array":s+=r.properties.length;break;default:throw new Error(`Instanciation of a FormProperty with an unknown parent type: ${r.type}`)}else s=ut;if(n.$ref){let l=Va(n,r.root.schema.definitions);a=this.createProperty(l,e,i,r,s)}else switch((o&&r.schema.required.indexOf(o.split(ut).pop())!==-1||e.showRequired===!0)&&(e._required=!0),n.title==null&&(n.title=o),(n.type==="string"||n.type==="number")&&!n.format&&!e.format?e.widget==="date"?e._format=n.type==="string"?this.options.uiDateStringFormat:this.options.uiDateNumberFormat:e.widget==="time"&&(e._format=n.type==="string"?this.options.uiTimeStringFormat:this.options.uiTimeNumberFormat):e._format=e.format,n.type){case"integer":case"number":a=new Ia(this.injector,this.schemaValidatorFactory,n,e,i,r,s,this.options);break;case"string":a=new ka(this.injector,this.schemaValidatorFactory,n,e,i,r,s,this.options);break;case"boolean":a=new Na(this.injector,this.schemaValidatorFactory,n,e,i,r,s,this.options);break;case"object":a=new lr(this.injector,this,this.schemaValidatorFactory,n,e,i,r,s,this.options);break;case"array":a=new cr(this.injector,this,this.schemaValidatorFactory,n,e,i,r,s,this.options);break;default:throw new TypeError(`Undefined type ${n.type}`)}return a.propertyId=o,a instanceof Pn&&this.initializeRoot(a),a}initializeRoot(n){n._bindVisibility()}},fi=class{onDestroy;constructor(){this.onDestroy=new pi}destroy(){this.onDestroy.next(!0)}},ur=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275prov=nn({token:t,factory:t.\u0275fac})}return t})(),xu=(()=>{class t extends ur{ngZone=w(Dn);cogSrv=w(Se);ajv;options;constructor(){if(super(),!(typeof document=="object"&&document))return;this.options=Da(this.cogSrv);let e=this.options.ajv||{};this.ngZone.runOutsideAngular(()=>{this.ajv=new zu.default(X($({allErrors:!0,loopEnum:50},e),{formats:$({"data-url":/^data:([a-z]+\/[a-z0-9-+.]+)?;name=(.*);base64,(.*)$/,color:bi.color,mobile:bi.mobile,"id-card":bi.idCard},e.formats)})),(0,wu.default)(this.ajv)})}createValidatorFn(e,i){let r=[...this.options.ingoreKeywords,...i.ingoreKeywords||[]];return o=>{try{this.ngZone.runOutsideAngular(()=>this.ajv.validate(e,o))}catch{}let a=this.ajv.errors;return this.options&&r&&a&&(a=a.filter(s=>r.indexOf(s.keyword)===-1)),a}}static \u0275fac=function(i){return new(i||t)};static \u0275prov=nn({token:t,factory:t.\u0275fac})}return t})(),Zt=class{_widgets={};defaultWidget;get widgets(){return this._widgets}setDefault(n){this.defaultWidget=n}register(n,e){this._widgets[n]=e}has(n){return Object.prototype.hasOwnProperty.call(this._widgets,n)}getType(n){return this.has(n)?this._widgets[n]:this.defaultWidget}},Tu=(()=>{class t{registry=w(Zt);createWidget(e,i){this.registry.has(i);let r=this.registry.getType(i);return e.createComponent(r)}static \u0275fac=function(i){return new(i||t)};static \u0275prov=nn({token:t,factory:t.\u0275fac})}return t})(),dy=0,fr=(()=>{class t{widgetFactory=w(Tu);terminator=w(fi);ref;destroy$=new pi;widget=null;formProperty;footer=null;container;onWidgetInstanciated(e){this.widget=e;let i=`_sf-${dy++}`,r=this.formProperty.ui;this.widget.formProperty=this.formProperty,this.widget.schema=this.formProperty.schema,this.widget.ui=r,this.widget.id=i,this.formProperty.widget=e}ngOnInit(){this.terminator.onDestroy.subscribe(()=>this.ngOnDestroy())}ngOnChanges(){let e=this.formProperty;this.ref=this.widgetFactory.createWidget(this.container,e.ui.widget||e.schema.type),this.onWidgetInstanciated(this.ref.instance)}ngOnDestroy(){let{destroy$:e}=this;e.next(),e.complete(),this.ref.destroy()}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=U({type:t,selectors:[["sf-item"]],viewQuery:function(i,r){if(i&1&&Ke(S_,7,cs),i&2){let o;Ne(o=Ie())&&(r.container=o.first)}},hostVars:2,hostBindings:function(i,r){i&2&&Q("sf__item",!0)},inputs:{formProperty:"formProperty",footer:"footer"},exportAs:["sfItem"],standalone:!1,features:[Lt([Wt]),Oe],decls:3,vars:1,consts:[["target",""],[4,"ngTemplateOutlet"]],template:function(i,r){i&1&&N(0,x_,0,0,"ng-template",null,0,ke)(2,T_,1,0,"ng-container",1),i&2&&(m(2),_("ngTemplateOutlet",r.footer))},dependencies:[je],encapsulation:2})}return t})(),Eu=(()=>{class t{el=w(Me).nativeElement;render=w(Ce);_inited=!1;num;init(){if(!this._inited||this.num==null||this.num<=0)return;let e=this.el,i=e.querySelector(".ant-row")||e;this.render.addClass(i,"sf__fixed");let r=i.querySelector(".ant-form-item-label"),o=i.querySelector(".ant-form-item-control-wrapper,.ant-form-item-control"),a=`${this.num}px`;r?(this.render.setStyle(r,"flex",`0 0 ${a}`),this.render.setStyle(o,"max-width",`calc(100% - ${a})`)):this.render.setStyle(o,"margin-left",a)}ngAfterViewInit(){this._inited=!0,this.init()}ngOnChanges(){this._inited&&this.init()}static \u0275fac=function(i){return new(i||t)};static \u0275dir=qt({type:t,selectors:[["","fixed-label",""]],inputs:{num:[2,"fixed-label","num",e=>ue(e,0)]},standalone:!1,features:[Oe]})}return t})();function uy(t,n,e){return new ui(t,n,e)}var fy=(()=>{class t{formPropertyFactory=w(ui);terminator=w(fi);dom=w(Er);cdr=w(Ge);localeSrv=w(Os);aclSrv=w(vs);i18nSrv=w(vi);platform=w(an);cogSrv=w(Se);_renders=new Map;_item;_valid=!0;_defUi;options;_inited=!1;locale={};rootProperty=null;_formData;_btn;_schema;_ui;get btnGrid(){return this._btn.render.grid}layout="horizontal";schema;ui;formData;button={};liveValidate=!0;autocomplete;firstVisual=!0;onlyVisual=!1;compact=!1;set mode(e){switch(e){case"search":this.layout="inline",this.firstVisual=!1,this.liveValidate=!1,this._btn&&(this._btn.submit=this._btn.search);break;case"edit":this.layout="horizontal",this.firstVisual=!1,this.liveValidate=!0,this._btn&&(this._btn.submit=this._btn.edit);break}this._mode=e}get mode(){return this._mode}_mode;loading=!1;disabled=!1;noColon=!1;cleanValue=!1;delay=!1;formValueChange=new wt;formChange=new wt;formSubmit=new wt;formReset=new wt;formError=new wt;get valid(){return this._valid}get value(){return this._item}getProperty(e){return this.rootProperty?.searchProperty(e)}getValue(e){return this.getProperty(e)?.value}setValue(e,i){let r=this.getProperty(e);if(!r)throw new Error(`Invalid path: ${e}`);return r.resetValue(i,!1),this}setDisabled(e,i){let r=this.getProperty(e);if(!r)throw new Error(`Invalid path: ${e}`);return r.schema.readOnly=i,r.widget.detectChanges(),this}setRequired(e,i){let r=this.getProperty(e);if(!r)throw new Error(`Invalid path: ${e}`);let o=e.split(ut).pop(),a=r.parent?.schema.required||[],s=a.findIndex(l=>l===o);return i?s===-1&&a.push(o):s!==-1&&a.splice(s,1),r.parent.schema.required=a,r.ui._required=i,r.widget.detectChanges(),this.validator({onlyRoot:!1}),this}updateFeedback(e,i=""){return this.getProperty(e)?.updateFeedback(i),this}onSubmit(e){e.preventDefault(),e.stopPropagation(),this.liveValidate||this.validator(),this.valid&&this.formSubmit.emit(this.value)}constructor(){this.options=Da(this.cogSrv),this.liveValidate=this.options.liveValidate,this.firstVisual=this.options.firstVisual,this.autocomplete=this.options.autocomplete,this.delay=this.options.delay,this.localeSrv.change.pipe(ge()).subscribe(()=>{this.locale=this.localeSrv.getData("sf"),this._inited&&(this.validator({emitError:!1,onlyRoot:!1}),this.coverButtonProperty(),this.cdr.markForCheck())}),en(this.aclSrv.change,this.i18nSrv.change).pipe(Be(()=>this._inited),ge()).subscribe(()=>this.refreshSchema())}fanyi(e){return this.i18nSrv.fanyi(e)||e}inheritUI(e){["optionalHelp"].filter(i=>!!this._defUi[i]).forEach(i=>e[i]=$($({},this._defUi[i]),e[i]))}coverProperty(){let e=this.layout==="horizontal",i=Fn(this.schema),{definitions:r}=i,o=(a,s,l,c,d)=>{Array.isArray(a.required)||(a.required=[]),Object.keys(a.properties).forEach(u=>{let g="$",y=g+u,h=Va(a.properties[u],r),v=$($({},h.ui),l[y]),p=$($($($(X($($({},this._defUi),c),{visibleIf:void 0,hidden:void 0,optional:void 0,optionalHelp:void 0,widget:h.type}),h.format&&this.options.formatMap[h.format]),typeof h.ui=="string"?{widget:h.ui}:null),!h.format&&!h.ui&&Array.isArray(h.enum)&&h.enum.length>0?{widget:"select"}:null),v);if(Object.keys(p).filter(b=>b.startsWith(g)).forEach(b=>delete p[b]),e?c.spanLabelFixed?v.spanLabelFixed||(p.spanLabelFixed=c.spanLabelFixed):(p.spanLabel||(p.spanLabel=typeof c.spanLabel>"u"?5:c.spanLabel),p.spanControl||(p.spanControl=typeof c.spanControl>"u"?19:c.spanControl),p.offsetControl||(p.offsetControl=typeof c.offsetControl>"u"?null:c.offsetControl)):(p.spanLabel=null,p.spanControl=null,p.offsetControl=null),this.layout==="inline"&&delete p.grid,this.layout!=="horizontal"&&(p.spanLabelFixed=null),p.spanLabelFixed!=null&&p.spanLabelFixed>0&&(p.spanLabel=null,p.spanControl=null),p.widget==="date"&&p.end!=null){let b=a.properties[p.end];b?b.ui=X($({},b.ui),{widget:p.widget,hidden:!0}):p.end=null}if(this.inheritUI(p),p.optionalHelp){typeof p.optionalHelp=="string"&&(p.optionalHelp={text:p.optionalHelp});let b=p.optionalHelp=$({text:"",icon:"question-circle",placement:"top",trigger:"hover",mouseEnterDelay:.15,mouseLeaveDelay:.1},p.optionalHelp);b.i18n&&(b.text=this.fanyi(b.i18n)),b.text||(p.optionalHelp=void 0)}if(p.i18n&&(h.title=this.fanyi(p.i18n)),p.descriptionI18n&&(h.description=this.fanyi(p.descriptionI18n)),h.description&&(p._description=this.dom.bypassSecurityTrustHtml(h.description)),p.hidden=typeof p.hidden=="boolean"?p.hidden:!1,p.hidden===!1&&p.acl&&this.aclSrv&&!this.aclSrv.can(p.acl)&&(p.hidden=!0),d[y]=p,delete h.ui,p.hidden===!0){let b=a.required.indexOf(u);b!==-1&&a.required.splice(b,1)}h.items&&(p.$items=$($($({},h.items.ui),l[y]),p.$items),o(h.items,h.items,l[y]?.$items??{},p.$items,p.$items),delete h.items.ui),h.properties&&Object.keys(h.properties).length&&o(h,a,l[y]||{},p,p)})};this.ui==null&&(this.ui={}),this._defUi=$($($({onlyVisual:this.options.onlyVisual,size:this.options.size,liveValidate:this.liveValidate},this.options.ui),i.ui),this.ui["*"]),this.onlyVisual===!0&&(this._defUi.onlyVisual=!0),this.layout==="inline"&&delete this._defUi.grid,this._ui=$({},this._defUi),o(i,i,this.ui,this.ui,this._ui),ay(i,this._ui),this._schema=i,delete i.ui,ar(this._ui,"cover schema & ui",this._ui,i)}coverButtonProperty(){this._btn=$($($({render:{size:"default"}},this.locale),this.options.button),this.button);let e=Object.keys(this._ui).find(r=>r.startsWith("$")),i=this._btn.render;if(this.layout==="horizontal"){let r=e?this._ui[e]:this._defUi;i.grid||(i.grid={offset:r.spanLabel,span:r.spanControl}),i.spanLabelFixed==null&&(i.spanLabelFixed=r.spanLabelFixed),!i.class&&typeof r.spanLabelFixed=="number"&&r.spanLabelFixed>0&&(i.class="text-center")}else i.grid={};this._mode&&(this.mode=this._mode),ar(this._ui,"button property",this._btn)}ngOnInit(){this.platform.isBrowser&&(this.validator(),this._inited=!0)}ngOnChanges(e){if(!this.platform.isBrowser)return;let i=["disabled","loading"];if(Object.keys(e).every(r=>i.includes(r))){this.cdr.detectChanges();return}this.delay||this.refreshSchema()}_addTpl(e,i){this._inited&&(this._renders.has(e)||(this._renders.set(e,i),this.attachCustomRender()))}attachCustomRender(){this._renders.forEach((e,i)=>{let r=this.rootProperty?.searchProperty(i);r!=null&&(r.ui._render=e)})}validator(e={emitError:!0,onlyRoot:!0}){if(this.rootProperty==null||!this.platform.isBrowser)return!1;let i=o=>{o._runValidation(),!(!(o instanceof Pn)||!o.properties)&&(Array.isArray(o.properties)?o.properties.forEach(a=>i(a)):Object.keys(o.properties).forEach(a=>i(o.properties[a])))};e.onlyRoot?this.rootProperty._runValidation():i(this.rootProperty);let r=this.rootProperty.errors;return this._valid=!(r&&r.length),e.emitError&&!this._valid&&this.formError.emit(r),this.cdr.detectChanges(),this._valid}refreshSchema(e,i){if(!this.platform.isBrowser)return this;if(e&&(this.schema=e),i&&(this.ui=i),!this.schema||typeof this.schema.properties>"u")throw new Error("Invalid Schema");if(this.schema.ui&&typeof this.schema.ui=="string")throw new Error("Don't support string with root ui property");this.schema.type="object",this._formData=$({},this.formData),this._inited&&this.terminator.destroy(),this.cleanRootSub(),this.coverProperty(),this.coverButtonProperty(),this.rootProperty=this.formPropertyFactory.createProperty(this._schema,this._ui,this.formData),this.attachCustomRender(),this.cdr.detectChanges(),this.reset();let r=!0;return this.rootProperty.valueChanges.subscribe(o=>{if(this._item=$($({},this.cleanValue?null:this.formData),o.value),r){r=!1;return}this.formChange.emit(this._item),this.formValueChange.emit({value:this._item,path:o.path,pathValue:o.pathValue})}),this.rootProperty.errorsChanges.subscribe(o=>{this._valid=!(o&&o.length),this.formError.emit(o),this.cdr.detectChanges()}),this}reset(e=!1){return this.rootProperty==null||!this.platform.isBrowser?this:(this.rootProperty.resetValue(this.formData,!1),Promise.resolve().then(()=>this.cdr.detectChanges()),e&&this.formReset.emit(this.value),this)}cleanRootSub(){this.rootProperty&&(this.rootProperty.errorsChanges.unsubscribe(),this.rootProperty.valueChanges.unsubscribe())}ngOnDestroy(){this.cleanRootSub(),this.terminator.destroy()}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=U({type:t,selectors:[["sf"],["","sf",""]],hostVars:16,hostBindings:function(i,r){i&2&&Q("sf",!0)("sf__inline",r.layout==="inline")("sf__horizontal",r.layout==="horizontal")("sf__search",r.mode==="search")("sf__edit",r.mode==="edit")("sf__no-error",r.onlyVisual)("sf__no-colon",r.noColon)("sf__compact",r.compact)},inputs:{layout:"layout",schema:"schema",ui:"ui",formData:"formData",button:"button",liveValidate:[2,"liveValidate","liveValidate",q],autocomplete:"autocomplete",firstVisual:[2,"firstVisual","firstVisual",q],onlyVisual:[2,"onlyVisual","onlyVisual",q],compact:[2,"compact","compact",q],mode:"mode",loading:[2,"loading","loading",q],disabled:[2,"disabled","disabled",q],noColon:[2,"noColon","noColon",q],cleanValue:[2,"cleanValue","cleanValue",q],delay:[2,"delay","delay",q]},outputs:{formValueChange:"formValueChange",formChange:"formChange",formSubmit:"formSubmit",formReset:"formReset",formError:"formError"},exportAs:["sf"],standalone:!1,features:[Lt([Tu,{provide:ui,useFactory:uy,deps:[In,ur,Se]},fi]),Oe],ngContentSelectors:$u,decls:6,vars:3,consts:[["con",""],["btnTpl",""],["nz-form","",3,"submit","nzLayout"],[3,"formProperty","footer"],[3,"ngTemplateOutlet"],[1,"sf-btns",3,"class","fixed-label"],[1,"sf-btns",3,"fixed-label"],["nz-col","",1,"ant-form-item-control",3,"nzSpan","nzOffset","nzXs","nzSm","nzMd","nzLg","nzXl","nzXXl"],[1,"ant-form-item-control-input"],[1,"ant-form-item-control-input-content"],["type","submit","nz-button","","data-type","submit",3,"nzType","nzSize","nzLoading","disabled"],[3,"nzType","nzTheme","nzTwotoneColor","nzIconfont"],["type","button","nz-button","","data-type","reset",3,"nzType","nzSize","disabled"],["type","button","nz-button","","data-type","reset",3,"click","nzType","nzSize","disabled"]],template:function(i,r){if(i&1){let o=ee();oe(),N(0,E_,1,0,"ng-template",null,0,ke)(2,j_,2,1,"ng-template",null,1,ke),z(4,"form",2),K("submit",function(s){return P(o),O(r.onSubmit(s))}),x(5,A_,1,2,"sf-item",3),C()}i&2&&(m(4),_("nzLayout",r.layout),Fe("autocomplete",r.autocomplete),m(),T(r.rootProperty?5:-1))},dependencies:[je,Vs,ks,Ds,kr,Ot,Ir,fn,un,ml,zi,De,fr,Eu],encapsulation:2,changeDetection:0})}return t})(),ft=(()=>{class t{statusSrv=w(Wt);_showTitle=!1;id;schema;ui;showError;error;set showTitle(e){this._showTitle=!!e}title=null;get t(){return this.title===null?this.schema.title:this.title}get oh(){return this.ui.optionalHelp}ngOnChanges(){let e=!!this.error;this.statusSrv.formStatusChanges.next({status:e?"error":"",hasFeedback:!!this.ui.feedback})}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=U({type:t,selectors:[["sf-item-wrap"]],inputs:{id:"id",schema:"schema",ui:"ui",showError:"showError",error:"error",showTitle:"showTitle",title:"title"},standalone:!1,features:[Oe],ngContentSelectors:$u,decls:8,vars:21,consts:[["nz-col","",1,"ant-form-item-label",3,"nzSpan"],["nz-col","",1,"ant-form-item-control",3,"nzSpan","nzOffset"],[1,"ant-form-item-control-input"],[1,"ant-form-item-control-input-content"],[1,"ant-form-item-explain","ant-form-item-explain-connected"],[1,"ant-form-item-extra",3,"innerHTML"],[3,"ant-form-item-required"],[1,"sf__label-text"],[1,"sf__optional"],["nz-tooltip","",3,"nzTooltipTitle","nzTooltipPlacement","nzTooltipTrigger","nzTooltipColor","nzTooltipOverlayClassName","nzTooltipOverlayStyle","nzTooltipMouseEnterDelay","nzTooltipMouseLeaveDelay","nzType"],["role","alert",1,"ant-form-item-explain-error"]],template:function(i,r){i&1&&(oe(),z(0,"nz-form-item"),x(1,H_,2,2,"div",0),z(2,"div",1)(3,"div",2)(4,"div",3),ae(5),C()(),x(6,B_,3,2,"div",4),x(7,U_,1,1,"div",5),C()()),i&2&&(nt("width",r.ui.width,"px"),Q("ant-form-item-has-error",r.showError)("ant-form-item-with-help",r.showError)("ant-form-item-has-success",r.ui.feedback==="success")("ant-form-item-has-warning",r.ui.feedback==="warning")("ant-form-item-has-error",r.ui.feedback==="error")("ant-form-item-is-validating",r.ui.feedback==="validating")("ant-form-item-has-feedback",r.ui.feedback),m(),T(r._showTitle?1:-1),m(),_("nzSpan",r.ui.spanControl)("nzOffset",r.ui.offsetControl),m(4),T(!r.ui.onlyVisual&&r.showError?6:-1),m(),T(r.schema.description?7:-1))},dependencies:[Ot,fn,un,zi,De,_t],encapsulation:2,data:{animation:[gi]}})}return t})();var pr=(()=>{class t{cd=w(Ge);injector=w(In);sfItemComp=w(fr);sfComp=w(fy);formProperty;error;showError=!1;id="";schema;ui;get cls(){return this.ui.class||""}get disabled(){return!!(this.schema.readOnly===!0||this.sfComp.disabled)}get l(){return this.formProperty.root.widget.sfComp.locale}get oh(){return this.ui.optionalHelp}get dom(){return this.injector.get(Er)}get cleanValue(){return this.sfComp.cleanValue}ngAfterViewInit(){this.formProperty.errorsChanges.pipe(tn(this.sfItemComp.destroy$)).subscribe(e=>{if(e==null)return;ar(this.ui,"errorsChanges",this.formProperty.path,e);let i=this.sfComp?.firstVisual;(i||!i&&this.sfComp?._inited)&&(this.showError=e.length>0,this.error=this.showError?e[0].message:"",this.cd.detectChanges())}),this.afterViewInit()}setValue(e){this.formProperty.setValue(e,!1),ar(this.ui,"valueChanges",this.formProperty.path,this.formProperty)}get value(){return this.formProperty.value}detectChanges(e=!1){e?this.cd.markForCheck():this.formProperty.root.widget?.cd.markForCheck()}static \u0275fac=function(i){return new(i||t)};static \u0275dir=qt({type:t,hostVars:2,hostBindings:function(i,r){i&2&&it(r.cls)}})}return t})(),Sb=(()=>{class t extends pr{reset(e){}afterViewInit(){}static \u0275fac=(()=>{let e;return function(r){return(e||(e=ce(t)))(r||t)}})();static \u0275dir=qt({type:t,features:[de]})}return t})(),pt=(()=>{class t extends pr{reset(e){}afterViewInit(){}static \u0275fac=(()=>{let e;return function(r){return(e||(e=ce(t)))(r||t)}})();static \u0275dir=qt({type:t,features:[de]})}return t})(),py=(()=>{class t extends pr{reset(e){}afterViewInit(){}ngAfterViewInit(){this.formProperty.errorsChanges.pipe(tn(this.sfItemComp.destroy$)).subscribe(()=>this.cd.detectChanges())}static \u0275fac=(()=>{let e;return function(r){return(e||(e=ce(t)))(r||t)}})();static \u0275dir=qt({type:t,features:[de]})}return t})(),my=(()=>{class t extends pr{reset(e){}afterViewInit(){}ngAfterViewInit(){this.formProperty.errorsChanges.pipe(tn(this.sfItemComp.destroy$)).subscribe(()=>this.cd.detectChanges())}static \u0275fac=(()=>{let e;return function(r){return(e||(e=ce(t)))(r||t)}})();static \u0275dir=qt({type:t,features:[de]})}return t})(),hy=(()=>{class t extends py{addTitle;addType;removeTitle;arraySpan=8;get addDisabled(){return this.disabled||this.schema.maxItems!=null&&this.formProperty.properties.length>=this.schema.maxItems}get showRemove(){return!(this.disabled||!this.removeTitle||this.schema.minItems!=null&&this.formProperty.properties.length<=this.schema.minItems)}ngOnInit(){let{grid:e,addTitle:i,addType:r,removable:o,removeTitle:a}=this.ui;e&&e.arraySpan&&(this.arraySpan=e.arraySpan),this.addTitle=this.dom.bypassSecurityTrustHtml(i||this.l.addText),this.addType=r||"dashed",this.removeTitle=o===!1?null:a||this.l.removeText}reValid(e){this.formProperty.updateValueAndValidity($({onlySelf:!1,emitValueEvent:!1,emitValidator:!0},e))}addItem(){let e=this.formProperty.add({});this.reValid(),this.ui.add?.(e)}removeItem(e){let i=this.formProperty.properties[e].path;this.formProperty.remove(e),this.reValid({updatePath:i,emitValueEvent:!0}),this.ui.remove?.(e)}static \u0275fac=(()=>{let e;return function(r){return(e||(e=ce(t)))(r||t)}})();static \u0275cmp=U({type:t,selectors:[["sf-array"]],hostVars:2,hostBindings:function(i,r){i&2&&Q("sf__array",!0)},standalone:!1,features:[de],decls:9,vars:9,consts:[["nz-col","",1,"ant-form-item-label",3,"nzSpan"],["nz-col","",1,"ant-form-item-control-wrapper",3,"nzSpan","nzOffset"],[1,"ant-form-item-control"],["nz-row","",1,"sf__array-container"],[1,"ant-form-explain"],[1,"ant-form-extra",3,"innerHTML"],[1,"sf__optional"],["nz-tooltip","",3,"nzTooltipTitle","nzTooltipPlacement","nzTooltipTrigger","nzTooltipOverlayClassName","nzTooltipOverlayStyle","nzTooltipMouseEnterDelay","nzTooltipMouseLeaveDelay","nzType"],[1,"sf__array-add"],["type","button","nz-button","",3,"click","nzType","disabled","innerHTML"],["nz-col","",1,"sf__array-item",3,"nzSpan"],[3,"formProperty"],[1,"sf__array-remove"],[1,"sf__array-remove",3,"click"],["nzType","delete"]],template:function(i,r){i&1&&(z(0,"nz-form-item"),x(1,G_,8,9,"div",0),z(2,"div",1)(3,"div",2)(4,"div",3),be(5,X_,1,1,null,null,ds),C(),x(7,Z_,2,1,"div",4),x(8,Y_,1,1,"div",5),C()()()),i&2&&(Q("ant-form-item-with-help",r.showError),m(),T(r.schema.title?1:-1),m(),_("nzSpan",r.ui.spanControl)("nzOffset",r.ui.offsetControl),m(),Q("has-error",r.showError),m(2),ze(r.formProperty.properties),m(2),T(!r.ui.onlyVisual&&r.showError?7:-1),m(),T(r.schema.description?8:-1))},dependencies:[kr,Ot,Ir,Rr,fn,un,zi,De,_t,fr],encapsulation:2})}return t})(),_y=(()=>{class t extends pt{static \u0275fac=(()=>{let e;return function(r){return(e||(e=ce(t)))(r||t)}})();static \u0275cmp=U({type:t,selectors:[["sf-boolean"]],standalone:!1,features:[de],decls:2,vars:12,consts:[[3,"id","schema","ui","showError","error","showTitle"],[3,"ngModelChange","ngModel","nzDisabled","nzSize","nzCheckedChildren","nzUnCheckedChildren","nzLoading"]],template:function(i,r){i&1&&(z(0,"sf-item-wrap",0)(1,"nz-switch",1),K("ngModelChange",function(a){return r.setValue(a)}),C()()),i&2&&(_("id",r.id)("schema",r.schema)("ui",r.ui)("showError",r.showError)("error",r.error)("showTitle",r.schema.title),m(),_("ngModel",r.value)("nzDisabled",r.disabled)("nzSize",r.ui.size)("nzCheckedChildren",r.ui.checkedChildren)("nzUnCheckedChildren",r.ui.unCheckedChildren)("nzLoading",r.ui.loading))},dependencies:[ht,Qe,vl,ft],encapsulation:2})}return t})(),gy=(()=>{class t extends pt{data=[];allChecked=!1;indeterminate=!1;grid_span;labelTitle="";inited=!1;reset(e){this.inited=!1,Ra(this.schema,this.ui,e).subscribe(i=>{this.data=i,this.allChecked=!1,this.indeterminate=!1,this.labelTitle=i.length===0?"":this.schema.title;let{span:r}=this.ui;this.grid_span=r&&r>0?r:0,this.updateAllChecked(),this.inited=!0,this.detectChanges()})}_setValue(e){this.setValue(e),this.detectChanges(),this.notifyChange(e)}notifySet(){let e=this.data.filter(i=>i.checked);this.updateAllChecked().setValue(e.map(i=>i.value)),this.notifyChange(e)}groupInGridChange(e){this.data.forEach(i=>i.checked=e.indexOf(i.value)!==-1),this.notifySet()}onAllChecked(){this.data.forEach(e=>e.checked=this.allChecked),this.notifySet()}updateAllChecked(){return this.data.every(e=>e.checked!==!0)?(this.allChecked=!1,this.indeterminate=!1):this.data.every(e=>e.checked===!0)?(this.allChecked=!0,this.indeterminate=!1):this.indeterminate=!0,this.detectChanges(),this}notifyChange(e){this.ui.change&&this.ui.change(e)}static \u0275fac=(()=>{let e;return function(r){return(e||(e=ce(t)))(r||t)}})();static \u0275cmp=U({type:t,selectors:[["sf-checkbox"]],standalone:!1,features:[de],decls:4,vars:8,consts:[["all",""],[3,"id","schema","ui","showError","error","showTitle","title"],["nz-checkbox","",1,"sf__checkbox-all","mr-sm",3,"ngModel","nzIndeterminate"],["nz-checkbox","",1,"sf__checkbox-all","mr-sm",3,"ngModelChange","ngModel","nzIndeterminate"],["nz-checkbox","",3,"nzDisabled","ngModel"],["nz-checkbox","",3,"ngModelChange","nzDisabled","ngModel"],[1,"sf__optional"],["nz-tooltip","",3,"nzTooltipTitle","nzTooltipPlacement","nzTooltipTrigger","nzTooltipOverlayClassName","nzTooltipOverlayStyle","nzTooltipMouseEnterDelay","nzTooltipMouseLeaveDelay","nzType"],[1,"sf__checkbox-list"],[3,"ngTemplateOutlet"],[3,"ngModelChange","ngModel","nzOptions"],[1,"sf__checkbox-list",3,"nzOnChange"],["nz-row",""],["nz-col","",3,"nzSpan"],["nz-checkbox","",3,"nzValue","ngModel","nzDisabled"]],template:function(i,r){i&1&&(N(0,tg,1,1,"ng-template",null,0,ke),z(2,"sf-item-wrap",1),x(3,ug,2,1),C()),i&2&&(m(2),_("id",r.id)("schema",r.schema)("ui",r.ui)("showError",r.showError)("error",r.error)("showTitle",!0)("title",r.labelTitle),m(),T(r.inited?3:-1))},dependencies:[je,ht,Qe,Ot,qs,Ls,As,fn,un,De,_t,ft],encapsulation:2})}return t})(),yy=(()=>{class t extends pt{static \u0275fac=(()=>{let e;return function(r){return(e||(e=ce(t)))(r||t)}})();static \u0275cmp=U({type:t,selectors:[["sf-custom"]],standalone:!1,features:[de],decls:2,vars:12,consts:[[3,"id","schema","ui","showError","error","showTitle"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(i,r){i&1&&(z(0,"sf-item-wrap",0),N(1,pg,0,0,"ng-template",1),C()),i&2&&(_("id",r.id)("schema",r.schema)("ui",r.ui)("showError",r.showError)("error",r.error)("showTitle",r.schema.title),m(),_("ngTemplateOutlet",r.ui._render)("ngTemplateOutletContext",ms(8,fg,r,r.schema,r.ui)))},dependencies:[je,ft],encapsulation:2})}return t})(),vy=(()=>{class t extends pt{startFormat;endFormat;flatRange=!1;mode;displayValue=null;displayFormat;i;ngOnInit(){let{mode:e,end:i,displayFormat:r,allowClear:o,showToday:a}=this.ui;if(this.mode=e||"date",this.flatRange=i!=null,this.startFormat=this.ui._format,this.flatRange){this.mode="range";let s=this.endProperty.ui;this.endFormat=s.format?s._format:this.startFormat}if(r)this.displayFormat=r;else switch(this.mode){case"year":this.displayFormat="yyyy";break;case"month":this.displayFormat="yyyy-MM";break;case"week":this.displayFormat="yyyy-ww";break}this.i={allowClear:He(o,!0),showToday:He(a,!0)}}reset(e){let i={formatString:this.startFormat,defaultValue:null};if(Array.isArray(e)?e=e.map(r=>yi(r,i)):e=yi(e,i),this.flatRange){let r=yi(this.endProperty.formData,{formatString:this.endFormat||this.startFormat,defaultValue:null});this.displayValue=e==null||r==null?[]:[e,r]}else this.displayValue=e;this.detectChanges(),this.displayValue&&setTimeout(()=>this._change(this.displayValue,!1))}_change(e,i=!0){if(i&&this.ui.change&&this.ui.change(e),e==null||Array.isArray(e)&&e.length<2){this.setValue(null),this.setEnd(null);return}let r=Array.isArray(e)?[hi(e[0],this.startFormat),hi(e[1],this.endFormat||this.startFormat)]:hi(e,this.startFormat);this.flatRange?(this.setValue(r[0]),this.setEnd(r[1])):this.setValue(r)}_openChange(e){this.ui.onOpenChange&&this.ui.onOpenChange(e)}_ok(e){this.ui.onOk&&this.ui.onOk(e)}get endProperty(){return this.formProperty.parent.properties[this.ui.end]}setEnd(e){this.flatRange&&(this.endProperty.setValue(e,!0),this.endProperty.updateValueAndValidity())}static \u0275fac=(()=>{let e;return function(r){return(e||(e=ce(t)))(r||t)}})();static \u0275cmp=U({type:t,selectors:[["sf-date"]],standalone:!1,features:[de],decls:6,vars:7,consts:[[3,"id","schema","ui","showError","error","showTitle"],[3,"nzId","nzDisabled","nzSize","nzFormat","ngModel","nzAllowClear","class","nzDisabledDate","nzLocale","nzPlaceHolder","nzPopupStyle","nzDropdownClassName","nzRenderExtraFooter","nzInputReadOnly","nzInline"],[3,"nzId","nzDisabled","nzSize","nzFormat","ngModel","nzAllowClear","class","nzDisabledDate","nzLocale","nzPlaceHolder","nzPopupStyle","nzDropdownClassName","nzInputReadOnly","nzInline"],[3,"nzId","nzDisabled","nzSize","nzFormat","ngModel","nzAllowClear","class","nzDisabledDate","nzLocale","nzPlaceHolder","nzPopupStyle","nzDropdownClassName","nzDisabledTime","nzRenderExtraFooter","nzRanges","nzShowTime","nzSeparator","nzShowWeekNumber","nzMode","nzInputReadOnly","nzInline"],[3,"nzId","nzDisabled","nzSize","nzFormat","ngModel","nzAllowClear","class","nzDisabledDate","nzLocale","nzPlaceHolder","nzPopupStyle","nzDropdownClassName","nzDisabledTime","nzRenderExtraFooter","nzShowTime","nzShowToday","nzShowWeekNumber","nzInputReadOnly","nzInline"],[3,"ngModelChange","nzOnOpenChange","nzId","nzDisabled","nzSize","nzFormat","ngModel","nzAllowClear","nzDisabledDate","nzLocale","nzPlaceHolder","nzPopupStyle","nzDropdownClassName","nzRenderExtraFooter","nzInputReadOnly","nzInline"],[3,"ngModelChange","nzOnOpenChange","nzId","nzDisabled","nzSize","nzFormat","ngModel","nzAllowClear","nzDisabledDate","nzLocale","nzPlaceHolder","nzPopupStyle","nzDropdownClassName","nzInputReadOnly","nzInline"],[3,"ngModelChange","nzOnOpenChange","nzOnOk","nzId","nzDisabled","nzSize","nzFormat","ngModel","nzAllowClear","nzDisabledDate","nzLocale","nzPlaceHolder","nzPopupStyle","nzDropdownClassName","nzDisabledTime","nzRenderExtraFooter","nzRanges","nzShowTime","nzSeparator","nzShowWeekNumber","nzMode","nzInputReadOnly","nzInline"],[3,"ngModelChange","nzOnOpenChange","nzOnOk","nzId","nzDisabled","nzSize","nzFormat","ngModel","nzAllowClear","nzDisabledDate","nzLocale","nzPlaceHolder","nzPopupStyle","nzDropdownClassName","nzDisabledTime","nzRenderExtraFooter","nzShowTime","nzShowToday","nzShowWeekNumber","nzInputReadOnly","nzInline"]],template:function(i,r){if(i&1&&(z(0,"sf-item-wrap",0),x(1,mg,1,16,"nz-year-picker",1)(2,hg,1,16,"nz-month-picker",1)(3,_g,1,15,"nz-week-picker",2)(4,gg,1,22,"nz-range-picker",3)(5,yg,1,20,"nz-date-picker",4),C()),i&2){let o;_("id",r.id)("schema",r.schema)("ui",r.ui)("showError",r.showError)("error",r.error)("showTitle",r.schema.title),m(),T((o=r.mode)==="year"?1:o==="month"?2:o==="week"?3:o==="range"?4:5)}},dependencies:[ht,Qe,el,nl,tl,rl,il,ft],encapsulation:2})}return t})(),Cu=(()=>{class t extends pt{min;max;step;formatter=e=>e.toString();parser=e=>+e;width="";ngOnInit(){let{minimum:e,exclusiveMinimum:i,maximum:r,exclusiveMaximum:o,multipleOf:a,type:s}=this.schema;this.step=a||1,typeof e<"u"&&(this.min=i?e+this.step:e),typeof r<"u"&&(this.max=o?r-this.step:r),s==="integer"&&(this.min=Math.trunc(this.min),this.max=Math.trunc(this.max),this.step=Math.trunc(this.step));let l=this.ui;l.prefix!=null&&(l.formatter=c=>c==null?"":`${l.prefix} ${c}`,l.parser=c=>+c.replace(`${l.prefix} `,"")),l.unit!=null&&(l.formatter=c=>c==null?"":`${c} ${l.unit}`,l.parser=c=>+c.replace(` ${l.unit}`,"")),l.formatter&&(this.formatter=l.formatter),l.parser&&(this.parser=l.parser),this.width=typeof l.widgetWidth=="number"?`${l.widgetWidth}px`:l.widgetWidth??"90px"}_setValue(e){this.setValue(this.schema.type==="integer"?Math.floor(e):e),this.ui.change?.(this.value)}static \u0275fac=(()=>{let e;return function(r){return(e||(e=ce(t)))(r||t)}})();static \u0275cmp=U({type:t,selectors:[["sf-number"]],standalone:!1,features:[de],decls:2,vars:21,consts:[[3,"id","schema","ui","showError","error","showTitle"],[3,"ngModelChange","nzId","ngModel","nzDisabled","nzSize","nzMin","nzMax","nzStep","nzFormatter","nzParser","nzPrecision","nzPlaceHolder"]],template:function(i,r){i&1&&(z(0,"sf-item-wrap",0)(1,"nz-input-number",1),K("ngModelChange",function(a){return r._setValue(a)}),C()()),i&2&&(_("id",r.id)("schema",r.schema)("ui",r.ui)("showError",r.showError)("error",r.error)("showTitle",r.schema.title),m(),nt("width",r.width),Q("ant-input-number__hide-step",r.ui.hideStep),_("nzId",r.id)("ngModel",r.value)("nzDisabled",r.disabled)("nzSize",r.ui.size)("nzMin",r.min)("nzMax",r.max)("nzStep",r.step)("nzFormatter",r.formatter)("nzParser",r.parser)("nzPrecision",r.ui.precision||null)("nzPlaceHolder",r.ui.placeholder||""))},dependencies:[ht,Qe,ul,ft],encapsulation:2})}return t})(),Cy=(()=>{class t extends my{grid;type="default";list=[];title;showExpand=!0;expand=!0;ngOnInit(){let{formProperty:e,ui:i}=this,{grid:r,showTitle:o,type:a}=i;this.showExpand=He(i.showExpand,!0),this.expand=He(i.expand,!0),this.type=a??"default",(this.type==="card"||!e.isRoot()&&!(e.parent instanceof cr)&&o===!0)&&(this.title=this.schema.title),this.grid=r;let s=[];for(let l of e.propertiesId){let c=e.properties[l],d={property:c,grid:c.ui.grid||r||{},spanLabelFixed:c.ui.spanLabelFixed,show:c.ui.hidden===!1};s.push(d)}this.list=s}changeExpand(){this.showExpand&&(this.expand=!this.expand,this.detectChanges(!0))}static \u0275fac=(()=>{let e;return function(r){return(e||(e=ce(t)))(r||t)}})();static \u0275cmp=U({type:t,selectors:[["sf-object"]],standalone:!1,features:[de],decls:4,vars:1,consts:[["default",""],["cardTitleTpl",""],[1,"sf__object-card",3,"nzTitle","nzExtra","nzSize","nzActions","nzBodyStyle","nzBordered","sf__object-card-fold"],[3,"ngTemplateOutlet"],[1,"sf__title"],["nz-row","",3,"nzGutter"],["nz-col","",3,"nzSpan","nzOffset","nzXs","nzSm","nzMd","nzLg","nzXl","nzXXl"],[3,"formProperty","fixed-label"],[1,"sf__object-card",3,"nzTitle","nzExtra","nzSize","nzActions","nzBodyStyle","nzBordered"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"click"],[1,"mr-xs","text-xs",3,"nzType"],[1,"sf__optional"],["nz-tooltip","",3,"nzTooltipTitle","nzTooltipPlacement","nzTooltipTrigger","nzTooltipColor","nzTooltipOverlayClassName","nzTooltipOverlayStyle","nzTooltipMouseEnterDelay","nzTooltipMouseLeaveDelay","nzType"]],template:function(i,r){i&1&&(N(0,Eg,3,2,"ng-template",null,0,ke),x(2,kg,4,12,"nz-card",2)(3,Vg,1,1,null,3)),i&2&&(m(2),T(r.type==="card"?2:3))},dependencies:[je,Ot,Rr,fn,un,De,_t,fr,Eu],encapsulation:2})}return t})(),by=(()=>{class t extends pt{data=[];styleType;reset(e){this.styleType=(this.ui.styleType||"default")==="default",Ra(this.schema,this.ui,e).subscribe(i=>{this.data=i,this.detectChanges()})}_setValue(e){this.setValue(e),this.ui.change&&this.ui.change(e)}static \u0275fac=(()=>{let e;return function(r){return(e||(e=ce(t)))(r||t)}})();static \u0275cmp=U({type:t,selectors:[["sf-radio"]],standalone:!1,features:[de],decls:4,vars:11,consts:[[3,"id","schema","ui","showError","error","showTitle"],[3,"ngModelChange","nzSize","nzName","ngModel","nzButtonStyle"],["nz-radio","",3,"nzValue","nzDisabled"],[3,"innerHTML"],["nz-radio-button","",3,"nzValue","nzDisabled"]],template:function(i,r){i&1&&(z(0,"sf-item-wrap",0)(1,"nz-radio-group",1),K("ngModelChange",function(a){return r._setValue(a)}),x(2,Fg,2,0)(3,Ag,2,0),C()()),i&2&&(_("id",r.id)("schema",r.schema)("ui",r.ui)("showError",r.showError)("error",r.error)("showTitle",r.schema.title),m(),_("nzSize",r.ui.size)("nzName",r.id)("ngModel",r.value)("nzButtonStyle",r.ui.buttonStyle||"outline"),m(),T(r.styleType?2:3))},dependencies:[ht,Qe,Bs,Hs,ft],encapsulation:2})}return t})(),zy=(()=>{class t extends pt{search$=new pi;i;data=[];_value;hasGroup=!1;loading=!1;checkGroup(e){this.hasGroup=(e||[]).filter(i=>i.group===!0).length>0}ngOnInit(){let{autoClearSearchValue:e,borderless:i,autoFocus:r,dropdownMatchSelectWidth:o,serverSearch:a,maxMultipleCount:s,mode:l,showSearch:c,tokenSeparators:d,maxTagCount:u,compareWith:g,optionHeightPx:y,optionOverflowSize:h,showArrow:v}=this.ui;this.i={autoClearSearchValue:He(e,!0),borderless:He(i,!1),autoFocus:He(r,!1),dropdownMatchSelectWidth:He(o,!0),serverSearch:He(a,!1),maxMultipleCount:s||1/0,mode:l||"default",showSearch:He(c,!0),tokenSeparators:d||[],maxTagCount:u||1/0,optionHeightPx:y||32,optionOverflowSize:h||8,showArrow:He(v,!0),compareWith:g||((b,k)=>b===k)};let p=this.ui.onSearch;p&&this.search$.pipe(tn(this.sfItemComp.destroy$),wr(),zr(this.ui.searchDebounceTime||300),$r(b=>p(b)),es(()=>[])).subscribe(b=>{this.data=b,this.checkGroup(b),this.loading=!1,this.detectChanges()})}reset(e){let i=this.ui.onSearch;Ra(this.schema,this.ui,e).subscribe(r=>{this._value=e,i==null&&(this.data=r),this.checkGroup(r),this.detectChanges()}),e&&i!=null&&this.search$.next(e)}change(e){this.ui.change&&this.ui.change(e,this.getOrgData(e)),this.setValue(e??this.ui.clearValue)}getOrgData(e){let i=this.injector.get(yu);return Array.isArray(e)?e.map(r=>i.findTree(this.data,o=>o.value===r)):i.findTree(this.data,r=>r.value===e)}openChange(e){this.ui.openChange&&this.ui.openChange(e)}scrollToBottom(){this.ui.scrollToBottom&&this.ui.scrollToBottom()}onSearch(e){this.ui.onSearch&&(this.loading=!0,this.search$.next(e))}static \u0275fac=(()=>{let e;return function(r){return(e||(e=ce(t)))(r||t)}})();static \u0275cmp=U({type:t,selectors:[["sf-select"]],standalone:!1,features:[de],decls:5,vars:39,consts:[[3,"id","schema","ui","showError","error","showTitle"],[3,"ngModelChange","nzOpenChange","nzOnSearch","nzScrollToBottom","nzId","nzDisabled","ngModel","nzSize","nzPlaceHolder","nzNotFoundContent","nzDropdownClassName","nzAllowClear","nzDropdownStyle","nzCustomTemplate","nzSuffixIcon","nzRemoveIcon","nzClearIcon","nzMenuItemSelectedIcon","nzMaxTagPlaceholder","nzDropdownRender","nzAutoClearSearchValue","nzBorderless","nzAutoFocus","nzDropdownMatchSelectWidth","nzServerSearch","nzMaxMultipleCount","nzMode","nzShowSearch","nzShowArrow","nzTokenSeparators","nzMaxTagCount","compareWith","nzOptionHeightPx","nzOptionOverflowSize"],["nzDisabled","","nzCustomContent",""],[3,"nzLabel","nzValue","nzHide","nzDisabled"],[3,"nzLabel"],[3,"nzLabel","nzValue","nzDisabled","nzHide"],["nzType","loading"]],template:function(i,r){i&1&&(z(0,"sf-item-wrap",0)(1,"nz-select",1),xt("ngModelChange",function(a){return St(r._value,a)||(r._value=a),a}),K("ngModelChange",function(a){return r.change(a)})("nzOpenChange",function(a){return r.openChange(a)})("nzOnSearch",function(a){return r.onSearch(a)})("nzScrollToBottom",function(){return r.scrollToBottom()}),x(2,Lg,2,0),x(3,Bg,2,0),x(4,Ug,3,1,"nz-option",2),C()()),i&2&&(_("id",r.id)("schema",r.schema)("ui",r.ui)("showError",r.showError)("error",r.error)("showTitle",r.schema.title),m(),_("nzId",r.id)("nzDisabled",r.disabled),$t("ngModel",r._value),_("nzSize",r.ui.size)("nzPlaceHolder",r.ui.placeholder)("nzNotFoundContent",r.ui.notFoundContent)("nzDropdownClassName",r.ui.dropdownClassName)("nzAllowClear",r.ui.allowClear)("nzDropdownStyle",r.ui.dropdownStyle)("nzCustomTemplate",r.ui.customTemplate)("nzSuffixIcon",r.ui.suffixIcon)("nzRemoveIcon",r.ui.removeIcon)("nzClearIcon",r.ui.clearIcon)("nzMenuItemSelectedIcon",r.ui.menuItemSelectedIcon)("nzMaxTagPlaceholder",r.ui.maxTagPlaceholder)("nzDropdownRender",r.ui.dropdownRender)("nzAutoClearSearchValue",r.i.autoClearSearchValue)("nzBorderless",r.i.borderless)("nzAutoFocus",r.i.autoFocus)("nzDropdownMatchSelectWidth",r.i.dropdownMatchSelectWidth)("nzServerSearch",r.i.serverSearch)("nzMaxMultipleCount",r.i.maxMultipleCount)("nzMode",r.i.mode)("nzShowSearch",r.i.showSearch)("nzShowArrow",r.i.showArrow)("nzTokenSeparators",r.i.tokenSeparators)("nzMaxTagCount",r.i.maxTagCount)("compareWith",r.i.compareWith)("nzOptionHeightPx",r.i.optionHeightPx)("nzOptionOverflowSize",r.i.optionOverflowSize),m(),T(!r.loading&&!r.hasGroup?2:-1),m(),T(!r.loading&&r.hasGroup?3:-1),m(),T(r.loading?4:-1))},dependencies:[ht,Qe,Ot,De,Xs,Zs,Js,ft],encapsulation:2})}return t})(),bu=(()=>{class t extends pt{type;change$=null;ngOnInit(){let{addOnAfter:e,addOnAfterIcon:i,addOnBefore:r,addOnBeforeIcon:o,prefix:a,prefixIcon:s,suffix:l,suffixIcon:c,autofocus:d}=this.ui;this.type=e||r||i||o||a||s||l||c?"addon":"",d===!0&&setTimeout(()=>{this.injector.get(Me).nativeElement.querySelector(`#${this.id}`).focus()},20),this.initChange()}reset(e){!e&&this.schema.format==="color"&&this.setValue("#000000")}initChange(){let e=this.ui.changeDebounceTime,i=this.ui.change;if(e==null||e<=0||i==null)return;this.change$=new jt(this.value);let r=this.change$.asObservable().pipe(zr(e),tn(this.sfItemComp.destroy$));this.ui.changeMap!=null&&(r=r.pipe($r(this.ui.changeMap))),r.subscribe(o=>i(o))}change(e){if(this.setValue(e),this.change$!=null){this.change$.next(e);return}this.ui.change&&this.ui.change(e)}focus(e){this.ui.focus&&this.ui.focus(e)}blur(e){this.ui.blur&&this.ui.blur(e)}enter(e){this.ui.enter&&this.ui.enter(e)}static \u0275fac=(()=>{let e;return function(r){return(e||(e=ce(t)))(r||t)}})();static \u0275cmp=U({type:t,selectors:[["sf-string"]],standalone:!1,features:[de],decls:5,vars:7,consts:[["ipt",""],[3,"id","schema","ui","showError","error","showTitle"],[3,"nzAddOnBefore","nzAddOnAfter","nzAddOnBeforeIcon","nzAddOnAfterIcon","nzPrefix","nzPrefixIcon","nzSuffix","nzSuffixIcon"],[3,"ngTemplateOutlet"],["nz-input","",3,"ngModelChange","keyup.enter","focus","blur","disabled","nzSize","nzBorderless","ngModel"]],template:function(i,r){i&1&&(z(0,"sf-item-wrap",1),N(1,Kg,1,11,"ng-template",null,0,ke),x(3,Qg,2,9,"nz-input-group",2)(4,Xg,1,1,null,3),C()),i&2&&(_("id",r.id)("schema",r.schema)("ui",r.ui)("showError",r.showError)("error",r.error)("showTitle",r.schema.title),m(3),T(r.type==="addon"?3:4))},dependencies:[je,Dr,ht,Qe,Ot,Vr,ll,sl,ft],encapsulation:2})}return t})(),wy=(()=>{class t extends pt{text="";ngOnInit(){this.ui._required=!1,this.ui.html=He(this.ui.html,!0)}reset(e){this.text=e||this.ui.defaultText||"-"}static \u0275fac=(()=>{let e;return function(r){return(e||(e=ce(t)))(r||t)}})();static \u0275cmp=U({type:t,selectors:[["sf-text"]],standalone:!1,features:[de],decls:3,vars:9,consts:[[3,"id","schema","ui","showError","error","showTitle"],[3,"innerHTML"],[3,"innerText"]],template:function(i,r){i&1&&(z(0,"sf-item-wrap",0),x(1,Zg,1,1,"span",1)(2,Yg,1,1,"span",2),C()),i&2&&(Q("sf__text-html",r.ui.html),_("id",r.id)("schema",r.schema)("ui",r.ui)("showError",r.showError)("error",r.error)("showTitle",r.schema.title),m(),T(r.ui.html?1:2))},dependencies:[ft],encapsulation:2})}return t})(),$y=(()=>{class t extends pt{autosize=!0;ngOnInit(){this.ui.autosize!=null&&(this.autosize=this.ui.autosize),this.ui.computeCharacterCount==null&&(this.ui.computeCharacterCount=e=>e.length)}change(e){this.setValue(e),this.ui.change&&this.ui.change(e)}focus(e){this.ui.focus&&this.ui.focus(e)}blur(e){this.ui.blur&&this.ui.blur(e)}static \u0275fac=(()=>{let e;return function(r){return(e||(e=ce(t)))(r||t)}})();static \u0275cmp=U({type:t,selectors:[["sf-textarea"]],standalone:!1,features:[de],decls:5,vars:7,consts:[["ipt",""],[3,"id","schema","ui","showError","error","showTitle"],[3,"nzMaxCharacterCount","nzComputeCharacterCount"],[3,"ngTemplateOutlet"],["nz-input","",3,"ngModelChange","focus","blur","disabled","nzSize","ngModel","nzAutosize","nzBorderless"]],template:function(i,r){i&1&&(z(0,"sf-item-wrap",1),N(1,ey,2,9,"ng-template",null,0,ke),x(3,ty,3,11,"nz-textarea-count",2)(4,iy,1,1,null,3),C()),i&2&&(_("id",r.id)("schema",r.schema)("ui",r.ui)("showError",r.showError)("error",r.error)("showTitle",r.schema.title),m(3),T(r.ui.maxCharacterCount?3:4))},dependencies:[je,Dr,ht,Qe,cl,Vr,al,ft],encapsulation:2})}return t})(),dr=class extends Zt{constructor(){super(),this.register("object",Cy),this.register("array",hy),this.register("text",wy),this.register("string",bu),this.register("number",Cu),this.register("integer",Cu),this.register("date",vy),this.register("radio",by),this.register("checkbox",gy),this.register("boolean",_y),this.register("textarea",$y),this.register("select",zy),this.register("custom",yy),this.setDefault(bu)}},Sy=[Ss,yl,Ws,ol,hl,pl,Et,dl,fl,xs,Us,Ys,Cl,dn];var xb=(()=>{class t{static forRoot(){return{ngModule:t,providers:[{provide:ur,useClass:xu,deps:[Se,Dn]},{provide:Zt,useClass:dr}]}}static \u0275fac=function(i){return new(i||t)};static \u0275mod=Re({type:t});static \u0275inj=Ve({imports:[Tt,js,Ms,Sy]})}return t})();function Tb(t){let n=[{provide:ur,useClass:xu,deps:[Se,Dn]},{provide:Zt,useClass:dr}];return t?.widgets&&n.push(as(()=>{let e=w(Zt);t?.widgets?.forEach(i=>e.register(i.KEY,i.type))})),os(n)}var Fa=["*"];function xy(t,n){}function Ty(t,n){if(t&1&&(z(0,"span",1),N(1,xy,0,0,"ng-template",2),G(2,"nz-icon",3),C()),t&2){let e=f(),i=le(4);_("nzDropdownMenu",e.nzOverlay),m(),_("ngTemplateOutlet",i)}}function Ey(t,n){}function Py(t,n){if(t&1&&N(0,Ey,0,0,"ng-template",2),t&2){f();let e=le(4);_("ngTemplateOutlet",e)}}function Oy(t,n){if(t&1&&(we(0),j(1),$e()),t&2){let e=f(2);m(),se(" ",e.nzBreadCrumbComponent.nzSeparator," ")}}function My(t,n){if(t&1&&(z(0,"nz-breadcrumb-separator"),N(1,Oy,2,1,"ng-container",4),C()),t&2){let e=f();m(),_("nzStringTemplateOutlet",e.nzBreadCrumbComponent.nzSeparator)}}function Ny(t,n){t&1&&(z(0,"span",5),ae(1),C())}var Iy=(t,n)=>n.url;function ky(t,n){if(t&1){let e=ee();z(0,"nz-breadcrumb-item")(1,"a",0),K("click",function(r){let o=P(e).$implicit,a=f(2);return O(a.navigate(o.url,r))}),j(2),C()()}if(t&2){let e=n.$implicit;m(),Fe("href",e.url,ls),m(),re(e.label)}}function Dy(t,n){if(t&1&&be(0,ky,3,2,"nz-breadcrumb-item",null,Iy),t&2){let e=f();ze(e.breadcrumbs)}}var mr=class{},Vy=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275cmp=U({type:t,selectors:[["nz-breadcrumb-separator"]],hostAttrs:[1,"ant-breadcrumb-separator"],exportAs:["nzBreadcrumbSeparator"],ngContentSelectors:Fa,decls:1,vars:0,template:function(i,r){i&1&&(oe(),ae(0))},encapsulation:2})}return t})(),hr=(()=>{class t{nzBreadCrumbComponent=w(mr);nzOverlay;static \u0275fac=function(i){return new(i||t)};static \u0275cmp=U({type:t,selectors:[["nz-breadcrumb-item"]],inputs:{nzOverlay:"nzOverlay"},exportAs:["nzBreadcrumbItem"],ngContentSelectors:Fa,decls:5,vars:2,consts:[["noMenuTpl",""],["nz-dropdown","",1,"ant-breadcrumb-overlay-link",3,"nzDropdownMenu"],[3,"ngTemplateOutlet"],["nzType","down"],[4,"nzStringTemplateOutlet"],[1,"ant-breadcrumb-link"]],template:function(i,r){i&1&&(oe(),x(0,Ty,3,2,"span",1)(1,Py,1,1,null,2),x(2,My,2,1,"nz-breadcrumb-separator"),N(3,Ny,2,0,"ng-template",null,0,ke)),i&2&&(T(r.nzOverlay?0:1),m(2),T(r.nzBreadCrumbComponent.nzSeparator?2:-1))},dependencies:[je,Vy,Gs,Ks,Et,De,Pt,rt],encapsulation:2,changeDetection:0})}return t})(),ja=(()=>{class t{injector=w(In);cdr=w(Ge);elementRef=w(Me);renderer=w(Ce);directionality=w(sn);destroyRef=w(rn);nzAutoGenerate=!1;nzSeparator="/";nzRouteLabel="breadcrumb";nzRouteLabelFn=e=>e;nzRouteFn=e=>e;breadcrumbs=[];dir="ltr";ngOnInit(){this.nzAutoGenerate&&this.registerRouterChange(),this.directionality.change?.pipe(ge(this.destroyRef)).subscribe(e=>{this.dir=e,this.prepareComponentForRtl(),this.cdr.detectChanges()}),this.dir=this.directionality.value,this.prepareComponentForRtl()}navigate(e,i){i.preventDefault(),this.injector.get(Rn).navigateByUrl(e)}registerRouterChange(){try{let e=this.injector.get(Rn),i=this.injector.get(_s);e.events.pipe(Be(r=>r instanceof mi),ge(this.destroyRef),ns(!0)).subscribe(()=>{this.breadcrumbs=this.getBreadcrumbs(i.root),this.cdr.markForCheck()})}catch{throw new Error(`${zs} You should import RouterModule if you want to use 'NzAutoGenerate'.`)}}getBreadcrumbs(e,i="",r=[]){let o=e.children;if(o.length===0)return r;for(let a of o)if(a.outlet===hs){let s=a.snapshot.url.map(u=>u.path).filter(u=>u).join("/"),l=s?`${i}/${s}`:i,c=this.nzRouteLabelFn(a.snapshot.data[this.nzRouteLabel]),d=this.nzRouteFn(l);if(s&&c){let u={label:c,params:a.snapshot.params,url:d};r.push(u)}return this.getBreadcrumbs(a,l,r)}return r}prepareComponentForRtl(){this.dir==="rtl"?this.renderer.addClass(this.elementRef.nativeElement,"ant-breadcrumb-rtl"):this.renderer.removeClass(this.elementRef.nativeElement,"ant-breadcrumb-rtl")}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=U({type:t,selectors:[["nz-breadcrumb"]],hostAttrs:[1,"ant-breadcrumb"],inputs:{nzAutoGenerate:[2,"nzAutoGenerate","nzAutoGenerate",q],nzSeparator:"nzSeparator",nzRouteLabel:"nzRouteLabel",nzRouteLabelFn:"nzRouteLabelFn",nzRouteFn:"nzRouteFn"},exportAs:["nzBreadcrumb"],features:[Lt([{provide:mr,useExisting:rs(()=>t)}])],ngContentSelectors:Fa,decls:2,vars:1,consts:[[3,"click"]],template:function(i,r){i&1&&(oe(),ae(0),x(1,Dy,2,0)),i&2&&(m(),T(r.nzAutoGenerate&&r.breadcrumbs.length?1:-1))},dependencies:[hr],encapsulation:2,changeDetection:0})}return t})(),Pu=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=Re({type:t});static \u0275inj=Ve({imports:[ja,hr]})}return t})();var Ry=["fixedEl"],Fy=["*"],Aa=function(t){return t.resize="resize",t.scroll="scroll",t.touchstart="touchstart",t.touchmove="touchmove",t.touchend="touchend",t.pageshow="pageshow",t.load="LOAD",t}(Aa||{});function jy(t){return typeof window<"u"&&t===window}function Ou(t){return jy(t)?{top:0,left:0,bottom:0}:t.getBoundingClientRect()}var Ay="affix",On="ant-affix",qy=20,qa=(()=>{var a;let t,n=[],e=[],i,r=[],o=[];return a=class{nzConfigService=w($s);scrollSrv=w(Ns);platform=w(an);renderer=w(Ce);nzResizeObserver=w(Qs);cdr=w(Ge);directionality=w(sn);destroyRef=w(rn);_nzModuleName=Ay;fixedEl;nzTarget;nzOffsetTop=Nn(this,n,void 0);nzOffsetBottom=(Nn(this,e),Nn(this,r,void 0));nzChange=(Nn(this,o),new wt);dir="ltr";placeholderNode=w(Me).nativeElement;affixStyle;placeholderStyle;positionChangeSubscription=Ja.EMPTY;offsetChanged$=new Za(1);timeout;document=w(ss);get target(){let l=this.nzTarget;return(typeof l=="string"?this.document.querySelector(l):l)||window}constructor(){this.destroyRef.onDestroy(()=>{this.removeListeners()})}ngOnInit(){this.directionality.change?.pipe(ge(this.destroyRef)).subscribe(l=>{this.dir=l,this.registerListeners(),this.updatePosition({}),this.cdr.detectChanges()}),this.dir=this.directionality.value}ngOnChanges(l){let{nzOffsetBottom:c,nzOffsetTop:d,nzTarget:u}=l;(c||d)&&this.offsetChanged$.next(),u&&this.registerListeners()}ngAfterViewInit(){this.registerListeners()}registerListeners(){if(!this.platform.isBrowser)return;this.removeListeners();let l=this.target===window?this.document.body:this.target;this.positionChangeSubscription=en(...Object.keys(Aa).map(c=>ws(this.target,c)),this.offsetChanged$.pipe(At(()=>({}))),this.nzResizeObserver.observe(l)).pipe(is(qy,void 0,{trailing:!0}),ge(this.destroyRef)).subscribe(c=>this.updatePosition(c)),this.timeout=setTimeout(()=>this.updatePosition({}))}removeListeners(){clearTimeout(this.timeout),this.positionChangeSubscription.unsubscribe()}getOffset(l,c){let d=l.getBoundingClientRect(),u=Ou(c),g=this.scrollSrv.getScroll(c,!0),y=this.scrollSrv.getScroll(c,!1),h=this.document.body,v=h.clientTop||0,p=h.clientLeft||0;return{top:d.top-u.top+g-v,left:d.left-u.left+y-p,width:d.width,height:d.height}}setAffixStyle(l,c){let d=this.affixStyle,u=this.target===window;if(l.type==="scroll"&&d&&c&&u||Pr(d,c))return;let g=!!c,y=this.fixedEl.nativeElement;this.renderer.setStyle(y,"cssText",Mr(c)),this.affixStyle=c,g?y.classList.add(On):y.classList.remove(On),this.updateRtlClass(),(c&&!d||!c&&d)&&this.nzChange.emit(g)}setPlaceholderStyle(l){let c=this.placeholderStyle;Pr(l,c)||(this.renderer.setStyle(this.placeholderNode,"cssText",Mr(l)),this.placeholderStyle=l)}syncPlaceholderStyle(l){if(!this.affixStyle)return;this.renderer.setStyle(this.placeholderNode,"cssText",""),this.placeholderStyle=void 0;let c={width:this.placeholderNode.offsetWidth,height:this.fixedEl.nativeElement.offsetHeight};this.setAffixStyle(l,$($({},this.affixStyle),c)),this.setPlaceholderStyle(c)}updatePosition(l){if(!this.platform.isBrowser)return;let c=this.target,d=this.nzOffsetTop,u=this.scrollSrv.getScroll(c,!0),g=this.getOffset(this.placeholderNode,c),y=this.fixedEl.nativeElement,h={width:y.offsetWidth,height:y.offsetHeight},v={top:!1,bottom:!1};typeof d!="number"&&typeof this.nzOffsetBottom!="number"?(v.top=!0,d=0):(v.top=typeof d=="number",v.bottom=typeof this.nzOffsetBottom=="number");let p=Ou(c),b=c.innerHeight||c.clientHeight;if(u>=g.top-d&&v.top){let k=g.width,D=p.top+d;this.setAffixStyle(l,{position:"fixed",top:D,left:p.left+g.left,width:k}),this.setPlaceholderStyle({width:k,height:h.height})}else if(u<=g.top+h.height+this.nzOffsetBottom-b&&v.bottom){let k=c===window?0:window.innerHeight-p.bottom,D=g.width;this.setAffixStyle(l,{position:"fixed",bottom:k+this.nzOffsetBottom,left:p.left+g.left,width:D}),this.setPlaceholderStyle({width:D,height:g.height})}else l.type===Aa.resize&&this.affixStyle&&this.affixStyle.position==="fixed"&&this.placeholderNode.offsetWidth?this.setAffixStyle(l,X($({},this.affixStyle),{width:this.placeholderNode.offsetWidth})):this.setAffixStyle(l),this.setPlaceholderStyle();l.type==="resize"&&this.syncPlaceholderStyle(l)}updateRtlClass(){let l=this.fixedEl.nativeElement;this.dir==="rtl"?l.classList.contains(On)?l.classList.add(`${On}-rtl`):l.classList.remove(`${On}-rtl`):l.classList.remove(`${On}-rtl`)}},(()=>{let l=typeof Symbol=="function"&&Symbol.metadata?Object.create(null):void 0;t=[Nr()],i=[Nr()],Cr(null,null,t,{kind:"field",name:"nzOffsetTop",static:!1,private:!1,access:{has:c=>"nzOffsetTop"in c,get:c=>c.nzOffsetTop,set:(c,d)=>{c.nzOffsetTop=d}},metadata:l},n,e),Cr(null,null,i,{kind:"field",name:"nzOffsetBottom",static:!1,private:!1,access:{has:c=>"nzOffsetBottom"in c,get:c=>c.nzOffsetBottom,set:(c,d)=>{c.nzOffsetBottom=d}},metadata:l},r,o),l&&Object.defineProperty(a,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:l})})(),vr(a,"\u0275fac",function(c){return new(c||a)}),vr(a,"\u0275cmp",U({type:a,selectors:[["nz-affix"]],viewQuery:function(c,d){if(c&1&&Ke(Ry,7),c&2){let u;Ne(u=Ie())&&(d.fixedEl=u.first)}},inputs:{nzTarget:"nzTarget",nzOffsetTop:[2,"nzOffsetTop","nzOffsetTop",Or],nzOffsetBottom:[2,"nzOffsetBottom","nzOffsetBottom",Or]},outputs:{nzChange:"nzChange"},exportAs:["nzAffix"],features:[Oe],ngContentSelectors:Fy,decls:3,vars:0,consts:[["fixedEl",""]],template:function(c,d){c&1&&(oe(),z(0,"div",null,0),ae(2),C())},dependencies:[bs,Cs],encapsulation:2,changeDetection:0})),a})(),Mu=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=Re({type:t});static \u0275inj=Ve({imports:[qa]})}return t})();var Ly=["conTpl"],Wy=["affix"],Hy=["*"],By=()=>({rows:3}),Uy=()=>({size:"large",shape:"circle"});function Ky(t,n){}function Gy(t,n){if(t&1&&(z(0,"nz-affix",3,1),N(2,Ky,0,0,"ng-template",4),C()),t&2){let e=f(),i=le(3);_("nzOffsetTop",e.fixedOffsetTop),m(2),_("ngTemplateOutlet",i)}}function Qy(t,n){}function Jy(t,n){if(t&1&&N(0,Qy,0,0,"ng-template",4),t&2){f();let e=le(3);_("ngTemplateOutlet",e)}}function Xy(t,n){}function Zy(t,n){if(t&1&&N(0,Xy,0,0,"ng-template",4),t&2){let e=f(2);_("ngTemplateOutlet",e.breadcrumb)}}function Yy(t,n){if(t&1&&(z(0,"a",15),j(1),C()),t&2){let e=f().$implicit;_("routerLink",e.link),m(),re(e.title)}}function ev(t,n){if(t&1&&j(0),t&2){let e=f().$implicit;se(" ",e.title," ")}}function tv(t,n){if(t&1&&(z(0,"nz-breadcrumb-item"),x(1,Yy,2,2,"a",15)(2,ev,1,1),C()),t&2){let e=n.$implicit;m(),T(e.link?1:2)}}function nv(t,n){if(t&1&&(z(0,"nz-breadcrumb"),be(1,tv,3,1,"nz-breadcrumb-item",null,Ue),C()),t&2){let e=f(3);m(),ze(e.paths)}}function iv(t,n){if(t&1&&x(0,nv,3,0,"nz-breadcrumb"),t&2){let e=f(2);T(e.paths&&e.paths.length>0?0:-1)}}function rv(t,n){}function ov(t,n){if(t&1&&(z(0,"div",8),N(1,rv,0,0,"ng-template",4),C()),t&2){let e=f(2);m(),_("ngTemplateOutlet",e.logo)}}function av(t,n){}function sv(t,n){if(t&1&&N(0,av,0,0,"ng-template",4),t&2){let e=f(3);_("ngTemplateOutlet",e._titleTpl)}}function lv(t,n){if(t&1&&(we(0),j(1),$e()),t&2){let e=f(5);m(),re(e.titleSub)}}function cv(t,n){if(t&1&&(z(0,"small"),N(1,lv,2,1,"ng-container",16),C()),t&2){let e=f(4);m(),_("nzStringTemplateOutlet",e.titleSub)}}function dv(t,n){if(t&1&&(j(0),x(1,cv,2,1,"small")),t&2){let e=f(3);se(" ",e._titleVal," "),m(),T(e.titleSub?1:-1)}}function uv(t,n){if(t&1&&(z(0,"h1",11),x(1,sv,1,1,null,4)(2,dv,2,2),C()),t&2){let e=f(2);m(),T(e._titleTpl?1:2)}}function fv(t,n){}function pv(t,n){if(t&1&&(z(0,"div",12),N(1,fv,0,0,"ng-template",4),C()),t&2){let e=f(2);m(),_("ngTemplateOutlet",e.action)}}function mv(t,n){}function hv(t,n){}function _v(t,n){if(t&1&&(z(0,"div",14),N(1,hv,0,0,"ng-template",4),C()),t&2){let e=f(2);m(),_("ngTemplateOutlet",e.extra)}}function gv(t,n){}function yv(t,n){if(t&1){let e=ee();z(0,"div",5)(1,"div")(2,"nz-skeleton",6),x(3,Zy,1,1,null,4)(4,iv,1,1),z(5,"div",7),x(6,ov,2,1,"div",8),z(7,"div",9)(8,"div",10),x(9,uv,3,1,"h1",11),x(10,pv,2,1,"div",12),C(),z(11,"div",10)(12,"div",13,2),K("cdkObserveContent",function(){P(e);let r=f();return O(r.checkContent())}),ae(14),N(15,mv,0,0,"ng-template",4),C(),x(16,_v,2,1,"div",14),C()()(),N(17,gv,0,0,"ng-template",4),C()()()}if(t&2){let e=f();Q("page-header-rtl",e.dir()==="rtl"),m(),Q("page-header__wide",e.wide),m(),_("nzLoading",e.loading)("nzTitle",!1)("nzActive",!0)("nzParagraph",on(16,By))("nzAvatar",on(17,Uy)),m(),T(e.breadcrumb?3:4),m(3),T(e.logo?6:-1),m(3),T(e._titleVal||e._titleTpl?9:-1),m(),T(e.action?10:-1),m(5),_("ngTemplateOutlet",e.content),m(),T(e.extra?16:-1),m(),_("ngTemplateOutlet",e.tab)}}var vv=(()=>{class t{renderer=w(Ce);router=w(Rn);cdr=w(Ge);menuSrv=w(Ts);i18nSrv=w(vi);titleSrv=w(Ps);reuseSrv=w(zl,{optional:!0});settings=w(Es);platform=w(an);cogSrv=w(Se);conTpl;affix;inited=!1;isBrowser=!0;dir=w(sn).valueSignal;get menus(){return this.menuSrv.getPathByUrl(this.router.url,this.recursiveBreadcrumb)}_titleVal="";paths=[];_title=null;_titleTpl=null;set title(e){e instanceof kn?(this._title=null,this._titleTpl=e,this._titleVal=""):(this._title=e,this._titleVal=this._title)}titleSub;loading=!1;wide=!1;home;homeLink;homeI18n;autoBreadcrumb;autoTitle;syncTitle;fixed;fixedOffsetTop;breadcrumb=null;recursiveBreadcrumb;logo=null;action=null;content=null;extra=null;tab=null;constructor(){this.isBrowser=this.platform.isBrowser,this.cogSrv.attach(this,"pageHeader",{home:"\u9996\u9875",homeLink:"/",autoBreadcrumb:!0,recursiveBreadcrumb:!1,autoTitle:!0,syncTitle:!0,fixed:!1,fixedOffsetTop:64}),this.settings.notify.pipe(ge(),Be(i=>this.affix&&i.type==="layout"&&i.name==="collapsed")).subscribe(()=>this.affix.updatePosition({}));let e=[this.router.events.pipe(Be(i=>i instanceof mi))];this.menuSrv!=null&&e.push(this.menuSrv.change),e.push(this.i18nSrv.change),en(...e).pipe(ge(),Be(()=>this.inited)).subscribe(()=>this.refresh())}refresh(){this.setTitle().genBreadcrumb(),this.cdr.detectChanges()}genBreadcrumb(){if(this.breadcrumb||!this.autoBreadcrumb||this.menus.length<=0){this.paths=[];return}let e=[];this.menus.forEach(i=>{if(typeof i.hideInBreadcrumb<"u"&&i.hideInBreadcrumb)return;let r=i.text;i.i18n&&(r=this.i18nSrv.fanyi(i.i18n)),e.push({title:r,link:i.link&&[i.link]})}),this.home&&e.splice(0,0,{title:this.homeI18n&&this.i18nSrv.fanyi(this.homeI18n)||this.home,link:[this.homeLink]}),this.paths=e}setTitle(){if(this._title==null&&this._titleTpl==null&&this.autoTitle&&this.menus.length>0){let e=this.menus[this.menus.length-1],i=e.text;e.i18n&&(i=this.i18nSrv.fanyi(e.i18n)),this._titleVal=i}return this._titleVal&&this.syncTitle&&(this.titleSrv.setTitle(this._titleVal),!this.inited&&this.reuseSrv&&(this.reuseSrv.title=this._titleVal)),this}checkContent(){cn(this.conTpl.nativeElement)?this.renderer.setAttribute(this.conTpl.nativeElement,"hidden",""):this.renderer.removeAttribute(this.conTpl.nativeElement,"hidden")}ngOnInit(){this.refresh(),this.inited=!0}ngAfterViewInit(){this.checkContent()}ngOnChanges(){this.inited&&this.refresh()}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=U({type:t,selectors:[["page-header"]],viewQuery:function(i,r){if(i&1&&(Ke(Ly,5),Ke(Wy,5)),i&2){let o;Ne(o=Ie())&&(r.conTpl=o.first),Ne(o=Ie())&&(r.affix=o.first)}},inputs:{title:"title",titleSub:"titleSub",loading:[2,"loading","loading",q],wide:[2,"wide","wide",q],home:"home",homeLink:"homeLink",homeI18n:"homeI18n",autoBreadcrumb:[2,"autoBreadcrumb","autoBreadcrumb",q],autoTitle:[2,"autoTitle","autoTitle",q],syncTitle:[2,"syncTitle","syncTitle",q],fixed:[2,"fixed","fixed",q],fixedOffsetTop:[2,"fixedOffsetTop","fixedOffsetTop",ue],breadcrumb:"breadcrumb",recursiveBreadcrumb:[2,"recursiveBreadcrumb","recursiveBreadcrumb",q],logo:"logo",action:"action",content:"content",extra:"extra",tab:"tab"},exportAs:["pageHeader"],features:[Oe],ngContentSelectors:Hy,decls:4,vars:1,consts:[["phTpl",""],["affix",""],["conTpl",""],[3,"nzOffsetTop"],[3,"ngTemplateOutlet"],[1,"page-header"],[1,"d-block",3,"nzLoading","nzTitle","nzActive","nzParagraph","nzAvatar"],[1,"page-header__detail"],[1,"page-header__logo"],[1,"page-header__main"],[1,"page-header__row"],[1,"page-header__title"],[1,"page-header__action"],[1,"page-header__desc",3,"cdkObserveContent"],[1,"page-header__extra"],[3,"routerLink"],[4,"nzStringTemplateOutlet"]],template:function(i,r){i&1&&(oe(),x(0,Gy,3,2,"nz-affix",3)(1,Jy,1,1,null,4),N(2,yv,18,18,"ng-template",null,0,ke)),i&2&&T(r.isBrowser&&r.fixed?0:1)},dependencies:[qa,je,_l,ja,hr,gs,rt,ln],encapsulation:2,changeDetection:0})}return t})(),Cv=[vv],Vz=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=Re({type:t});static \u0275inj=Ve({imports:[Tt,ys,_i,Mu,gl,Pu,Pt,Cv]})}return t})();var Wa=["*"];function bv(t,n){if(t&1&&(we(0),j(1),$e()),t&2){let e=f(2);m(),re(e.title)}}function zv(t,n){if(t&1&&(z(0,"div",0),N(1,bv,2,1,"ng-container",1),C()),t&2){let e=f();m(),_("nzStringTemplateOutlet",e.title)}}var wv=["contentElement"];function $v(t,n){if(t&1&&(we(0),j(1),$e()),t&2){let e=f(2);m(),re(e.label)}}function Sv(t,n){if(t&1&&(we(0),j(1),$e()),t&2){let e=f(3);m(),re(e.optional)}}function xv(t,n){if(t&1&&G(0,"nz-icon",12),t&2){let e=f(3);_("nzTooltipTitle",e.optionalHelp)("nzTooltipColor",e.optionalHelpColor)}}function Tv(t,n){if(t&1&&(z(0,"span",11),N(1,Sv,2,1,"ng-container",9),x(2,xv,1,2,"nz-icon",12),C()),t&2){let e=f(2);Q("se__label-optional-no-text",!e.optional),m(),_("nzStringTemplateOutlet",e.optional),m(),T(e.optionalHelp?2:-1)}}function Ev(t,n){if(t&1&&(z(0,"label",7)(1,"span",8),N(2,$v,2,1,"ng-container",9),C(),x(3,Tv,3,4,"span",10),C()),t&2){let e=f();Q("ant-form-item-required",e.required)("se__no-colon",e._noColon),Fe("for",e._id),m(2),_("nzStringTemplateOutlet",e.label),m(),T(e.optional||e.optionalHelp?3:-1)}}function Pv(t,n){if(t&1&&(we(0),j(1),$e()),t&2){let e=f(2);m(),re(e._error)}}function Ov(t,n){if(t&1&&(z(0,"div",5)(1,"div",13),N(2,Pv,2,1,"ng-container",9),C()()),t&2){let e=f();_("@helpMotion",void 0),m(2),_("nzStringTemplateOutlet",e._error)}}function Mv(t,n){if(t&1&&(we(0),j(1),$e()),t&2){let e=f(2);m(),re(e.extra)}}function Nv(t,n){if(t&1&&(z(0,"div",6),N(1,Mv,2,1,"ng-container",9),C()),t&2){let e=f();m(),_("nzStringTemplateOutlet",e.extra)}}var Iv=(()=>{class t{parentComp=w(Nu,{host:!0,optional:!0});el=w(Me).nativeElement;ren=w(Ce);constructor(){if(this.parentComp==null)throw new Error("[se-title] must include 'se-container' component")}setClass(){let{el:e}=this,i=this.parentComp.gutter;this.ren.setStyle(e,"padding-left",`${i/2}px`),this.ren.setStyle(e,"padding-right",`${i/2}px`)}ngOnInit(){this.setClass()}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=U({type:t,selectors:[["se-title"],["","se-title",""]],hostVars:2,hostBindings:function(i,r){i&2&&Q("se__title",!0)},exportAs:["seTitle"],ngContentSelectors:Wa,decls:1,vars:0,template:function(i,r){i&1&&(oe(),ae(0))},encapsulation:2,changeDetection:0})}return t})(),Nu=(()=>{class t{cogSrv=w(Se);errorNotify$=new jt(null);colInCon;col;labelWidth;noColon=!1;title;get gutter(){return this.nzLayout==="horizontal"?this._gutter:0}set gutter(e){this._gutter=e}_gutter;get nzLayout(){return this._nzLayout}set nzLayout(e){this._nzLayout=e,e==="inline"&&(this.size="compact")}_nzLayout;size;firstVisual;ingoreDirty;line=!1;set errors(e){this.setErrors(e)}get margin(){return-(this.gutter/2)}get errorNotify(){return this.errorNotify$.pipe(Be(e=>e!=null))}constructor(){this.cogSrv.attach(this,"se",{size:"default",nzLayout:"horizontal",gutter:32,col:2,labelWidth:150,firstVisual:!1,ingoreDirty:!1})}setErrors(e){for(let i of e)this.errorNotify$.next(i)}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=U({type:t,selectors:[["se-container"],["","se-container",""]],hostVars:16,hostBindings:function(i,r){i&2&&(nt("margin-left",r.margin,"px")("margin-right",r.margin,"px"),Q("ant-row",!0)("se__container",!0)("se__horizontal",r.nzLayout==="horizontal")("se__vertical",r.nzLayout==="vertical")("se__inline",r.nzLayout==="inline")("se__compact",r.size==="compact"))},inputs:{colInCon:[2,"se-container","colInCon",e=>e==null?null:ue(e)],col:[2,"col","col",e=>e==null?null:ue(e)],labelWidth:[2,"labelWidth","labelWidth",e=>e==null?null:ue(e)],noColon:[2,"noColon","noColon",q],title:"title",gutter:[2,"gutter","gutter",ue],nzLayout:"nzLayout",size:"size",firstVisual:[2,"firstVisual","firstVisual",q],ingoreDirty:[2,"ingoreDirty","ingoreDirty",q],line:[2,"line","line",q],errors:"errors"},exportAs:["seContainer"],ngContentSelectors:Wa,decls:2,vars:1,consts:[["se-title",""],[4,"nzStringTemplateOutlet"]],template:function(i,r){i&1&&(oe(),x(0,zv,2,1,"div",0),ae(1)),i&2&&T(r.title?0:-1)},dependencies:[Iv,rt],encapsulation:2,changeDetection:0})}return t})(),La="se",kv=0,ow=(()=>{class t{parentComp=w(Nu,{host:!0,optional:!0});el=w(Me).nativeElement;rep=w(Ci);ren=w(Ce);cdr=w(Ge);statusSrv=w(Wt);destroy$=w(rn);ngModel;formControlName;contentElement;clsMap=[];inited=!1;onceFlag=!1;errorData={};isBindModel=!1;invalid=!1;_labelWidth=null;_noColon=null;_error;optional=null;optionalHelp=null;optionalHelpColor;set error(e){this.errorData=typeof e=="string"||e instanceof kn?{"":e}:e}extra;label;col;required=!1;controlClass="";line;labelWidth;noColon;hideLabel=!1;set id(e){this._id=e,this._autoId=!1}_id=`_se-${++kv}`;_autoId=!0;get paddingValue(){return this.parentComp.gutter/2}get showErr(){return this.invalid&&!!this._error&&!this.compact}get compact(){return this.parentComp.size==="compact"}get ngControl(){return this.ngModel||this.formControlName}constructor(){if(this.parentComp==null)throw new Error("[se] must include 'se-container' component");this.parentComp.errorNotify.pipe(ge(),Be(e=>this.inited&&this.ngControl!=null&&this.ngControl.name===e.name)).subscribe(e=>{this.error=e.error,this.updateStatus(this.ngControl.invalid)})}setClass(){let{el:e,ren:i,clsMap:r,col:o,cdr:a,line:s,labelWidth:l,rep:c,noColon:d}=this,u=this.parentComp;this._noColon=d??u.noColon,this._labelWidth=u.nzLayout==="horizontal"?l??u.labelWidth:null,r.forEach(h=>i.removeClass(e,h)),r.length=0;let g=u.colInCon||u.col,y=u.nzLayout==="horizontal"?c.genCls(o??g,g):[];return r.push("ant-form-item",...y,`${La}__item`),(s||u.line)&&r.push(`${La}__line`),r.forEach(h=>i.addClass(e,h)),a.detectChanges(),this}bindModel(){if(!(!this.ngControl||this.isBindModel)){if(this.isBindModel=!0,this.ngControl.statusChanges.pipe(ge(this.destroy$)).subscribe(e=>this.updateStatus(e==="INVALID")),this._autoId){let e=this.ngControl.valueAccessor,i=(e?.elementRef||e?._elementRef)?.nativeElement;i&&(i.id?this._id=i.id:i.id=this._id)}if(this.required!==!0){let e=this.ngControl?.control?.hasValidator(Is.required);e!==!0&&(e=(this.ngControl?._rawValidators).find(r=>r instanceof Fs)!=null),this.required=e,this.cdr.detectChanges()}}}updateStatus(e){if(this.ngControl?.disabled||this.ngControl?.isDisabled)return;this.invalid=!this.onceFlag&&e&&this.parentComp.ingoreDirty===!1&&!this.ngControl?.dirty?!1:e;let i=this.ngControl?.errors;if(i!=null&&Object.keys(i).length>0){let r=Object.keys(i)[0]||"",o=this.errorData[r];this._error=o??(this.errorData[""]||"")}this.statusSrv.formStatusChanges.next({status:this.invalid?"error":"",hasFeedback:!1}),this.cdr.detectChanges()}checkContent(){let e=this.contentElement.nativeElement,i=`${La}__item-empty`;cn(e)?this.ren.addClass(e,i):this.ren.removeClass(e,i)}ngAfterContentInit(){this.checkContent()}ngOnChanges(){this.onceFlag=this.parentComp.firstVisual,this.inited&&this.setClass().bindModel()}ngAfterViewInit(){this.setClass().bindModel(),this.inited=!0,this.onceFlag&&Promise.resolve().then(()=>{this.updateStatus(this.ngControl.invalid),this.onceFlag=!1})}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=U({type:t,selectors:[["se"]],contentQueries:function(i,r,o){if(i&1&&(Sr(o,Qe,7),Sr(o,Rs,7)),i&2){let a;Ne(a=Ie())&&(r.ngModel=a.first),Ne(a=Ie())&&(r.formControlName=a.first)}},viewQuery:function(i,r){if(i&1&&Ke(wv,7),i&2){let o;Ne(o=Ie())&&(r.contentElement=o.first)}},hostVars:10,hostBindings:function(i,r){i&2&&(nt("padding-left",r.paddingValue,"px")("padding-right",r.paddingValue,"px"),Q("se__hide-label",r.hideLabel)("ant-form-item-has-error",r.invalid)("ant-form-item-with-help",r.showErr))},inputs:{optional:"optional",optionalHelp:"optionalHelp",optionalHelpColor:"optionalHelpColor",error:"error",extra:"extra",label:"label",col:[2,"col","col",e=>e==null?null:ue(e)],required:[2,"required","required",q],controlClass:"controlClass",line:[2,"line","line",e=>e==null?null:q(e)],labelWidth:[2,"labelWidth","labelWidth",e=>e==null?null:ue(e)],noColon:[2,"noColon","noColon",e=>e==null?null:q(e)],hideLabel:[2,"hideLabel","hideLabel",q],id:"id"},exportAs:["se"],features:[Lt([Wt]),Oe],ngContentSelectors:Wa,decls:9,vars:10,consts:[["contentElement",""],[1,"ant-form-item-label"],[1,"se__label",3,"ant-form-item-required","se__no-colon"],[1,"ant-form-item-control","se__control"],[1,"ant-form-item-control-input-content",3,"cdkObserveContent"],[1,"ant-form-item-explain","ant-form-item-explain-connected"],[1,"ant-form-item-extra"],[1,"se__label"],[1,"se__label-text"],[4,"nzStringTemplateOutlet"],[1,"se__label-optional",3,"se__label-optional-no-text"],[1,"se__label-optional"],["nz-tooltip","","nzType","question-circle",3,"nzTooltipTitle","nzTooltipColor"],["role","alert",1,"ant-form-item-explain-error"]],template:function(i,r){if(i&1){let o=ee();oe(),z(0,"div",1),x(1,Ev,4,7,"label",2),C(),z(2,"div",3)(3,"div")(4,"div",4,0),K("cdkObserveContent",function(){return P(o),O(r.checkContent())}),ae(6),C()(),x(7,Ov,3,2,"div",5),x(8,Nv,2,1,"div",6),C()}i&2&&(nt("width",r._labelWidth,"px"),Q("se__nolabel",r.hideLabel||!r.label),m(),T(r.label?1:-1),m(2),it(ps("ant-form-item-control-input ",r.controlClass)),m(4),T(r.showErr?7:-1),m(),T(r.extra&&!r.compact?8:-1))},dependencies:[rt,_t,De,ln],encapsulation:2,data:{animation:[gi]},changeDetection:0})}return t})();var aw=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=Re({type:t});static \u0275inj=Ve({imports:[Tt,dn,Et,Pt]})}return t})();var Ba=["*"];function Dv(t,n){if(t&1&&(we(0),j(1),$e()),t&2){let e=f(2);m(),re(e.title)}}function Vv(t,n){if(t&1&&(z(0,"sv-title"),N(1,Dv,2,1,"ng-container",1),C()),t&2){let e=f();m(),_("nzStringTemplateOutlet",e.title)}}var Rv=["conEl"];function Fv(t,n){if(t&1&&(we(0),j(1),$e()),t&2){let e=f(2);m(),re(e.label)}}function jv(t,n){if(t&1&&(we(0),j(1),$e()),t&2){let e=f(3);m(),re(e.optional)}}function Av(t,n){if(t&1&&G(0,"nz-icon",10),t&2){let e=f(3);_("nzTooltipTitle",e.optionalHelp)("nzTooltipColor",e.optionalHelpColor)}}function qv(t,n){if(t&1&&(z(0,"span",9),N(1,jv,2,1,"ng-container",7),x(2,Av,1,2,"nz-icon",10),C()),t&2){let e=f(2);Q("sv__label-optional-no-text",!e.optional),m(),_("nzStringTemplateOutlet",e.optional),m(),T(e.optionalHelp?2:-1)}}function Lv(t,n){if(t&1&&(z(0,"div",5)(1,"span",6),N(2,Fv,2,1,"ng-container",7),C(),x(3,qv,3,4,"span",8),C()),t&2){let e=f();nt("width",e.labelWidth,"px"),Q("sv__label-empty",!e.label)("sv__label-width",e.labelWidth!==null&&e.labelWidth!==void 0)("sv__no-colon",e._noColon),m(2),_("nzStringTemplateOutlet",e.label),m(),T(e.optional||e.optionalHelp?3:-1)}}function Wv(t,n){if(t&1&&(z(0,"span",4),j(1),C()),t&2){let e=f(2);m(),re(e.unit)}}function Hv(t,n){if(t&1&&N(0,Wv,2,1,"span",11),t&2){let e=f();_("nzStringTemplateOutlet",e.unit)}}var Bv=(()=>{class t{el=w(Me).nativeElement;parentComp=w(Iu,{host:!0,optional:!0});ren=w(Ce);constructor(){if(this.parentComp==null)throw new Error("[sv-title] must include 'sv-container' component")}setClass(){let e=this.parentComp.gutter,i=this.el;this.ren.setStyle(i,"padding-left",`${e/2}px`),this.ren.setStyle(i,"padding-right",`${e/2}px`)}ngOnInit(){this.setClass()}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=U({type:t,selectors:[["sv-title"],["","sv-title",""]],hostVars:2,hostBindings:function(i,r){i&2&&Q("sv__title",!0)},exportAs:["svTitle"],ngContentSelectors:Ba,decls:1,vars:0,template:function(i,r){i&1&&(oe(),ae(0))},encapsulation:2,changeDetection:0})}return t})(),Iu=(()=>{class t{cogSrv=w(Se);colInCon;title;size;gutter;layout;labelWidth;col;default;noColon=!1;bordered=!1;get margin(){return this.bordered?{}:{"margin-left":`${-(this.gutter/2)}px`,"margin-right":`${-(this.gutter/2)}px`}}constructor(){this.cogSrv.attach(this,"sv",{size:"large",gutter:32,layout:"horizontal",col:3,default:!0})}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=U({type:t,selectors:[["sv-container"],["","sv-container",""]],hostVars:14,hostBindings:function(i,r){i&2&&Q("sv__container",!0)("sv__horizontal",r.layout==="horizontal")("sv__vertical",r.layout==="vertical")("sv__small",r.size==="small")("sv__large",r.size==="large")("sv__bordered",r.bordered)("clearfix",!0)},inputs:{colInCon:[2,"sv-container","colInCon",e=>e==null?null:ue(e)],title:"title",size:"size",gutter:[2,"gutter","gutter",ue],layout:"layout",labelWidth:[2,"labelWidth","labelWidth",ue],col:[2,"col","col",ue],default:[2,"default","default",q],noColon:[2,"noColon","noColon",q],bordered:[2,"bordered","bordered",q]},exportAs:["svContainer"],ngContentSelectors:Ba,decls:3,vars:3,consts:[[1,"ant-row"],[4,"nzStringTemplateOutlet"]],template:function(i,r){i&1&&(oe(),z(0,"div",0),x(1,Vv,2,1,"sv-title"),ae(2),C()),i&2&&(fs(r.margin),m(),T(r.title?1:-1))},dependencies:[Bv,rt],encapsulation:2,changeDetection:0})}return t})();var Ha="sv",ww=(()=>{class t{el=w(Me).nativeElement;parentComp=w(Iu,{host:!0,optional:!0});rep=w(Ci);ren=w(Ce);conEl;clsMap=[];_noColon=!1;optional;optionalHelp;optionalHelpColor;label;unit;col;default;type;noColon;hideLabel=!1;get paddingValue(){return this.parentComp.bordered?null:this.parentComp.gutter/2}get labelWidth(){let{labelWidth:e,layout:i}=this.parentComp;return i==="horizontal"?e:null}constructor(){if(this.parentComp==null)throw new Error("[sv] must include 'sv-container' component")}setClass(){let{ren:e,col:i,clsMap:r,type:o,rep:a,noColon:s}=this,l=this.parentComp,c=this.el;this._noColon=l.bordered?!0:s??l.noColon,r.forEach(u=>e.removeClass(c,u)),r.length=0;let d=l.colInCon||l.col;r.push(...a.genCls(i??d,d)),r.push(`${Ha}__item`),l.labelWidth&&r.push(`${Ha}__item-fixed`),o&&r.push(`${Ha}__type-${o}`),r.forEach(u=>e.addClass(c,u))}ngAfterViewInit(){this.setClass(),this.checkContent()}ngOnChanges(){this.setClass()}checkContent(){let{conEl:e}=this,i=this.default;if(!(i??this.parentComp?.default))return;let r=e.nativeElement,o="sv__default";r.classList.contains(o)&&r.classList.remove(o),cn(r)&&r.classList.add(o)}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=U({type:t,selectors:[["sv"],["","sv",""]],viewQuery:function(i,r){if(i&1&&Ke(Rv,5),i&2){let o;Ne(o=Ie())&&(r.conEl=o.first)}},hostVars:4,hostBindings:function(i,r){i&2&&nt("padding-left",r.paddingValue,"px")("padding-right",r.paddingValue,"px")},inputs:{optional:"optional",optionalHelp:"optionalHelp",optionalHelpColor:"optionalHelpColor",label:"label",unit:"unit",col:[2,"col","col",e=>e==null?null:ue(e)],default:[2,"default","default",e=>e==null?null:q(e)],type:"type",noColon:[2,"noColon","noColon",e=>e==null?null:q(e)],hideLabel:[2,"hideLabel","hideLabel",q]},exportAs:["sv"],features:[Oe],ngContentSelectors:Ba,decls:6,vars:2,consts:[["conEl",""],[1,"sv__label",3,"sv__label-empty","sv__label-width","sv__no-colon","width"],[1,"sv__detail"],[3,"cdkObserveContent"],[1,"sv__unit"],[1,"sv__label"],[1,"sv__label-text"],[4,"nzStringTemplateOutlet"],[1,"sv__label-optional",3,"sv__label-optional-no-text"],[1,"sv__label-optional"],["nz-tooltip","","nzType","question-circle",3,"nzTooltipTitle","nzTooltipColor"],["class","sv__unit",4,"nzStringTemplateOutlet"]],template:function(i,r){if(i&1){let o=ee();oe(),x(0,Lv,4,10,"div",1),z(1,"div",2)(2,"span",3,0),K("cdkObserveContent",function(){return P(o),O(r.checkContent())}),ae(4),C(),x(5,Hv,1,1,"span",4),C()}i&2&&(T(r.hideLabel?-1:0),m(5),T(r.unit?5:-1))},dependencies:[rt,_t,De,ln],encapsulation:2,changeDetection:0})}return t})();var $w=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=Re({type:t});static \u0275inj=Ve({imports:[Tt,_i,dn,Et,Pt]})}return t})();export{fy as a,ft as b,Sb as c,xb as d,Tb as e,hr as f,ja as g,Pu as h,vv as i,Vz as j,Nu as k,ow as l,aw as m,Iu as n,ww as o,$w as p};
