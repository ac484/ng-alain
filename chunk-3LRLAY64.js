import{a as ce,b as ue}from"./chunk-7ATRGWEE.js";import{c as fe,d as _e,e as De}from"./chunk-XC4SQJDS.js";import{a as Ce,b as pe,c as me}from"./chunk-PWKBNRKO.js";import"./chunk-GTPNGGBP.js";import{b as he,c as ge,d as ze}from"./chunk-ISYEZVQ3.js";import"./chunk-VIGI73B6.js";import"./chunk-O3DGGP5O.js";import{a as re,g as le,m as se,z as de}from"./chunk-7GKVL75V.js";import"./chunk-PAIB6VMN.js";import"./chunk-YMEC4OFG.js";import"./chunk-5KPRUAKG.js";import{f as ve,g as ye}from"./chunk-ZK6GJMMP.js";import{F as S,L as ie,O as oe}from"./chunk-W6Z6A3Q5.js";import"./chunk-FJXMRBDK.js";import"./chunk-5V3RUN7K.js";import"./chunk-2DZ25YRQ.js";import"./chunk-PR6SM3R4.js";import"./chunk-5NB44RP4.js";import"./chunk-BA2SIH6H.js";import"./chunk-AEDV7UUM.js";import{Cc as J,Da as I,Fc as K,Gb as N,Ib as T,Jd as ee,Lb as R,Mb as P,Na as k,Nb as d,Ob as c,Pb as u,Qb as y,Qh as ae,Ub as b,Vb as V,Xb as M,_b as h,bb as l,bc as s,cb as f,ce as te,ec as w,gc as x,gd as X,hc as F,id as B,la as q,mc as j,na as U,nb as _,nc as G,ob as $,pb as D,pc as H,qc as O,qe as ne,ra as g,rc as E,tb as v,vb as C,vc as Y,wc as W,xa as p,xc as A,ya as m,zd as Z}from"./chunk-GM6XQ5SX.js";import"./chunk-57BLH6QZ.js";var Me=(t,o)=>o.value;function Ne(t,o){if(t&1&&(b(0),O(1),V()),t&2){let e=s(2);l(),E(e.nzCustomHeader)}}function Te(t,o){if(t&1&&v(0,Ne,2,1,"ng-container",1),t&2){let e=s();d("nzStringTemplateOutlet",e.nzCustomHeader)}}function be(t,o){if(t&1&&y(0,"nz-option",3),t&2){let e=o.$implicit;d("nzLabel",e.label)("nzValue",e.value)}}function Ve(t,o){if(t&1&&y(0,"nz-option",3),t&2){let e=o.$implicit;d("nzLabel",e.label)("nzValue",e.value)}}function He(t,o){if(t&1){let e=M();c(0,"nz-select",8),h("ngModelChange",function(a){p(e);let i=s(2);return m(i.monthChange.emit(a))}),R(1,Ve,1,2,"nz-option",3,Me),u()}if(t&2){let e=s(2);d("nzSize",e.size)("nzDropdownMatchSelectWidth",!1)("ngModel",e.activeMonth),l(),P(e.months)}}function Oe(t,o){if(t&1){let e=M();c(0,"div",0)(1,"nz-select",2),h("ngModelChange",function(a){p(e);let i=s();return m(i.updateYear(a))}),R(2,be,1,2,"nz-option",3,Me),u(),N(4,He,3,3,"nz-select",4),c(5,"nz-radio-group",5),A("ngModelChange",function(a){p(e);let i=s();return W(i.mode,a)||(i.mode=a),m(a)}),h("ngModelChange",function(a){p(e);let i=s();return m(i.modeChange.emit(a))}),c(6,"label",6),O(7),u(),c(8,"label",7),O(9),u()()()}if(t&2){let e=s();l(),d("nzSize",e.size)("nzDropdownMatchSelectWidth",!1)("ngModel",e.activeYear),l(),P(e.years),l(2),T(e.mode==="month"?4:-1),l(),Y("ngModel",e.mode),d("nzSize",e.size),l(2),E(e.monthTypeText),l(2),E(e.yearTypeText)}}function Ee(t,o){if(t&1){let e=M();c(0,"date-table",5),h("valueChange",function(a){p(e);let i=s();return m(i.onDateSelect(a))}),u()}if(t&2){let e=s();d("prefixCls",e.prefixCls)("value",e.activeDate)("activeDate",e.activeDate)("cellRender",e.dateCell)("fullCellRender",e.dateFullCell)("disabledDate",e.nzDisabledDate)}}function ke(t,o){if(t&1){let e=M();c(0,"month-table",6),h("valueChange",function(a){p(e);let i=s();return m(i.onDateSelect(a))}),u()}if(t&2){let e=s();d("prefixCls",e.prefixCls)("value",e.activeDate)("activeDate",e.activeDate)("cellRender",e.monthCell)("fullCellRender",e.monthFullCell)}}var Q=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275dir=D({type:t,selectors:[["","nzDateCell",""]],exportAs:["nzDateCell"]})}return t})(),Re=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275dir=D({type:t,selectors:[["","nzMonthCell",""]],exportAs:["nzMonthCell"]})}return t})(),Pe=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275dir=D({type:t,selectors:[["","nzDateFullCell",""]],exportAs:["nzDateFullCell"]})}return t})(),Ye=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275dir=D({type:t,selectors:[["","nzMonthFullCell",""]],exportAs:["nzMonthFullCell"]})}return t})(),we=(()=>{class t{dateHelper=g(oe);i18n=g(ie);mode="month";fullscreen=!0;activeDate=new S;nzCustomHeader;modeChange=new C;yearChange=new C;monthChange=new C;yearOffset=10;yearTotal=20;years=[];months=[];get activeYear(){return this.activeDate.getYear()}get activeMonth(){return this.activeDate.getMonth()}get size(){return this.fullscreen?"default":"small"}get yearTypeText(){return this.i18n.getLocale().Calendar.lang.year}get monthTypeText(){return this.i18n.getLocale().Calendar.lang.month}ngOnInit(){this.setUpYears(),this.setUpMonths()}ngOnChanges(e){if(e.activeDate){let n=e.activeDate.previousValue,a=e.activeDate.currentValue;n?.getYear()!==a?.getYear()&&this.setUpYears()}}updateYear(e){this.yearChange.emit(e),this.setUpYears(e)}setUpYears(e){let n=(e||this.activeYear)-this.yearOffset,a=n+this.yearTotal;this.years=[];for(let i=n;i<a;i++)this.years.push({label:`${i}`,value:i})}setUpMonths(){this.months=[];for(let e=0;e<12;e++){let n=this.activeDate.setMonth(e),a=this.dateHelper.format(n.nativeDate,"MMM");this.months.push({label:a,value:e})}}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=_({type:t,selectors:[["nz-calendar-header"]],hostAttrs:[1,"ant-fullcalendar-header"],hostVars:2,hostBindings:function(n,a){n&2&&j("display","block")},inputs:{mode:"mode",fullscreen:[2,"fullscreen","fullscreen",B],activeDate:"activeDate",nzCustomHeader:"nzCustomHeader"},outputs:{modeChange:"modeChange",yearChange:"yearChange",monthChange:"monthChange"},exportAs:["nzCalendarHeader"],features:[k],decls:2,vars:1,consts:[[1,"ant-picker-calendar-header"],[4,"nzStringTemplateOutlet"],[1,"ant-picker-calendar-year-select",3,"ngModelChange","nzSize","nzDropdownMatchSelectWidth","ngModel"],[3,"nzLabel","nzValue"],[1,"ant-picker-calendar-month-select",3,"nzSize","nzDropdownMatchSelectWidth","ngModel"],[1,"ant-picker-calendar-mode-switch",3,"ngModelChange","ngModel","nzSize"],["nz-radio-button","","nzValue","month"],["nz-radio-button","","nzValue","year"],[1,"ant-picker-calendar-month-select",3,"ngModelChange","nzSize","nzDropdownMatchSelectWidth","ngModel"]],template:function(n,a){n&1&&N(0,Te,1,1,"ng-container")(1,Oe,10,8,"div",0),n&2&&T(a.nzCustomHeader?0:1)},dependencies:[ze,he,ge,de,le,se,me,pe,Ce,ae],encapsulation:2,changeDetection:0})}return t})(),L=(()=>{class t{cdr=g(X);directionality=g(ne);destroyRef=g(I);activeDate=new S;prefixCls="ant-picker-calendar";dir="ltr";onChangeFn=()=>{};onTouchFn=()=>{};nzMode="month";nzValue;nzDisabledDate;nzModeChange=new C;nzPanelChange=new C;nzSelectChange=new C;nzValueChange=new C;nzDateCell;nzDateCellChild;get dateCell(){return this.nzDateCell||this.nzDateCellChild}nzDateFullCell;nzDateFullCellChild;get dateFullCell(){return this.nzDateFullCell||this.nzDateFullCellChild}nzMonthCell;nzMonthCellChild;get monthCell(){return this.nzMonthCell||this.nzMonthCellChild}nzMonthFullCell;nzMonthFullCellChild;get monthFullCell(){return this.nzMonthFullCell||this.nzMonthFullCellChild}nzCustomHeader;nzFullscreen=!0;ngOnInit(){this.dir=this.directionality.value,this.directionality.change?.pipe(te(this.destroyRef)).subscribe(()=>{this.dir=this.directionality.value})}onModeChange(e){this.nzModeChange.emit(e),this.nzPanelChange.emit({date:this.activeDate.nativeDate,mode:e})}onYearSelect(e){let n=this.activeDate.setYear(e);this.updateDate(n)}onMonthSelect(e){let n=this.activeDate.setMonth(e);this.updateDate(n)}onDateSelect(e){this.updateDate(e)}writeValue(e){this.updateDate(new S(e),!1),this.cdr.markForCheck()}registerOnChange(e){this.onChangeFn=e}registerOnTouched(e){this.onTouchFn=e}updateDate(e,n=!0){this.activeDate=e,n&&(this.onChangeFn(e.nativeDate),this.onTouchFn(),this.nzSelectChange.emit(e.nativeDate),this.nzValueChange.emit(e.nativeDate))}ngOnChanges(e){e.nzValue&&this.updateDate(new S(this.nzValue),!1)}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=_({type:t,selectors:[["nz-calendar"]],contentQueries:function(n,a,i){if(n&1&&(w(i,Q,5,f),w(i,Pe,5,f),w(i,Re,5,f),w(i,Ye,5,f)),n&2){let r;x(r=F())&&(a.nzDateCellChild=r.first),x(r=F())&&(a.nzDateFullCellChild=r.first),x(r=F())&&(a.nzMonthCellChild=r.first),x(r=F())&&(a.nzMonthFullCellChild=r.first)}},hostAttrs:[1,"ant-picker-calendar"],hostVars:6,hostBindings:function(n,a){n&2&&G("ant-picker-calendar-full",a.nzFullscreen)("ant-picker-calendar-mini",!a.nzFullscreen)("ant-picker-calendar-rtl",a.dir==="rtl")},inputs:{nzMode:"nzMode",nzValue:"nzValue",nzDisabledDate:"nzDisabledDate",nzDateCell:"nzDateCell",nzDateFullCell:"nzDateFullCell",nzMonthCell:"nzMonthCell",nzMonthFullCell:"nzMonthFullCell",nzCustomHeader:"nzCustomHeader",nzFullscreen:[2,"nzFullscreen","nzFullscreen",B]},outputs:{nzModeChange:"nzModeChange",nzPanelChange:"nzPanelChange",nzSelectChange:"nzSelectChange",nzValueChange:"nzValueChange"},exportAs:["nzCalendar"],features:[K([{provide:re,useExisting:q(()=>t),multi:!0}]),k],decls:6,vars:8,consts:[[3,"modeChange","yearChange","monthChange","fullscreen","activeDate","nzCustomHeader","mode"],[1,"ant-picker-panel"],[1,"ant-picker-body"],[3,"prefixCls","value","activeDate","cellRender","fullCellRender","disabledDate"],[3,"prefixCls","value","activeDate","cellRender","fullCellRender"],[3,"valueChange","prefixCls","value","activeDate","cellRender","fullCellRender","disabledDate"],[3,"valueChange","prefixCls","value","activeDate","cellRender","fullCellRender"]],template:function(n,a){n&1&&(c(0,"nz-calendar-header",0),A("modeChange",function(r){return W(a.nzMode,r)||(a.nzMode=r),r}),h("modeChange",function(r){return a.onModeChange(r)})("yearChange",function(r){return a.onYearSelect(r)})("monthChange",function(r){return a.onMonthSelect(r)}),u(),c(1,"div",1)(2,"div")(3,"div",2),N(4,Ee,1,6,"date-table",3)(5,ke,1,5,"month-table",4),u()()()),n&2&&(d("fullscreen",a.nzFullscreen)("activeDate",a.activeDate)("nzCustomHeader",a.nzCustomHeader),Y("mode",a.nzMode),l(2),H(J("ant-picker-",a.nzMode==="month"?"date":"month","-panel")),l(2),T(a.nzMode==="month"?4:5))},dependencies:[we,De,_e,fe],encapsulation:2,changeDetection:0})}return t})(),xe=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=$({type:t});static \u0275inj=U({imports:[we,L]})}return t})();function Ae(t,o){if(t&1&&(b(0),c(1,"li"),y(2,"nz-badge",5),u(),V()),t&2){let e=o.$implicit,n=s(2);l(),H("event-"+e.type),l(),d("nzStatus",n.getEventStatus(e.type))("nzText",e.title)}}function Be(t,o){if(t&1&&(c(0,"ul",3),v(1,Ae,3,4,"ng-container",4),u()),t&2){let e=o.$implicit,n=s();l(),d("ngForOf",n.getEventsForDate(e))}}var z=class z{constructor(){this.events=[{id:"1",title:"\u4E3B\u9AD4\u7D50\u69CB\u65BD\u5DE5\u958B\u59CB",date:new Date(2024,0,15,8,0),type:"construction",priority:"high"},{id:"2",title:"\u8D77\u91CD\u6A5F\u5B89\u5168\u6AA2\u67E5",date:new Date(2024,0,20,7,30),type:"safety",priority:"high"},{id:"3",title:"\u6DF7\u51DD\u571F\u6CF5\u8ECA\u7DAD\u8B77",date:new Date(2024,0,25,9,0),type:"maintenance",priority:"medium"},{id:"4",title:"\u92FC\u7B4B\u7C60\u540A\u88DD\u4F5C\u696D",date:new Date(2024,0,28,14,0),type:"construction",priority:"high"},{id:"5",title:"\u9AD8\u7A7A\u4F5C\u696D\u5E73\u53F0\u6AA2\u67E5",date:new Date(2024,1,2,8,0),type:"safety",priority:"high"},{id:"6",title:"\u8A2D\u5099\u904B\u8F38\u4EFB\u52D9",date:new Date(2024,1,5,6,0),type:"equipment",priority:"medium"},{id:"7",title:"\u74B0\u5883\u566A\u97F3\u6AA2\u6E2C",date:new Date(2024,1,8,10,0),type:"safety",priority:"low"},{id:"8",title:"\u4E3B\u9AD4\u6F86\u7BC9\u4F5C\u696D",date:new Date(2024,1,12,7,0),type:"construction",priority:"high"}]}getEventsForDate(o){return this.events.filter(e=>e.date.getDate()===o.getDate()&&e.date.getMonth()===o.getMonth()&&e.date.getFullYear()===o.getFullYear())}getEventStatus(o){return{construction:"processing",equipment:"success",safety:"error",maintenance:"warning"}[o]||"warning"}};z.\u0275fac=function(e){return new(e||z)},z.\u0275cmp=_({type:z,selectors:[["app-workspace-calendar"]],decls:3,vars:1,consts:[["nzTitle","\u5DE5\u5730\u65BD\u5DE5\u884C\u4E8B\u66C6"],[3,"nzFullscreen"],["class","events",4,"nzDateCell"],[1,"events"],[4,"ngFor","ngForOf"],[3,"nzStatus","nzText"]],template:function(e,n){e&1&&(c(0,"nz-card",0)(1,"nz-calendar",1),v(2,Be,2,1,"ul",2),u()()),e&2&&(l(),d("nzFullscreen",!1))},dependencies:[ee,Z,xe,L,Q,ye,ve,ue,ce],styles:[".events[_ngcontent-%COMP%]{list-style:none;margin:0;padding:0}.events[_ngcontent-%COMP%]   .ant-badge-status[_ngcontent-%COMP%]{overflow:hidden;white-space:nowrap;width:100%;text-overflow:ellipsis;font-size:12px}.event-construction[_ngcontent-%COMP%]   .ant-badge-status-dot[_ngcontent-%COMP%]{background-color:#1890ff}.event-equipment[_ngcontent-%COMP%]   .ant-badge-status-dot[_ngcontent-%COMP%]{background-color:#722ed1}.event-safety[_ngcontent-%COMP%]   .ant-badge-status-dot[_ngcontent-%COMP%]{background-color:#f5222d}.event-maintenance[_ngcontent-%COMP%]   .ant-badge-status-dot[_ngcontent-%COMP%]{background-color:#fa8c16}"],changeDetection:0});var Fe=z;export{Fe as WorkspaceCalendarComponent};
