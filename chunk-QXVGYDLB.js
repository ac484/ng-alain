import{a as ie,b as oe}from"./chunk-IT2WW2S3.js";import{a as L,c as W,d as R}from"./chunk-WGKFPAVL.js";import"./chunk-2Q27IRVC.js";import"./chunk-YPRGKCTM.js";import"./chunk-V5232PIM.js";import"./chunk-SIZM2XL7.js";import"./chunk-2DVOMO4J.js";import{a as te}from"./chunk-B57ZRTQQ.js";import{f as Y,g as Z,h as ee,k as ne}from"./chunk-EPZ2YTFW.js";import{a as J,c as K,i as Q,j as U,k as X}from"./chunk-J55R35UM.js";import"./chunk-FPS6RETX.js";import"./chunk-7ZDABVNP.js";import{d as j,g as G,m as H,z as q}from"./chunk-QYQDWNIT.js";import"./chunk-DRE6CAII.js";import"./chunk-F72TEBSM.js";import"./chunk-DHL22JEN.js";import"./chunk-UHJZXVT3.js";import"./chunk-GR6IQZZQ.js";import"./chunk-TSPYDFJT.js";import"./chunk-QXNAVHW5.js";import"./chunk-ID3V7ETC.js";import"./chunk-CRON3LQ5.js";import"./chunk-HMC5XIIT.js";import{Ad as F,Dc as k,Gd as B,Ic as N,Jc as v,Kb as z,Kh as A,Lb as l,Lh as $,Mb as a,Mc as w,Nb as x,Rb as P,Sb as h,Ub as T,Xb as u,_a as s,_b as _,db as M,ic as C,kb as V,nc as d,oc as D,pc as E,qb as g,sc as y,tc as I,ua as c,uc as S,va as m,xd as b,zd as O}from"./chunk-67N3UCKF.js";import"./chunk-PMZOYKO3.js";import"./chunk-57BLH6QZ.js";var le=()=>[];function ae(p,t){p&1&&x(0,"nz-icon",9)}function pe(p,t){if(p&1){let e=T();P(0),l(1,"nz-icon",13),u("click",function(){c(e);let i=_().$implicit,o=_();return m(o.openFolder(i))}),a(),l(2,"span",14),d(3),a(),l(4,"span",15),d(5),N(6,"lowercase"),a(),h()}if(p&2){let e=_(),n=e.$implicit,i=e.origin;s(),z("nzType",n.isExpanded?"folder-open":"folder"),s(2),D(n.title),s(2),E("created by ",v(6,3,i.author))}}function ce(p,t){if(p&1&&(x(0,"nz-icon",16),l(1,"span",17),d(2),a(),l(3,"span",18),d(4),N(5,"lowercase"),a()),p&2){let e=_(),n=e.$implicit,i=e.origin;s(2),D(n.title),s(2),E("modified by ",v(5,2,i.author))}}function me(p,t){if(p&1){let e=T();l(0,"span",10)(1,"span",11),u("contextmenu",function(i){c(e);let o=_(),r=C(10);return m(o.contextMenu(i,r))}),g(2,pe,7,5,"ng-container",12)(3,ce,6,4,"ng-template",null,3,w),a()()}if(p&2){let e=t.$implicit,n=C(4);s(2),z("ngIf",!e.isLeaf)("ngIfElse",n)}}var f=class f{constructor(t,e){this.nzContextMenuService=t;this.firestore=e;this.searchValue="";let n=R(this.firestore,"tree-nodes");this.treeData$=W(n,{idField:"key"})}openFolder(t){if(t instanceof te)t.isExpanded=!t.isExpanded;else{let e=t.node;e&&(e.isExpanded=!e.isExpanded)}}activeNode(t){this.activatedNode=t.node}onDrop(t){console.log("\u62D6\u66F3\u5B8C\u6210:",t)}contextMenu(t,e){this.nzContextMenuService.create(t,e)}selectDropdown(t){alert(t)}};f.\u0275fac=function(e){return new(e||f)(M(X),M(L))},f.\u0275cmp=V({type:f,selectors:[["app-tree-panel"]],decls:16,vars:8,consts:[["suffixIcon",""],["nzTreeTemplate",""],["menu","nzDropdownMenu"],["fileIcon",""],[3,"nzSuffix"],["type","text","nz-input","","placeholder","\u641C\u5C0B\u7BC0\u9EDE",3,"ngModelChange","ngModel"],["nzBlockNode","","nzDraggable","","nzVirtualHeight","300px",3,"nzClick","nzDblClick","nzOnDrop","nzData","nzSearchValue","nzTreeTemplate"],["nz-menu",""],["nz-menu-item","",3,"click"],["nzType","search"],[1,"custom-node"],[3,"contextmenu"],[4,"ngIf","ngIfElse"],[3,"click","nzType"],[1,"folder-name"],[1,"folder-desc"],["nzType","file"],[1,"file-name"],[1,"file-desc"]],template:function(e,n){if(e&1){let i=T();l(0,"nz-input-group",4)(1,"input",5),S("ngModelChange",function(r){return c(i),I(n.searchValue,r)||(n.searchValue=r),m(r)}),a()(),g(2,ae,1,0,"ng-template",null,0,w),x(4,"br"),l(5,"nz-tree",6),N(6,"async"),u("nzClick",function(r){return c(i),m(n.activeNode(r))})("nzDblClick",function(r){return c(i),m(n.openFolder(r))})("nzOnDrop",function(r){return c(i),m(n.onDrop(r))}),a(),g(7,me,5,2,"ng-template",null,1,w),l(9,"nz-dropdown-menu",null,2)(11,"ul",7)(12,"li",8),u("click",function(){return c(i),m(n.selectDropdown("Action 1"))}),d(13,"Action 1"),a(),l(14,"li",8),u("click",function(){return c(i),m(n.selectDropdown("Action 2"))}),d(15,"Action 2"),a()()()}if(e&2){let i=C(3),o=C(8);z("nzSuffix",i),s(),y("ngModel",n.searchValue),s(4),z("nzData",v(6,5,n.treeData$)??k(7,le))("nzSearchValue",n.searchValue)("nzTreeTemplate",o)}},dependencies:[B,b,q,j,G,H,oe,ie,U,K,J,Q,$,A,ne,Y,ee,Z,O,F],styles:["nz-tree[_ngcontent-%COMP%]{overflow:hidden;margin:0 -24px;padding:0 24px}.custom-node[_ngcontent-%COMP%]{cursor:pointer;line-height:24px;margin-left:4px;display:inline-block}.file-name[_ngcontent-%COMP%], .folder-name[_ngcontent-%COMP%]{margin-left:4px}.file-desc[_ngcontent-%COMP%], .folder-desc[_ngcontent-%COMP%]{padding:0 8px;display:inline-block;background:#87ceff;color:#fff;position:relative;left:12px}"]});var re=f;export{re as TreePanelComponent};
