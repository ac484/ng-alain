import{a as Ae,b as Ee,c as Oe}from"./chunk-4M2FQB5H.js";import"./chunk-XNHGXBRR.js";import{f as De,k as we}from"./chunk-2QP5ASAP.js";import{a as Pe,b as be}from"./chunk-YJLPXUZH.js";import{c as _e,f as Te,h as Se,j as ve,k as xe,l as Ne,n as Me}from"./chunk-P65TELVZ.js";import"./chunk-7Y7RPWKD.js";import{c as ye}from"./chunk-4YTDYDIC.js";import"./chunk-L7MYJ753.js";import{a as Ce,b as he}from"./chunk-NB2WFYBW.js";import"./chunk-2SMWRKZV.js";import"./chunk-OBGYZQEU.js";import"./chunk-AW7N2FUZ.js";import"./chunk-SVONCNS6.js";import"./chunk-VKW3WH5F.js";import{d as ge,g as me,m as ze,y as fe}from"./chunk-75AQQ352.js";import"./chunk-BB66XR64.js";import"./chunk-2M5CHBKO.js";import"./chunk-AHBW3B6E.js";import"./chunk-23I64B73.js";import"./chunk-PCDTQVOY.js";import{g as ce,h as ue}from"./chunk-OW7234XQ.js";import"./chunk-OG6J75NL.js";import"./chunk-QJMKMVSR.js";import"./chunk-ZYDPBZFO.js";import"./chunk-QESUVVYF.js";import{f as ke,g as Be}from"./chunk-VKEWEKUN.js";import{h as le,q as se,s as pe,t as de}from"./chunk-3RRHG5WX.js";import{G as ie,Jc as oe,Kc as ae,V as re,a as ne}from"./chunk-LRVALGQA.js";import{m as ee}from"./chunk-LBUPYOOJ.js";import{a as te}from"./chunk-YIOOD6AO.js";import{A as Y,q as U,s as G,w as K,z as X}from"./chunk-7CV657US.js";import{$b as T,Ac as Z,Ba as h,Bc as j,Ca as y,Cc as V,Ec as L,Ed as J,Fc as Q,Gb as _,Ha as W,Hb as I,Hd as N,Jc as D,Kc as w,Lc as k,Mb as u,Oc as s,Pb as R,Pc as z,Qc as B,Sa as M,Tc as H,Uc as $,Vc as q,bc as S,cd as x,gc as p,hc as o,hd as P,ic as a,jc as g,jd as b,ld as A,qa as O,qc as v,tb as l,ua as C,wc as m,zb as F,zc as d}from"./chunk-ARNVYSUA.js";import"./chunk-57BLH6QZ.js";var Ze=["*"],je=["nz-sider-trigger",""];function Ve(n,r){}function Le(n,r){if(n&1&&u(0,Ve,0,0,"ng-template",2),n&2){let e=d(),t=D(5);p("ngTemplateOutlet",e.nzZeroTrigger||t)}}function Qe(n,r){}function He(n,r){if(n&1&&u(0,Qe,0,0,"ng-template",2),n&2){let e=d(),t=D(3);p("ngTemplateOutlet",e.nzTrigger||t)}}function $e(n,r){if(n&1&&g(0,"nz-icon",3),n&2){let e=d(2);p("nzType",e.nzCollapsed?"left":"right")}}function qe(n,r){if(n&1&&g(0,"nz-icon",3),n&2){let e=d(2);p("nzType",e.nzCollapsed?"right":"left")}}function Je(n,r){if(n&1&&T(0,$e,1,1,"nz-icon",3)(1,qe,1,1,"nz-icon",3),n&2){let e=d();S(e.nzReverseArrow?0:1)}}function Ue(n,r){n&1&&g(0,"nz-icon",4)}function Ge(n,r){if(n&1){let e=v();o(0,"div",2),m("click",function(){h(e);let i=d();return y(i.setCollapsed(!i.nzCollapsed))}),a()}if(n&2){let e=d();p("matchBreakPoint",e.matchBreakPoint)("nzCollapsedWidth",e.nzCollapsedWidth)("nzCollapsed",e.nzCollapsed)("nzBreakpoint",e.nzBreakpoint)("nzReverseArrow",e.nzReverseArrow)("nzTrigger",e.nzTrigger)("nzZeroTrigger",e.nzZeroTrigger)("siderWidth",e.widthSetting)}}var We=(()=>{class n{nzCollapsed=!1;nzReverseArrow=!1;nzZeroTrigger=null;nzTrigger=void 0;matchBreakPoint=!1;nzCollapsedWidth=null;siderWidth=null;nzBreakpoint=null;isZeroTrigger=!1;isNormalTrigger=!1;updateTriggerType(){this.isZeroTrigger=this.nzCollapsedWidth===0&&(this.nzBreakpoint&&this.matchBreakPoint||!this.nzBreakpoint),this.isNormalTrigger=this.nzCollapsedWidth!==0}ngOnInit(){this.updateTriggerType()}ngOnChanges(){this.updateTriggerType()}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=_({type:n,selectors:[["","nz-sider-trigger",""]],hostVars:10,hostBindings:function(t,i){t&2&&(w("width",i.isNormalTrigger?i.siderWidth:null),k("ant-layout-sider-trigger",i.isNormalTrigger)("ant-layout-sider-zero-width-trigger",i.isZeroTrigger)("ant-layout-sider-zero-width-trigger-right",i.isZeroTrigger&&i.nzReverseArrow)("ant-layout-sider-zero-width-trigger-left",i.isZeroTrigger&&!i.nzReverseArrow))},inputs:{nzCollapsed:"nzCollapsed",nzReverseArrow:"nzReverseArrow",nzZeroTrigger:"nzZeroTrigger",nzTrigger:"nzTrigger",matchBreakPoint:"matchBreakPoint",nzCollapsedWidth:"nzCollapsedWidth",siderWidth:"siderWidth",nzBreakpoint:"nzBreakpoint"},exportAs:["nzSiderTrigger"],features:[M],attrs:je,decls:6,vars:2,consts:[["defaultTrigger",""],["defaultZeroTrigger",""],[3,"ngTemplateOutlet"],[3,"nzType"],["nzType","bars"]],template:function(t,i){t&1&&(T(0,Le,1,1,null,2),T(1,He,1,1,null,2),u(2,Je,2,1,"ng-template",null,0,A)(4,Ue,1,0,"ng-template",null,1,A)),t&2&&(S(i.isZeroTrigger?0:-1),l(),S(i.isNormalTrigger?1:-1))},dependencies:[G,ae,oe],encapsulation:2,changeDetection:0})}return n})(),Ke=(()=>{class n{destroyRef=C(W);platform=C(ne);cdr=C(J);breakpointService=C(ue);nzMenuDirective=null;nzCollapsedChange=new R;nzWidth=200;nzTheme="dark";nzCollapsedWidth=80;nzBreakpoint=null;nzZeroTrigger=null;nzTrigger=void 0;nzReverseArrow=!1;nzCollapsible=!1;nzCollapsed=!1;matchBreakPoint=!1;flexSetting=null;widthSetting=null;updateStyleMap(){this.widthSetting=this.nzCollapsed?`${this.nzCollapsedWidth}px`:ie(this.nzWidth),this.flexSetting=`0 0 ${this.widthSetting}`,this.cdr.markForCheck()}updateMenuInlineCollapsed(){this.nzMenuDirective&&this.nzMenuDirective.nzMode==="inline"&&this.nzCollapsedWidth!==0&&this.nzMenuDirective.setInlineCollapsed(this.nzCollapsed)}setCollapsed(e){e!==this.nzCollapsed&&(this.nzCollapsed=e,this.nzCollapsedChange.emit(e),this.updateMenuInlineCollapsed(),this.updateStyleMap(),this.cdr.markForCheck())}ngOnInit(){this.updateStyleMap(),this.platform.isBrowser&&this.breakpointService.subscribe(ce,!0).pipe(te(this.destroyRef)).subscribe(e=>{let t=this.nzBreakpoint;t&&re().subscribe(()=>{this.matchBreakPoint=!e[t],this.setCollapsed(this.matchBreakPoint),this.cdr.markForCheck()})})}ngOnChanges(e){let{nzCollapsed:t,nzCollapsedWidth:i,nzWidth:c}=e;(t||i||c)&&this.updateStyleMap(),t&&this.updateMenuInlineCollapsed()}ngAfterContentInit(){this.updateMenuInlineCollapsed()}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=_({type:n,selectors:[["nz-sider"]],contentQueries:function(t,i,c){if(t&1&&V(c,ye,5),t&2){let E;L(E=Q())&&(i.nzMenuDirective=E.first)}},hostAttrs:[1,"ant-layout-sider"],hostVars:18,hostBindings:function(t,i){t&2&&(w("flex",i.flexSetting)("max-width",i.widthSetting)("min-width",i.widthSetting)("width",i.widthSetting),k("ant-layout-sider-zero-width",i.nzCollapsed&&i.nzCollapsedWidth===0)("ant-layout-sider-light",i.nzTheme==="light")("ant-layout-sider-dark",i.nzTheme==="dark")("ant-layout-sider-collapsed",i.nzCollapsed)("ant-layout-sider-has-trigger",i.nzCollapsible&&i.nzTrigger!==null))},inputs:{nzWidth:"nzWidth",nzTheme:"nzTheme",nzCollapsedWidth:"nzCollapsedWidth",nzBreakpoint:"nzBreakpoint",nzZeroTrigger:"nzZeroTrigger",nzTrigger:"nzTrigger",nzReverseArrow:[2,"nzReverseArrow","nzReverseArrow",N],nzCollapsible:[2,"nzCollapsible","nzCollapsible",N],nzCollapsed:[2,"nzCollapsed","nzCollapsed",N]},outputs:{nzCollapsedChange:"nzCollapsedChange"},exportAs:["nzSider"],features:[M],ngContentSelectors:Ze,decls:3,vars:1,consts:[[1,"ant-layout-sider-children"],["nz-sider-trigger","",3,"matchBreakPoint","nzCollapsedWidth","nzCollapsed","nzBreakpoint","nzReverseArrow","nzTrigger","nzZeroTrigger","siderWidth"],["nz-sider-trigger","",3,"click","matchBreakPoint","nzCollapsedWidth","nzCollapsed","nzBreakpoint","nzReverseArrow","nzTrigger","nzZeroTrigger","siderWidth"]],template:function(t,i){t&1&&(Z(),o(0,"div",0),j(1),a(),T(2,Ge,1,8,"div",1)),t&2&&(l(2),S(i.nzCollapsible&&i.nzTrigger!==null?2:-1))},dependencies:[We],encapsulation:2,changeDetection:0})}return n})();var Fe=(()=>{class n{static \u0275fac=function(t){return new(t||n)};static \u0275mod=I({type:n});static \u0275inj=O({imports:[Ke,We]})}return n})();var Xe=()=>({padding:"12px"}),Ye=()=>({padding:"0"}),et=()=>({x:"1200px",y:"60vh"});function tt(n,r){if(n&1){let e=v();o(0,"tr")(1,"td"),s(2),a(),o(3,"td"),s(4),a(),o(5,"td"),s(6),P(7,"currency"),a(),o(8,"td")(9,"nz-tag",9),s(10),a()(),o(11,"td"),g(12,"nz-progress",10),s(13),a(),o(14,"td"),s(15),P(16,"date"),a(),o(17,"td")(18,"button",11),m("click",function(){let i=h(e).$implicit,c=d();return y(c.viewDetail(i.id))}),s(19,"\u67E5\u770B"),a(),o(20,"button",11),m("click",function(){let i=h(e).$implicit,c=d();return y(c.editContract(i.id))}),s(21,"\u7DE8\u8F2F"),a()()()}if(n&2){let e=r.$implicit,t=d();l(2),z(e.title),l(2),z(e.client),l(2),z(b(7,10,e.currentAmount,"TWD")),l(3),p("nzColor",t.getStatusColor(e.status)),l(),z(t.getStatusText(e.status)),l(2),p("nzPercent",e.progress)("nzSize","small")("nzShowInfo",!1),l(),B(" ",e.progress,"% "),l(2),z(b(16,13,e.createDate,"yyyy-MM-dd"))}}var f=class f{constructor(r){this.http=r;this.contracts=[];this.loading=!1;this.filter=""}ngOnInit(){this.loadContracts()}loadContracts(){this.loading=!0,this.http.get("/contract").subscribe(r=>{this.contracts=r.list,this.loading=!1})}get filteredContracts(){return this.filter?this.contracts.filter(r=>r.title.includes(this.filter)||r.client.includes(this.filter)):this.contracts}viewDetail(r){}editContract(r){}createContract(){}getStatusColor(r){switch(r){case"draft":return"default";case"pending":return"processing";case"approved":return"success";case"rejected":return"error";default:return"default"}}getStatusText(r){switch(r){case"draft":return"\u8349\u7A3F";case"pending":return"\u5F85\u5BE9\u6838";case"approved":return"\u5DF2\u6838\u51C6";case"rejected":return"\u5DF2\u62D2\u7D55";default:return"\u672A\u77E5"}}};f.\u0275fac=function(e){return new(e||f)(F(ee))},f.\u0275cmp=_({type:f,selectors:[["app-contract-panel"]],decls:29,vars:18,consts:[[3,"nzLayout"],[3,"nzDefaultSize","nzMin","nzMax"],["nzTitle","\u7BE9\u9078/\u7D71\u8A08",3,"nzBodyStyle"],["nz-input","","placeholder","\u641C\u5C0B\u5408\u7D04/\u5BA2\u6236",2,"margin-bottom","12px",3,"ngModelChange","ngModel"],[2,"margin-bottom","8px"],["nz-button","","nzType","primary",2,"width","100%",3,"click"],["nzTitle","\u5408\u7D04\u7E3D\u89BD",3,"nzBodyStyle"],[3,"nzData","nzLoading","nzScroll","nzShowSizeChanger","nzShowQuickJumper","nzPageSize"],[4,"ngFor","ngForOf"],[3,"nzColor"],[3,"nzPercent","nzSize","nzShowInfo"],["nz-button","","nzType","link",3,"click"]],template:function(e,t){e&1&&(o(0,"nz-splitter",0)(1,"nz-splitter-panel",1)(2,"nz-card",2)(3,"input",3),q("ngModelChange",function(c){return $(t.filter,c)||(t.filter=c),c}),a(),o(4,"div",4),s(5),a(),o(6,"button",5),m("click",function(){return t.createContract()}),s(7,"\u65B0\u589E\u5408\u7D04"),a()()(),o(8,"nz-splitter-panel")(9,"nz-card",6)(10,"nz-table",7)(11,"thead")(12,"tr")(13,"th"),s(14,"\u5408\u7D04\u6A19\u984C"),a(),o(15,"th"),s(16,"\u5BA2\u6236"),a(),o(17,"th"),s(18,"\u91D1\u984D"),a(),o(19,"th"),s(20,"\u72C0\u614B"),a(),o(21,"th"),s(22,"\u9032\u5EA6"),a(),o(23,"th"),s(24,"\u5EFA\u7ACB\u65E5\u671F"),a(),o(25,"th"),s(26,"\u64CD\u4F5C"),a()()(),o(27,"tbody"),u(28,tt,22,16,"tr",8),a()()()()()),e&2&&(p("nzLayout","horizontal"),l(),p("nzDefaultSize","240px")("nzMin","180px")("nzMax","400px"),l(),p("nzBodyStyle",x(15,Xe)),l(),H("ngModel",t.filter),l(2),B("\u5408\u7D04\u7E3D\u6578\uFF1A",t.contracts.length),l(4),p("nzBodyStyle",x(16,Ye)),l(),p("nzData",t.filteredContracts)("nzLoading",t.loading)("nzScroll",x(17,et))("nzShowSizeChanger",!0)("nzShowQuickJumper",!0)("nzPageSize",20),l(18),p("ngForOf",t.filteredContracts))},dependencies:[Y,U,fe,ge,me,ze,Be,ke,de,pe,le,se,be,Pe,he,Ce,Me,ve,_e,Te,Ne,Se,xe,Oe,Ee,Ae,we,De,Fe,X,K],styles:[".panel-summary[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px;margin-bottom:16px}.panel-title[_ngcontent-%COMP%]{font-size:1.5em;font-weight:700}.panel-meta[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px}.panel-actions[_ngcontent-%COMP%]{display:flex;gap:8px;margin-top:8px}.panel-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;margin-top:8px}.panel-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .panel-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-bottom:1px solid #f0f0f0;padding:8px 4px;text-align:left}.panel-empty[_ngcontent-%COMP%]{color:#aaa;text-align:center;padding:24px 0}.panel-attachment-list[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.panel-attachment-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:4px 0}.panel-review[_ngcontent-%COMP%]{margin-top:8px}"]});var Ie=f;export{Ie as ContractPanelComponent};
