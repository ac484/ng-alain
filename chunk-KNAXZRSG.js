import{a as pe}from"./chunk-7QAPXVOG.js";import{A as lt,a as Ie,x as rt}from"./chunk-BKEQE6WY.js";import{a as Eo,b as Io,c as Ao,d as be}from"./chunk-QQBJCJUO.js";import{$ as te,$a as Wo,A as Lt,Ba as pn,C as an,Ca as dn,D as st,Da as mn,E as ct,Ja as un,Ka as Ho,M as pt,Ma as fn,N as dt,Na as gn,Oa as hn,P as mt,Qa as _n,R as Jn,Ra as Bo,Sa as ut,Ua as Oe,W as Ot,X as rn,Xa as Uo,Y as ln,Z as Ae,aa as Fo,ab as $o,ba as ke,bb as jo,ca as j,fa as q,ga as B,h as ko,i as on,k as kt,p as Ft,qa as Fe,ra as Le,ta as sn,ua as cn,va as Lo,ya as Oo,za as Po}from"./chunk-X3NOSVDL.js";import{$ as Me,$b as Je,Ab as jt,Ac as Xt,Ah as Yn,Ba as Ye,Bb as He,Bd as Yi,Bg as lo,Bh as Co,Ca as Ei,Cb as Te,Cd as Ki,Cg as At,Ch as Kn,Da as Ii,Db as we,Dd as V,E as Ln,Ea as a,Eb as Ri,Ed as $n,F as ue,Fa as Ai,Fb as Vi,Fc as Q,G as yi,Gb as Pn,Gg as Xn,Hb as S,Hc as $i,Hd as Ji,He as io,Hg as Ee,Hh as at,I as Ht,Ia as It,Ib as De,Ig as K,Ih as vo,J as zi,Jb as b,Jg as J,Jh as tn,K as xi,Ka as ki,Kb as Ke,Kg as Jt,Kh as P,L as bi,La as z,Lb as ze,Lc as Ue,Ld as Kt,Le as oo,Lg as Qn,M as Si,Ma as ae,Mb as u,Mc as ji,Me as Gn,Mh as yo,Na as Wt,Nb as I,Ng as so,Nh as zo,Ob as N,Oe as ao,Og as co,Oh as ee,Pa as On,Pd as xe,Qb as re,Ra as y,Rb as le,Rh as xo,Sa as Fi,Sb as se,Sh as bo,Ta as X,Tb as Rn,Tg as po,Th as So,U as Se,Ua as Ve,Ub as qt,Ug as mo,Uh as nn,Vb as Be,Vg as en,Vh as To,W as Bt,Wa as Li,Wc as qi,Wh as wo,Xb as Vn,Xh as Do,Ya as $t,Yc as Bn,Zc as Qt,Zg as uo,_ as Ti,_a as W,_b as Hi,a as Vt,aa as ie,ab as g,ac as H,ba as Ut,bc as Hn,bd as Zt,bh as fo,bi as No,c as Ci,cb as h,d as kn,da as d,db as O,de as eo,e as Ge,eb as ge,ec as F,ed as Un,ei as Mo,fb as w,fc as L,fd as Gi,gb as D,gd as Wn,ge as jn,hb as c,hc as E,hd as Xi,hg as T,ia as C,ib as r,id as Qi,ig as M,ja as v,jb as s,jg as it,ka as wi,kb as m,ke as to,kg as ot,kh as go,ki as Ro,la as Di,lb as Oi,lc as Y,li as Vo,m as Mt,ma as Ze,mb as Pi,mc as Bi,md as tt,na as oe,oa as Pe,ob as he,pa as Et,pb as _e,pc as et,pd as ce,qb as Ce,qc as $,qd as nt,qe as qn,rb as x,rc as Ui,s as Xe,sh as ho,t as Qe,ta as Ni,tc as Wi,th as _o,ua as Mi,ub as _,ue as no,va as Re,wd as Yt,xb as p,xc as Gt,y as vi,yb as ve,yc as R,yd as Zi,yh as Zn,z as Fn,za as fe,zb as ye,zc as A,zg as ro}from"./chunk-FM676GLM.js";import{a as ne,b as _i,i as Rt}from"./chunk-57BLH6QZ.js";var Ha=["host"],Go=["*"];function Ba(t,o){t&1&&ye(0)}function Ua(t,o){if(t&1){let e=x();r(0,"a",4),_("click",function(){let i=C(e).$implicit,l=p(2);return v(l.to(i))}),s()}if(t&2){let e=o.$implicit;c("innerHTML",e.title,fe)}}function Wa(t,o){t&1&&Ce(0)}function $a(t,o){if(t&1){let e=x();r(0,"a",5),_("click",function(){let i=C(e).$implicit,l=p(2);return v(l.to(i))}),y(1,Wa,1,0,"ng-container",6),s()}if(t&2){let e=o.$implicit;a(),c("ngTemplateOutlet",e.host())}}function ja(t,o){if(t&1&&(r(0,"div",0),w(1,Ua,1,1,"a",2,O),w(3,$a,2,1,"a",3,O),s()),t&2){let e=p();a(),D(e.linkHtmls()),a(2),D(e.items())}}var qo=(()=>{class t{host=Ui.required("host");href=$();blankTarget=$(!1,{transform:A});static \u0275fac=function(n){return new(n||t)};static \u0275cmp=z({type:t,selectors:[["global-footer-item"]],viewQuery:function(n,i){n&1&&Vi(i.host,Ha,5),n&2&&Pn()},inputs:{href:[1,"href"],blankTarget:[1,"blankTarget"]},exportAs:["globalFooterItem"],ngContentSelectors:Go,decls:2,vars:0,consts:[["host",""]],template:function(n,i){n&1&&(ve(),Fi(0,Ba,1,0,"ng-template",null,0,E))},encapsulation:2,changeDetection:0})}return t})(),Xo=(()=>{class t{router=d(ce);win=d(an);dom=d(Zt);dir=d(xe).valueSignal;links=$([]);items=Wi(qo);linkHtmls=Y(()=>this.links().map(e=>(typeof e.title=="string"&&(e.title=this.dom.bypassSecurityTrustHtml(e.title)),e)));to(e){let n=typeof e.href=="string"?e.href:e.href();if(!n)return;if(typeof e.blankTarget=="boolean"?e.blankTarget:e.blankTarget?.()){this.win.open(n);return}/^https?:\/\//.test(n)?this.win.location.href=n:this.router.navigateByUrl(n)}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=z({type:t,selectors:[["global-footer"]],contentQueries:function(n,i,l){n&1&&Ri(l,i.items,qo,4),n&2&&Pn()},hostVars:4,hostBindings:function(n,i){n&2&&b("global-footer",!0)("global-footer-rtl",i.dir()==="rtl")},inputs:{links:[1,"links"]},exportAs:["globalFooter"],ngContentSelectors:Go,decls:3,vars:1,consts:[[1,"global-footer__links"],[1,"global-footer__copyright"],[1,"global-footer__links-item",3,"innerHTML"],[1,"global-footer__links-item"],[1,"global-footer__links-item",3,"click","innerHTML"],[1,"global-footer__links-item",3,"click"],[4,"ngTemplateOutlet"]],template:function(n,i){n&1&&(ve(),g(0,ja,5,0,"div",0),r(1,"div",1),ye(2),s()),n&2&&h(i.linkHtmls().length>0||i.items().length>0?0:-1)},dependencies:[Q],encapsulation:2,changeDetection:0})}return t})();var Qo=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=ae({type:t});static \u0275inj=ie({imports:[Ue,Yt]})}return t})();function Ga(t,o){if(t&1){let e=x();r(0,"li",8),_("click",function(){let i=C(e).$implicit,l=p();return v(l.onThemeChange(i.key))}),u(1),s()}if(t&2){let e=o.$implicit;a(),I(e.text)}}var Xa=new Ut("ALAIN_THEME_BTN_KEYS"),Cn=(()=>{class t{doc=d(oe);platform=d(Kt);renderer=d(It);configSrv=d(Ki);theme="default";isDev=Gt();types=[{key:"default",text:"Default Theme"},{key:"dark",text:"Dark Theme"},{key:"compact",text:"Compact Theme"}];devTips="When the dark.css file can't be found, you need to run it once: npm run theme";deployUrl="";themeChange=new X;dir=d(xe).valueSignal;key=d(Xa,{optional:!0})??"site-theme";ngOnInit(){this.initTheme()}initTheme(){this.platform.isBrowser&&(this.theme=localStorage.getItem(this.key)||"default",this.updateChartTheme(),this.onThemeChange(this.theme))}updateChartTheme(){this.configSrv.set("chart",{theme:this.theme==="dark"?"dark":""})}onThemeChange(e){if(!this.platform.isBrowser)return;this.theme=e,this.themeChange.emit(e),this.renderer.setAttribute(this.doc.body,"data-theme",e);let n=this.doc.getElementById(this.key);if(n&&n.remove(),localStorage.removeItem(this.key),e!=="default"){let i=this.doc.createElement("link");i.type="text/css",i.rel="stylesheet",i.id=this.key,i.href=`${this.deployUrl}assets/style.${e}.css`,localStorage.setItem(this.key,e),this.doc.body.append(i)}this.updateChartTheme()}ngOnDestroy(){let e=this.doc.getElementById(this.key);e!=null&&this.doc.body.removeChild(e)}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=z({type:t,selectors:[["theme-btn"]],hostVars:4,hostBindings:function(n,i){n&2&&b("theme-btn",!0)("theme-btn-rtl",i.dir()==="rtl")},inputs:{types:"types",devTips:"devTips",deployUrl:"deployUrl"},outputs:{themeChange:"themeChange"},decls:10,vars:2,consts:[["menu","nzDropdownMenu"],["nz-dropdown","","nzPlacement","topCenter",1,"ant-avatar","ant-avatar-circle","ant-avatar-icon",3,"nzDropdownMenu"],["nz-tooltip","","role","img","width","21","height","21","viewBox","0 0 21 21","fill","currentColor",1,"anticon",3,"nzTooltipTitle"],["fill-rule","evenodd"],["fill-rule","nonzero"],["d","M7.02 3.635l12.518 12.518a1.863 1.863 0 010 2.635l-1.317 1.318a1.863 1.863 0 01-2.635 0L3.068 7.588A2.795 2.795 0 117.02 3.635zm2.09 14.428a.932.932 0 110 1.864.932.932 0 010-1.864zm-.043-9.747L7.75 9.635l9.154 9.153 1.318-1.317-9.154-9.155zM3.52 12.473c.514 0 .931.417.931.931v.932h.932a.932.932 0 110 1.864h-.932v.931a.932.932 0 01-1.863 0l-.001-.931h-.93a.932.932 0 010-1.864h.93v-.932c0-.514.418-.931.933-.931zm15.374-3.727a1.398 1.398 0 110 2.795 1.398 1.398 0 010-2.795zM4.385 4.953a.932.932 0 000 1.317l2.046 2.047L7.75 7 5.703 4.953a.932.932 0 00-1.318 0zM14.701.36a.932.932 0 01.931.932v.931h.932a.932.932 0 010 1.864h-.933l.001.932a.932.932 0 11-1.863 0l-.001-.932h-.93a.932.932 0 110-1.864h.93v-.931a.932.932 0 01.933-.932z"],["nz-menu","","nzSelectable",""],["nz-menu-item",""],["nz-menu-item","",3,"click"]],template:function(n,i){if(n&1&&(r(0,"div",1),wi(),r(1,"svg",2)(2,"g",3)(3,"g",4),m(4,"path",5),s()()(),Di(),r(5,"nz-dropdown-menu",null,0)(7,"ul",6),w(8,Ga,2,1,"li",7,O),s()()()),n&2){let l=S(6);c("nzDropdownMenu",i.types.length>0?l:null),a(),c("nzTooltipTitle",i.isDev?i.devTips:null),a(7),D(i.types)}},dependencies:[j,q,te,Ae,mt],encapsulation:2,changeDetection:0})}return t})();function Qa(t,o){if(t&1&&(r(0,"div",1),m(1,"i",5),u(2),F(3,"i18n"),m(4,"i",6),s()),t&2){p();let e=S(3);c("nzDropdownMenu",e),a(2),N(" ",L(3,2,"menu.lang")," ")}}function Za(t,o){if(t&1&&m(0,"i",2),t&2){p();let e=S(3);c("nzDropdownMenu",e)}}function Ya(t,o){if(t&1){let e=x();r(0,"li",7),_("click",function(){let i=C(e).$implicit,l=p();return v(l.change(i.code))}),r(1,"span",8),u(2),s(),u(3),s()}if(t&2){let e=o.$implicit,n=p();c("nzSelected",e.code===n.curLangCode),a(),W("aria-label",e.text),a(),I(e.abbr),a(),N(" ",e.text," ")}}var ft=class ft{constructor(){this.settings=d(P);this.i18n=d(at);this.doc=d(oe);this.showLangText=!0}get langs(){return this.i18n.getLangs()}get curLangCode(){return this.settings.layout.lang}change(o){let e=this.doc.createElement("div");e.setAttribute("class","page-loading ant-spin ant-spin-lg ant-spin-spinning"),e.innerHTML='<span class="ant-spin-dot ant-spin-dot-spin"><i></i><i></i><i></i><i></i></span>',this.doc.body.appendChild(e),this.i18n.loadLangData(o).subscribe(n=>{this.i18n.use(o,n),this.settings.setLayout("lang",o),setTimeout(()=>this.doc.location.reload())})}};ft.\u0275fac=function(e){return new(e||ft)},ft.\u0275cmp=z({type:ft,selectors:[["header-i18n"]],hostVars:2,hostBindings:function(e,n){e&2&&b("flex-1",!0)},inputs:{showLangText:[2,"showLangText","showLangText",A]},decls:7,vars:1,consts:[["langMenu","nzDropdownMenu"],["nz-dropdown","","nzPlacement","bottomRight",3,"nzDropdownMenu"],["nz-dropdown","","nzPlacement","bottomRight","nz-icon","","nzType","global",3,"nzDropdownMenu"],["nz-menu",""],["nz-menu-item","",3,"nzSelected"],["nz-icon","","nzType","global"],["nz-icon","","nzType","down"],["nz-menu-item","",3,"click","nzSelected"],["role","img",1,"pr-xs"]],template:function(e,n){e&1&&(g(0,Qa,5,4,"div",1)(1,Za,1,1,"i",2),r(2,"nz-dropdown-menu",null,0)(4,"ul",3),w(5,Ya,4,4,"li",4,O),s()()),e&2&&(h(n.showLangText?0:1),a(5),D(n.langs))},dependencies:[B,te,Ae,j,q,M,T,ke,ee],encapsulation:2,changeDetection:0});var gt=ft;function Ja(t,o){t&1&&(r(0,"nz-alert",15),m(1,"nz-spin",18),s())}function er(t,o){if(t&1&&m(0,"nz-alert",16),t&2){let e=p(2);c("nzMessage","Firebase \u670D\u52D9\u66AB\u6642\u7121\u6CD5\u4F7F\u7528: "+e.firebaseError())}}function tr(t,o){t&1&&(r(0,"nz-tag",21),u(1,"\u533F\u540D\u4F7F\u7528\u8005"),s())}function nr(t,o){if(t&1&&(r(0,"nz-alert",17)(1,"div",19)(2,"nz-tag",20),u(3),s(),g(4,tr,2,0,"nz-tag",21),s()()),t&2){let e=p(2);c("nzDescription",e.getFirebaseStatusDescription()),a(2),c("nzColor",e.getAuthProviderColor()),a(),N(" ",e.authProvider()," "),a(),h(e.isAnonymous()?4:-1)}}function ir(t,o){if(t&1&&(r(0,"div",2),g(1,Ja,2,0,"nz-alert",15)(2,er,1,1,"nz-alert",16)(3,nr,5,4,"nz-alert",17),s()),t&2){let e=p();a(),h(e.isFirebaseLoading()?1:e.firebaseError()?2:e.firebaseUser()?3:-1)}}function or(t,o){t&1&&(r(0,"nz-tag",8),u(1,"Firebase \u589E\u5F37\u7248"),s())}function ar(t,o){t&1&&(m(0,"br"),r(1,"small",22),u(2,"\u652F\u63F4\u591A\u7A2E\u767B\u5165\u65B9\u5F0F\uFF1AEmail/Password\u3001Google\u3001\u533F\u540D\u767B\u5165"),s())}function rr(t,o){t&1&&(r(0,"div",11),m(1,"nz-spin",23),r(2,"p",24),u(3,"\u8F09\u5165\u8A8D\u8B49\u670D\u52D9\u4E2D..."),s()())}function lr(t,o){t&1&&(m(0,"br"),r(1,"small"),u(2,"Powered by Firebase Authentication"),s())}var ht=class ht{constructor(){this.tokenService=d(pe);this.firebaseAuthService=d(rt);this.firebaseRoleService=d(lt);this.firebaseUser=this.firebaseAuthService.currentUser;this.isFirebaseLoading=this.firebaseAuthService.isLoading;this.firebaseError=this.firebaseAuthService.error;this.userRoles=this.firebaseRoleService.userRoles;this.showStatusBar=Et(!0);this.isAnonymous=Y(()=>this.firebaseUser()?.isAnonymous||!1);this.isFirebaseEnabled=Y(()=>this.firebaseAuthService!==null);this.authProvider=Y(()=>{let o=this.firebaseUser();if(!o)return"";if(o.isAnonymous)return"\u533F\u540D";let e=o;if(e.providerData&&e.providerData.length>0){let n=e.providerData[0].providerId;switch(n){case"google.com":return"Google";case"password":return"Email";default:return n}}return"Firebase"});this.showFirebaseStatus=Y(()=>this.showStatusBar()&&this.isFirebaseEnabled()&&(this.isFirebaseLoading()||this.firebaseError()||this.firebaseUser()));this.links=[{title:"\u5E2E\u52A9",href:""},{title:"\u9690\u79C1",href:""},{title:"\u6761\u6B3E",href:""}]}ngOnInit(){this.tokenService.clear(),this.initializeFirebaseAuth()}ngOnDestroy(){}initializeFirebaseAuth(){try{this.firebaseAuthService.onAuthStateChanged()}catch(o){console.error("Error initializing Firebase auth in passport layout:",o)}}getFirebaseStatusDescription(){let o=this.firebaseUser();if(!o)return"";let e=[];o.email&&e.push(`\u4F7F\u7528\u8005: ${o.email}`),o.isAnonymous?e.push("\u533F\u540D\u767B\u5165\u72C0\u614B"):o.emailVerified||e.push("Email \u5C1A\u672A\u9A57\u8B49");let n=this.userRoles();return n.length>0&&e.push(`\u89D2\u8272: ${n.join(", ")}`),e.join(" | ")}getAuthProviderColor(){let o=this.authProvider();return{Google:"red",Email:"blue",\u533F\u540D:"orange",Firebase:"green"}[o]||"default"}toggleStatusBar(){this.showStatusBar.set(!this.showStatusBar())}isDevelopment(){return!Ie.production}};ht.\u0275fac=function(e){return new(e||ht)},ht.\u0275cmp=z({type:ht,selectors:[["layout-passport"]],decls:25,vars:10,consts:[[1,"container"],["showLangText","false",1,"langs"],[1,"firebase-status-bar"],[1,"wrap"],[1,"top"],[1,"head"],["src","./assets/logo-color.svg",1,"logo"],[1,"title"],["nzColor","blue","nzSize","small",1,"ml-sm"],[1,"desc"],[1,"content-wrapper"],[1,"loading-overlay"],[3,"links"],["nz-icon","","nzType","copyright"],["href","//github.com/cipchk","target","_blank"],["nzType","info","nzMessage","Firebase \u521D\u59CB\u5316\u4E2D...","nzShowIcon","","nzBanner",""],["nzType","warning","nzDescription","\u60A8\u4ECD\u53EF\u4F7F\u7528\u50B3\u7D71\u767B\u5165\u65B9\u5F0F","nzShowIcon","","nzBanner","","nzCloseable","",3,"nzMessage"],["nzType","success","nzMessage","Firebase \u5DF2\u9023\u7DDA","nzShowIcon","","nzBanner","",3,"nzDescription"],["nzSize","small",1,"mr-sm"],[1,"firebase-user-info"],["nzSize","small",3,"nzColor"],["nzColor","orange","nzSize","small"],[1,"text-grey"],["nzSize","large"],[1,"mt-md"]],template:function(e,n){e&1&&(r(0,"div",0),m(1,"header-i18n",1),g(2,ir,4,1,"div",2),r(3,"div",3)(4,"div",4)(5,"div",5),m(6,"img",6),r(7,"span",7),u(8,"NG-ALAIN"),s(),g(9,or,2,0,"nz-tag",8),s(),r(10,"div",9),u(11," \u6B66\u6797\u4E2D\u6700\u6709\u5F71\u54CD\u529B\u7684\u300A\u8475\u82B1\u5B9D\u5178\u300B\uFF1B\u6B32\u7EC3\u795E\u529F\uFF0C\u6325\u5200\u81EA\u5BAB "),g(12,ar,3,0),s()(),r(13,"div",10),g(14,rr,4,0,"div",11),m(15,"router-outlet"),s(),r(16,"global-footer",12),u(17," Copyright "),m(18,"i",13),u(19," 2023 "),r(20,"a",14),u(21,"\u5361\u8272"),s(),u(22,"\u51FA\u54C1 "),g(23,lr,3,0),s()()(),m(24,"theme-btn")),e&2&&(a(2),h(n.showFirebaseStatus()?2:-1),a(),b("firebase-enabled",n.isFirebaseEnabled()),a(6),h(n.isFirebaseEnabled()?9:-1),a(3),h(n.isFirebaseEnabled()?12:-1),a(),b("loading",n.isFirebaseLoading()),a(),h(n.isFirebaseLoading()?14:-1),a(2),c("links",n.links),a(7),h(n.isFirebaseEnabled()?23:-1))},dependencies:[tt,gt,Qo,Xo,M,T,Cn,Bo,_n,dt,pt,Le,Fe],styles:["[_nghost-%COMP%]     .container{display:flex;flex-direction:column;min-height:100%;background:#f0f2f5}[_nghost-%COMP%]     .langs{width:100%;height:40px;line-height:44px;text-align:right}[_nghost-%COMP%]     .langs .anticon{cursor:pointer;margin-top:24px;margin-right:24px;font-size:14px;vertical-align:top}[_nghost-%COMP%]     .wrap{flex:1;padding:32px 0}[_nghost-%COMP%]     .ant-form-item{display:flex;justify-content:space-between;margin-bottom:24px}[_nghost-%COMP%]     .top{text-align:center}[_nghost-%COMP%]     .header{height:44px;line-height:44px}[_nghost-%COMP%]     .header a{text-decoration:none}[_nghost-%COMP%]     .logo{height:44px;margin-right:16px}[_nghost-%COMP%]     .title{position:relative;font-family:Myriad Pro,Helvetica Neue,Arial,Helvetica,sans-serif;font-size:33px;font-weight:600;color:#000000d9;vertical-align:middle}[_nghost-%COMP%]     .desc{margin-top:12px;margin-bottom:40px;font-size:14px;color:#00000073}@media (min-width: 768px){[_nghost-%COMP%]     .container{background-image:url(https://gw.alipayobjects.com/zos/rmsportal/TVYTbAXWheQpRcWDaDMu.svg);background-repeat:no-repeat;background-position:center 110px;background-size:100%}[_nghost-%COMP%]     .wrap{padding:32px 0 24px}}[data-theme=dark]   [_nghost-%COMP%]     .container{background:#141414}[data-theme=dark]   [_nghost-%COMP%]     .title{color:#ffffffd9}[data-theme=dark]   [_nghost-%COMP%]     .desc{color:#ffffff73}@media (min-width: 768px){[data-theme=dark]   [_nghost-%COMP%]     .container{background-image:none}}[data-theme=compact]   [_nghost-%COMP%]     .ant-form-item{margin-bottom:16px}"]});var Zo=ht;var cr=["host"],Ko=["*"];function pr(t,o){t&1&&ye(0)}var We=t=>({$implicit:t});function dr(t,o){if(t&1&&m(0,"nz-icon",3),t&2){let e=p(2).$implicit;c("nzType",e.value)("nzTheme",e.theme)("nzSpin",e.spin)("nzTwotoneColor",e.twoToneColor)("nzIconfont",e.iconfont)("nzRotate",e.rotate)}}function mr(t,o){if(t&1&&m(0,"nz-icon",4),t&2){let e=p(2).$implicit;c("nzIconfont",e.iconfont)}}function ur(t,o){if(t&1&&m(0,"img",5),t&2){let e=p(2).$implicit;c("src",e.value,Ye)}}function fr(t,o){if(t&1&&m(0,"span",6),t&2){let e=p(2).$implicit;c("innerHTML",e.value,fe)}}function gr(t,o){if(t&1&&m(0,"i"),t&2){let e=p(2).$implicit;ze(Vn("sidebar-nav__item-icon ",e.value))}}function hr(t,o){if(t&1&&g(0,dr,1,6,"nz-icon",3)(1,mr,1,1,"nz-icon",4)(2,ur,1,1,"img",5)(3,fr,1,1,"span",6)(4,gr,1,3,"i",7),t&2){let e,n=p().$implicit;h((e=n.type)==="icon"?0:e==="iconfont"?1:e==="img"?2:e==="svg"?3:4)}}function _r(t,o){if(t&1&&g(0,hr,5,1),t&2){let e=o.$implicit;h(e?0:-1)}}function Cr(t,o){t&1&&m(0,"li",8)}function vr(t,o){}function yr(t,o){if(t&1&&(r(0,"span",16),y(1,vr,0,0,"ng-template",17),s()),t&2){let e=p(5).$implicit;p(2);let n=S(1);c("nzTooltipTitle",e.text),a(),c("ngTemplateOutlet",n)("ngTemplateOutletContext",H(3,We,e.icon))}}function zr(t,o){}function xr(t,o){if(t&1&&y(0,zr,0,0,"ng-template",17),t&2){let e=p(5).$implicit;p(2);let n=S(1);c("ngTemplateOutlet",n)("ngTemplateOutletContext",H(2,We,e.icon))}}function br(t,o){if(t&1&&g(0,yr,2,5,"span",16)(1,xr,1,4,null,17),t&2){let e=p(6);h(e.collapsed?0:1)}}function Sr(t,o){if(t&1){let e=x();r(0,"a",14),_("click",function(){C(e);let i=p(3).$implicit,l=p(2);return v(l.to(i))})("mouseenter",function(){C(e);let i=p(5);return v(i.closeSubMenu())}),g(1,br,2,1),m(2,"span",15),s()}if(t&2){let e=p(3).$implicit;b("sidebar-nav__item-disabled",e.disabled),W("data-id",e._id),a(),h(e._needIcon?1:-1),a(),c("innerHTML",e._text,fe),W("title",e.text)}}function Tr(t,o){}function wr(t,o){if(t&1){let e=x();r(0,"a",14),_("click",function(){C(e);let i=p(3).$implicit,l=p(2);return v(l.toggleOpen(i))})("mouseenter",function(i){C(e);let l=p(3).$implicit,f=p(2);return v(f.showSubMenu(i,l))}),y(1,Tr,0,0,"ng-template",17),m(2,"span",15)(3,"i",18),s()}if(t&2){let e=p(3).$implicit;p(2);let n=S(1);a(),c("ngTemplateOutlet",n)("ngTemplateOutletContext",H(4,We,e.icon)),a(),c("innerHTML",e._text,fe),W("title",e.text)}}function Dr(t,o){if(t&1&&m(0,"nz-badge",13),t&2){let e=p(3).$implicit;c("nzCount",e.badge)("nzDot",e.badgeDot)("nzOverflowCount",e.badgeOverflowCount?e.badgeOverflowCount:9)}}function Nr(t,o){}function Mr(t,o){if(t&1&&(r(0,"ul"),y(1,Nr,0,0,"ng-template",17),s()),t&2){let e=p(3).$implicit;p(2);let n=S(3);ze(Vn("sidebar-nav sidebar-nav__sub sidebar-nav__depth",e._depth)),a(),c("ngTemplateOutlet",n)("ngTemplateOutletContext",H(5,We,e.children))}}function Er(t,o){if(t&1&&(r(0,"li",10),g(1,Sr,3,6,"a",11),g(2,wr,4,6,"a",12),g(3,Dr,1,3,"nz-badge",13),g(4,Mr,2,7,"ul",7),s()),t&2){let e=p(2).$implicit;b("sidebar-nav__selected",e._selected)("sidebar-nav__open",e.open),a(),h(e.children.length===0?1:-1),a(),h(e.children.length>0?2:-1),a(),h(e.badge?3:-1),a(),h(e.children.length>0?4:-1)}}function Ir(t,o){if(t&1&&g(0,Cr,1,0,"li",8)(1,Er,5,8,"li",9),t&2){let e=p().$implicit;h(e.render_type==="divider"?0:1)}}function Ar(t,o){if(t&1&&g(0,Ir,2,1),t&2){let e=o.$implicit;h(e._hidden!==!0?0:-1)}}function kr(t,o){if(t&1&&w(0,Ar,1,1,null,null,O),t&2){let e=o.$implicit;D(e)}}function Fr(t,o){if(t&1&&(r(0,"li",19),m(1,"span",20),s()),t&2){let e=p().$implicit;a(),c("innerHTML",e._text,fe)}}function Lr(t,o){}function Or(t,o){if(t&1&&(g(0,Fr,2,1,"li",19),y(1,Lr,0,0,"ng-template",17)),t&2){let e=o.$implicit;p();let n=S(3);h(e.group?0:-1),a(),c("ngTemplateOutlet",n)("ngTemplateOutletContext",H(3,We,e.children))}}function Pr(t,o){t&1&&Ce(0)}function Rr(t,o){if(t&1&&(r(0,"li"),y(1,Pr,1,0,"ng-container",8),s()),t&2){let e=o.$implicit;b("hidden-mobile",e.hidden==="mobile")("hidden-pc",e.hidden==="pc"),a(),c("ngTemplateOutlet",e.host)}}function Vr(t,o){if(t&1&&w(0,Rr,2,5,"li",7,O),t&2){let e=o.$implicit;D(e)}}function Hr(t,o){t&1&&Ce(0)}function Br(t,o){if(t&1&&y(0,Hr,1,0,"ng-container",8),t&2){let e=p();c("ngTemplateOutlet",e.opt.logo)}}function Ur(t,o){if(t&1&&(r(0,"a",2),m(1,"img",9)(2,"img",10),s()),t&2){let e=p();c("routerLink",e.opt.logoLink),a(),W("src",e.opt.logoExpanded,Ye)("alt",e.app.name),a(),W("src",e.opt.logoCollapsed,Ye)("alt",e.app.name)}}function Wr(t,o){if(t&1){let e=x();r(0,"li")(1,"div",11),_("click",function(){C(e);let i=p();return v(i.toggleCollapsed())}),m(2,"nz-icon",12),s()()}if(t&2){let e=p();a(2),c("nzType",e.collapsedIcon)}}function $r(t,o){}function jr(t,o){t&1&&Ce(0)}function qr(t,o){if(t&1&&(r(0,"div",6),y(1,jr,1,0,"ng-container",8),s()),t&2){let e=p();a(),c("ngTemplateOutlet",e.middle[0].host)}}function Gr(t,o){}function Xr(t,o){t&1&&m(0,"div",0)}function Qr(t,o){if(t&1&&m(0,"layout-default-header",1),t&2){let e=p();c("items",e.headerItems)}}function Zr(t,o){t&1&&Ce(0)}function Yr(t,o){t&1&&Ce(0)}function Kr(t,o){t&1&&m(0,"layout-default-nav")}function Jr(t,o){t&1&&Ce(0)}function el(t,o){if(t&1&&y(0,Jr,1,0,"ng-container",4),t&2){let e=p(3);c("ngTemplateOutlet",e.asideBottom)}}function tl(t,o){if(t&1){let e=x();r(0,"div",9),_("click",function(){C(e);let i=p(3);return v(i.toggleCollapsed())}),m(1,"nz-icon",10),s()}if(t&2){let e=p(3);a(),c("nzType",e.collapsedIcon)}}function nl(t,o){if(t&1&&(r(0,"div",7),g(1,el,1,1,"ng-container")(2,tl,2,1,"div",8),s()),t&2){let e=p(2);a(),h(e.asideBottom?1:2)}}function il(t,o){if(t&1&&(r(0,"div",2)(1,"div",5)(2,"div",6),y(3,Zr,1,0,"ng-container",4)(4,Yr,1,0,"ng-container",4),g(5,Kr,1,0,"layout-default-nav"),s(),g(6,nl,3,1,"div",7),s()()),t&2){let e=p();a(3),c("ngTemplateOutlet",e.asideUser),a(),c("ngTemplateOutlet",e.nav),a(),h(e.nav?-1:5),a(),h(e.opt.showSiderCollapse?6:-1)}}function ol(t,o){t&1&&Ce(0)}var ii=(()=>{class t{host;hidden="none";direction="right";static \u0275fac=function(n){return new(n||t)};static \u0275cmp=z({type:t,selectors:[["layout-default-header-item"]],viewQuery:function(n,i){if(n&1&&He(cr,7),n&2){let l;Te(l=we())&&(i.host=l.first)}},inputs:{hidden:"hidden",direction:"direction"},standalone:!1,ngContentSelectors:Ko,decls:2,vars:0,consts:[["host",""]],template:function(n,i){n&1&&(ve(),y(0,pr,1,0,"ng-template",null,0,E))},encapsulation:2})}return t})(),ei={logoExpanded:"./assets/logo-full.svg",logoCollapsed:"./assets/logo.svg",logoLink:"/",showHeaderCollapse:!0,showSiderCollapse:!1,hideAside:!1,hideHeader:!1},Jo=(()=>{class t{settings=d(P);bm=d(fo);_options$=new Ge(ei);_options=ei;get options(){return this._options}get options$(){return this._options$.asObservable()}get collapsedIcon(){let e=this.settings.layout.collapsed,n=e?"unfold":"fold";return this.settings.layout.direction==="rtl"&&(n=e?"fold":"unfold"),`menu-${n}`}constructor(){let e="only screen and (max-width: 767.99px)";this.bm.observe(e).pipe(V()).subscribe(n=>this.checkMedia(n.matches)),this.checkMedia(this.bm.isMatched(e))}checkMedia(e){this.settings.setLayout("collapsed",e)}notify(){this._options$.next(this._options)}setOptions(e){this._options=ne(ne({},ei),e),this.notify()}toggleCollapsed(e){this.settings.setLayout("collapsed",e??!this.settings.layout.collapsed),this.notify()}static \u0275fac=function(n){return new(n||t)};static \u0275prov=Me({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),ti="sidebar-nav__floating-show",ni="sidebar-nav__floating",al=(()=>{class t{doc=d(oe);win=d(an);router=d(ce);render=d(It);menuSrv=d(tn);settings=d(P);cdr=d(R);ngZone=d(Ve);sanitizer=d(Zt);bodyEl;destroy$=d(Pe);floatingEl;dir=d(xe).valueSignal;list=[];disabledAcl=!1;autoCloseUnderPad=!0;recursivePath=!0;hideEmptyChildren=!0;set openStrictly(e){this.menuSrv.openStrictly=e}maxLevelIcon=3;select=new X;get collapsed(){return this.settings.layout.collapsed}getLinkNode(e){return e=e.nodeName==="A"?e:e.parentNode,e.nodeName!=="A"?null:e}floatingClickHandle(e){e.stopPropagation();let n=this.getLinkNode(e.target);if(n==null)return!1;let i=+n.dataset.id;if(isNaN(i))return!1;let l;return this.menuSrv.visit(this.list,f=>{!l&&f._id===i&&(l=f)}),this.to(l),this.hideAll(),e.preventDefault(),!1}clearFloating(){this.floatingEl&&(this.floatingEl.removeEventListener("click",this.floatingClickHandle.bind(this)),this.floatingEl.parentNode?.removeChild(this.floatingEl))}genFloating(){this.clearFloating(),this.floatingEl=this.render.createElement("div"),this.floatingEl.classList.add(`${ni}-container`),this.floatingEl.addEventListener("click",this.floatingClickHandle.bind(this),!1),this.bodyEl.appendChild(this.floatingEl)}genSubNode(e,n){let i=`_sidebar-nav-${n._id}`,f=(n.badge?e.nextElementSibling.nextElementSibling:e.nextElementSibling).cloneNode(!0);return f.id=i,f.classList.add(ni),f.addEventListener("mouseleave",()=>{f.classList.remove(ti)},!1),this.floatingEl.appendChild(f),f}hideAll(){this.floatingEl.querySelectorAll(`.${ni}`).forEach(n=>n.classList.remove(ti))}calPos(e,n){let i=e.getBoundingClientRect(),l=Math.max(this.doc.documentElement.scrollTop,this.bodyEl.scrollTop),f=Math.max(this.doc.documentElement.clientHeight,this.bodyEl.clientHeight),U=5,G=-U;f<i.top+n.clientHeight&&(G=i.top+n.clientHeight-f+U),n.style.top=`${i.top+l-G}px`,this.dir()==="rtl"?n.style.right=`${i.width+U}px`:n.style.left=`${i.right+U}px`}showSubMenu(e,n){if(this.collapsed!==!0)return;e.preventDefault();let i=e.target;this.genFloating();let l=this.genSubNode(i,n);this.hideAll(),l.classList.add(ti),this.calPos(i,l)}to(e){if(this.select.emit(e),!e.disabled){if(e.externalLink){e.target==="_blank"?this.win.open(e.externalLink):this.win.location.href=e.externalLink;return}this.ngZone.run(()=>this.router.navigateByUrl(e.link))}}toggleOpen(e){this.menuSrv.toggleOpen(e)}_click(){this.isPad&&this.collapsed&&(this.openAside(!1),this.hideAll())}closeSubMenu(){this.collapsed&&this.hideAll()}openByUrl(e){let{menuSrv:n,recursivePath:i}=this;this.menuSrv.open(n.find({url:e,recursive:i}))}ngOnInit(){let{doc:e,router:n,menuSrv:i,settings:l,cdr:f}=this;this.bodyEl=e.querySelector("body"),i.change.pipe(V(this.destroy$)).subscribe(U=>{i.visit(U,(G,zp,Va)=>{G._text=this.sanitizer.bypassSecurityTrustHtml(G.text),G._needIcon=Va<=this.maxLevelIcon&&!!G.icon,G._aclResult||(this.disabledAcl?G.disabled=!0:G._hidden=!0);let Nt=G.icon;Nt&&Nt.type==="svg"&&typeof Nt.value=="string"&&(Nt.value=this.sanitizer.bypassSecurityTrustHtml(Nt.value))}),this.hideEmptyChildren&&this.fixHide(U),this.list=U.filter(G=>G._hidden!==!0),f.detectChanges()}),n.events.pipe(V(this.destroy$)).subscribe(U=>{U instanceof Un&&(this.openByUrl(U.urlAfterRedirects),this.underPad(),this.cdr.detectChanges())}),l.notify.pipe(V(this.destroy$),ue(U=>U.type==="layout"&&U.name==="collapsed")).subscribe(()=>this.clearFloating()),this.underPad(),this.openByUrl(n.url),this.ngZone.runOutsideAngular(()=>this.genFloating())}fixHide(e){let n=i=>{for(let l of i)l.children&&l.children.length>0&&(n(l.children),l._hidden||(l._hidden=l.children.every(f=>f._hidden)))};n(e)}ngOnDestroy(){this.clearFloating()}get isPad(){return this.doc.defaultView.innerWidth<768}underPad(){this.autoCloseUnderPad&&this.isPad&&!this.collapsed&&setTimeout(()=>this.openAside(!0))}openAside(e){this.settings.setLayout("collapsed",e)}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=z({type:t,selectors:[["layout-default-nav"]],hostVars:2,hostBindings:function(n,i){n&1&&_("click",function(){return i._click()})("click",function(){return i.closeSubMenu()},Ii),n&2&&b("d-block",!0)},inputs:{disabledAcl:[2,"disabledAcl","disabledAcl",A],autoCloseUnderPad:[2,"autoCloseUnderPad","autoCloseUnderPad",A],recursivePath:[2,"recursivePath","recursivePath",A],hideEmptyChildren:[2,"hideEmptyChildren","hideEmptyChildren",A],openStrictly:[2,"openStrictly","openStrictly",A],maxLevelIcon:[2,"maxLevelIcon","maxLevelIcon",Xt]},outputs:{select:"select"},standalone:!1,decls:7,vars:0,consts:[["icon",""],["tree",""],[1,"sidebar-nav"],[1,"sidebar-nav__item-icon",3,"nzType","nzTheme","nzSpin","nzTwotoneColor","nzIconfont","nzRotate"],[1,"sidebar-nav__item-icon",3,"nzIconfont"],[1,"sidebar-nav__item-icon","sidebar-nav__item-img",3,"src"],[1,"sidebar-nav__item-icon","sidebar-nav__item-svg",3,"innerHTML"],[3,"class"],[1,"sidebar-nav__divider"],[1,"sidebar-nav__item",3,"sidebar-nav__selected","sidebar-nav__open"],[1,"sidebar-nav__item"],[1,"sidebar-nav__item-link",3,"sidebar-nav__item-disabled"],[1,"sidebar-nav__item-link"],["nzStandalone","",3,"nzCount","nzDot","nzOverflowCount"],[1,"sidebar-nav__item-link",3,"click","mouseenter"],[1,"sidebar-nav__item-text",3,"innerHTML"],["nz-tooltip","","nzTooltipPlacement","right",3,"nzTooltipTitle"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"sidebar-nav__sub-arrow"],[1,"sidebar-nav__item","sidebar-nav__group-title"],[3,"innerHTML"]],template:function(n,i){n&1&&(y(0,_r,1,1,"ng-template",null,0,E)(2,kr,2,0,"ng-template",null,1,E),r(4,"ul",2),w(5,Or,2,5,null,null,O),s()),n&2&&(a(5),D(i.list))},dependencies:[Q,mt,T,st],encapsulation:2,changeDetection:0})}return Mt([Ot()],t.prototype,"showSubMenu",null),t})(),rl=(()=>{class t{settings=d(P);srv=d(Jo);cdr=d(R);destroy$=d(Pe);items;left=[];middle=[];right=[];get opt(){return this.srv.options}get app(){return this.settings.app}get collapsed(){return this.settings.layout.collapsed}get collapsedIcon(){return this.srv.collapsedIcon}refresh(){let e=this.items.toArray();this.left=e.filter(n=>n.direction==="left"),this.middle=e.filter(n=>n.direction==="middle"),this.right=e.filter(n=>n.direction==="right"),this.cdr.detectChanges()}ngAfterViewInit(){this.items.changes.pipe(V(this.destroy$)).subscribe(()=>this.refresh()),this.srv.options$.pipe(V(this.destroy$)).subscribe(()=>this.cdr.detectChanges()),this.refresh()}toggleCollapsed(){this.srv.toggleCollapsed()}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=z({type:t,selectors:[["layout-default-header"]],hostVars:2,hostBindings:function(n,i){n&2&&b("alain-default__header",!0)},inputs:{items:"items"},standalone:!1,decls:12,vars:13,consts:[["render",""],[1,"alain-default__header-logo"],[1,"alain-default__header-logo-link",3,"routerLink"],[1,"alain-default__nav-wrap"],[1,"alain-default__nav"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"alain-default__nav","alain-default__nav-middle"],[3,"hidden-mobile","hidden-pc"],[4,"ngTemplateOutlet"],[1,"alain-default__header-logo-expanded"],[1,"alain-default__header-logo-collapsed"],[1,"alain-default__nav-item","alain-default__nav-item--collapse",3,"click"],[3,"nzType"]],template:function(n,i){if(n&1&&(y(0,Vr,2,0,"ng-template",null,0,E),r(2,"div",1),g(3,Br,1,1,"ng-container")(4,Ur,3,5,"a",2),s(),r(5,"div",3)(6,"ul",4),g(7,Wr,3,1,"li"),y(8,$r,0,0,"ng-template",5),s(),g(9,qr,2,1,"div",6),r(10,"ul",4),y(11,Gr,0,0,"ng-template",5),s()()),n&2){let l=S(1);a(2),De("width",i.opt.logoFixWidth,"px"),a(),h(i.opt.logo?3:4),a(4),h(!i.opt.hideAside&&i.opt.showHeaderCollapse?7:-1),a(),c("ngTemplateOutlet",l)("ngTemplateOutletContext",H(9,We,i.left)),a(),h(i.middle.length>0?9:-1),a(2),c("ngTemplateOutlet",l)("ngTemplateOutletContext",H(11,We,i.right))}},dependencies:[Q,nt,T],encapsulation:2,changeDetection:0})}return t})(),ea=(()=>{class t{headerItems;get opt(){return this.srv.options}set options(e){this.srv.setOptions(e)}asideUser=null;asideBottom=null;nav=null;content=null;customError;fetchingStrictly=!1;fetching=!1;isFetching=!1;get showFetching(){return this.fetchingStrictly?this.fetching:this.isFetching}get collapsed(){return this.settings.layout.collapsed}get collapsedIcon(){return this.srv.collapsedIcon}toggleCollapsed(){this.srv.toggleCollapsed()}router=d(ce);msgSrv=d(be);settings=d(P);el=d(Re);renderer=d(It);doc=d(oe);srv=d(Jo);constructor(){this.router.events.pipe(V(),ue(()=>!this.fetchingStrictly)).subscribe(e=>this.processEv(e)),this.srv.options$.pipe(V()).subscribe(()=>this.setClass()),this.settings.notify.pipe(V()).subscribe(()=>this.setClass())}processEv(e){if(!this.isFetching&&e instanceof Xi&&(this.isFetching=!0),e instanceof Wn||e instanceof Gi){this.isFetching=!1;let n=this.customError===null?null:this.customError??`Could not load ${e.url} route`;n&&e instanceof Wn&&this.msgSrv.error(n,{nzDuration:1e3*3});return}(e instanceof Un||e instanceof Qi)&&this.isFetching&&setTimeout(()=>{this.isFetching=!1},100)}setClass(){let{el:e,doc:n,renderer:i,settings:l}=this,f=l.layout;Mo(e.nativeElement,i,{"alain-default":!0,"alain-default__fixed":f.fixed,"alain-default__collapsed":f.collapsed,"alain-default__hide-aside":this.opt.hideAside,"alain-default__hide-header":this.opt.hideHeader}),n.body.classList[f.colorWeak?"add":"remove"]("color-weak")}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=z({type:t,selectors:[["layout-default"]],contentQueries:function(n,i,l){if(n&1&&jt(l,ii,4),n&2){let f;Te(f=we())&&(i.headerItems=f)}},inputs:{options:"options",asideUser:"asideUser",asideBottom:"asideBottom",nav:"nav",content:"content",customError:"customError",fetchingStrictly:[2,"fetchingStrictly","fetchingStrictly",A],fetching:[2,"fetching","fetching",A]},exportAs:["layoutDefault"],standalone:!1,ngContentSelectors:Ko,decls:6,vars:4,consts:[[1,"alain-default__progress-bar"],[3,"items"],[1,"alain-default__aside"],[1,"alain-default__content"],[4,"ngTemplateOutlet"],[1,"alain-default__aside-wrap"],[1,"alain-default__aside-inner"],[1,"alain-default__aside-link"],[1,"alain-default__aside-link-collapsed"],[1,"alain-default__aside-link-collapsed",3,"click"],[3,"nzType"]],template:function(n,i){n&1&&(ve(),g(0,Xr,1,0,"div",0),g(1,Qr,1,1,"layout-default-header",1),g(2,il,7,4,"div",2),r(3,"section",3),y(4,ol,1,0,"ng-container",4),ye(5),s()),n&2&&(h(i.showFetching?0:-1),a(),h(i.opt.hideHeader?-1:1),a(),h(i.opt.hideAside?-1:2),a(2),c("ngTemplateOutlet",i.content))},dependencies:[Q,T,al,rl],encapsulation:2})}return t})(),ta=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275dir=Wt({type:t,selectors:[["","layout-default-header-item-trigger",""]],hostVars:2,hostBindings:function(n,i){n&2&&b("alain-default__nav-item",!0)},standalone:!1})}return t})();var na=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=ae({type:t});static \u0275inj=ie({imports:[Ue,Yt,Jn,M,Oe,B,ct]})}return t})();var ai=()=>({standalone:!0});function pl(t,o){if(t&1){let e=x();r(0,"input",6),se("ngModelChange",function(i){C(e);let l=p();return le(l.i.value,i)||(l.i.value=i),v(i)}),s()}if(t&2){let e=p();re("ngModel",e.i.value),c("ngModelOptions",Je(2,ai))}}function dl(t,o){if(t&1){let e=x();r(0,"input",7),se("ngModelChange",function(i){C(e);let l=p();return le(l.i.value,i)||(l.i.value=i),v(i)}),s()}if(t&2){let e=p();re("ngModel",e.i.value),c("ngModelOptions",Je(2,ai))}}function ml(t,o){if(t&1){let e=x();r(0,"nz-input-number",8),se("ngModelChange",function(i){C(e);let l=p();return le(l.pxVal,i)||(l.pxVal=i),v(i)}),_("ngModelChange",function(i){C(e);let l=p();return v(l.pxChange(i))}),s()}if(t&2){let e=p();re("ngModel",e.pxVal),c("nzMin",e.i.min)("nzMax",e.i.max)("nzStep",e.i.step||2)("nzFormatter",e.format)}}function ul(t,o){if(t&1){let e=x();r(0,"nz-switch",9),se("ngModelChange",function(i){C(e);let l=p();return le(l.i.value,i)||(l.i.value=i),v(i)}),s()}if(t&2){let e=p();re("ngModel",e.i.value),c("ngModelOptions",Je(2,ai))}}function fl(t,o){}function gl(t,o){t&1&&y(0,fl,0,0,"ng-template",5)}var hl=t=>({"background-color":t});function _l(t,o){t&1&&m(0,"nz-icon",20)}function Cl(t,o){if(t&1){let e=x();r(0,"span",19),_("click",function(){let i=C(e).$implicit,l=p(2);return v(l.changeColor(i.color))}),g(1,_l,1,0,"nz-icon",20),s()}if(t&2){let e=o.$implicit,n=p(2);Ke(H(4,hl,e.color)),c("nzTooltipTitle",e.key),a(),h(n.color===e.color?1:-1)}}function vl(t,o){if(t&1){let e=x();r(0,"div",4)(1,"div",5)(2,"h3",6),u(3,"\u4E3B\u9898\u8272"),s(),w(4,Cl,2,6,"span",7,O),s(),m(6,"nz-divider"),r(7,"div",8)(8,"h3",6),u(9,"\u8BBE\u7F6E"),s(),r(10,"nz-tabs")(11,"nz-tab",9)(12,"div",8),m(13,"setting-drawer-item",10)(14,"setting-drawer-item",10)(15,"setting-drawer-item",10),s()(),r(16,"nz-tab",11),m(17,"setting-drawer-item",10)(18,"setting-drawer-item",10)(19,"setting-drawer-item",10)(20,"setting-drawer-item",10),s(),r(21,"nz-tab",12),m(22,"setting-drawer-item",10)(23,"setting-drawer-item",10)(24,"setting-drawer-item",10)(25,"setting-drawer-item",10),s(),r(26,"nz-tab",13),m(27,"setting-drawer-item",10)(28,"setting-drawer-item",10)(29,"setting-drawer-item",10)(30,"setting-drawer-item",10)(31,"setting-drawer-item",10)(32,"setting-drawer-item",10),s()()(),m(33,"nz-divider"),r(34,"div",8)(35,"div",14),u(36," \u56FA\u5B9A\u5934\u548C\u4FA7\u8FB9\u680F "),r(37,"nz-switch",15),se("ngModelChange",function(i){C(e);let l=p();return le(l.layout.fixed,i)||(l.layout.fixed=i),v(i)}),_("ngModelChange",function(){C(e);let i=p();return v(i.setLayout("fixed",i.layout.fixed))}),s()(),r(38,"div",14),u(39," \u8272\u5F31\u6A21\u5F0F "),r(40,"nz-switch",15),se("ngModelChange",function(i){C(e);let l=p();return le(l.layout.colorWeak,i)||(l.layout.colorWeak=i),v(i)}),_("ngModelChange",function(){C(e);let i=p();return v(i.setLayout("colorWeak",i.layout.colorWeak))}),s()()(),m(41,"nz-divider"),r(42,"button",16),_("click",function(){C(e);let i=p();return v(i.apply())}),u(43,"\u9884\u89C8"),s(),r(44,"button",17),_("click",function(){C(e);let i=p();return v(i.reset())}),u(45,"\u91CD\u7F6E"),s(),r(46,"button",17),_("click",function(){C(e);let i=p();return v(i.copyVar())}),u(47,"\u62F7\u8D1D"),s(),m(48,"nz-alert",18),s()}if(t&2){let e=p();a(4),D(e.colors),a(9),c("data",e.data["alain-default-header-hg"]),a(),c("data",e.data["alain-default-header-bg"]),a(),c("data",e.data["alain-default-header-padding"]),a(2),c("data",e.data["alain-default-aside-wd"]),a(),c("data",e.data["alain-default-aside-bg"]),a(),c("data",e.data["alain-default-aside-collapsed-wd"]),a(),c("data",e.data["alain-default-aside-nav-padding-top-bottom"]),a(2),c("data",e.data["alain-default-content-bg"]),a(),c("data",e.data["alain-default-content-heading-bg"]),a(),c("data",e.data["alain-default-content-heading-border"]),a(),c("data",e.data["alain-default-content-padding"]),a(2),c("data",e.data["form-state-visual-feedback-enabled"]),a(),c("data",e.data["preserve-white-spaces-enabled"]),a(),c("data",e.data["nz-table-img-radius"]),a(),c("data",e.data["nz-table-img-margin-right"]),a(),c("data",e.data["nz-table-img-max-width"]),a(),c("data",e.data["nz-table-img-max-height"]),a(5),re("ngModel",e.layout.fixed),a(3),re("ngModel",e.layout.colorWeak)}}var ia=(()=>{class t{i={};set data(e){this.i=e,e.type==="px"&&(this.pxVal=+e.value.replace("px",""))}pxVal=0;pxChange(e){this.i.value=`${e}px`}format=e=>`${e} px`;static \u0275fac=function(n){return new(n||t)};static \u0275cmp=z({type:t,selectors:[["setting-drawer-item"]],hostVars:2,hostBindings:function(n,i){n&2&&b("setting-drawer__body-item",!0)},inputs:{data:"data"},decls:9,vars:3,consts:[[1,"pl-sm","text-grey"],["nz-input","","type","color",2,"width","88px",3,"ngModel","ngModelOptions"],["nz-input","",2,"width","88px",3,"ngModel","ngModelOptions"],[3,"ngModel","nzMin","nzMax","nzStep","nzFormatter"],["nzSize","small",3,"ngModel","ngModelOptions"],["nzDrawerContent",""],["nz-input","","type","color",2,"width","88px",3,"ngModelChange","ngModel","ngModelOptions"],["nz-input","",2,"width","88px",3,"ngModelChange","ngModel","ngModelOptions"],[3,"ngModelChange","ngModel","nzMin","nzMax","nzStep","nzFormatter"],["nzSize","small",3,"ngModelChange","ngModel","ngModelOptions"]],template:function(n,i){if(n&1&&(r(0,"span"),u(1),r(2,"span",0),u(3),s()(),g(4,pl,1,3,"input",1)(5,dl,1,3,"input",2)(6,ml,1,5,"nz-input-number",3)(7,ul,1,3,"nz-switch",4)(8,gl,1,0,null,5)),n&2){let l;a(),N(" ",i.i.label," "),a(2),I(i.i.tip),a(),h((l=i.i.type)==="color"?4:l==="input"?5:l==="px"?6:l==="switch"?7:8)}},dependencies:[Lt,on,kt,Ft,sn,Po,un,Kn,Yn],encapsulation:2})}return t})(),oi="alain-default-vars",yl=[{key:"dust",color:"#F5222D"},{key:"volcano",color:"#FA541C"},{key:"sunset",color:"#FAAD14"},{key:"cyan",color:"#13C2C2"},{key:"green",color:"#52C41A"},{key:"daybreak",color:"#1890ff"},{key:"geekblue",color:"#2F54EB"},{key:"purple",color:"#722ED1"},{key:"black",color:"#001529"}],zn={"primary-color":{label:"\u4E3B\u989C\u8272",type:"color",default:"#1890ff"},"alain-default-header-hg":{label:"\u9AD8",type:"px",default:"64px",max:300,min:24},"alain-default-header-bg":{label:"\u80CC\u666F\u8272",type:"color",default:"@primary-color",tip:"\u9ED8\u8BA4\u540C\u4E3B\u8272\u7CFB"},"alain-default-header-padding":{label:"\u9876\u90E8\u5DE6\u53F3\u5185\u8FB9\u8DDD",type:"px",default:"16px"},"alain-default-aside-wd":{label:"\u5BBD\u5EA6",type:"px",default:"200px"},"alain-default-aside-bg":{label:"\u80CC\u666F",type:"color",default:"#ffffff"},"alain-default-aside-collapsed-wd":{label:"\u6536\u7F29\u5BBD\u5EA6",type:"px",default:"64px"},"alain-default-aside-nav-padding-top-bottom":{label:"\u9879\u4E0A\u4E0B\u5185\u8FB9\u8DDD",type:"px",default:"8px",step:8},"alain-default-aside-nav-fs":{label:"\u83DC\u5355\u5B57\u53F7",type:"px",default:"14px",min:14,max:30},"alain-default-aside-collapsed-nav-fs":{label:"\u6536\u7F29\u83DC\u5355\u5B57\u53F7",type:"px",default:"24px",min:24,max:32},"alain-default-aside-nav-item-height":{label:"\u83DC\u5355\u9879\u9AD8\u5EA6",type:"px",default:"38px",min:24,max:64},"alain-default-aside-nav-text-color":{label:"\u83DC\u5355\u6587\u672C\u989C\u8272",type:"color",default:"rgba(0, 0, 0, 0.65)",rgba:!0},"alain-default-aside-nav-text-hover-color":{label:"\u83DC\u5355\u6587\u672C\u60AC\u505C\u989C\u8272",type:"color",default:"@primary-color",tip:"\u9ED8\u8BA4\u540C\u4E3B\u8272\u7CFB"},"alain-default-aside-nav-group-text-color":{label:"\u83DC\u5355\u5206\u7EC4\u6587\u672C\u989C\u8272",type:"color",default:"rgba(0, 0, 0, 0.43)",rgba:!0},"alain-default-aside-nav-selected-text-color":{label:"\u83DC\u5355\u6FC0\u6D3B\u65F6\u6587\u672C\u989C\u8272",type:"color",default:"@primary-color",tip:"\u9ED8\u8BA4\u540C\u4E3B\u8272\u7CFB"},"alain-default-aside-nav-selected-bg":{label:"\u83DC\u5355\u6FC0\u6D3B\u65F6\u80CC\u666F\u989C\u8272",type:"color",default:"#fcfcfc"},"alain-default-content-bg":{label:"\u80CC\u666F\u8272",type:"color",default:"#f5f7fa"},"alain-default-content-heading-bg":{label:"\u6807\u9898\u80CC\u666F\u8272",type:"color",default:"#fafbfc"},"alain-default-content-heading-border":{label:"\u6807\u9898\u5E95\u90E8\u8FB9\u6846\u8272",type:"color",default:"#efe3e5"},"alain-default-content-padding":{label:"\u5185\u8FB9\u8DDD",type:"px",default:"24px",min:0,max:128,step:8},"form-state-visual-feedback-enabled":{label:"\u5F00\u542F\u8868\u5355\u5143\u7D20\u7684\u89C6\u89C9\u53CD\u9988",type:"switch",default:!0},"preserve-white-spaces-enabled":{label:"\u5F00\u542F preserveWhitespaces",type:"switch",default:!0},"nz-table-img-radius":{label:"\u8868\u683C\u4E2D\uFF1A\u56FE\u7247\u5706\u89D2",type:"px",default:"4px",min:0,max:128},"nz-table-img-margin-right":{label:"\u8868\u683C\u4E2D\uFF1A\u56FE\u7247\u53F3\u5916\u8FB9\u8DDD",type:"px",default:"4px",min:0,max:128},"nz-table-img-max-width":{label:"\u8868\u683C\u4E2D\uFF1A\u56FE\u7247\u6700\u5927\u5BBD\u5EA6",type:"px",default:"32px",min:8,max:128},"nz-table-img-max-height":{label:"\u8868\u683C\u4E2D\uFF1A\u56FE\u7247\u6700\u5927\u9AD8\u5EA6",type:"px",default:"32px",min:8,max:128}},ri=(()=>{class t{cdr=d(R);msg=d(be);settingSrv=d(P);lazy=d(Yi);ngZone=d(Ve);doc=d(oe);autoApplyColor=!0;compilingText="Compiling...";devTips="When the color can't be switched, you need to run it once: npm run color-less";lessJs="https://cdn.jsdelivr.net/npm/less";loadedLess=!1;dir=d(xe).valueSignal;isDev=Gt();collapse=!1;get layout(){return this.settingSrv.layout}data={};color;colors=yl;constructor(){this.color=this.cachedData["@primary-color"]||this.DEFAULT_PRIMARY,this.resetData(this.cachedData,!1)}get cachedData(){return this.settingSrv.layout[oi]||{}}get DEFAULT_PRIMARY(){return zn["primary-color"].default}ngOnInit(){this.autoApplyColor&&this.color!==this.DEFAULT_PRIMARY&&(this.changeColor(this.color),this.runLess())}loadLess(){return Rt(this,null,function*(){return this.loadedLess?Promise.resolve():this.lazy.loadStyle("./assets/color.less",{rel:"stylesheet/less"}).then(()=>{let e=this.doc.createElement("script");e.innerHTML=`
          window.less = {
            async: true,
            env: 'production',
            javascriptEnabled: true
          };
        `,this.doc.body.appendChild(e)}).then(()=>this.lazy.loadScript(this.lessJs)).then(()=>{this.loadedLess=!0})})}genVars(){let{data:e,color:n,validKeys:i}=this,l={"@primary-color":n};return i.filter(f=>f!=="primary-color").forEach(f=>l[`@${f}`]=e[f].value),this.setLayout(oi,l),l}runLess(){let{ngZone:e,msg:n,cdr:i}=this,l=n.loading(this.compilingText,{nzDuration:0}).messageId;setTimeout(()=>{this.loadLess().then(()=>{window.less.modifyVars(this.genVars()).then(()=>{n.success("\u6210\u529F"),n.remove(l),e.run(()=>i.detectChanges())})})},200)}toggle(){this.collapse=!this.collapse}changeColor(e){this.color=e,Object.keys(zn).filter(n=>zn[n].default==="@primary-color").forEach(n=>delete this.cachedData[`@${n}`]),this.resetData(this.cachedData,!1)}setLayout(e,n){this.settingSrv.setLayout(e,n)}resetData(e,n=!0){e=e||{};let i=Zi(zn);Object.keys(i).forEach(l=>{let f=e[`@${l}`]||i[l].default||"";i[l].value=f==="@primary-color"?this.color:f}),this.data=i,n&&(this.cdr.detectChanges(),this.runLess())}get validKeys(){return Object.keys(this.data).filter(e=>this.data[e].value!==this.data[e].default)}apply(){this.runLess()}reset(){this.color=this.DEFAULT_PRIMARY,this.settingSrv.setLayout(oi,{}),this.resetData({})}copyVar(){let e=this.genVars(),n=Object.keys(e).map(i=>`${i}: ${e[i]};`).join(`
`);No(n),this.msg.success("Copy success")}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=z({type:t,selectors:[["setting-drawer"]],hostVars:4,hostBindings:function(n,i){n&2&&b("setting-drawer",!0)("setting-drawer-rtl",i.dir()==="rtl")},inputs:{autoApplyColor:[2,"autoApplyColor","autoApplyColor",A],compilingText:"compilingText",devTips:"devTips",lessJs:"lessJs"},decls:4,vars:7,consts:[[3,"nzOnClose","nzVisible","nzPlacement","nzWidth"],["class","setting-drawer__content",4,"nzDrawerContent"],["nz-tooltip","",1,"setting-drawer__handle",3,"click","nzTooltipTitle"],[1,"setting-drawer__handle-icon",3,"nzType"],[1,"setting-drawer__content"],[1,"setting-drawer__body","setting-drawer__theme"],[1,"setting-drawer__title"],["nz-tooltip","",1,"setting-drawer__theme-tag",3,"style","nzTooltipTitle"],[1,"setting-drawer__body"],["nzTitle","\u9876\u90E8"],[3,"data"],["nzTitle","\u4FA7\u8FB9\u680F"],["nzTitle","\u5185\u5BB9"],["nzTitle","\u5176\u5B83"],[1,"setting-drawer__body-item"],["nzSize","small",3,"ngModelChange","ngModel"],["type","button","nz-button","","nzType","primary",3,"click"],["type","button","nz-button","",3,"click"],["nzType","warning","nzMessage","\u914D\u7F6E\u680F\u53EA\u5728\u5F00\u53D1\u73AF\u5883\u7528\u4E8E\u9884\u89C8\uFF0C\u751F\u4EA7\u73AF\u5883\u4E0D\u4F1A\u5C55\u73B0\uFF0C\u8BF7\u62F7\u8D1D\u540E\u624B\u52A8\u4FEE\u6539\u53C2\u6570\u914D\u7F6E\u6587\u4EF6 src/styles/theme.less",1,"mt-md"],["nz-tooltip","",1,"setting-drawer__theme-tag",3,"click","nzTooltipTitle"],["nzType","check"]],template:function(n,i){n&1&&(r(0,"nz-drawer",0),_("nzOnClose",function(){return i.toggle()}),y(1,vl,49,19,"div",1),s(),r(2,"div",2),_("click",function(){return i.toggle()}),m(3,"nz-icon",3),s()),n&2&&(c("nzVisible",i.collapse)("nzPlacement",i.dir()==="rtl"?"left":"right")("nzWidth",500),a(2),b("setting-drawer__handle-opened",i.collapse),c("nzTooltipTitle",i.isDev?i.devTips:null),a(),c("nzType",i.collapse?"close":"setting"))},dependencies:[Lt,kt,Ft,Kn,Co,Yn,mt,T,ln,rn,hn,gn,fn,ia,Ho,un,ro,_n],encapsulation:2,changeDetection:0})}return Mt([Ot()],t.prototype,"loadLess",null),Mt([Ot()],t.prototype,"runLess",null),t})(),zl=[ia,ri],oa=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=ae({type:t});static \u0275inj=ie({imports:[zl]})}return t})();var _t=class _t{constructor(){this.modalSrv=d(go);this.messageSrv=d(be)}_click(){this.modalSrv.confirm({nzTitle:"Make sure clear all local storage?",nzOnOk:()=>{localStorage.clear(),this.messageSrv.success("Clear Finished!")}})}};_t.\u0275fac=function(e){return new(e||_t)},_t.\u0275cmp=z({type:_t,selectors:[["header-clear-storage"]],hostVars:2,hostBindings:function(e,n){e&1&&_("click",function(){return n._click()}),e&2&&b("flex-1",!0)},decls:3,vars:3,consts:[["nz-icon","","nzType","tool"]],template:function(e,n){e&1&&(m(0,"i",0),u(1),F(2,"i18n")),e&2&&(a(),N(" ",L(2,1,"menu.clear.local.storage")," "))},dependencies:[M,T,ee],encapsulation:2,changeDetection:0});var xn=_t;var aa=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],Ne=(()=>{if(typeof document>"u")return!1;let t=aa[0],o={};for(let e of aa)if(e?.[1]in document){for(let[i,l]of e.entries())o[t[i]]=l;return o}return!1})(),ra={change:Ne.fullscreenchange,error:Ne.fullscreenerror},Z={request(t=document.documentElement,o){return new Promise((e,n)=>{let i=()=>{Z.off("change",i),e()};Z.on("change",i);let l=t[Ne.requestFullscreen](o);l instanceof Promise&&l.then(i).catch(n)})},exit(){return new Promise((t,o)=>{if(!Z.isFullscreen){t();return}let e=()=>{Z.off("change",e),t()};Z.on("change",e);let n=document[Ne.exitFullscreen]();n instanceof Promise&&n.then(e).catch(o)})},toggle(t,o){return Z.isFullscreen?Z.exit():Z.request(t,o)},onchange(t){Z.on("change",t)},onerror(t){Z.on("error",t)},on(t,o){let e=ra[t];e&&document.addEventListener(e,o,!1)},off(t,o){let e=ra[t];e&&document.removeEventListener(e,o,!1)},raw:Ne};Object.defineProperties(Z,{isFullscreen:{get:()=>!!document[Ne.fullscreenElement]},element:{enumerable:!0,get:()=>document[Ne.fullscreenElement]??void 0},isEnabled:{enumerable:!0,get:()=>!!document[Ne.fullscreenEnabled]}});Ne||(Z={isEnabled:!1});var bn=Z;var Ct=class Ct{constructor(){this.status=!1}_resize(){this.status=bn.isFullscreen}_click(){bn.isEnabled&&bn.toggle()}};Ct.\u0275fac=function(e){return new(e||Ct)},Ct.\u0275cmp=z({type:Ct,selectors:[["header-fullscreen"]],hostVars:2,hostBindings:function(e,n){e&1&&_("resize",function(){return n._resize()},Ei)("click",function(){return n._click()}),e&2&&b("flex-1",!0)},decls:3,vars:4,consts:[["nz-icon","",3,"nzType"]],template:function(e,n){e&1&&(m(0,"i",0),u(1),F(2,"i18n")),e&2&&(c("nzType",n.status?"fullscreen-exit":"fullscreen"),a(),N(" ",L(2,2,n.status?"menu.fullscreen.exit":"menu.fullscreen")," "))},dependencies:[M,T,ee],encapsulation:2,changeDetection:0});var Sn=Ct;var vt=class vt{constructor(){this.cdr=d(R);this.loading=!0}change(){setTimeout(()=>{this.loading=!1,this.cdr.detectChanges()},500)}};vt.\u0275fac=function(e){return new(e||vt)},vt.\u0275cmp=z({type:vt,selectors:[["header-icon"]],decls:39,vars:13,consts:[["iconMenu","nzDropdownMenu"],["nz-dropdown","","nzTrigger","click","nzPlacement","bottomRight",1,"alain-default__nav-item",3,"nzVisibleChange","nzDropdownMenu"],["nz-icon","","nzType","appstore"],["nz-menu","",1,"wd-xl","animated","jello"],[3,"nzSpinning","nzTip"],["nz-row","",1,"app-icons",3,"nzJustify","nzAlign"],["nz-col","",3,"nzSpan"],["nz-icon","","nzType","calendar",1,"bg-error","text-white"],["nz-icon","","nzType","file",1,"bg-geekblue","text-white"],["nz-icon","","nzType","cloud",1,"bg-success","text-white"],["nz-icon","","nzType","star",1,"bg-magenta","text-white"],["nz-icon","","nzType","team",1,"bg-purple","text-white"],["nz-icon","","nzType","scan",1,"bg-warning","text-white"],["nz-icon","","nzType","pay-circle",1,"bg-cyan","text-white"],["nz-icon","","nzType","printer",1,"bg-grey","text-white"]],template:function(e,n){if(e&1){let i=x();r(0,"div",1),_("nzVisibleChange",function(){return C(i),v(n.change())}),m(1,"i",2),s(),r(2,"nz-dropdown-menu",null,0)(4,"div",3)(5,"nz-spin",4)(6,"div",5)(7,"div",6),m(8,"i",7),r(9,"small"),u(10,"Calendar"),s()(),r(11,"div",6),m(12,"i",8),r(13,"small"),u(14,"Files"),s()(),r(15,"div",6),m(16,"i",9),r(17,"small"),u(18,"Cloud"),s()(),r(19,"div",6),m(20,"i",10),r(21,"small"),u(22,"Star"),s()(),r(23,"div",6),m(24,"i",11),r(25,"small"),u(26,"Team"),s()(),r(27,"div",6),m(28,"i",12),r(29,"small"),u(30,"QR"),s()(),r(31,"div",6),m(32,"i",13),r(33,"small"),u(34,"Pay"),s()(),r(35,"div",6),m(36,"i",14),r(37,"small"),u(38,"Print"),s()()()()()()}if(e&2){let i=S(3);c("nzDropdownMenu",i),a(5),c("nzSpinning",n.loading)("nzTip","\u6B63\u5728\u8BFB\u53D6\u6570\u636E..."),a(),c("nzJustify","center")("nzAlign","middle"),a(),c("nzSpan",6),a(4),c("nzSpan",6),a(4),c("nzSpan",6),a(4),c("nzSpan",6),a(4),c("nzSpan",6),a(4),c("nzSpan",6),a(4),c("nzSpan",6),a(4),c("nzSpan",6)}},dependencies:[B,te,j,q,M,T,ke,mn,dn,pn,Le,Fe],encapsulation:2,changeDetection:0});var Tn=vt;var la=t=>({$implicit:t});function Sl(t,o){}function Tl(t,o){if(t&1&&y(0,Sl,0,0,"ng-template",4),t&2){p();let e=S(5);c("ngTemplateOutlet",e)}}function wl(t,o){if(t&1&&m(0,"img",6),t&2){p(2);let e=Be(0);W("src",e.emptyImage,Ye)}}function Dl(t,o){if(t&1&&(he(0),u(1),_e()),t&2){let e=p(2),n=Be(0);a(),N(" ",n.emptyText||e.locale().emptyText," ")}}function Nl(t,o){if(t&1&&(r(0,"div",5),g(1,wl,1,1,"img",6),r(2,"p"),y(3,Dl,2,1,"ng-container",7),s()()),t&2){p();let e=Be(0);a(),h(e.emptyImage?1:-1),a(2),c("nzStringTemplateOutlet",e.emptyText)}}function Ml(t,o){if(t&1&&(he(0),u(1),_e()),t&2){let e=p(2).$implicit;a(),N(" ",e.title," ")}}function El(t,o){if(t&1&&(r(0,"div",13)(1,"nz-tag",14),u(2),s()()),t&2){let e=p(2).$implicit;a(),c("nzColor",e.color),a(),I(e.extra)}}function Il(t,o){if(t&1&&(y(0,Ml,2,1,"ng-container",12),g(1,El,3,2,"div",13)),t&2){let e=p().$implicit;c("nzStringTemplateOutlet",e.title)("nzStringTemplateOutletContext",H(3,la,e)),a(),h(e.extra?1:-1)}}function Al(t,o){if(t&1&&(he(0),u(1),_e()),t&2){let e=p(3).$implicit;a(),N(" ",e.description," ")}}function kl(t,o){if(t&1&&(r(0,"div",15),y(1,Al,2,1,"ng-container",12),s()),t&2){let e=p(2).$implicit;a(),c("nzStringTemplateOutlet",e.description)("nzStringTemplateOutletContext",H(2,la,e))}}function Fl(t,o){if(t&1&&(r(0,"div",16),u(1),s()),t&2){let e=p(2).$implicit;a(),I(e.datetime)}}function Ll(t,o){if(t&1&&(g(0,kl,2,4,"div",15),g(1,Fl,2,1,"div",16)),t&2){let e=p().$implicit;h(e.description?0:-1),a(),h(e.datetime?1:-1)}}function Ol(t,o){if(t&1){let e=x();r(0,"nz-list-item",10),_("click",function(i){let l=C(e).$implicit,f=p(2);return v(f.onClick(l,i))}),r(1,"nz-list-item-meta",11),y(2,Il,2,5,"ng-template",null,2,E)(4,Ll,2,2,"ng-template",null,3,E),s()()}if(t&2){let e=o.$implicit,n=S(3),i=S(5);b("notice-icon__item-read",e.read),a(),c("nzTitle",n)("nzDescription",i)("nzAvatar",e.avatar)}}function Pl(t,o){if(t&1){let e=x();r(0,"nz-list",8),y(1,Ol,6,5,"ng-template",null,1,E),s(),r(3,"div",9),_("click",function(){C(e);let i=p();return v(i.onClear())}),u(4),s()}if(t&2){let e=S(2),n=p(),i=Be(0),l=Be(1);c("nzDataSource",l)("nzRenderItem",e),a(4),I(i.clearText||n.locale().clearText)}}var Rl=()=>({"box-shadow":"none"});function Vl(t,o){if(t&1&&(r(0,"nz-badge",3),m(1,"nz-icon",4),s()),t&2){let e=p();ze(e.btnClass()),c("nzCount",e.count())("nzStyle",Je(6,Rl)),a(),ze(e.btnIconClass())}}function Hl(t,o){}function Bl(t,o){if(t&1&&y(0,Hl,0,0,"ng-template",2),t&2){p();let e=S(1);c("ngTemplateOutlet",e)}}function Ul(t,o){}function Wl(t,o){if(t&1){let e=x();r(0,"nz-tab",8)(1,"notice-icon-tab",9),_("select",function(i){C(e);let l=p(3);return v(l.select.emit(i))})("clear",function(i){C(e);let l=p(3);return v(l.clear.emit(i))}),s()()}if(t&2){let e=o.$implicit,n=p(3);c("nzTitle",e.title),a(),c("locale",n.locale())("item",e)}}function $l(t,o){if(t&1&&(r(0,"nz-tabs",7),w(1,Wl,2,3,"nz-tab",8,O),s()),t&2){let e=p(2),n=Be(2);c("nzSelectedIndex",0)("nzCentered",e.centered()),a(),D(n)}}function jl(t,o){if(t&1){let e=x();r(0,"div",5),_("nzVisibleChange",function(i){C(e);let l=p();return v(l.onVisibleChange(i))}),y(1,Ul,0,0,"ng-template",2),s(),r(2,"nz-dropdown-menu",null,1)(4,"nz-spin",6),g(5,$l,3,2,"nz-tabs",7),s()()}if(t&2){let e=S(3),n=p(),i=S(1);c("nzVisible",n.popoverVisible())("nzOverlayClassName",n.overlayCls())("nzDropdownMenu",e),a(),c("ngTemplateOutlet",i),a(3),c("nzSpinning",n.loading())("nzDelay",0),a(),h(n.delayShow()?5:-1)}}var sa=(()=>{class t{locale=$.required();item=$.required();select=et();clear=et();onClick(e,n){this.select.emit({title:this.item().title,item:e,event:n})}onClear(){this.clear.emit(this.item().title)}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=z({type:t,selectors:[["notice-icon-tab"]],inputs:{locale:[1,"locale"],item:[1,"item"]},outputs:{select:"select",clear:"clear"},exportAs:["noticeIconTab"],decls:6,vars:3,consts:[["listTpl",""],["item",""],["nzTitle",""],["nzDescription",""],[3,"ngTemplateOutlet"],[1,"notice-icon__notfound"],["alt","not found",1,"notice-icon__notfound-img"],[4,"nzStringTemplateOutlet"],[3,"nzDataSource","nzRenderItem"],[1,"notice-icon__clear",3,"click"],[3,"click"],[3,"nzTitle","nzDescription","nzAvatar"],[4,"nzStringTemplateOutlet","nzStringTemplateOutletContext"],[1,"notice-icon__item-extra"],[3,"nzColor"],[1,"notice-icon__item-desc"],[1,"notice-icon__item-time"]],template:function(n,i){if(n&1&&(Rn(0)(1),g(2,Tl,1,1,null,4)(3,Nl,4,2,"div",5),y(4,Pl,5,3,"ng-template",null,0,E)),n&2){let l=qt(i.item());a();let f=qt(l.list);a(),h(f&&f.length>0?2:3)}},dependencies:[Q,it,Wo,$o,Uo,pt],encapsulation:2})}return t})(),li=(()=>{class t{locale=d(nn).valueSignal("noticeIcon");data=$([]);count=$(void 0,{transform:Xt});loading=$(!1,{transform:A});popoverVisible=$(!1,{transform:A});btnClass=$();btnIconClass=$();centered=$(!1,{transform:A});select=et();clear=et();popoverVisibleChange=et();overlayCls=Et("");constructor(){Bi(()=>{this.overlayCls.set(`header-dropdown notice-icon${this.centered()?"":" notice-icon__tab-left"}`),this.popoverVisible()||this.delayShow.set(!1)})}delayShow=Et(!1);onVisibleChange(e){this.delayShow.set(e),this.popoverVisibleChange.emit(e)}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=z({type:t,selectors:[["notice-icon"]],hostVars:2,hostBindings:function(n,i){n&2&&b("notice-icon__btn",!0)},inputs:{data:[1,"data"],count:[1,"count"],loading:[1,"loading"],popoverVisible:[1,"popoverVisible"],btnClass:[1,"btnClass"],btnIconClass:[1,"btnIconClass"],centered:[1,"centered"]},outputs:{select:"select",clear:"clear",popoverVisibleChange:"popoverVisibleChange"},exportAs:["noticeIcon"],decls:5,vars:2,consts:[["badgeTpl",""],["noticeMenu","nzDropdownMenu"],[3,"ngTemplateOutlet"],[3,"nzCount","nzStyle"],["nzType","bell"],["nz-dropdown","","nzTrigger","click","nzPlacement","bottomRight",3,"nzVisibleChange","nzVisible","nzOverlayClassName","nzDropdownMenu"],[3,"nzSpinning","nzDelay"],[3,"nzSelectedIndex","nzCentered"],[3,"nzTitle"],[3,"select","clear","locale","item"]],template:function(n,i){if(n&1&&(y(0,Vl,2,7,"ng-template",null,0,E),Rn(2),g(3,Bl,1,1,null,2)(4,jl,6,7)),n&2){a(2);let l=qt(i.data());a(),h(l.length<=0?3:4)}},dependencies:[Q,st,T,j,q,Fe,gn,fn,sa],encapsulation:2,changeDetection:0})}return t})(),ql=[li],ca=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=ae({type:t});static \u0275inj=ie({imports:[Ue,To,ct,B,M,jo,Le,hn,dt,ot,ql,sa]})}return t})();var yt=class yt{constructor(){this.msg=d(be);this.nzI18n=d(en);this.cdr=d(R);this.data=[{title:"\u901A\u77E5",list:[],emptyText:"\u4F60\u5DF2\u67E5\u770B\u6240\u6709\u901A\u77E5",emptyImage:"https://gw.alipayobjects.com/zos/rmsportal/wAhyIChODzsoKIOBHcBk.svg",clearText:"\u6E05\u7A7A\u901A\u77E5"},{title:"\u6D88\u606F",list:[],emptyText:"\u60A8\u5DF2\u8BFB\u5B8C\u6240\u6709\u6D88\u606F",emptyImage:"https://gw.alipayobjects.com/zos/rmsportal/sAuJeJzSKbUmHfBQRzmZ.svg",clearText:"\u6E05\u7A7A\u6D88\u606F"},{title:"\u5F85\u529E",list:[],emptyText:"\u4F60\u5DF2\u5B8C\u6210\u6240\u6709\u5F85\u529E",emptyImage:"https://gw.alipayobjects.com/zos/rmsportal/HsIsxMZiWKrNUavQUXqx.svg",clearText:"\u6E05\u7A7A\u5F85\u529E"}];this.count=5;this.loading=!1}updateNoticeData(o){let e=this.data.slice();return e.forEach(n=>n.list=[]),o.forEach(n=>{let i=ne({},n);typeof i.datetime=="string"&&(i.datetime=co(i.datetime,"yyyy-MM-dd",new Date)),i.datetime&&(i.datetime=so(i.datetime,{locale:this.nzI18n.getDateLocale()})),i.extra&&i.status&&(i.color={todo:void 0,processing:"blue",urgent:"red",doing:"gold"}[i.status]),e.find(l=>l.title===i.type).list.push(i)}),e}loadData(){this.loading||(this.loading=!0,setTimeout(()=>{let o=new Date;this.data=this.updateNoticeData([{id:"000000001",avatar:"https://gw.alipayobjects.com/zos/rmsportal/ThXAXghbEsBCCSDihZxY.png",title:"\u4F60\u6536\u5230\u4E86 14 \u4EFD\u65B0\u5468\u62A5",datetime:At(o,{days:10}),type:"\u901A\u77E5"},{id:"000000002",avatar:"https://gw.alipayobjects.com/zos/rmsportal/OKJXDXrmkNshAMvwtvhu.png",title:"\u4F60\u63A8\u8350\u7684 \u66F2\u59AE\u59AE \u5DF2\u901A\u8FC7\u7B2C\u4E09\u8F6E\u9762\u8BD5",datetime:At(o,{days:-3}),type:"\u901A\u77E5"},{id:"000000003",avatar:"https://gw.alipayobjects.com/zos/rmsportal/kISTdvpyTAhtGxpovNWd.png",title:"\u8FD9\u79CD\u6A21\u677F\u53EF\u4EE5\u533A\u5206\u591A\u79CD\u901A\u77E5\u7C7B\u578B",datetime:At(o,{months:-3}),read:!0,type:"\u901A\u77E5"},{id:"000000004",avatar:"https://gw.alipayobjects.com/zos/rmsportal/GvqBnKhFgObvnSGkDsje.png",title:"\u5DE6\u4FA7\u56FE\u6807\u7528\u4E8E\u533A\u5206\u4E0D\u540C\u7684\u7C7B\u578B",datetime:At(o,{years:-1}),type:"\u901A\u77E5"},{id:"000000005",avatar:"https://gw.alipayobjects.com/zos/rmsportal/ThXAXghbEsBCCSDihZxY.png",title:"\u5185\u5BB9\u4E0D\u8981\u8D85\u8FC7\u4E24\u884C\u5B57\uFF0C\u8D85\u51FA\u65F6\u81EA\u52A8\u622A\u65AD",datetime:"2017-08-07",type:"\u901A\u77E5"},{id:"000000006",avatar:"https://gw.alipayobjects.com/zos/rmsportal/fcHMVNCjPOsbUGdEduuv.jpeg",title:"\u66F2\u4E3D\u4E3D \u8BC4\u8BBA\u4E86\u4F60",description:"\u63CF\u8FF0\u4FE1\u606F\u63CF\u8FF0\u4FE1\u606F\u63CF\u8FF0\u4FE1\u606F",datetime:"2017-08-07",type:"\u6D88\u606F"},{id:"000000007",avatar:"https://gw.alipayobjects.com/zos/rmsportal/fcHMVNCjPOsbUGdEduuv.jpeg",title:"\u6731\u504F\u53F3 \u56DE\u590D\u4E86\u4F60",description:"\u8FD9\u79CD\u6A21\u677F\u7528\u4E8E\u63D0\u9192\u8C01\u4E0E\u4F60\u53D1\u751F\u4E86\u4E92\u52A8\uFF0C\u5DE6\u4FA7\u653E\u300E\u8C01\u300F\u7684\u5934\u50CF",datetime:"2017-08-07",type:"\u6D88\u606F"},{id:"000000008",avatar:"https://gw.alipayobjects.com/zos/rmsportal/fcHMVNCjPOsbUGdEduuv.jpeg",title:"\u6807\u9898",description:"\u8FD9\u79CD\u6A21\u677F\u7528\u4E8E\u63D0\u9192\u8C01\u4E0E\u4F60\u53D1\u751F\u4E86\u4E92\u52A8\uFF0C\u5DE6\u4FA7\u653E\u300E\u8C01\u300F\u7684\u5934\u50CF",datetime:"2017-08-07",type:"\u6D88\u606F"},{id:"000000009",title:"\u4EFB\u52A1\u540D\u79F0",description:"\u4EFB\u52A1\u9700\u8981\u5728 2017-01-12 20:00 \u524D\u542F\u52A8",extra:"\u672A\u5F00\u59CB",status:"todo",type:"\u5F85\u529E"},{id:"000000010",title:"\u7B2C\u4E09\u65B9\u7D27\u6025\u4EE3\u7801\u53D8\u66F4",description:"\u51A0\u9716\u63D0\u4EA4\u4E8E 2017-01-06\uFF0C\u9700\u5728 2017-01-07 \u524D\u5B8C\u6210\u4EE3\u7801\u53D8\u66F4\u4EFB\u52A1",extra:"\u9A6C\u4E0A\u5230\u671F",status:"urgent",type:"\u5F85\u529E"},{id:"000000011",title:"\u4FE1\u606F\u5B89\u5168\u8003\u8BD5",description:"\u6307\u6D3E\u7AF9\u5C14\u4E8E 2017-01-09 \u524D\u5B8C\u6210\u66F4\u65B0\u5E76\u53D1\u5E03",extra:"\u5DF2\u8017\u65F6 8 \u5929",status:"doing",type:"\u5F85\u529E"},{id:"000000012",title:"ABCD \u7248\u672C\u53D1\u5E03",description:"\u51A0\u9716\u63D0\u4EA4\u4E8E 2017-01-06\uFF0C\u9700\u5728 2017-01-07 \u524D\u5B8C\u6210\u4EE3\u7801\u53D8\u66F4\u4EFB\u52A1",extra:"\u8FDB\u884C\u4E2D",status:"processing",type:"\u5F85\u529E"}]),this.loading=!1,this.cdr.detectChanges()},500))}clear(o){this.msg.success(`\u6E05\u7A7A\u4E86 ${o}`)}select(o){this.msg.success(`\u70B9\u51FB\u4E86 ${o.title} \u7684 ${o.item.title}`)}};yt.\u0275fac=function(e){return new(e||yt)},yt.\u0275cmp=z({type:yt,selectors:[["header-notify"]],decls:1,vars:3,consts:[["btnClass","alain-default__nav-item","btnIconClass","alain-default__nav-item-icon",3,"select","clear","popoverVisibleChange","data","count","loading"]],template:function(e,n){e&1&&(r(0,"notice-icon",0),_("select",function(l){return n.select(l)})("clear",function(l){return n.clear(l)})("popoverVisibleChange",function(){return n.loadData()}),s()),e&2&&c("data",n.data)("count",n.count)("loading",n.loading)},dependencies:[ca,li],encapsulation:2,changeDetection:0});var wn=yt;var zt=class zt{constructor(){this.rtl=d(yo)}toggleDirection(){this.rtl.toggle()}};zt.\u0275fac=function(e){return new(e||zt)},zt.\u0275cmp=z({type:zt,selectors:[["header-rtl"]],hostVars:2,hostBindings:function(e,n){e&1&&_("click",function(){return n.toggleDirection()}),e&2&&b("flex-1",!0)},decls:3,vars:4,consts:[["nz-icon","",3,"nzType"]],template:function(e,n){e&1&&(m(0,"i",0),u(1),F(2,"uppercase")),e&2&&(c("nzType",n.rtl.nextDir==="rtl"?"border-left":"border-right"),a(),N(" ",L(2,2,n.rtl.nextDir)," "))},dependencies:[M,T,$i],encapsulation:2,changeDetection:0});var Dn=zt;var pa=new Ut("nz-after-next-render",{providedIn:"root",factory:()=>{let t=d(Ze);return new Ci(o=>{let e=Li(()=>{o.next(),o.complete()},{injector:t});return()=>e.destroy()})}});var Yl=[[["nz-auto-option"]]],Kl=["nz-auto-option"];function Jl(t,o){if(t&1&&(he(0),u(1),_e()),t&2){let e=p();a(),I(e.nzLabel)}}var da=["*"],es=["panel"],ts=["content"],ns=(t,o)=>o.value;function is(t,o){}function os(t,o){t&1&&y(0,is,0,0,"ng-template")}function as(t,o){t&1&&ye(0)}function rs(t,o){if(t&1&&(r(0,"nz-auto-option",7),u(1),s()),t&2){let e=o.$implicit;c("nzValue",e.value)("nzLabel",e.label),a(),N(" ",e.label," ")}}function ls(t,o){if(t&1&&w(0,rs,2,3,"nz-auto-option",7,ns),t&2){let e=p(2);D(e.normalizedDataSource)}}function ss(t,o){if(t&1){let e=x();r(0,"div",3,0),_("@slideMotion.done",function(i){C(e);let l=p();return v(l.onAnimationEvent(i))}),r(2,"div",4)(3,"div",5),y(4,os,1,0,null,6),s()()(),y(5,as,1,0,"ng-template",null,1,E)(7,ls,2,0,"ng-template",null,2,E)}if(t&2){let e=S(6),n=S(8),i=p();Ke(i.nzOverlayStyle),ze(i.nzOverlayClassName),b("ant-select-dropdown-hidden",!i.showPanel)("ant-select-dropdown-rtl",i.dir==="rtl"),c("nzNoAnimation",i.noAnimation==null?null:i.noAnimation.nzNoAnimation)("@slideMotion",void 0)("@.disabled",!!(i.noAnimation!=null&&i.noAnimation.nzNoAnimation)),a(4),c("ngTemplateOutlet",i.nzDataSource?n:e)}}var ma=(()=>{class t{nzLabel;static \u0275fac=function(n){return new(n||t)};static \u0275cmp=z({type:t,selectors:[["nz-auto-optgroup"]],inputs:{nzLabel:"nzLabel"},exportAs:["nzAutoOptgroup"],ngContentSelectors:Kl,decls:3,vars:1,consts:[[1,"ant-select-item","ant-select-item-group"],[4,"nzStringTemplateOutlet"]],template:function(n,i){n&1&&(ve(Yl),r(0,"div",0),y(1,Jl,2,1,"ng-container",1),s(),ye(2)),n&2&&(a(),c("nzStringTemplateOutlet",i.nzLabel))},dependencies:[ot,it],encapsulation:2,changeDetection:0})}return t})(),si=class{source;isUserInput;constructor(o,e=!1){this.source=o,this.isUserInput=e}},Pt=(()=>{class t{ngZone=d(Ve);changeDetectorRef=d(R);element=d(Re);destroyRef=d(Pe);nzValue;nzLabel;nzDisabled=!1;selectionChange=new X;mouseEntered=new X;active=!1;selected=!1;nzAutocompleteOptgroupComponent=d(ma,{optional:!0});ngOnInit(){qn(this.element.nativeElement,"mouseenter").pipe(ue(()=>this.mouseEntered.observers.length>0),V(this.destroyRef)).subscribe(()=>{this.ngZone.run(()=>this.mouseEntered.emit(this))}),qn(this.element.nativeElement,"mousedown").pipe(V(this.destroyRef)).subscribe(e=>e.preventDefault())}select(e=!0){this.selected=!0,this.changeDetectorRef.markForCheck(),e&&this.emitSelectionChangeEvent()}deselect(){this.selected=!1,this.changeDetectorRef.markForCheck(),this.emitSelectionChangeEvent()}getLabel(){return this.nzLabel||this.nzValue.toString()}setActiveStyles(){this.active||(this.active=!0,this.changeDetectorRef.markForCheck())}setInactiveStyles(){this.active&&(this.active=!1,this.changeDetectorRef.markForCheck())}scrollIntoViewIfNeeded(){to(this.element.nativeElement)}selectViaInteraction(){this.nzDisabled||(this.selected=!this.selected,this.selected?this.setActiveStyles():this.setInactiveStyles(),this.emitSelectionChangeEvent(!0),this.changeDetectorRef.markForCheck())}emitSelectionChangeEvent(e=!1){this.selectionChange.emit(new si(this,e))}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=z({type:t,selectors:[["nz-auto-option"]],hostAttrs:["role","menuitem",1,"ant-select-item","ant-select-item-option"],hostVars:10,hostBindings:function(n,i){n&1&&_("click",function(){return i.selectViaInteraction()}),n&2&&(W("aria-selected",i.selected.toString())("aria-disabled",i.nzDisabled.toString()),b("ant-select-item-option-grouped",i.nzAutocompleteOptgroupComponent)("ant-select-item-option-selected",i.selected)("ant-select-item-option-active",i.active)("ant-select-item-option-disabled",i.nzDisabled))},inputs:{nzValue:"nzValue",nzLabel:"nzLabel",nzDisabled:[2,"nzDisabled","nzDisabled",A]},outputs:{selectionChange:"selectionChange",mouseEntered:"mouseEntered"},exportAs:["nzAutoOption"],ngContentSelectors:da,decls:2,vars:0,consts:[[1,"ant-select-item-option-content"]],template:function(n,i){n&1&&(ve(),Oi(0,"div",0),ye(1),Pi())},encapsulation:2,changeDetection:0})}return t})(),cs={provide:ko,useExisting:Ti(()=>ci),multi:!0};function ps(){return Error("Attempting to open an undefined instance of `nz-autocomplete`. Make sure that the id passed to the `nzAutocomplete` is correct and that you're attempting to open it after the ngAfterContentInit hook.")}var ci=(()=>{class t{ngZone=d(Ve);elementRef=d(Re);overlay=d(ao);viewContainerRef=d(ki);destroyRef=d(Pe);nzAutocomplete;onChange=()=>{};onTouched=()=>{};panelOpen=!1;get activeOption(){return this.nzAutocomplete&&this.nzAutocomplete.options.length?this.nzAutocomplete.activeItem:null}overlayRef=null;portal=null;positionStrategy;previousValue=null;selectionChangeSubscription;optionsChangeSubscription;overlayOutsideClickSubscription;document=d(oe);nzInputGroupWhitSuffixOrPrefixDirective=d(cn,{optional:!0});constructor(){this.destroyRef.onDestroy(()=>{this.destroyPanel()})}ngAfterViewInit(){this.nzAutocomplete&&this.nzAutocomplete.animationStateChange.pipe(V(this.destroyRef)).subscribe(e=>{e.toState==="void"&&this.overlayRef&&(this.overlayRef.dispose(),this.overlayRef=null)})}writeValue(e){this.ngZone.runOutsideAngular(()=>{Promise.resolve(null).then(()=>this.setTriggerValue(e))})}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){let n=this.elementRef.nativeElement;n.disabled=e,this.closePanel()}openPanel(){this.previousValue=this.elementRef.nativeElement.value,this.attachOverlay(),this.updateStatus()}closePanel(){this.panelOpen&&(this.nzAutocomplete.isOpen=this.panelOpen=!1,this.overlayRef&&this.overlayRef.hasAttached()&&(this.overlayRef.detach(),this.selectionChangeSubscription.unsubscribe(),this.overlayOutsideClickSubscription.unsubscribe(),this.optionsChangeSubscription.unsubscribe(),this.portal=null))}handleKeydown(e){let n=e.keyCode,i=n===38||n===40;n===27&&e.preventDefault(),this.panelOpen&&(n===27||n===9)?(this.activeOption&&this.activeOption.getLabel()!==this.previousValue&&this.setTriggerValue(this.previousValue),this.closePanel()):this.panelOpen&&n===13?this.nzAutocomplete.showPanel&&(e.preventDefault(),this.activeOption?this.activeOption.selectViaInteraction():this.closePanel()):this.panelOpen&&i&&this.nzAutocomplete.showPanel&&(e.stopPropagation(),e.preventDefault(),n===38?this.nzAutocomplete.setPreviousItemActive():this.nzAutocomplete.setNextItemActive(),this.activeOption&&this.activeOption.scrollIntoViewIfNeeded(),this.doBackfill())}handleInput(e){let n=e.target,i=this.document,l=n.value;n.type==="number"&&(l=l===""?null:parseFloat(l)),this.previousValue!==l&&(this.previousValue=l,this.onChange(l),this.canOpen()&&i.activeElement===e.target&&this.openPanel())}handleFocus(){this.canOpen()&&this.openPanel()}handleClick(){this.canOpen()&&!this.panelOpen&&this.openPanel()}handleBlur(){this.onTouched()}subscribeOptionsChange(){return this.nzAutocomplete.options.changes.pipe(Bt(()=>this.positionStrategy.reapplyLastPosition()),bi(0)).subscribe(()=>{this.resetActiveItem(),this.panelOpen&&this.overlayRef.updatePosition()})}subscribeSelectionChange(){return this.nzAutocomplete.selectionChange.subscribe(e=>{this.setValueAndClose(e)})}subscribeOverlayOutsideClick(){return this.overlayRef.outsidePointerEvents().pipe(ue(e=>!this.elementRef.nativeElement.contains(e.target))).subscribe(()=>{this.closePanel()})}attachOverlay(){if(!this.nzAutocomplete)throw ps();!this.portal&&this.nzAutocomplete.template&&(this.portal=new io(this.nzAutocomplete.template,this.viewContainerRef)),this.overlayRef||(this.overlayRef=this.overlay.create(this.getOverlayConfig())),this.overlayRef&&!this.overlayRef.hasAttached()&&(this.overlayRef.attach(this.portal),this.selectionChangeSubscription=this.subscribeSelectionChange(),this.optionsChangeSubscription=this.subscribeOptionsChange(),this.overlayOutsideClickSubscription=this.subscribeOverlayOutsideClick(),this.overlayRef.detachments().pipe(V(this.destroyRef)).subscribe(()=>{this.closePanel()})),this.nzAutocomplete.isOpen=this.panelOpen=!0}updateStatus(){this.overlayRef&&this.overlayRef.updateSize({width:this.nzAutocomplete.nzWidth||this.getHostWidth()}),this.nzAutocomplete.setVisibility(),this.resetActiveItem(),this.activeOption&&this.activeOption.scrollIntoViewIfNeeded()}destroyPanel(){this.overlayRef&&this.closePanel()}getOverlayConfig(){return new oo({positionStrategy:this.getOverlayPosition(),disposeOnNavigation:!0,scrollStrategy:this.overlay.scrollStrategies.reposition(),width:this.nzAutocomplete.nzWidth||this.getHostWidth()})}getConnectedElement(){return this.nzInputGroupWhitSuffixOrPrefixDirective?.elementRef??this.elementRef}getHostWidth(){return this.getConnectedElement().nativeElement.getBoundingClientRect().width}getOverlayPosition(){let e=[new Gn({originX:"start",originY:"bottom"},{overlayX:"start",overlayY:"top"}),new Gn({originX:"start",originY:"top"},{overlayX:"start",overlayY:"bottom"})];return this.positionStrategy=this.overlay.position().flexibleConnectedTo(this.getConnectedElement()).withFlexibleDimensions(!1).withPush(!1).withPositions(e).withTransformOriginOn(".ant-select-dropdown"),this.positionStrategy}resetActiveItem(){let e=this.nzAutocomplete.getOptionIndex(this.previousValue);this.nzAutocomplete.clearSelectedOptions(null,!0),e!==-1?(this.nzAutocomplete.setActiveItem(e),this.nzAutocomplete.activeItem.select(!1)):this.nzAutocomplete.setActiveItem(this.nzAutocomplete.nzDefaultActiveFirstOption?0:-1)}setValueAndClose(e){let n=e.nzValue;this.setTriggerValue(e.getLabel()),this.onChange(n),this.elementRef.nativeElement.focus(),this.closePanel()}setTriggerValue(e){let n=this.nzAutocomplete.getOption(e),i=n?n.getLabel():e;this.elementRef.nativeElement.value=i??"",this.nzAutocomplete.nzBackfill||(this.previousValue=i)}doBackfill(){this.nzAutocomplete.nzBackfill&&this.nzAutocomplete.activeItem&&this.setTriggerValue(this.nzAutocomplete.activeItem.getLabel())}canOpen(){let e=this.elementRef.nativeElement;return!e.readOnly&&!e.disabled}static \u0275fac=function(n){return new(n||t)};static \u0275dir=Wt({type:t,selectors:[["input","nzAutocomplete",""],["textarea","nzAutocomplete",""]],hostAttrs:["autocomplete","off","aria-autocomplete","list"],hostBindings:function(n,i){n&1&&_("focusin",function(){return i.handleFocus()})("blur",function(){return i.handleBlur()})("input",function(f){return i.handleInput(f)})("keydown",function(f){return i.handleKeydown(f)})("click",function(){return i.handleClick()})},inputs:{nzAutocomplete:"nzAutocomplete"},exportAs:["nzAutocompleteTrigger"],features:[Hi([cs])]})}return t})();function ds(t){return t?.map(o=>typeof o=="number"||typeof o=="string"?{label:o.toString(),value:o.toString()}:o)}var ua=(()=>{class t{changeDetectorRef=d(R);directionality=d(xe);destroyRef=d(Pe);nzWidth;nzOverlayClassName="";nzOverlayStyle={};nzDefaultActiveFirstOption=!0;nzBackfill=!1;compareWith=(e,n)=>e===n;nzDataSource;selectionChange=new X;showPanel=!0;isOpen=!1;activeItem=null;dir="ltr";normalizedDataSource=[];animationStateChange=new X;get options(){return this.nzDataSource?this.fromDataSourceOptions:this.fromContentOptions}fromContentOptions;fromDataSourceOptions;template;panel;content;activeItemIndex=-1;selectionChangeSubscription=Vt.EMPTY;optionMouseEnterSubscription=Vt.EMPTY;dataSourceChangeSubscription=Vt.EMPTY;optionSelectionChanges=Fn(()=>this.options?Ln(...this.options.map(e=>e.selectionChange)):this.afterNextRender$.pipe(Se(()=>this.optionSelectionChanges)));optionMouseEnter=Fn(()=>this.options?Ln(...this.options.map(e=>e.mouseEntered)):this.afterNextRender$.pipe(Se(()=>this.optionMouseEnter)));afterNextRender$=d(pa);noAnimation=d(Zn,{host:!0,optional:!0});constructor(){this.destroyRef.onDestroy(()=>{this.dataSourceChangeSubscription.unsubscribe(),this.selectionChangeSubscription.unsubscribe(),this.optionMouseEnterSubscription.unsubscribe(),this.dataSourceChangeSubscription=this.selectionChangeSubscription=this.optionMouseEnterSubscription=null})}ngOnInit(){this.directionality.change?.pipe(V(this.destroyRef)).subscribe(e=>{this.dir=e,this.changeDetectorRef.detectChanges()}),this.dir=this.directionality.value}ngOnChanges(e){let{nzDataSource:n}=e;n&&(this.normalizedDataSource=ds(n.currentValue))}onAnimationEvent(e){this.animationStateChange.emit(e)}ngAfterContentInit(){this.nzDataSource||this.optionsInit()}ngAfterViewInit(){this.nzDataSource&&this.optionsInit()}setVisibility(){this.showPanel=!!this.options.length,this.changeDetectorRef.markForCheck()}setActiveItem(e){let n=this.options.get(e);n&&!n.active?(this.activeItem=n,this.activeItemIndex=e,this.clearSelectedOptions(this.activeItem),this.activeItem.setActiveStyles()):(this.activeItem=null,this.activeItemIndex=-1,this.clearSelectedOptions()),this.changeDetectorRef.markForCheck()}setNextItemActive(){let e=this.activeItemIndex+1<=this.options.length-1?this.activeItemIndex+1:0;this.setActiveItem(e)}setPreviousItemActive(){let e=this.activeItemIndex-1<0?this.options.length-1:this.activeItemIndex-1;this.setActiveItem(e)}getOptionIndex(e){return this.options.reduce((n,i,l)=>n===-1?this.compareWith(e,i.nzValue)?l:-1:n,-1)}getOption(e){return this.options.find(n=>this.compareWith(e,n.nzValue))||null}optionsInit(){this.setVisibility(),this.subscribeOptionChanges();let e=this.nzDataSource?this.fromDataSourceOptions.changes:this.fromContentOptions.changes;this.dataSourceChangeSubscription=e.subscribe(n=>{!n.dirty&&this.isOpen&&setTimeout(()=>this.setVisibility()),this.subscribeOptionChanges()})}clearSelectedOptions(e,n=!1){this.options.forEach(i=>{i!==e&&(n&&i.deselect(),i.setInactiveStyles())})}subscribeOptionChanges(){this.selectionChangeSubscription.unsubscribe(),this.selectionChangeSubscription=this.optionSelectionChanges.pipe(ue(e=>e.isUserInput)).subscribe(e=>{e.source.select(),e.source.setActiveStyles(),this.activeItem=e.source,this.activeItemIndex=this.getOptionIndex(this.activeItem.nzValue),this.clearSelectedOptions(e.source,!0),this.selectionChange.emit(e.source)}),this.optionMouseEnterSubscription.unsubscribe(),this.optionMouseEnterSubscription=this.optionMouseEnter.subscribe(e=>{e.setActiveStyles(),this.activeItem=e,this.activeItemIndex=this.getOptionIndex(this.activeItem.nzValue),this.clearSelectedOptions(e)})}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=z({type:t,selectors:[["nz-autocomplete"]],contentQueries:function(n,i,l){if(n&1&&jt(l,Pt,5),n&2){let f;Te(f=we())&&(i.fromContentOptions=f)}},viewQuery:function(n,i){if(n&1&&(He(Ai,5),He(es,5),He(ts,5),He(Pt,5)),n&2){let l;Te(l=we())&&(i.template=l.first),Te(l=we())&&(i.panel=l.first),Te(l=we())&&(i.content=l.first),Te(l=we())&&(i.fromDataSourceOptions=l)}},inputs:{nzWidth:[2,"nzWidth","nzWidth",eo],nzOverlayClassName:"nzOverlayClassName",nzOverlayStyle:"nzOverlayStyle",nzDefaultActiveFirstOption:[2,"nzDefaultActiveFirstOption","nzDefaultActiveFirstOption",A],nzBackfill:[2,"nzBackfill","nzBackfill",A],compareWith:"compareWith",nzDataSource:"nzDataSource"},outputs:{selectionChange:"selectionChange"},exportAs:["nzAutocomplete"],features:[Ni],ngContentSelectors:da,decls:1,vars:0,consts:[["panel",""],["contentTemplate",""],["optionsTemplate",""],[1,"ant-select-dropdown","ant-select-dropdown-placement-bottomLeft",3,"nzNoAnimation"],[1,"ant-select-dropdown-content-wrapper"],[1,"ant-select-dropdown-content"],[4,"ngTemplateOutlet"],[3,"nzValue","nzLabel"]],template:function(n,i){n&1&&(ve(),y(0,ss,9,12,"ng-template"))},dependencies:[Q,Pt,Zn],encapsulation:2,data:{animation:[_o]},changeDetection:0})}return t})(),fa=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=ae({type:t});static \u0275inj=ie({imports:[ma]})}return t})();function us(t,o){if(t&1&&m(0,"i",7),t&2){let e=p();c("nzType",e.focus?"arrow-down":"search")}}function fs(t,o){t&1&&m(0,"i",8)}function gs(t,o){if(t&1&&g(0,fs,1,0,"i",8),t&2){let e=p();h(e.loading?0:-1)}}function hs(t,o){if(t&1&&(r(0,"nz-auto-option",6),u(1),s()),t&2){let e=o.$implicit;c("nzValue",e),a(),I(e)}}var xt=class xt{constructor(){this.el=d(Re).nativeElement;this.cdr=d(R);this.q="";this.qIpt=null;this.options=[];this.search$=new Ge("");this.loading=!1;this.focus=!1;this.searchToggled=!1;this.toggleChangeChange=new X}set toggleChange(o){typeof o>"u"||(this.searchToggled=o,this.focus=o,o&&setTimeout(()=>this.qIpt.focus()))}ngAfterViewInit(){this.qIpt=this.el.querySelector(".ant-input"),this.search$.pipe(zi(500),Si(),Bt({complete:()=>{this.loading=!0}})).subscribe(o=>{this.options=o?[o,o+o,o+o+o]:[],this.loading=!1,this.cdr.detectChanges()})}qFocus(){this.focus=!0}qBlur(){this.focus=!1,this.searchToggled=!1,this.options.length=0,this.toggleChangeChange.emit(!1)}search(o){this.search$.next(o.target.value)}ngOnDestroy(){this.search$.complete(),this.search$.unsubscribe()}};xt.\u0275fac=function(e){return new(e||xt)},xt.\u0275cmp=z({type:xt,selectors:[["header-search"]],hostVars:4,hostBindings:function(e,n){e&2&&b("alain-default__search-focus",n.focus)("alain-default__search-toggled",n.searchToggled)},inputs:{toggleChange:"toggleChange"},outputs:{toggleChangeChange:"toggleChangeChange"},decls:11,vars:7,consts:[["iconTpl",""],["loadingTpl",""],["auto",""],[3,"nzPrefix","nzSuffix"],["type","text","nz-input","","hotkey","F1",3,"ngModelChange","input","focus","blur","ngModel","nzAutocomplete"],["nzBackfill",""],[3,"nzValue"],["nz-icon","",3,"nzType"],["nz-icon","","nzType","loading"]],template:function(e,n){if(e&1){let i=x();r(0,"nz-input-group",3),y(1,us,1,1,"ng-template",null,0,E)(3,gs,1,1,"ng-template",null,1,E),r(5,"input",4),F(6,"i18n"),se("ngModelChange",function(f){return C(i),le(n.q,f)||(n.q=f),v(f)}),_("input",function(f){return C(i),v(n.search(f))})("focus",function(){return C(i),v(n.qFocus())})("blur",function(){return C(i),v(n.qBlur())}),s()(),r(7,"nz-autocomplete",5,2),w(9,hs,2,2,"nz-auto-option",6,O),s()}if(e&2){let i=S(2),l=S(4),f=S(8);c("nzPrefix",i)("nzSuffix",l),a(5),re("ngModel",n.q),c("nzAutocomplete",f),W("placeholder",L(6,5,"menu.search.placeholder")),a(4),D(n.options)}},dependencies:[Lt,on,kt,Ft,Oo,sn,Lo,cn,M,T,fa,ua,Pt,ci,ee],encapsulation:2,changeDetection:0});var Nn=xt;function _s(t,o){t&1&&(r(0,"div",6),m(1,"nz-spin"),s())}function Cs(t,o){t&1&&m(0,"i",15)}function vs(t,o){t&1&&(r(0,"nz-card",7),y(1,Cs,1,0,"ng-template",null,1,E),r(3,"div",8)(4,"div",9),m(5,"nz-avatar",10),s(),r(6,"div",11)(7,"strong"),u(8,"cipchk"),s(),r(9,"p",12),u(10,"Please tell me what happened in a few words, don't go into details."),s()()(),r(11,"div",8)(12,"div",9),m(13,"nz-avatar",10),s(),r(14,"div",11)(15,"strong"),u(16,"\u306F\u306A\u3055\u304D"),s(),r(17,"p",12),u(18,"\u30CF\u30EB\u30AB\u30BD\u30E9\u30C8\u30AD\u30D8\u30C0\u30C4\u30D2\u30AB\u30EA"),s()()(),r(19,"div",8)(20,"div",9),m(21,"nz-avatar",10),s(),r(22,"div",11)(23,"strong"),u(24,"\u82CF\u5148\u751F"),s(),r(25,"p",12),u(26,"\u8BF7\u544A\u8BC9\u6211\uFF0C\u6211\u5E94\u8BE5\u8BF4\u70B9\u4EC0\u4E48\u597D\uFF1F"),s()()(),r(27,"div",8)(28,"div",9),m(29,"nz-avatar",10),s(),r(30,"div",11)(31,"strong"),u(32,"Kent"),s(),r(33,"p",12),u(34,"Please tell me what happened in a few words, don't go into details."),s()()(),r(35,"div",8)(36,"div",9),m(37,"nz-avatar",10),s(),r(38,"div",11)(39,"strong"),u(40,"Jefferson"),s(),r(41,"p",12),u(42,"Please tell me what happened in a few words, don't go into details."),s()()(),r(43,"div",13)(44,"div",14),u(45,"See All"),s()()()),t&2&&(a(3),c("nzJustify","center")("nzAlign","middle"),a(),c("nzSpan",4),a(),c("nzSrc","./assets/tmp/img/1.png"),a(),c("nzSpan",20),a(5),c("nzJustify","center")("nzAlign","middle"),a(),c("nzSpan",4),a(),c("nzSrc","./assets/tmp/img/2.png"),a(),c("nzSpan",20),a(5),c("nzJustify","center")("nzAlign","middle"),a(),c("nzSpan",4),a(),c("nzSrc","./assets/tmp/img/3.png"),a(),c("nzSpan",20),a(5),c("nzJustify","center")("nzAlign","middle"),a(),c("nzSpan",4),a(),c("nzSrc","./assets/tmp/img/4.png"),a(),c("nzSpan",20),a(5),c("nzJustify","center")("nzAlign","middle"),a(),c("nzSpan",4),a(),c("nzSrc","./assets/tmp/img/5.png"),a(),c("nzSpan",20),a(6),c("nzSpan",24))}var bt=class bt{constructor(){this.cdr=d(R);this.loading=!0}change(){setTimeout(()=>{this.loading=!1,this.cdr.detectChanges()},500)}};bt.\u0275fac=function(e){return new(e||bt)},bt.\u0275cmp=z({type:bt,selectors:[["header-task"]],decls:8,vars:3,consts:[["taskMenu","nzDropdownMenu"],["extra",""],["nz-dropdown","","nzTrigger","click","nzPlacement","bottomRight",1,"alain-default__nav-item",3,"nzVisibleChange","nzDropdownMenu"],[3,"nzDot"],["nz-icon","","nzType","bell",1,"alain-default__nav-item-icon"],["nz-menu","",1,"wd-lg"],[1,"mx-lg","p-lg"],["nzTitle","Notifications","nzBordered","false",1,"ant-card__body-nopadding"],["nz-row","",1,"py-sm","pr-md","point","bg-grey-lighter-h",3,"nzJustify","nzAlign"],["nz-col","",1,"text-center",3,"nzSpan"],[3,"nzSrc"],["nz-col","",3,"nzSpan"],[1,"mb0"],["nz-row",""],["nz-col","",1,"pt-md","border-top-1","text-center","text-grey","point",3,"nzSpan"],["nz-icon","","nzType","plus"]],template:function(e,n){if(e&1){let i=x();r(0,"div",2),_("nzVisibleChange",function(){return C(i),v(n.change())}),r(1,"nz-badge",3),m(2,"i",4),s()(),r(3,"nz-dropdown-menu",null,0)(5,"div",5),g(6,_s,2,0,"div",6)(7,vs,46,26,"nz-card",7),s()()}if(e&2){let i=S(4);c("nzDropdownMenu",i),a(),c("nzDot",!0),a(5),h(n.loading?6:7)}},dependencies:[B,te,j,q,ct,st,M,T,Le,Fe,mn,dn,pn,Oe,ut,Vo,Ro],encapsulation:2,changeDetection:0});var Mn=bt;function ys(t,o){if(t&1&&(r(0,"nz-tag",3),u(1),s()),t&2){let e=p();c("nzColor",e.getAuthProviderColor()),a(),N(" ",e.authProvider()," ")}}function zs(t,o){if(t&1){let e=x();r(0,"nz-tag",22),u(1,"\u533F\u540D\u4F7F\u7528\u8005"),s(),r(2,"a",23),_("click",function(){C(e);let i=p(2);return v(i.onLinkAccount())}),u(3,"\u5347\u7D1A\u5E33\u865F"),s()}}function xs(t,o){t&1&&(r(0,"nz-tag",25),u(1,"\u672A\u9A57\u8B49"),s())}function bs(t,o){if(t&1&&(r(0,"nz-tag",24),u(1),s(),g(2,xs,2,0,"nz-tag",25)),t&2){let e=p(2);a(),I(e.authProvider()),a(),h(e.firebaseUser().emailVerified?-1:2)}}function Ss(t,o){if(t&1&&(r(0,"nz-tag",27),u(1),s()),t&2){let e=o.$implicit,n=p(3);c("nzColor",n.getRoleColor(e)),a(),N(" ",n.getRoleName(e)," ")}}function Ts(t,o){if(t&1&&(r(0,"div",20)(1,"div",26),u(2,"\u89D2\u8272"),s(),w(3,Ss,2,2,"nz-tag",27,ge),s()),t&2){let e=p(2);a(3),D(e.userRoles())}}function ws(t,o){if(t&1&&(r(0,"nz-tag",29),u(1),s()),t&2){let e=o.$implicit,n=p(3);a(),N(" ",n.getPermissionName(e)," ")}}function Ds(t,o){if(t&1&&(r(0,"nz-tag",30),u(1),s()),t&2){let e=p(3);a(),N(" +",e.userPermissions().length-3," ")}}function Ns(t,o){if(t&1&&(r(0,"div",20)(1,"div",26),u(2,"\u6B0A\u9650"),s(),r(3,"div",28),w(4,ws,2,1,"nz-tag",29,ge),g(6,Ds,2,1,"nz-tag",30),s()()),t&2){let e=p(2);a(4),D(e.userPermissions().slice(0,3)),a(2),h(e.userPermissions().length>3?6:-1)}}function Ms(t,o){if(t&1&&(r(0,"div",15)(1,"div",16),u(2,"Firebase \u4F7F\u7528\u8005"),s(),r(3,"div",17),m(4,"nz-avatar",2),r(5,"div")(6,"div",18),u(7),s(),r(8,"div",19),u(9),s()()(),r(10,"div",20),g(11,zs,4,0)(12,bs,3,2),s(),g(13,Ts,5,0,"div",20),g(14,Ns,7,1,"div",20),s(),m(15,"nz-divider",21)),t&2){let e=p();a(4),c("nzSrc",e.firebaseUser().photoURL||void 0),a(3),I(e.firebaseUser().displayName||e.firebaseUser().email||"\u4F7F\u7528\u8005"),a(2),I(e.firebaseUser().email||""),a(2),h(e.isAnonymous()?11:12),a(2),h(e.userRoles().length>0?13:-1),a(),h(e.userPermissions().length>0?14:-1)}}function Es(t,o){if(t&1){let e=x();r(0,"div",13),_("click",function(){C(e);let i=p(2);return v(i.onLinkAccount())}),m(1,"i",33),u(2," \u5347\u7D1A\u5E33\u865F "),s()}}function Is(t,o){if(t&1){let e=x();r(0,"div",13),_("click",function(){C(e);let i=p();return v(i.onManageRoles())}),m(1,"i",31),u(2," \u7BA1\u7406\u89D2\u8272\u6B0A\u9650 "),s(),r(3,"div",13),_("click",function(){C(e);let i=p();return v(i.onViewPermissions())}),m(4,"i",32),u(5," \u67E5\u770B\u6B0A\u9650\u8A73\u60C5 "),s(),g(6,Es,3,0,"div",12)}if(t&2){let e=p();a(6),h(e.isAnonymous()?6:-1)}}function As(t,o){if(t&1){let e=x();r(0,"div",13),_("click",function(){C(e);let i=p();return v(i.onFirebaseLogout())}),m(1,"i",14),u(2," Firebase \u767B\u51FA "),s()}}var St=class St{constructor(){this.settings=d(P);this.router=d(ce);this.tokenService=d(pe);this.firebaseAuthService=d(rt);this.firebaseRoleService=d(lt);this.message=d(be);this.firebaseUser=this.firebaseAuthService.currentUser;this.isAnonymous=Y(()=>this.firebaseUser()?.isAnonymous||!1);this.userRoles=this.firebaseRoleService.userRoles;this.userPermissions=this.firebaseRoleService.userPermissions;this.authProvider=Y(()=>{let o=this.firebaseUser();if(!o)return"";if(o.isAnonymous)return"\u533F\u540D";let e=o;if(e.providerData&&e.providerData.length>0){let n=e.providerData[0].providerId;switch(n){case"google.com":return"Google";case"password":return"Email";default:return n}}return"Firebase"});this.displayName=Y(()=>{let o=this.firebaseUser();return o?o.displayName||o.email||"\u4F7F\u7528\u8005":this.user.name||"\u4F7F\u7528\u8005"});this.displayAvatar=Y(()=>{let o=this.firebaseUser();return o&&o.photoURL?o.photoURL:this.user.avatar||""})}get user(){return this.settings.user}logout(){this.tokenService.clear(),this.router.navigateByUrl(this.tokenService.login_url)}onFirebaseLogout(){return Rt(this,null,function*(){try{yield this.firebaseAuthService.signOut(),this.message.success("Firebase \u767B\u51FA\u6210\u529F"),this.logout()}catch(o){console.error("Firebase logout error:",o),this.message.error("Firebase \u767B\u51FA\u5931\u6557")}})}onLinkAccount(){this.isAnonymous()?(this.router.navigateByUrl("/passport/register"),this.message.info("\u8ACB\u5B8C\u6210\u8A3B\u518A\u4EE5\u5347\u7D1A\u60A8\u7684\u533F\u540D\u5E33\u865F")):this.message.warning("\u76EE\u524D\u5E33\u865F\u5DF2\u7D93\u662F\u5B8C\u6574\u5E33\u865F")}onManageRoles(){this.router.navigateByUrl("/delon/acl")}onViewPermissions(){let o=this.userRoles(),e=this.userPermissions(),n=`\u76EE\u524D\u89D2\u8272\uFF1A
`;o.forEach(i=>{n+=`\u2022 ${this.getRoleName(i)}
`}),n+=`
\u76EE\u524D\u6B0A\u9650\uFF1A
`,e.forEach(i=>{n+=`\u2022 ${this.getPermissionName(i)}
`}),this.message.info(n)}getAuthProviderColor(){let o=this.authProvider();return{Google:"red",Email:"blue",\u533F\u540D:"orange",Firebase:"green"}[o]||"default"}getRoleColor(o){return{admin:"red",moderator:"orange",user:"blue",guest:"default"}[o]||"default"}getRoleName(o){return{admin:"\u7BA1\u7406\u54E1",moderator:"\u7248\u4E3B",user:"\u4F7F\u7528\u8005",guest:"\u8A2A\u5BA2"}[o]||o}getPermissionName(o){return{"user:read":"\u67E5\u770B\u4F7F\u7528\u8005","user:write":"\u7DE8\u8F2F\u4F7F\u7528\u8005","user:delete":"\u522A\u9664\u4F7F\u7528\u8005","role:assign":"\u5206\u914D\u89D2\u8272","role:manage":"\u7BA1\u7406\u89D2\u8272","content:read":"\u67E5\u770B\u5167\u5BB9","content:write":"\u7DE8\u8F2F\u5167\u5BB9","content:delete":"\u522A\u9664\u5167\u5BB9","system:admin":"\u7CFB\u7D71\u7BA1\u7406"}[o]||o}};St.\u0275fac=function(e){return new(e||St)},St.\u0275cmp=z({type:St,selectors:[["header-user"]],decls:27,vars:19,consts:[["userMenu","nzDropdownMenu"],["nz-dropdown","","nzPlacement","bottomRight",1,"alain-default__nav-item","d-flex","align-items-center","px-sm",3,"nzDropdownMenu"],["nzSize","small",1,"mr-sm",3,"nzSrc"],["nzSize","small",1,"ml-xs",3,"nzColor"],["nz-menu","",1,"width-lg"],["nz-menu-item","","routerLink","/pro/account/center"],["nz-icon","","nzType","user",1,"mr-sm"],["nz-menu-item","","routerLink","/pro/account/settings"],["nz-icon","","nzType","setting",1,"mr-sm"],["nz-menu-item","","routerLink","/exception/trigger"],["nz-icon","","nzType","close-circle",1,"mr-sm"],["nz-menu-divider",""],["nz-menu-item",""],["nz-menu-item","",3,"click"],["nz-icon","","nzType","logout",1,"mr-sm"],[1,"px-md","py-sm"],[1,"text-grey-dark","mb-xs"],[1,"d-flex","align-items-center","mb-sm"],[1,"text-sm"],[1,"text-xs","text-grey"],[1,"mb-sm"],["nzDashed","",1,"my-sm"],["nzColor","orange","nzSize","small"],[1,"ml-sm","text-xs",3,"click"],["nzColor","green","nzSize","small"],["nzColor","red","nzSize","small"],[1,"text-xs","text-grey","mb-xs"],["nzSize","small",1,"mr-xs",3,"nzColor"],[1,"permission-tags"],["nzColor","blue","nzSize","small",1,"mr-xs","mb-xs"],["nzColor","default","nzSize","small"],["nz-icon","","nzType","team",1,"mr-sm"],["nz-icon","","nzType","safety-certificate",1,"mr-sm"],["nz-icon","","nzType","link",1,"mr-sm"]],template:function(e,n){if(e&1){let i=x();r(0,"div",1),m(1,"nz-avatar",2),u(2),g(3,ys,2,2,"nz-tag",3),s(),r(4,"nz-dropdown-menu",null,0)(6,"div",4),g(7,Ms,16,6),r(8,"div",5),m(9,"i",6),u(10),F(11,"i18n"),s(),r(12,"div",7),m(13,"i",8),u(14),F(15,"i18n"),s(),g(16,Is,7,1),r(17,"div",9),m(18,"i",10),u(19),F(20,"i18n"),s(),m(21,"li",11),g(22,As,3,0,"div",12),r(23,"div",13),_("click",function(){return C(i),v(n.logout())}),m(24,"i",14),u(25),F(26,"i18n"),s()()()}if(e&2){let i=S(5);c("nzDropdownMenu",i),a(),c("nzSrc",n.displayAvatar()),a(),N(" ",n.displayName()," "),a(),h(n.firebaseUser()?3:-1),a(4),h(n.firebaseUser()?7:-1),a(3),N(" ",L(11,11,"menu.account.center")," "),a(4),N(" ",L(15,13,"menu.account.settings")," "),a(2),h(n.firebaseUser()?16:-1),a(3),N(" ",L(20,15,"menu.account.trigger")," "),a(3),h(n.firebaseUser()?22:-1),a(3),N(" ",L(26,17,"menu.account.logout")," ")}},dependencies:[nt,B,te,Ae,Fo,j,q,ke,M,T,Oe,ut,dt,pt,ln,rn,ee],encapsulation:2,changeDetection:0});var En=St;function ks(t,o){if(t&1&&(r(0,"div",22),m(1,"nz-avatar",23),r(2,"div",24)(3,"strong"),u(4),s(),r(5,"p",25),u(6),s()()(),r(7,"nz-dropdown-menu",null,3)(9,"ul",26)(10,"li",27),u(11),F(12,"i18n"),s(),r(13,"li",28),u(14),F(15,"i18n"),s()()()),t&2){let e=S(8),n=p();c("nzDropdownMenu",e),a(),c("nzSrc",n.user.avatar),a(3),I(n.user.name),a(2),I(n.user.email),a(5),I(L(12,6,"menu.account.center")),a(3),I(L(15,8,"menu.account.settings"))}}function Fs(t,o){t&1&&m(0,"router-outlet")}function Ls(t,o){t&1&&m(0,"setting-drawer")}var Tt=class Tt{constructor(){this.settings=d(P);this.options={logoExpanded:"./assets/logo-full.svg",logoCollapsed:"./assets/logo.svg"};this.searchToggleStatus=!1;this.showSettingDrawer=!0}get user(){return this.settings.user}};Tt.\u0275fac=function(e){return new(e||Tt)},Tt.\u0275cmp=z({type:Tt,selectors:[["layout-basic"]],decls:40,vars:7,consts:[["settingsMenu","nzDropdownMenu"],["asideUserTpl",""],["contentTpl",""],["userMenu","nzDropdownMenu"],[3,"options","asideUser","content","customError"],["direction","left"],["layout-default-header-item-trigger","","href","//github.com/ng-alain/ng-alain","target","_blank"],["nz-icon","","nzType","github"],["direction","left","hidden","mobile"],["layout-default-header-item-trigger","","routerLink","/passport/lock"],["nz-icon","","nzType","lock"],["direction","left","hidden","pc"],["layout-default-header-item-trigger","",3,"click"],["nz-icon","","nzType","search"],["direction","middle"],[1,"alain-default__search",3,"toggleChangeChange","toggleChange"],["direction","right"],["direction","right","hidden","mobile"],["layout-default-header-item-trigger","","nz-dropdown","","nzTrigger","click","nzPlacement","bottomRight",3,"nzDropdownMenu"],["nz-icon","","nzType","setting"],["nz-menu","",2,"width","200px"],["nz-menu-item",""],["nz-dropdown","","nzTrigger","click",1,"alain-default__aside-user",3,"nzDropdownMenu"],[1,"alain-default__aside-user-avatar",3,"nzSrc"],[1,"alain-default__aside-user-info"],[1,"mb0"],["nz-menu",""],["nz-menu-item","","routerLink","/pro/account/center"],["nz-menu-item","","routerLink","/pro/account/settings"]],template:function(e,n){if(e&1){let i=x();r(0,"layout-default",4)(1,"layout-default-header-item",5)(2,"a",6),m(3,"i",7),s()(),r(4,"layout-default-header-item",8)(5,"a",9),m(6,"i",10),s()(),r(7,"layout-default-header-item",11)(8,"div",12),_("click",function(){return C(i),v(n.searchToggleStatus=!n.searchToggleStatus)}),m(9,"i",13),s()(),r(10,"layout-default-header-item",14)(11,"header-search",15),se("toggleChangeChange",function(f){return C(i),le(n.searchToggleStatus,f)||(n.searchToggleStatus=f),v(f)}),s()(),r(12,"layout-default-header-item",16),m(13,"header-notify"),s(),r(14,"layout-default-header-item",17),m(15,"header-task"),s(),r(16,"layout-default-header-item",17),m(17,"header-icon"),s(),r(18,"layout-default-header-item",17)(19,"div",18),m(20,"i",19),s(),r(21,"nz-dropdown-menu",null,0)(23,"div",20)(24,"div",21),m(25,"header-rtl"),s(),r(26,"div",21),m(27,"header-fullscreen"),s(),r(28,"div",21),m(29,"header-clear-storage"),s(),r(30,"div",21),m(31,"header-i18n"),s()()()(),r(32,"layout-default-header-item",16),m(33,"header-user"),s(),y(34,ks,16,10,"ng-template",null,1,E)(36,Fs,1,0,"ng-template",null,2,E),s(),g(38,Ls,1,0,"setting-drawer"),m(39,"theme-btn")}if(e&2){let i=S(22),l=S(35),f=S(37);c("options",n.options)("asideUser",l)("content",f)("customError",null),a(11),re("toggleChange",n.searchToggleStatus),a(8),c("nzDropdownMenu",i),a(19),h(n.showSettingDrawer?38:-1)}},dependencies:[tt,nt,na,ea,ii,ta,M,T,ke,te,Ae,B,j,q,Oe,ut,oa,ri,Cn,Nn,wn,Mn,Tn,Dn,gt,xn,Sn,En,ee],encapsulation:2});var ha=Tt;var wt=class wt{};wt.\u0275fac=function(e){return new(e||wt)},wt.\u0275cmp=z({type:wt,selectors:[["layout-blank"]],hostVars:2,hostBindings:function(e,n){e&2&&b("alain-blank",!0)},decls:1,vars:0,template:function(e,n){e&1&&m(0,"router-outlet")},dependencies:[tt],encapsulation:2});var _a=wt;function Os(t){let o=t;return 5}var Ca=["zh",[["\u4E0A\u5348","\u4E0B\u5348"],void 0,void 0],void 0,[["\u65E5","\u4E00","\u4E8C","\u4E09","\u56DB","\u4E94","\u516D"],["\u5468\u65E5","\u5468\u4E00","\u5468\u4E8C","\u5468\u4E09","\u5468\u56DB","\u5468\u4E94","\u5468\u516D"],["\u661F\u671F\u65E5","\u661F\u671F\u4E00","\u661F\u671F\u4E8C","\u661F\u671F\u4E09","\u661F\u671F\u56DB","\u661F\u671F\u4E94","\u661F\u671F\u516D"],["\u5468\u65E5","\u5468\u4E00","\u5468\u4E8C","\u5468\u4E09","\u5468\u56DB","\u5468\u4E94","\u5468\u516D"]],void 0,[["1","2","3","4","5","6","7","8","9","10","11","12"],["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],["\u4E00\u6708","\u4E8C\u6708","\u4E09\u6708","\u56DB\u6708","\u4E94\u6708","\u516D\u6708","\u4E03\u6708","\u516B\u6708","\u4E5D\u6708","\u5341\u6708","\u5341\u4E00\u6708","\u5341\u4E8C\u6708"]],void 0,[["\u516C\u5143\u524D","\u516C\u5143"],void 0,void 0],0,[6,0],["y/M/d","y\u5E74M\u6708d\u65E5",void 0,"y\u5E74M\u6708d\u65E5EEEE"],["HH:mm","HH:mm:ss","z HH:mm:ss","zzzz HH:mm:ss"],["{1} {0}",void 0,void 0,void 0],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"CNY","\xA5","\u4EBA\u6C11\u5E01",{AUD:["AU$","$"],BYN:[void 0,"\u0440."],CNY:["\xA5"],ILR:["ILS"],JPY:["JP\xA5","\xA5"],KRW:["\uFFE6","\u20A9"],PHP:[void 0,"\u20B1"],RUR:[void 0,"\u0440."],TWD:["NT$"],USD:["US$","$"],XXX:[]},"ltr",Os];var Ps={lessThanXSeconds:{one:"\u4E0D\u5230 1 \u79D2",other:"\u4E0D\u5230 {{count}} \u79D2"},xSeconds:{one:"1 \u79D2",other:"{{count}} \u79D2"},halfAMinute:"\u534A\u5206\u949F",lessThanXMinutes:{one:"\u4E0D\u5230 1 \u5206\u949F",other:"\u4E0D\u5230 {{count}} \u5206\u949F"},xMinutes:{one:"1 \u5206\u949F",other:"{{count}} \u5206\u949F"},xHours:{one:"1 \u5C0F\u65F6",other:"{{count}} \u5C0F\u65F6"},aboutXHours:{one:"\u5927\u7EA6 1 \u5C0F\u65F6",other:"\u5927\u7EA6 {{count}} \u5C0F\u65F6"},xDays:{one:"1 \u5929",other:"{{count}} \u5929"},aboutXWeeks:{one:"\u5927\u7EA6 1 \u4E2A\u661F\u671F",other:"\u5927\u7EA6 {{count}} \u4E2A\u661F\u671F"},xWeeks:{one:"1 \u4E2A\u661F\u671F",other:"{{count}} \u4E2A\u661F\u671F"},aboutXMonths:{one:"\u5927\u7EA6 1 \u4E2A\u6708",other:"\u5927\u7EA6 {{count}} \u4E2A\u6708"},xMonths:{one:"1 \u4E2A\u6708",other:"{{count}} \u4E2A\u6708"},aboutXYears:{one:"\u5927\u7EA6 1 \u5E74",other:"\u5927\u7EA6 {{count}} \u5E74"},xYears:{one:"1 \u5E74",other:"{{count}} \u5E74"},overXYears:{one:"\u8D85\u8FC7 1 \u5E74",other:"\u8D85\u8FC7 {{count}} \u5E74"},almostXYears:{one:"\u5C06\u8FD1 1 \u5E74",other:"\u5C06\u8FD1 {{count}} \u5E74"}},Rs=function(o,e,n){var i,l=Ps[o];return typeof l=="string"?i=l:e===1?i=l.one:i=l.other.replace("{{count}}",String(e)),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?i+"\u5185":i+"\u524D":i},va=Rs;var Vs={full:"y'\u5E74'M'\u6708'd'\u65E5' EEEE",long:"y'\u5E74'M'\u6708'd'\u65E5'",medium:"yyyy-MM-dd",short:"yy-MM-dd"},Hs={full:"zzzz a h:mm:ss",long:"z a h:mm:ss",medium:"a h:mm:ss",short:"a h:mm"},Bs={full:"{{date}} {{time}}",long:"{{date}} {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},Us={date:Ee({formats:Vs,defaultWidth:"full"}),time:Ee({formats:Hs,defaultWidth:"full"}),dateTime:Ee({formats:Bs,defaultWidth:"full"})},ya=Us;function pi(t,o,e){lo(2,arguments);var n=Xn(t,e),i=Xn(o,e);return n.getTime()===i.getTime()}function za(t,o,e){var n="eeee p";return pi(t,o,e)?n:t.getTime()>o.getTime()?"'\u4E0B\u4E2A'"+n:"'\u4E0A\u4E2A'"+n}var Ws={lastWeek:za,yesterday:"'\u6628\u5929' p",today:"'\u4ECA\u5929' p",tomorrow:"'\u660E\u5929' p",nextWeek:za,other:"PP p"},$s=function(o,e,n,i){var l=Ws[o];return typeof l=="function"?l(e,n,i):l},xa=$s;var js={narrow:["\u524D","\u516C\u5143"],abbreviated:["\u524D","\u516C\u5143"],wide:["\u516C\u5143\u524D","\u516C\u5143"]},qs={narrow:["1","2","3","4"],abbreviated:["\u7B2C\u4E00\u5B63","\u7B2C\u4E8C\u5B63","\u7B2C\u4E09\u5B63","\u7B2C\u56DB\u5B63"],wide:["\u7B2C\u4E00\u5B63\u5EA6","\u7B2C\u4E8C\u5B63\u5EA6","\u7B2C\u4E09\u5B63\u5EA6","\u7B2C\u56DB\u5B63\u5EA6"]},Gs={narrow:["\u4E00","\u4E8C","\u4E09","\u56DB","\u4E94","\u516D","\u4E03","\u516B","\u4E5D","\u5341","\u5341\u4E00","\u5341\u4E8C"],abbreviated:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],wide:["\u4E00\u6708","\u4E8C\u6708","\u4E09\u6708","\u56DB\u6708","\u4E94\u6708","\u516D\u6708","\u4E03\u6708","\u516B\u6708","\u4E5D\u6708","\u5341\u6708","\u5341\u4E00\u6708","\u5341\u4E8C\u6708"]},Xs={narrow:["\u65E5","\u4E00","\u4E8C","\u4E09","\u56DB","\u4E94","\u516D"],short:["\u65E5","\u4E00","\u4E8C","\u4E09","\u56DB","\u4E94","\u516D"],abbreviated:["\u5468\u65E5","\u5468\u4E00","\u5468\u4E8C","\u5468\u4E09","\u5468\u56DB","\u5468\u4E94","\u5468\u516D"],wide:["\u661F\u671F\u65E5","\u661F\u671F\u4E00","\u661F\u671F\u4E8C","\u661F\u671F\u4E09","\u661F\u671F\u56DB","\u661F\u671F\u4E94","\u661F\u671F\u516D"]},Qs={narrow:{am:"\u4E0A",pm:"\u4E0B",midnight:"\u51CC\u6668",noon:"\u5348",morning:"\u65E9",afternoon:"\u4E0B\u5348",evening:"\u665A",night:"\u591C"},abbreviated:{am:"\u4E0A\u5348",pm:"\u4E0B\u5348",midnight:"\u51CC\u6668",noon:"\u4E2D\u5348",morning:"\u65E9\u6668",afternoon:"\u4E2D\u5348",evening:"\u665A\u4E0A",night:"\u591C\u95F4"},wide:{am:"\u4E0A\u5348",pm:"\u4E0B\u5348",midnight:"\u51CC\u6668",noon:"\u4E2D\u5348",morning:"\u65E9\u6668",afternoon:"\u4E2D\u5348",evening:"\u665A\u4E0A",night:"\u591C\u95F4"}},Zs={narrow:{am:"\u4E0A",pm:"\u4E0B",midnight:"\u51CC\u6668",noon:"\u5348",morning:"\u65E9",afternoon:"\u4E0B\u5348",evening:"\u665A",night:"\u591C"},abbreviated:{am:"\u4E0A\u5348",pm:"\u4E0B\u5348",midnight:"\u51CC\u6668",noon:"\u4E2D\u5348",morning:"\u65E9\u6668",afternoon:"\u4E2D\u5348",evening:"\u665A\u4E0A",night:"\u591C\u95F4"},wide:{am:"\u4E0A\u5348",pm:"\u4E0B\u5348",midnight:"\u51CC\u6668",noon:"\u4E2D\u5348",morning:"\u65E9\u6668",afternoon:"\u4E2D\u5348",evening:"\u665A\u4E0A",night:"\u591C\u95F4"}},Ys=function(o,e){var n=Number(o);switch(e?.unit){case"date":return n.toString()+"\u65E5";case"hour":return n.toString()+"\u65F6";case"minute":return n.toString()+"\u5206";case"second":return n.toString()+"\u79D2";default:return"\u7B2C "+n.toString()}},Ks={ordinalNumber:Ys,era:K({values:js,defaultWidth:"wide"}),quarter:K({values:qs,defaultWidth:"wide",argumentCallback:function(o){return o-1}}),month:K({values:Gs,defaultWidth:"wide"}),day:K({values:Xs,defaultWidth:"wide"}),dayPeriod:K({values:Qs,defaultWidth:"wide",formattingValues:Zs,defaultFormattingWidth:"wide"})},ba=Ks;var Js=/^(第\s*)?\d+(日|时|分|秒)?/i,ec=/\d+/i,tc={narrow:/^(前)/i,abbreviated:/^(前)/i,wide:/^(公元前|公元)/i},nc={any:[/^(前)/i,/^(公元)/i]},ic={narrow:/^[1234]/i,abbreviated:/^第[一二三四]刻/i,wide:/^第[一二三四]刻钟/i},oc={any:[/(1|一)/i,/(2|二)/i,/(3|三)/i,/(4|四)/i]},ac={narrow:/^(一|二|三|四|五|六|七|八|九|十[二一])/i,abbreviated:/^(一|二|三|四|五|六|七|八|九|十[二一]|\d|1[12])月/i,wide:/^(一|二|三|四|五|六|七|八|九|十[二一])月/i},rc={narrow:[/^一/i,/^二/i,/^三/i,/^四/i,/^五/i,/^六/i,/^七/i,/^八/i,/^九/i,/^十(?!(一|二))/i,/^十一/i,/^十二/i],any:[/^一|1/i,/^二|2/i,/^三|3/i,/^四|4/i,/^五|5/i,/^六|6/i,/^七|7/i,/^八|8/i,/^九|9/i,/^十(?!(一|二))|10/i,/^十一|11/i,/^十二|12/i]},lc={narrow:/^[一二三四五六日]/i,short:/^[一二三四五六日]/i,abbreviated:/^周[一二三四五六日]/i,wide:/^星期[一二三四五六日]/i},sc={any:[/日/i,/一/i,/二/i,/三/i,/四/i,/五/i,/六/i]},cc={any:/^(上午?|下午?|午夜|[中正]午|早上?|下午|晚上?|凌晨|)/i},pc={any:{am:/^上午?/i,pm:/^下午?/i,midnight:/^午夜/i,noon:/^[中正]午/i,morning:/^早上/i,afternoon:/^下午/i,evening:/^晚上?/i,night:/^凌晨/i}},dc={ordinalNumber:Jt({matchPattern:Js,parsePattern:ec,valueCallback:function(o){return parseInt(o,10)}}),era:J({matchPatterns:tc,defaultMatchWidth:"wide",parsePatterns:nc,defaultParseWidth:"any"}),quarter:J({matchPatterns:ic,defaultMatchWidth:"wide",parsePatterns:oc,defaultParseWidth:"any",valueCallback:function(o){return o+1}}),month:J({matchPatterns:ac,defaultMatchWidth:"wide",parsePatterns:rc,defaultParseWidth:"any"}),day:J({matchPatterns:lc,defaultMatchWidth:"wide",parsePatterns:sc,defaultParseWidth:"any"}),dayPeriod:J({matchPatterns:cc,defaultMatchWidth:"any",parsePatterns:pc,defaultParseWidth:"any"})},Sa=dc;var mc={code:"zh-CN",formatDistance:va,formatLong:ya,formatRelative:xa,localize:ba,match:Sa,options:{weekStartsOn:1,firstWeekContainsDate:4}},di=mc;var uc={lessThanXSeconds:{one:"\u5C11\u65BC 1 \u79D2",other:"\u5C11\u65BC {{count}} \u79D2"},xSeconds:{one:"1 \u79D2",other:"{{count}} \u79D2"},halfAMinute:"\u534A\u5206\u9418",lessThanXMinutes:{one:"\u5C11\u65BC 1 \u5206\u9418",other:"\u5C11\u65BC {{count}} \u5206\u9418"},xMinutes:{one:"1 \u5206\u9418",other:"{{count}} \u5206\u9418"},xHours:{one:"1 \u5C0F\u6642",other:"{{count}} \u5C0F\u6642"},aboutXHours:{one:"\u5927\u7D04 1 \u5C0F\u6642",other:"\u5927\u7D04 {{count}} \u5C0F\u6642"},xDays:{one:"1 \u5929",other:"{{count}} \u5929"},aboutXWeeks:{one:"\u5927\u7D04 1 \u500B\u661F\u671F",other:"\u5927\u7D04 {{count}} \u500B\u661F\u671F"},xWeeks:{one:"1 \u500B\u661F\u671F",other:"{{count}} \u500B\u661F\u671F"},aboutXMonths:{one:"\u5927\u7D04 1 \u500B\u6708",other:"\u5927\u7D04 {{count}} \u500B\u6708"},xMonths:{one:"1 \u500B\u6708",other:"{{count}} \u500B\u6708"},aboutXYears:{one:"\u5927\u7D04 1 \u5E74",other:"\u5927\u7D04 {{count}} \u5E74"},xYears:{one:"1 \u5E74",other:"{{count}} \u5E74"},overXYears:{one:"\u8D85\u904E 1 \u5E74",other:"\u8D85\u904E {{count}} \u5E74"},almostXYears:{one:"\u5C07\u8FD1 1 \u5E74",other:"\u5C07\u8FD1 {{count}} \u5E74"}},fc=function(o,e,n){var i,l=uc[o];return typeof l=="string"?i=l:e===1?i=l.one:i=l.other.replace("{{count}}",String(e)),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?i+"\u5167":i+"\u524D":i},Ta=fc;var gc={full:"y'\u5E74'M'\u6708'd'\u65E5' EEEE",long:"y'\u5E74'M'\u6708'd'\u65E5'",medium:"yyyy-MM-dd",short:"yy-MM-dd"},hc={full:"zzzz a h:mm:ss",long:"z a h:mm:ss",medium:"a h:mm:ss",short:"a h:mm"},_c={full:"{{date}} {{time}}",long:"{{date}} {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},Cc={date:Ee({formats:gc,defaultWidth:"full"}),time:Ee({formats:hc,defaultWidth:"full"}),dateTime:Ee({formats:_c,defaultWidth:"full"})},wa=Cc;var vc={lastWeek:"'\u4E0A\u500B'eeee p",yesterday:"'\u6628\u5929' p",today:"'\u4ECA\u5929' p",tomorrow:"'\u660E\u5929' p",nextWeek:"'\u4E0B\u500B'eeee p",other:"P"},yc=function(o,e,n,i){return vc[o]},Da=yc;var zc={narrow:["\u524D","\u516C\u5143"],abbreviated:["\u524D","\u516C\u5143"],wide:["\u516C\u5143\u524D","\u516C\u5143"]},xc={narrow:["1","2","3","4"],abbreviated:["\u7B2C\u4E00\u523B","\u7B2C\u4E8C\u523B","\u7B2C\u4E09\u523B","\u7B2C\u56DB\u523B"],wide:["\u7B2C\u4E00\u523B\u9418","\u7B2C\u4E8C\u523B\u9418","\u7B2C\u4E09\u523B\u9418","\u7B2C\u56DB\u523B\u9418"]},bc={narrow:["\u4E00","\u4E8C","\u4E09","\u56DB","\u4E94","\u516D","\u4E03","\u516B","\u4E5D","\u5341","\u5341\u4E00","\u5341\u4E8C"],abbreviated:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],wide:["\u4E00\u6708","\u4E8C\u6708","\u4E09\u6708","\u56DB\u6708","\u4E94\u6708","\u516D\u6708","\u4E03\u6708","\u516B\u6708","\u4E5D\u6708","\u5341\u6708","\u5341\u4E00\u6708","\u5341\u4E8C\u6708"]},Sc={narrow:["\u65E5","\u4E00","\u4E8C","\u4E09","\u56DB","\u4E94","\u516D"],short:["\u65E5","\u4E00","\u4E8C","\u4E09","\u56DB","\u4E94","\u516D"],abbreviated:["\u9031\u65E5","\u9031\u4E00","\u9031\u4E8C","\u9031\u4E09","\u9031\u56DB","\u9031\u4E94","\u9031\u516D"],wide:["\u661F\u671F\u65E5","\u661F\u671F\u4E00","\u661F\u671F\u4E8C","\u661F\u671F\u4E09","\u661F\u671F\u56DB","\u661F\u671F\u4E94","\u661F\u671F\u516D"]},Tc={narrow:{am:"\u4E0A",pm:"\u4E0B",midnight:"\u51CC\u6668",noon:"\u5348",morning:"\u65E9",afternoon:"\u4E0B\u5348",evening:"\u665A",night:"\u591C"},abbreviated:{am:"\u4E0A\u5348",pm:"\u4E0B\u5348",midnight:"\u51CC\u6668",noon:"\u4E2D\u5348",morning:"\u65E9\u6668",afternoon:"\u4E2D\u5348",evening:"\u665A\u4E0A",night:"\u591C\u9593"},wide:{am:"\u4E0A\u5348",pm:"\u4E0B\u5348",midnight:"\u51CC\u6668",noon:"\u4E2D\u5348",morning:"\u65E9\u6668",afternoon:"\u4E2D\u5348",evening:"\u665A\u4E0A",night:"\u591C\u9593"}},wc={narrow:{am:"\u4E0A",pm:"\u4E0B",midnight:"\u51CC\u6668",noon:"\u5348",morning:"\u65E9",afternoon:"\u4E0B\u5348",evening:"\u665A",night:"\u591C"},abbreviated:{am:"\u4E0A\u5348",pm:"\u4E0B\u5348",midnight:"\u51CC\u6668",noon:"\u4E2D\u5348",morning:"\u65E9\u6668",afternoon:"\u4E2D\u5348",evening:"\u665A\u4E0A",night:"\u591C\u9593"},wide:{am:"\u4E0A\u5348",pm:"\u4E0B\u5348",midnight:"\u51CC\u6668",noon:"\u4E2D\u5348",morning:"\u65E9\u6668",afternoon:"\u4E2D\u5348",evening:"\u665A\u4E0A",night:"\u591C\u9593"}},Dc=function(o,e){var n=Number(o);switch(e?.unit){case"date":return n+"\u65E5";case"hour":return n+"\u6642";case"minute":return n+"\u5206";case"second":return n+"\u79D2";default:return"\u7B2C "+n}},Nc={ordinalNumber:Dc,era:K({values:zc,defaultWidth:"wide"}),quarter:K({values:xc,defaultWidth:"wide",argumentCallback:function(o){return o-1}}),month:K({values:bc,defaultWidth:"wide"}),day:K({values:Sc,defaultWidth:"wide"}),dayPeriod:K({values:Tc,defaultWidth:"wide",formattingValues:wc,defaultFormattingWidth:"wide"})},Na=Nc;var Mc=/^(第\s*)?\d+(日|時|分|秒)?/i,Ec=/\d+/i,Ic={narrow:/^(前)/i,abbreviated:/^(前)/i,wide:/^(公元前|公元)/i},Ac={any:[/^(前)/i,/^(公元)/i]},kc={narrow:/^[1234]/i,abbreviated:/^第[一二三四]刻/i,wide:/^第[一二三四]刻鐘/i},Fc={any:[/(1|一)/i,/(2|二)/i,/(3|三)/i,/(4|四)/i]},Lc={narrow:/^(一|二|三|四|五|六|七|八|九|十[二一])/i,abbreviated:/^(一|二|三|四|五|六|七|八|九|十[二一]|\d|1[12])月/i,wide:/^(一|二|三|四|五|六|七|八|九|十[二一])月/i},Oc={narrow:[/^一/i,/^二/i,/^三/i,/^四/i,/^五/i,/^六/i,/^七/i,/^八/i,/^九/i,/^十(?!(一|二))/i,/^十一/i,/^十二/i],any:[/^一|1/i,/^二|2/i,/^三|3/i,/^四|4/i,/^五|5/i,/^六|6/i,/^七|7/i,/^八|8/i,/^九|9/i,/^十(?!(一|二))|10/i,/^十一|11/i,/^十二|12/i]},Pc={narrow:/^[一二三四五六日]/i,short:/^[一二三四五六日]/i,abbreviated:/^週[一二三四五六日]/i,wide:/^星期[一二三四五六日]/i},Rc={any:[/日/i,/一/i,/二/i,/三/i,/四/i,/五/i,/六/i]},Vc={any:/^(上午?|下午?|午夜|[中正]午|早上?|下午|晚上?|凌晨)/i},Hc={any:{am:/^上午?/i,pm:/^下午?/i,midnight:/^午夜/i,noon:/^[中正]午/i,morning:/^早上/i,afternoon:/^下午/i,evening:/^晚上?/i,night:/^凌晨/i}},Bc={ordinalNumber:Jt({matchPattern:Mc,parsePattern:Ec,valueCallback:function(o){return parseInt(o,10)}}),era:J({matchPatterns:Ic,defaultMatchWidth:"wide",parsePatterns:Ac,defaultParseWidth:"any"}),quarter:J({matchPatterns:kc,defaultMatchWidth:"wide",parsePatterns:Fc,defaultParseWidth:"any",valueCallback:function(o){return o+1}}),month:J({matchPatterns:Lc,defaultMatchWidth:"wide",parsePatterns:Oc,defaultParseWidth:"any"}),day:J({matchPatterns:Pc,defaultMatchWidth:"wide",parsePatterns:Rc,defaultParseWidth:"any"}),dayPeriod:J({matchPatterns:Vc,defaultMatchWidth:"any",parsePatterns:Hc,defaultParseWidth:"any"})},Ma=Bc;var Uc={code:"zh-TW",formatDistance:Ta,formatLong:wa,formatRelative:Da,localize:Na,match:Ma,options:{weekStartsOn:1,firstWeekContainsDate:4}},mi=Uc;function Wc(t){let o=t,e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return e===1&&n===0?1:5}var Ea=["en",[["a","p"],["AM","PM"],void 0],[["AM","PM"],void 0,void 0],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],void 0,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],void 0,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",void 0,"{1} 'at' {0}",void 0],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",Wc];function $c(t){let o=t;return 5}var Ia=["zh-Hant",[["\u4E0A\u5348","\u4E0B\u5348"],void 0,void 0],void 0,[["\u65E5","\u4E00","\u4E8C","\u4E09","\u56DB","\u4E94","\u516D"],["\u9031\u65E5","\u9031\u4E00","\u9031\u4E8C","\u9031\u4E09","\u9031\u56DB","\u9031\u4E94","\u9031\u516D"],["\u661F\u671F\u65E5","\u661F\u671F\u4E00","\u661F\u671F\u4E8C","\u661F\u671F\u4E09","\u661F\u671F\u56DB","\u661F\u671F\u4E94","\u661F\u671F\u516D"],["\u65E5","\u4E00","\u4E8C","\u4E09","\u56DB","\u4E94","\u516D"]],void 0,[["1","2","3","4","5","6","7","8","9","10","11","12"],["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],void 0],void 0,[["\u897F\u5143\u524D","\u897F\u5143"],void 0,void 0],0,[6,0],["y/M/d","y\u5E74M\u6708d\u65E5",void 0,"y\u5E74M\u6708d\u65E5 EEEE"],["Bh:mm","Bh:mm:ss","Bh:mm:ss [z]","Bh:mm:ss [zzzz]"],["{1} {0}",void 0,void 0,void 0],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","\u975E\u6578\u503C",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"TWD","$","\u65B0\u53F0\u5E63",{AUD:["AU$","$"],BYN:[void 0,"\u0440."],KRW:["\uFFE6","\u20A9"],PHP:[void 0,"\u20B1"],RON:[void 0,"L"],RUR:[void 0,"\u0440."],TWD:["$"],USD:["US$","$"],XXX:[]},"ltr",$c];var ui="zh-CN",fi={"zh-CN":{text:"\u7B80\u4F53\u4E2D\u6587",ng:Ca,zorro:mo,date:di,delon:So,abbr:"\u{1F1E8}\u{1F1F3}"},"zh-TW":{text:"\u7E41\u4F53\u4E2D\u6587",ng:Ia,zorro:uo,date:mi,delon:Do,abbr:"\u{1F1ED}\u{1F1F0}"},"en-US":{text:"English",ng:Ea,zorro:po,date:Qn,delon:wo,abbr:"\u{1F1EC}\u{1F1E7}"}},$e=class $e extends vo{constructor(){super();this.http=d(xo);this.settings=d(P);this.nzI18nService=d(en);this.delonLocaleService=d(nn);this.platform=d(Kt);this._defaultLang=ui;this._langs=Object.keys(fi).map(e=>{let n=fi[e];return{code:e,text:n.text,abbr:n.abbr}});let e=this.getDefaultLang();this._defaultLang=this._langs.findIndex(n=>n.code===e)===-1?ui:e}getDefaultLang(){if(!this.platform.isBrowser)return ui;if(this.settings.layout.lang)return this.settings.layout.lang;let e=(navigator.languages?navigator.languages[0]:null)||navigator.language,n=e.split("-");return n.length<=1?e:`${n[0]}-${n[1].toUpperCase()}`}loadLangData(e){return this.http.get(`./assets/tmp/i18n/${e}.json`)}use(e,n){if(this._currentLang===e)return;this._data=this.flatData(n,[]);let i=fi[e];ji(i.ng),this.nzI18nService.setLocale(i.zorro),this.nzI18nService.setDateLocale(i.date),this.delonLocaleService.setLocale(i.delon),this._currentLang=e,this._change$.next(e)}getLangs(){return this._langs}};$e.\u0275fac=function(n){return new(n||$e)},$e.\u0275prov=Me({token:$e,factory:$e.\u0275fac,providedIn:"root"});var Aa=$e;var ka=(t,o)=>({$implicit:t,data:o}),jc=t=>({$implicit:t});function qc(t,o){}function Gc(t,o){if(t&1&&y(0,qc,0,0,"ng-template",1),t&2){let e=p();c("ngTemplateOutlet",e.instance.template)("ngTemplateOutletContext",Hn(2,ka,e,e.instance.options==null?null:e.instance.options.nzData))}}function Xc(t,o){t&1&&m(0,"nz-icon",6)}function Qc(t,o){t&1&&m(0,"nz-icon",7)}function Zc(t,o){t&1&&m(0,"nz-icon",8)}function Yc(t,o){t&1&&m(0,"nz-icon",9)}function Kc(t,o){if(t&1&&(he(0),m(1,"div",15),_e()),t&2){let e=p(2);a(),c("innerHTML",e.instance.title,fe)}}function Jc(t,o){if(t&1&&(he(0),m(1,"div",15),_e()),t&2){let e=p(2);a(),c("innerHTML",e.instance.content,fe)}}function ep(t,o){}function tp(t,o){if(t&1&&(r(0,"span",14),y(1,ep,0,0,"ng-template",1),s()),t&2){let e=p(2);a(),c("ngTemplateOutlet",o)("ngTemplateOutletContext",H(2,jc,e))}}function np(t,o){if(t&1&&(r(0,"div",2)(1,"div",2)(2,"div"),g(3,Xc,1,0,"nz-icon",6)(4,Qc,1,0,"nz-icon",7)(5,Zc,1,0,"nz-icon",8)(6,Yc,1,0,"nz-icon",9),r(7,"div",10),y(8,Kc,2,1,"ng-container",11),s(),r(9,"div",12),y(10,Jc,2,1,"ng-container",13),s(),g(11,tp,2,4,"span",14),s()()()),t&2){let e,n,i=p();a(2),b("ant-notification-notice-with-icon",i.instance.type!=="blank"),a(),h((e=i.instance.type)==="success"?3:e==="info"?4:e==="warning"?5:e==="error"?6:-1),a(5),c("nzStringTemplateOutlet",i.instance.title),a(2),c("nzStringTemplateOutlet",i.instance.content)("nzStringTemplateOutletContext",Hn(7,ka,i,i.instance.options==null?null:i.instance.options.nzData)),a(),h((n=i.instance.options==null?null:i.instance.options.nzButton)?11:-1,n)}}function ip(t,o){if(t&1&&(he(0),m(1,"nz-icon",16),_e()),t&2){let e=o.$implicit;a(),c("nzType",e)}}function op(t,o){if(t&1&&y(0,ip,2,1,"ng-container",11),t&2){let e=p();c("nzStringTemplateOutlet",e.instance.options==null?null:e.instance.options.nzCloseIcon)}}function ap(t,o){t&1&&m(0,"nz-icon",5)}function rp(t,o){if(t&1){let e=x();r(0,"nz-notification",7),_("destroyed",function(i){C(e);let l=p();return v(l.remove(i.id,i.userAction))}),s()}if(t&2){let e=o.$implicit;c("instance",e)("placement","topLeft")}}function lp(t,o){if(t&1){let e=x();r(0,"nz-notification",7),_("destroyed",function(i){C(e);let l=p();return v(l.remove(i.id,i.userAction))}),s()}if(t&2){let e=o.$implicit;c("instance",e)("placement","topRight")}}function sp(t,o){if(t&1){let e=x();r(0,"nz-notification",7),_("destroyed",function(i){C(e);let l=p();return v(l.remove(i.id,i.userAction))}),s()}if(t&2){let e=o.$implicit;c("instance",e)("placement","bottomLeft")}}function cp(t,o){if(t&1){let e=x();r(0,"nz-notification",7),_("destroyed",function(i){C(e);let l=p();return v(l.remove(i.id,i.userAction))}),s()}if(t&2){let e=o.$implicit;c("instance",e)("placement","bottomRight")}}function pp(t,o){if(t&1){let e=x();r(0,"nz-notification",7),_("destroyed",function(i){C(e);let l=p();return v(l.remove(i.id,i.userAction))}),s()}if(t&2){let e=o.$implicit;c("instance",e)("placement","top")}}function dp(t,o){if(t&1){let e=x();r(0,"nz-notification",7),_("destroyed",function(i){C(e);let l=p();return v(l.remove(i.id,i.userAction))}),s()}if(t&2){let e=o.$implicit;c("instance",e)("placement","bottom")}}var mp=(()=>{class t extends Ao{instance;index;placement;destroyed=new X;constructor(){super(),this.destroyRef.onDestroy(()=>{this.instance.onClick.complete()})}onClick(e){this.instance.onClick.next(e)}close(){this.destroy(!0)}get state(){if(this.instance.state==="enter")switch(this.placement){case"topLeft":case"bottomLeft":return"enterLeft";case"topRight":case"bottomRight":return"enterRight";case"top":return"enterTop";case"bottom":return"enterBottom";default:return"enterRight"}else return this.instance.state}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=z({type:t,selectors:[["nz-notification"]],inputs:{instance:"instance",index:"index",placement:"placement"},outputs:{destroyed:"destroyed"},exportAs:["nzNotification"],features:[On],decls:7,vars:7,consts:[[1,"ant-notification-notice","ant-notification-notice-closable",3,"click","mouseenter","mouseleave"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"ant-notification-notice-content"],["tabindex","0",1,"ant-notification-notice-close",3,"click"],[1,"ant-notification-notice-close-x"],["nzType","close",1,"ant-notification-close-icon"],["nzType","check-circle",1,"ant-notification-notice-icon","ant-notification-notice-icon-success"],["nzType","info-circle",1,"ant-notification-notice-icon","ant-notification-notice-icon-info"],["nzType","exclamation-circle",1,"ant-notification-notice-icon","ant-notification-notice-icon-warning"],["nzType","close-circle",1,"ant-notification-notice-icon","ant-notification-notice-icon-error"],[1,"ant-notification-notice-message"],[4,"nzStringTemplateOutlet"],[1,"ant-notification-notice-description"],[4,"nzStringTemplateOutlet","nzStringTemplateOutletContext"],[1,"ant-notification-notice-btn"],[3,"innerHTML"],[3,"nzType"]],template:function(n,i){n&1&&(r(0,"div",0),_("@notificationMotion.done",function(f){return i.animationStateChanged.next(f)})("click",function(f){return i.onClick(f)})("mouseenter",function(){return i.onEnter()})("mouseleave",function(){return i.onLeave()}),g(1,Gc,1,5,null,1)(2,np,12,10,"div",2),r(3,"a",3),_("click",function(){return i.close()}),r(4,"span",4),g(5,op,1,1,"ng-container")(6,ap,1,0,"nz-icon",5),s()()()),n&2&&(Ke((i.instance.options==null?null:i.instance.options.nzStyle)||null),ze((i.instance.options==null?null:i.instance.options.nzClass)||""),c("@notificationMotion",i.state),a(),h(i.instance.template?1:2),a(4),h(i.instance.options!=null&&i.instance.options.nzCloseIcon?5:6))},dependencies:[M,T,ot,it,Q],encapsulation:2,data:{animation:[ho]}})}return t})(),In="notification",up={nzTop:"24px",nzBottom:"24px",nzPlacement:"topRight",nzDuration:4500,nzMaxStack:8,nzPauseOnHover:!0,nzAnimate:!0,nzDirection:"ltr"},fp=(()=>{class t extends Io{dir=this.nzConfigService.getConfigForComponent(In)?.nzDirection||"ltr";bottom;top;topLeftInstances=[];topRightInstances=[];bottomLeftInstances=[];bottomRightInstances=[];topInstances=[];bottomInstances=[];constructor(){super(),this.updateConfig()}create(e){let n=this.onCreate(e),i=n.options.nzKey,l=this.instances.find(f=>f.options.nzKey===e.options.nzKey);return i&&l?this.replaceNotification(l,n):(this.instances.length>=this.config.nzMaxStack&&(this.instances=this.instances.slice(1)),this.instances=[...this.instances,n]),this.readyInstances(),n}onCreate(e){return e.options=this.mergeOptions(e.options),e.onClose=new kn,e.onClick=new kn,e}subscribeConfigChange(){no(In,()=>{this.updateConfig(),this.dir=this.nzConfigService.getConfigForComponent(In)?.nzDirection||this.dir})}updateConfig(){this.config=ne(ne(ne({},up),this.config),this.nzConfigService.getConfigForComponent(In)),this.top=jn(this.config.nzTop),this.bottom=jn(this.config.nzBottom),this.cdr.markForCheck()}replaceNotification(e,n){e.title=n.title,e.content=n.content,e.template=n.template,e.type=n.type,e.options=n.options}readyInstances(){let e={topLeft:[],topRight:[],bottomLeft:[],bottomRight:[],top:[],bottom:[]};this.instances.forEach(n=>{switch(n.options.nzPlacement){case"topLeft":e.topLeft.unshift(n);break;case"topRight":e.topRight.unshift(n);break;case"bottomLeft":e.bottomLeft.unshift(n);break;case"bottomRight":e.bottomRight.unshift(n);break;case"top":e.top.unshift(n);break;case"bottom":e.bottom.unshift(n);break;default:e.topRight.unshift(n)}}),this.topLeftInstances=e.topLeft,this.topRightInstances=e.topRight,this.bottomLeftInstances=e.bottomLeft,this.bottomRightInstances=e.bottomRight,this.topInstances=e.top,this.bottomInstances=e.bottom,this.cdr.detectChanges()}mergeOptions(e){let{nzDuration:n,nzAnimate:i,nzPauseOnHover:l,nzPlacement:f}=this.config;return ne({nzDuration:n,nzAnimate:i,nzPauseOnHover:l,nzPlacement:f},e)}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=z({type:t,selectors:[["nz-notification-container"]],exportAs:["nzNotificationContainer"],features:[On],decls:18,vars:40,consts:[[1,"ant-notification","ant-notification-topLeft"],[3,"instance","placement"],[1,"ant-notification","ant-notification-topRight"],[1,"ant-notification","ant-notification-bottomLeft"],[1,"ant-notification","ant-notification-bottomRight"],[1,"ant-notification","ant-notification-top"],[1,"ant-notification","ant-notification-bottom"],[3,"destroyed","instance","placement"]],template:function(n,i){n&1&&(r(0,"div",0),w(1,rp,1,2,"nz-notification",1,ge),s(),r(3,"div",2),w(4,lp,1,2,"nz-notification",1,ge),s(),r(6,"div",3),w(7,sp,1,2,"nz-notification",1,ge),s(),r(9,"div",4),w(10,cp,1,2,"nz-notification",1,ge),s(),r(12,"div",5),w(13,pp,1,2,"nz-notification",1,ge),s(),r(15,"div",6),w(16,dp,1,2,"nz-notification",1,ge),s()),n&2&&(De("top",i.top)("left","0px"),b("ant-notification-rtl",i.dir==="rtl"),a(),D(i.topLeftInstances),a(2),De("top",i.top)("right","0px"),b("ant-notification-rtl",i.dir==="rtl"),a(),D(i.topRightInstances),a(2),De("bottom",i.bottom)("left","0px"),b("ant-notification-rtl",i.dir==="rtl"),a(),D(i.bottomLeftInstances),a(2),De("bottom",i.bottom)("right","0px"),b("ant-notification-rtl",i.dir==="rtl"),a(),D(i.bottomRightInstances),a(2),De("top",i.top)("left","50%")("transform","translateX(-50%)"),b("ant-notification-rtl",i.dir==="rtl"),a(),D(i.topInstances),a(2),De("bottom",i.bottom)("left","50%")("transform","translateX(-50%)"),b("ant-notification-rtl",i.dir==="rtl"),a(),D(i.bottomInstances))},dependencies:[mp],encapsulation:2,changeDetection:0})}return t})(),gp=0,gi=(()=>{class t extends Eo{componentPrefix="notification-";success(e,n,i){return this.create("success",e,n,i)}error(e,n,i){return this.create("error",e,n,i)}info(e,n,i){return this.create("info",e,n,i)}warning(e,n,i){return this.create("warning",e,n,i)}blank(e,n,i){return this.create("blank",e,n,i)}create(e,n,i,l){return this.createInstance({type:e,title:n,content:i},l)}template(e,n){return this.createInstance({template:e},n)}generateMessageId(){return`${this.componentPrefix}-${gp++}`}createInstance(e,n){return this.container=this.withContainer(fp),this.container.create(_i(ne({},e),{createdAt:new Date,messageId:n?.nzKey||this.generateMessageId(),options:n}))}static \u0275fac=(()=>{let e;return function(i){return(e||(e=Mi(t)))(i||t)}})();static \u0275prov=Me({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var hp={200:"\u670D\u52A1\u5668\u6210\u529F\u8FD4\u56DE\u8BF7\u6C42\u7684\u6570\u636E\u3002",201:"\u65B0\u5EFA\u6216\u4FEE\u6539\u6570\u636E\u6210\u529F\u3002",202:"\u4E00\u4E2A\u8BF7\u6C42\u5DF2\u7ECF\u8FDB\u5165\u540E\u53F0\u6392\u961F\uFF08\u5F02\u6B65\u4EFB\u52A1\uFF09\u3002",204:"\u5220\u9664\u6570\u636E\u6210\u529F\u3002",400:"\u53D1\u51FA\u7684\u8BF7\u6C42\u6709\u9519\u8BEF\uFF0C\u670D\u52A1\u5668\u6CA1\u6709\u8FDB\u884C\u65B0\u5EFA\u6216\u4FEE\u6539\u6570\u636E\u7684\u64CD\u4F5C\u3002",401:"\u7528\u6237\u6CA1\u6709\u6743\u9650\uFF08\u4EE4\u724C\u3001\u7528\u6237\u540D\u3001\u5BC6\u7801\u9519\u8BEF\uFF09\u3002",403:"\u7528\u6237\u5F97\u5230\u6388\u6743\uFF0C\u4F46\u662F\u8BBF\u95EE\u662F\u88AB\u7981\u6B62\u7684\u3002",404:"\u53D1\u51FA\u7684\u8BF7\u6C42\u9488\u5BF9\u7684\u662F\u4E0D\u5B58\u5728\u7684\u8BB0\u5F55\uFF0C\u670D\u52A1\u5668\u6CA1\u6709\u8FDB\u884C\u64CD\u4F5C\u3002",406:"\u8BF7\u6C42\u7684\u683C\u5F0F\u4E0D\u53EF\u5F97\u3002",410:"\u8BF7\u6C42\u7684\u8D44\u6E90\u88AB\u6C38\u4E45\u5220\u9664\uFF0C\u4E14\u4E0D\u4F1A\u518D\u5F97\u5230\u7684\u3002",422:"\u5F53\u521B\u5EFA\u4E00\u4E2A\u5BF9\u8C61\u65F6\uFF0C\u53D1\u751F\u4E00\u4E2A\u9A8C\u8BC1\u9519\u8BEF\u3002",500:"\u670D\u52A1\u5668\u53D1\u751F\u9519\u8BEF\uFF0C\u8BF7\u68C0\u67E5\u670D\u52A1\u5668\u3002",502:"\u7F51\u5173\u9519\u8BEF\u3002",503:"\u670D\u52A1\u4E0D\u53EF\u7528\uFF0C\u670D\u52A1\u5668\u6682\u65F6\u8FC7\u8F7D\u6216\u7EF4\u62A4\u3002",504:"\u7F51\u5173\u8D85\u65F6\u3002"};function _p(t,o){setTimeout(()=>t.get(ce).navigateByUrl(o))}function Dt(t){t.get(gi).error("\u672A\u767B\u5F55\u6216\u767B\u5F55\u5DF2\u8FC7\u671F\uFF0C\u8BF7\u91CD\u65B0\u767B\u5F55\u3002",""),_p(t,t.get(pe).login_url)}function Fa(t){let o={},e=d(at).currentLang;return!t?.has("Accept-Language")&&e&&(o["Accept-Language"]=e),o}function La(t,o){if(o.status>=200&&o.status<300||o.status===401)return;let e=hp[o.status]||o.statusText;t.get(gi).error(`\u8BF7\u6C42\u9519\u8BEF ${o.status}: ${o.url}`,e)}var je=!1,hi=new Ge(null);function Oa(t,o){let e=t.get(pe).get()?.token;return o.clone({setHeaders:{token:`Bearer ${e}`}})}function Pa(t){let o=t.get(pe).get();return t.get(Qt).post("/api/auth/refresh",{headers:{refresh_token:o?.refresh_token||""}})}function Ra(t,o,e,n){return["/api/auth/refresh"].some(i=>e.url.includes(i))?(Dt(t),Qe(()=>o)):je?hi.pipe(ue(i=>!!i),xi(1),Se(()=>n(Oa(t,e)))):(je=!0,hi.next(null),Pa(t).pipe(Se(i=>(je=!1,hi.next(i),t.get(pe).set(i),n(Oa(t,e)))),Ht(i=>(je=!1,Dt(t),Qe(()=>i)))))}function Cp(t){let o=t.get(pe);o.refresh.pipe(ue(()=>!je),Se(e=>(console.log(e),je=!0,Pa(t)))).subscribe({next:e=>{e.expired=+new Date+1e3*60*5,je=!1,o.set(e)},error:()=>Dt(t)})}function vp(){return[$t(()=>(o=>()=>Cp(o))(d(Ze))())]}function yp(t,o,e,n){switch(La(t,o),o.status){case 200:break;case 401:if(Ie.api.refreshTokenEnabled&&Ie.api.refreshTokenType==="re-request")return Ra(t,o,e,n);Dt(t);break;case 403:case 404:case 500:break;default:o instanceof Bn&&console.warn("\u672A\u53EF\u77E5\u9519\u8BEF\uFF0C\u5927\u90E8\u5206\u662F\u7531\u4E8E\u540E\u7AEF\u4E0D\u652F\u6301\u8DE8\u57DFCORS\u6216\u65E0\u6548\u914D\u7F6E\u5F15\u8D77\uFF0C\u8BF7\u53C2\u8003 https://ng-alain.com/docs/server \u89E3\u51B3\u8DE8\u57DF\u95EE\u9898",o);break}return o instanceof Bn?Qe(()=>o):o._throw===!0?Qe(()=>o.body):Xe(o)}var yh=(t,o)=>{let e=t.url;if(!t.context.get(bo)&&!e.startsWith("https://")&&!e.startsWith("http://")){let{baseUrl:l}=Ie.api;e=l+(l.endsWith("/")&&e.startsWith("/")?e.substring(1):e)}let n=t.clone({url:e,setHeaders:Fa(t.headers)}),i=d(Ze);return o(n).pipe(vi(l=>l instanceof qi?yp(i,l,n,o):Xe(l)))};function Vh(){return[An,$t(()=>(o=>()=>o.load())(d(An))())]}var qe=class qe{constructor(){this.menuService=d(tn);this.settingService=d(P);this.aclService=d(Ji);this.titleService=d(zo);this.httpClient=d(Qt);this.router=d(ce);this.i18n=d(at);this.firebaseAuth=d(rt);this.firebaseRoleService=d(lt)}load(){let o=this.i18n.defaultLang;return yi(this.i18n.loadLangData(o),this.httpClient.get("./assets/tmp/app-data.json"),$n(this.firebaseRoleService.availableRoles),$n(this.firebaseRoleService.availablePermissions)).pipe(Ht(e=>(console.warn("StartupService.load: Network request failed",e),setTimeout(()=>this.router.navigateByUrl("/exception/500")),[])),Se(([e,n,i,l])=>(this.i18n.use(o,e),this.settingService.setApp(n.app),Ie.firebase?.enableFirebaseAuth?this.syncFirebaseWithDelonSystem(n):(this.settingService.setUser(n.user),this.aclService.setFull(!0)),this.menuService.add(n.menu),this.titleService.default="",this.titleService.suffix=n.app.name,Xe(void 0))))}syncFirebaseWithDelonSystem(o){let e=this.firebaseAuth.getCurrentUser();if(e){let n={name:e.displayName||e.email||"Firebase User",avatar:e.photoURL||"./assets/tmp/img/avatar.jpg",email:e.email||"",uid:e.uid,isFirebaseUser:!0,authProvider:e.authProvider,isAnonymous:e.isAnonymous};this.settingService.setUser(n),e.roles&&e.roles.length>0?this.aclService.setRole(e.roles):e.isAnonymous?this.aclService.setRole(["guest"]):this.aclService.setRole(["user"]),console.log("Firebase user synced with Delon system:",n)}else this.settingService.setUser(o.user),this.aclService.setFull(!0),console.log("No Firebase user, using default settings");return this.firebaseAuth.syncWithDelonAuth(),Xe(void 0)}};qe.\u0275fac=function(e){return new(e||qe)},qe.\u0275prov=Me({token:qe,factory:qe.\u0275fac});var An=qe;var Bh=()=>!0;export{Ca as a,di as b,Aa as c,vp as d,yh as e,Vh as f,An as g,Bh as h,ha as i,_a as j,Zo as k};
