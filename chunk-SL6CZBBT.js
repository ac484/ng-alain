import{q as I}from"./chunk-DY73EC3Z.js";import"./chunk-DVMK5JOE.js";import"./chunk-PH7OJS7L.js";import"./chunk-K5NT3KUM.js";import{b as k}from"./chunk-5ELRKKII.js";import"./chunk-X2TPOVG3.js";import"./chunk-3OEVQKM4.js";import"./chunk-JE3MAD4U.js";import{Db as D,Eh as h,Fh as w,Gb as m,Gh as N,Jb as d,Jd as T,Pa as g,Rh as S,Sh as M,Ua as p,Xa as _,Yb as u,ai as E,bb as v,bi as V,ed as y,lc as b,pa as s,qa as l,sd as z,tb as x,ub as o,vb as r}from"./chunk-F6QP76LV.js";import{a as f,b as C}from"./chunk-57BLH6QZ.js";var L=()=>({show:!0});function B(F,e){if(F&1){let t=D();o(0,"nz-space")(1,"button",3),m("click",function(){let a=s(t).$implicit,c=d();return l(c.viewDetail(a.id))}),u(2,"\u67E5\u770B"),r(),o(3,"button",3),m("click",function(){let a=s(t).$implicit,c=d();return l(c.editContract(a.id))}),u(4,"\u7DE8\u8F2F"),r()()}}var i=class i{constructor(e,t){this.router=e;this.http=t;this.data=[];this.total=0;this.columns=[{title:"\u5408\u7D04\u6A19\u984C",index:"title"},{title:"\u5BA2\u6236",index:"client"},{title:"\u91D1\u984D",index:"amount",type:"currency"},{title:"\u72C0\u614B",index:"status",render:"status",type:"tag",tag:{draft:{text:"\u8349\u7A3F",color:"default"},pending:{text:"\u5F85\u5BE9\u6838",color:"processing"},approved:{text:"\u5DF2\u6838\u51C6",color:"success"},rejected:{text:"\u5DF2\u62D2\u7D55",color:"error"}}},{title:"\u5EFA\u7ACB\u65E5\u671F",index:"createDate",type:"date"},{title:"\u5230\u671F\u65E5\u671F",index:"dueDate",type:"date"},{title:"\u64CD\u4F5C",buttons:[{text:"\u64CD\u4F5C"}]}]}ngOnInit(){this.loadData()}loadData(){this.http.get("/contract").subscribe(e=>{this.data=e.list.map(t=>C(f({},t),{dueDate:t.endDate})),this.total=e.total})}viewDetail(e){this.router.navigate(["/contract/detail",e])}editContract(e){this.router.navigate(["/contract/edit",e])}};i.\u0275fac=function(t){return new(t||i)(p(T),p(z))},i.\u0275cmp=_({type:i,selectors:[["app-contract-list"]],decls:4,vars:5,consts:[["st",""],[3,"data","columns","total","page"],["st-row-button",""],["nz-button","","nzType","link",3,"click"]],template:function(t,n){t&1&&(o(0,"nz-card")(1,"st",1,0),v(3,B,5,0,"ng-template",2),r()()),t&2&&(g(),x("data",n.data)("columns",n.columns)("total",n.total)("page",b(4,L)))},dependencies:[y,I,M,S,N,V,E,k,w,h],encapsulation:2});var j=i;export{j as ContractListComponent};
