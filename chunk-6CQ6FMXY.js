import{a as Y,b as Re,g as _e}from"./chunk-PYICGXQ5.js";import{a as f}from"./chunk-3QKLANQ6.js";import{j as y,m as j}from"./chunk-YGHB7AW3.js";import{h as Se,m as F}from"./chunk-Z2B7QBBP.js";import{b as B}from"./chunk-QNTYQDQV.js";import{c as Ce}from"./chunk-4OGGW47F.js";import{$d as v,Aa as b,B as u,C as Z,Ec as ze,Fa as E,I as w,L as d,M as c,Nb as re,O as U,Ob as se,Pa as ee,Pb as ae,Sa as T,V as q,X as G,Xb as le,Ze as P,_b as ce,b as k,bc as m,bf as be,cb as te,cc as de,dc as pe,de as we,df as De,fb as $,fc as ue,fd as ge,g as L,ga as K,gc as fe,h as g,hc as me,hd as h,ib as x,n as H,nb as ne,nc as he,ne as Me,oa as J,ob as A,oc as ve,pa as V,pb as D,pc as ye,q as Q,r as O,ta as o,tb as ie,vb as I,wb as oe,za as M}from"./chunk-VMD4HRQF.js";import{g as N}from"./chunk-57BLH6QZ.js";var Ee=["*"];function Te(e,C){if(e&1){let t=le();se(0,"div",0),ce("@slideMotion.done",function(l){M(t);let i=m();return b(i.onAnimationEvent(l))})("mouseenter",function(){M(t);let l=m();return b(l.setMouseState(!0))})("mouseleave",function(){M(t);let l=m();return b(l.setMouseState(!1))}),pe(1),ae()}if(e&2){let t=m();ve(t.nzOverlayStyle),ye(t.nzOverlayClassName),he("ant-dropdown-rtl",t.dir==="rtl"),re("@slideMotion",void 0)("@.disabled",!!(t.noAnimation!=null&&t.noAnimation.nzNoAnimation))("nzNoAnimation",t.noAnimation==null?null:t.noAnimation.nzNoAnimation)}}var $e="dropDown",xe=[f.bottomLeft,f.bottomRight,f.topRight,f.topLeft],ct=(()=>{var n;let e,C=[],t=[];return n=class{nzConfigService=o(be);renderer=o($);viewContainerRef=o(x);platform=o(we);destroyRef=o(E);_nzModuleName=$e;elementRef=o(T);overlay=o(j);portal;overlayRef=null;positionStrategy=this.overlay.position().flexibleConnectedTo(this.elementRef.nativeElement).withLockedPosition().withTransformOriginOn(".ant-dropdown");inputVisible$=new g(!1);nzTrigger$=new g("hover");overlayClose$=new L;nzDropdownMenu=null;nzTrigger="hover";nzMatchWidthElement=null;nzBackdrop=O(this,C,!1);nzClickHide=(O(this,t),!0);nzDisabled=!1;nzVisible=!1;nzOverlayClassName="";nzOverlayStyle={};nzPlacement="bottomLeft";nzVisibleChange=new I;constructor(){this.destroyRef.onDestroy(()=>{this.overlayRef?.dispose(),this.overlayRef=null})}setDropdownMenuValue(i,r){this.nzDropdownMenu&&this.nzDropdownMenu.setValue(i,r)}ngAfterViewInit(){if(this.nzDropdownMenu){let i=this.elementRef.nativeElement,r=d(w(i,"mouseenter").pipe(u(()=>!0)),w(i,"mouseleave").pipe(u(()=>!1))),s=this.nzDropdownMenu.mouseState$,S=d(s,r),R=w(i,"click").pipe(u(()=>!this.nzVisible)),_=this.nzTrigger$.pipe(K(a=>a==="hover"?S:a==="click"?R:H)),z=this.nzDropdownMenu.descendantMenuItemClick$.pipe(c(()=>this.nzClickHide),u(()=>!1)),ke=d(_,z,this.overlayClose$).pipe(c(()=>!this.nzDisabled)),Oe=d(this.inputVisible$,ke);Z([Oe,this.nzDropdownMenu.isChildSubMenuOpen$]).pipe(u(([a,W])=>a||W),U(150),q(),c(()=>this.platform.isBrowser),v(this.destroyRef)).subscribe(a=>{let X=(this.nzMatchWidthElement?this.nzMatchWidthElement.nativeElement:i).getBoundingClientRect().width;if(this.nzVisible!==a&&this.nzVisibleChange.emit(a),this.nzVisible=a,a){if(!this.overlayRef)this.overlayRef=this.overlay.create({positionStrategy:this.positionStrategy,minWidth:X,disposeOnNavigation:!0,hasBackdrop:this.nzBackdrop&&this.nzTrigger==="click",scrollStrategy:this.overlay.scrollStrategies.reposition()}),d(this.overlayRef.backdropClick(),this.overlayRef.detachments(),this.overlayRef.outsidePointerEvents().pipe(c(p=>!this.elementRef.nativeElement.contains(p.target))),this.overlayRef.keydownEvents().pipe(c(p=>p.keyCode===27&&!Ce(p)))).pipe(v(this.destroyRef)).subscribe(()=>{this.overlayClose$.next(!1)});else{let p=this.overlayRef.getConfig();p.minWidth=X}this.positionStrategy.withPositions([f[this.nzPlacement],...xe]),(!this.portal||this.portal.templateRef!==this.nzDropdownMenu.templateRef)&&(this.portal=new B(this.nzDropdownMenu.templateRef,this.viewContainerRef)),this.overlayRef.attach(this.portal)}else this.overlayRef&&this.overlayRef.detach()}),this.nzDropdownMenu.animationStateChange$.pipe(v(this.destroyRef)).subscribe(a=>{a.toState==="void"&&(this.overlayRef&&this.overlayRef.dispose(),this.overlayRef=null)})}}ngOnChanges(i){let{nzVisible:r,nzDisabled:s,nzOverlayClassName:S,nzOverlayStyle:R,nzTrigger:_}=i;if(_&&this.nzTrigger$.next(this.nzTrigger),r&&this.inputVisible$.next(this.nzVisible),s){let z=this.elementRef.nativeElement;this.nzDisabled?(this.renderer.setAttribute(z,"disabled",""),this.inputVisible$.next(!1)):this.renderer.removeAttribute(z,"disabled")}S&&this.setDropdownMenuValue("nzOverlayClassName",this.nzOverlayClassName),R&&this.setDropdownMenuValue("nzOverlayStyle",this.nzOverlayStyle)}},(()=>{let i=typeof Symbol=="function"&&Symbol.metadata?Object.create(null):void 0;e=[De()],Q(null,null,e,{kind:"field",name:"nzBackdrop",static:!1,private:!1,access:{has:r=>"nzBackdrop"in r,get:r=>r.nzBackdrop,set:(r,s)=>{r.nzBackdrop=s}},metadata:i},C,t),i&&Object.defineProperty(n,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:i})})(),N(n,"\u0275fac",function(r){return new(r||n)}),N(n,"\u0275dir",D({type:n,selectors:[["","nz-dropdown",""]],hostAttrs:[1,"ant-dropdown-trigger"],inputs:{nzDropdownMenu:"nzDropdownMenu",nzTrigger:"nzTrigger",nzMatchWidthElement:"nzMatchWidthElement",nzBackdrop:[2,"nzBackdrop","nzBackdrop",h],nzClickHide:[2,"nzClickHide","nzClickHide",h],nzDisabled:[2,"nzDisabled","nzDisabled",h],nzVisible:[2,"nzVisible","nzVisible",h],nzOverlayClassName:"nzOverlayClassName",nzOverlayStyle:"nzOverlayStyle",nzPlacement:"nzPlacement"},outputs:{nzVisibleChange:"nzVisibleChange"},exportAs:["nzDropdown"],features:[ee]})),n})(),Ne=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275mod=A({type:e});static \u0275inj=V({})}return e})(),dt=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275dir=D({type:e,selectors:[["a","nz-dropdown",""]],hostAttrs:[1,"ant-dropdown-link"]})}return e})(),pt=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275dir=D({type:e,selectors:[["","nz-button","","nz-dropdown",""]]})}return e})(),ut=(()=>{class e{cdr=o(ge);elementRef=o(T);renderer=o($);viewContainerRef=o(x);directionality=o(Me);destroyRef=o(E);mouseState$=new g(!1);nzMenuService=o(Y);isChildSubMenuOpen$=this.nzMenuService.isChildSubMenuOpen$;descendantMenuItemClick$=this.nzMenuService.descendantMenuItemClick$;animationStateChange$=new I;nzOverlayClassName="";nzOverlayStyle={};templateRef;dir="ltr";onAnimationEvent(t){this.animationStateChange$.emit(t)}setMouseState(t){this.mouseState$.next(t)}setValue(t,n){this[t]=n,this.cdr.markForCheck()}noAnimation=o(F,{host:!0,optional:!0});ngOnInit(){this.directionality.change?.pipe(v(this.destroyRef)).subscribe(t=>{this.dir=t,this.cdr.detectChanges()}),this.dir=this.directionality.value}ngAfterContentInit(){this.renderer.removeChild(this.renderer.parentNode(this.elementRef.nativeElement),this.elementRef.nativeElement)}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=ne({type:e,selectors:[["nz-dropdown-menu"]],viewQuery:function(n,l){if(n&1&&ue(te,7),n&2){let i;fe(i=me())&&(l.templateRef=i.first)}},exportAs:["nzDropdownMenu"],features:[ze([Y,{provide:Re,useValue:!0}])],ngContentSelectors:Ee,decls:1,vars:0,consts:[[1,"ant-dropdown",3,"mouseenter","mouseleave","nzNoAnimation"]],template:function(n,l){n&1&&(de(),ie(0,Te,2,9,"ng-template"))},dependencies:[F],encapsulation:2,data:{animation:[Se]},changeDetection:0})}return e})(),ft=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275mod=A({type:e});static \u0275inj=V({imports:[Ne,_e]})}return e})(),Ae=[new y({originX:"start",originY:"top"},{overlayX:"start",overlayY:"top"}),new y({originX:"start",originY:"top"},{overlayX:"start",overlayY:"bottom"}),new y({originX:"start",originY:"top"},{overlayX:"end",overlayY:"bottom"}),new y({originX:"start",originY:"top"},{overlayX:"end",overlayY:"top"})],mt=(()=>{class e{ngZone=o(oe);overlay=o(j);overlayRef=null;closeSubscription=k.EMPTY;create(t,n){this.close(!0);let{x:l,y:i}=t;t instanceof MouseEvent&&t.preventDefault();let r=this.overlay.position().flexibleConnectedTo({x:l,y:i}).withPositions(Ae).withTransformOriginOn(".ant-dropdown");return this.overlayRef=this.overlay.create({positionStrategy:r,disposeOnNavigation:!0,scrollStrategy:this.overlay.scrollStrategies.close()}),this.closeSubscription=new k,this.closeSubscription.add(n.descendantMenuItemClick$.subscribe(()=>this.close())),this.closeSubscription.add(d(P(document,"click").pipe(c(s=>!!this.overlayRef&&!this.overlayRef.overlayElement.contains(s.target)),c(s=>s.button!==2)),P(document,"keydown").pipe(c(s=>s.key==="Escape"))).pipe(G()).subscribe(()=>this.ngZone.run(()=>this.close()))),this.overlayRef.attach(new B(n.templateRef,n.viewContainerRef))}close(t=!1){this.overlayRef&&(this.overlayRef.detach(),t&&this.overlayRef.dispose(),this.overlayRef=null,this.closeSubscription.unsubscribe())}static \u0275fac=function(n){return new(n||e)};static \u0275prov=J({token:e,factory:e.\u0275fac,providedIn:Ne})}return e})();export{ct as a,dt as b,pt as c,ut as d,ft as e,mt as f};
