import{a as g}from"./chunk-K33NE46S.js";import{a as de}from"./chunk-623HF42T.js";import{b as ce,i as pt,j as ht,n as vt}from"./chunk-22S67FWE.js";import{B as ne,C as ie,D as oe,E as re,G as ae,H as se,g as Ht,r as J,s as Qt,t as te,u as G,x as ee}from"./chunk-5MAMKSM6.js";import{a as le,b as me,c as fe}from"./chunk-W2F5J6VW.js";import{H as Kt,I as Yt,L as Zt,P as Jt,a as qt,p as dt,q as x,r as d,s as u,t as Z,u as ut}from"./chunk-Y7K6W6MG.js";import{w as Gt}from"./chunk-ACVYVQPN.js";import{m as Y}from"./chunk-J2M5LMUW.js";import{K as ft,Nc as Ut,Oc as $t,Pc as Xt,Qc as jt,e as Vt,fa as Bt}from"./chunk-WLGCOGYM.js";import{M as Ot,O as mt,P as K,q as Ft,z as Wt}from"./chunk-XHOQOBOK.js";import{A as Pt,Aa as N,B as D,Ba as S,D as B,Ea as $,Fb as st,H as kt,Jb as ct,Jc as A,Kc as y,Lb as F,Lc as Lt,M as rt,Mc as Rt,N as At,Ob as It,P as U,Sa as Et,T as Mt,Vb as X,_b as H,ac as V,cc as T,cd as Dt,dc as w,dd as lt,ec as P,fa as z,fc as m,g as it,gc as c,h as wt,hc as l,ic as h,lb as at,mc as j,nc as q,oa as b,pc as k,sb as s,ta as a,u as _,v as ot,vc as v,w as R,yc as f}from"./chunk-ONJQPJYD.js";import{a as p,b as O,h as Tt}from"./chunk-HN2SGUN4.js";var Q={production:!0,useHash:!0,api:{baseUrl:"./",refreshTokenEnabled:!0,refreshTokenType:"auth-refresh"}};function Le(e){let o=e;return 5}var ue=["zh",[["\u4E0A\u5348","\u4E0B\u5348"],void 0,void 0],void 0,[["\u65E5","\u4E00","\u4E8C","\u4E09","\u56DB","\u4E94","\u516D"],["\u5468\u65E5","\u5468\u4E00","\u5468\u4E8C","\u5468\u4E09","\u5468\u56DB","\u5468\u4E94","\u5468\u516D"],["\u661F\u671F\u65E5","\u661F\u671F\u4E00","\u661F\u671F\u4E8C","\u661F\u671F\u4E09","\u661F\u671F\u56DB","\u661F\u671F\u4E94","\u661F\u671F\u516D"],["\u5468\u65E5","\u5468\u4E00","\u5468\u4E8C","\u5468\u4E09","\u5468\u56DB","\u5468\u4E94","\u5468\u516D"]],void 0,[["1","2","3","4","5","6","7","8","9","10","11","12"],["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],["\u4E00\u6708","\u4E8C\u6708","\u4E09\u6708","\u56DB\u6708","\u4E94\u6708","\u516D\u6708","\u4E03\u6708","\u516B\u6708","\u4E5D\u6708","\u5341\u6708","\u5341\u4E00\u6708","\u5341\u4E8C\u6708"]],void 0,[["\u516C\u5143\u524D","\u516C\u5143"],void 0,void 0],0,[6,0],["y/M/d","y\u5E74M\u6708d\u65E5",void 0,"y\u5E74M\u6708d\u65E5EEEE"],["HH:mm","HH:mm:ss","z HH:mm:ss","zzzz HH:mm:ss"],["{1} {0}",void 0,void 0,void 0],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"CNY","\xA5","\u4EBA\u6C11\u5E01",{AUD:["AU$","$"],BYN:[void 0,"\u0440."],CNY:["\xA5"],ILR:["ILS"],JPY:["JP\xA5","\xA5"],KRW:["\uFFE6","\u20A9"],PHP:[void 0,"\u20B1"],RUR:[void 0,"\u0440."],TWD:["NT$"],USD:["US$","$"],XXX:[]},"ltr",Le];var Re={lessThanXSeconds:{one:"\u4E0D\u5230 1 \u79D2",other:"\u4E0D\u5230 {{count}} \u79D2"},xSeconds:{one:"1 \u79D2",other:"{{count}} \u79D2"},halfAMinute:"\u534A\u5206\u949F",lessThanXMinutes:{one:"\u4E0D\u5230 1 \u5206\u949F",other:"\u4E0D\u5230 {{count}} \u5206\u949F"},xMinutes:{one:"1 \u5206\u949F",other:"{{count}} \u5206\u949F"},xHours:{one:"1 \u5C0F\u65F6",other:"{{count}} \u5C0F\u65F6"},aboutXHours:{one:"\u5927\u7EA6 1 \u5C0F\u65F6",other:"\u5927\u7EA6 {{count}} \u5C0F\u65F6"},xDays:{one:"1 \u5929",other:"{{count}} \u5929"},aboutXWeeks:{one:"\u5927\u7EA6 1 \u4E2A\u661F\u671F",other:"\u5927\u7EA6 {{count}} \u4E2A\u661F\u671F"},xWeeks:{one:"1 \u4E2A\u661F\u671F",other:"{{count}} \u4E2A\u661F\u671F"},aboutXMonths:{one:"\u5927\u7EA6 1 \u4E2A\u6708",other:"\u5927\u7EA6 {{count}} \u4E2A\u6708"},xMonths:{one:"1 \u4E2A\u6708",other:"{{count}} \u4E2A\u6708"},aboutXYears:{one:"\u5927\u7EA6 1 \u5E74",other:"\u5927\u7EA6 {{count}} \u5E74"},xYears:{one:"1 \u5E74",other:"{{count}} \u5E74"},overXYears:{one:"\u8D85\u8FC7 1 \u5E74",other:"\u8D85\u8FC7 {{count}} \u5E74"},almostXYears:{one:"\u5C06\u8FD1 1 \u5E74",other:"\u5C06\u8FD1 {{count}} \u5E74"}},De=function(o,t,n){var i,r=Re[o];return typeof r=="string"?i=r:t===1?i=r.one:i=r.other.replace("{{count}}",String(t)),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?i+"\u5185":i+"\u524D":i},pe=De;var Fe={full:"y'\u5E74'M'\u6708'd'\u65E5' EEEE",long:"y'\u5E74'M'\u6708'd'\u65E5'",medium:"yyyy-MM-dd",short:"yy-MM-dd"},We={full:"zzzz a h:mm:ss",long:"z a h:mm:ss",medium:"a h:mm:ss",short:"a h:mm"},Oe={full:"{{date}} {{time}}",long:"{{date}} {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},He={date:x({formats:Fe,defaultWidth:"full"}),time:x({formats:We,defaultWidth:"full"}),dateTime:x({formats:Oe,defaultWidth:"full"})},he=He;function gt(e,o,t){qt(2,arguments);var n=dt(e,t),i=dt(o,t);return n.getTime()===i.getTime()}function ve(e,o,t){var n="eeee p";return gt(e,o,t)?n:e.getTime()>o.getTime()?"'\u4E0B\u4E2A'"+n:"'\u4E0A\u4E2A'"+n}var Ve={lastWeek:ve,yesterday:"'\u6628\u5929' p",today:"'\u4ECA\u5929' p",tomorrow:"'\u660E\u5929' p",nextWeek:ve,other:"PP p"},Be=function(o,t,n,i){var r=Ve[o];return typeof r=="function"?r(t,n,i):r},ge=Be;var Ue={narrow:["\u524D","\u516C\u5143"],abbreviated:["\u524D","\u516C\u5143"],wide:["\u516C\u5143\u524D","\u516C\u5143"]},$e={narrow:["1","2","3","4"],abbreviated:["\u7B2C\u4E00\u5B63","\u7B2C\u4E8C\u5B63","\u7B2C\u4E09\u5B63","\u7B2C\u56DB\u5B63"],wide:["\u7B2C\u4E00\u5B63\u5EA6","\u7B2C\u4E8C\u5B63\u5EA6","\u7B2C\u4E09\u5B63\u5EA6","\u7B2C\u56DB\u5B63\u5EA6"]},Xe={narrow:["\u4E00","\u4E8C","\u4E09","\u56DB","\u4E94","\u516D","\u4E03","\u516B","\u4E5D","\u5341","\u5341\u4E00","\u5341\u4E8C"],abbreviated:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],wide:["\u4E00\u6708","\u4E8C\u6708","\u4E09\u6708","\u56DB\u6708","\u4E94\u6708","\u516D\u6708","\u4E03\u6708","\u516B\u6708","\u4E5D\u6708","\u5341\u6708","\u5341\u4E00\u6708","\u5341\u4E8C\u6708"]},je={narrow:["\u65E5","\u4E00","\u4E8C","\u4E09","\u56DB","\u4E94","\u516D"],short:["\u65E5","\u4E00","\u4E8C","\u4E09","\u56DB","\u4E94","\u516D"],abbreviated:["\u5468\u65E5","\u5468\u4E00","\u5468\u4E8C","\u5468\u4E09","\u5468\u56DB","\u5468\u4E94","\u5468\u516D"],wide:["\u661F\u671F\u65E5","\u661F\u671F\u4E00","\u661F\u671F\u4E8C","\u661F\u671F\u4E09","\u661F\u671F\u56DB","\u661F\u671F\u4E94","\u661F\u671F\u516D"]},qe={narrow:{am:"\u4E0A",pm:"\u4E0B",midnight:"\u51CC\u6668",noon:"\u5348",morning:"\u65E9",afternoon:"\u4E0B\u5348",evening:"\u665A",night:"\u591C"},abbreviated:{am:"\u4E0A\u5348",pm:"\u4E0B\u5348",midnight:"\u51CC\u6668",noon:"\u4E2D\u5348",morning:"\u65E9\u6668",afternoon:"\u4E2D\u5348",evening:"\u665A\u4E0A",night:"\u591C\u95F4"},wide:{am:"\u4E0A\u5348",pm:"\u4E0B\u5348",midnight:"\u51CC\u6668",noon:"\u4E2D\u5348",morning:"\u65E9\u6668",afternoon:"\u4E2D\u5348",evening:"\u665A\u4E0A",night:"\u591C\u95F4"}},Ke={narrow:{am:"\u4E0A",pm:"\u4E0B",midnight:"\u51CC\u6668",noon:"\u5348",morning:"\u65E9",afternoon:"\u4E0B\u5348",evening:"\u665A",night:"\u591C"},abbreviated:{am:"\u4E0A\u5348",pm:"\u4E0B\u5348",midnight:"\u51CC\u6668",noon:"\u4E2D\u5348",morning:"\u65E9\u6668",afternoon:"\u4E2D\u5348",evening:"\u665A\u4E0A",night:"\u591C\u95F4"},wide:{am:"\u4E0A\u5348",pm:"\u4E0B\u5348",midnight:"\u51CC\u6668",noon:"\u4E2D\u5348",morning:"\u65E9\u6668",afternoon:"\u4E2D\u5348",evening:"\u665A\u4E0A",night:"\u591C\u95F4"}},Ye=function(o,t){var n=Number(o);switch(t?.unit){case"date":return n.toString()+"\u65E5";case"hour":return n.toString()+"\u65F6";case"minute":return n.toString()+"\u5206";case"second":return n.toString()+"\u79D2";default:return"\u7B2C "+n.toString()}},Ze={ordinalNumber:Ye,era:d({values:Ue,defaultWidth:"wide"}),quarter:d({values:$e,defaultWidth:"wide",argumentCallback:function(o){return o-1}}),month:d({values:Xe,defaultWidth:"wide"}),day:d({values:je,defaultWidth:"wide"}),dayPeriod:d({values:qe,defaultWidth:"wide",formattingValues:Ke,defaultFormattingWidth:"wide"})},be=Ze;var Je=/^(第\s*)?\d+(日|时|分|秒)?/i,Ge=/\d+/i,Qe={narrow:/^(前)/i,abbreviated:/^(前)/i,wide:/^(公元前|公元)/i},tn={any:[/^(前)/i,/^(公元)/i]},en={narrow:/^[1234]/i,abbreviated:/^第[一二三四]刻/i,wide:/^第[一二三四]刻钟/i},nn={any:[/(1|一)/i,/(2|二)/i,/(3|三)/i,/(4|四)/i]},on={narrow:/^(一|二|三|四|五|六|七|八|九|十[二一])/i,abbreviated:/^(一|二|三|四|五|六|七|八|九|十[二一]|\d|1[12])月/i,wide:/^(一|二|三|四|五|六|七|八|九|十[二一])月/i},rn={narrow:[/^一/i,/^二/i,/^三/i,/^四/i,/^五/i,/^六/i,/^七/i,/^八/i,/^九/i,/^十(?!(一|二))/i,/^十一/i,/^十二/i],any:[/^一|1/i,/^二|2/i,/^三|3/i,/^四|4/i,/^五|5/i,/^六|6/i,/^七|7/i,/^八|8/i,/^九|9/i,/^十(?!(一|二))|10/i,/^十一|11/i,/^十二|12/i]},an={narrow:/^[一二三四五六日]/i,short:/^[一二三四五六日]/i,abbreviated:/^周[一二三四五六日]/i,wide:/^星期[一二三四五六日]/i},sn={any:[/日/i,/一/i,/二/i,/三/i,/四/i,/五/i,/六/i]},cn={any:/^(上午?|下午?|午夜|[中正]午|早上?|下午|晚上?|凌晨|)/i},ln={any:{am:/^上午?/i,pm:/^下午?/i,midnight:/^午夜/i,noon:/^[中正]午/i,morning:/^早上/i,afternoon:/^下午/i,evening:/^晚上?/i,night:/^凌晨/i}},mn={ordinalNumber:Z({matchPattern:Je,parsePattern:Ge,valueCallback:function(o){return parseInt(o,10)}}),era:u({matchPatterns:Qe,defaultMatchWidth:"wide",parsePatterns:tn,defaultParseWidth:"any"}),quarter:u({matchPatterns:en,defaultMatchWidth:"wide",parsePatterns:nn,defaultParseWidth:"any",valueCallback:function(o){return o+1}}),month:u({matchPatterns:on,defaultMatchWidth:"wide",parsePatterns:rn,defaultParseWidth:"any"}),day:u({matchPatterns:an,defaultMatchWidth:"wide",parsePatterns:sn,defaultParseWidth:"any"}),dayPeriod:u({matchPatterns:cn,defaultMatchWidth:"any",parsePatterns:ln,defaultParseWidth:"any"})},ye=mn;var fn={code:"zh-CN",formatDistance:pe,formatLong:he,formatRelative:ge,localize:be,match:ye,options:{weekStartsOn:1,firstWeekContainsDate:4}},bt=fn;var dn={lessThanXSeconds:{one:"\u5C11\u65BC 1 \u79D2",other:"\u5C11\u65BC {{count}} \u79D2"},xSeconds:{one:"1 \u79D2",other:"{{count}} \u79D2"},halfAMinute:"\u534A\u5206\u9418",lessThanXMinutes:{one:"\u5C11\u65BC 1 \u5206\u9418",other:"\u5C11\u65BC {{count}} \u5206\u9418"},xMinutes:{one:"1 \u5206\u9418",other:"{{count}} \u5206\u9418"},xHours:{one:"1 \u5C0F\u6642",other:"{{count}} \u5C0F\u6642"},aboutXHours:{one:"\u5927\u7D04 1 \u5C0F\u6642",other:"\u5927\u7D04 {{count}} \u5C0F\u6642"},xDays:{one:"1 \u5929",other:"{{count}} \u5929"},aboutXWeeks:{one:"\u5927\u7D04 1 \u500B\u661F\u671F",other:"\u5927\u7D04 {{count}} \u500B\u661F\u671F"},xWeeks:{one:"1 \u500B\u661F\u671F",other:"{{count}} \u500B\u661F\u671F"},aboutXMonths:{one:"\u5927\u7D04 1 \u500B\u6708",other:"\u5927\u7D04 {{count}} \u500B\u6708"},xMonths:{one:"1 \u500B\u6708",other:"{{count}} \u500B\u6708"},aboutXYears:{one:"\u5927\u7D04 1 \u5E74",other:"\u5927\u7D04 {{count}} \u5E74"},xYears:{one:"1 \u5E74",other:"{{count}} \u5E74"},overXYears:{one:"\u8D85\u904E 1 \u5E74",other:"\u8D85\u904E {{count}} \u5E74"},almostXYears:{one:"\u5C07\u8FD1 1 \u5E74",other:"\u5C07\u8FD1 {{count}} \u5E74"}},un=function(o,t,n){var i,r=dn[o];return typeof r=="string"?i=r:t===1?i=r.one:i=r.other.replace("{{count}}",String(t)),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?i+"\u5167":i+"\u524D":i},xe=un;var pn={full:"y'\u5E74'M'\u6708'd'\u65E5' EEEE",long:"y'\u5E74'M'\u6708'd'\u65E5'",medium:"yyyy-MM-dd",short:"yy-MM-dd"},hn={full:"zzzz a h:mm:ss",long:"z a h:mm:ss",medium:"a h:mm:ss",short:"a h:mm"},vn={full:"{{date}} {{time}}",long:"{{date}} {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},gn={date:x({formats:pn,defaultWidth:"full"}),time:x({formats:hn,defaultWidth:"full"}),dateTime:x({formats:vn,defaultWidth:"full"})},Ce=gn;var bn={lastWeek:"'\u4E0A\u500B'eeee p",yesterday:"'\u6628\u5929' p",today:"'\u4ECA\u5929' p",tomorrow:"'\u660E\u5929' p",nextWeek:"'\u4E0B\u500B'eeee p",other:"P"},yn=function(o,t,n,i){return bn[o]},_e=yn;var xn={narrow:["\u524D","\u516C\u5143"],abbreviated:["\u524D","\u516C\u5143"],wide:["\u516C\u5143\u524D","\u516C\u5143"]},Cn={narrow:["1","2","3","4"],abbreviated:["\u7B2C\u4E00\u523B","\u7B2C\u4E8C\u523B","\u7B2C\u4E09\u523B","\u7B2C\u56DB\u523B"],wide:["\u7B2C\u4E00\u523B\u9418","\u7B2C\u4E8C\u523B\u9418","\u7B2C\u4E09\u523B\u9418","\u7B2C\u56DB\u523B\u9418"]},_n={narrow:["\u4E00","\u4E8C","\u4E09","\u56DB","\u4E94","\u516D","\u4E03","\u516B","\u4E5D","\u5341","\u5341\u4E00","\u5341\u4E8C"],abbreviated:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],wide:["\u4E00\u6708","\u4E8C\u6708","\u4E09\u6708","\u56DB\u6708","\u4E94\u6708","\u516D\u6708","\u4E03\u6708","\u516B\u6708","\u4E5D\u6708","\u5341\u6708","\u5341\u4E00\u6708","\u5341\u4E8C\u6708"]},zn={narrow:["\u65E5","\u4E00","\u4E8C","\u4E09","\u56DB","\u4E94","\u516D"],short:["\u65E5","\u4E00","\u4E8C","\u4E09","\u56DB","\u4E94","\u516D"],abbreviated:["\u9031\u65E5","\u9031\u4E00","\u9031\u4E8C","\u9031\u4E09","\u9031\u56DB","\u9031\u4E94","\u9031\u516D"],wide:["\u661F\u671F\u65E5","\u661F\u671F\u4E00","\u661F\u671F\u4E8C","\u661F\u671F\u4E09","\u661F\u671F\u56DB","\u661F\u671F\u4E94","\u661F\u671F\u516D"]},Nn={narrow:{am:"\u4E0A",pm:"\u4E0B",midnight:"\u51CC\u6668",noon:"\u5348",morning:"\u65E9",afternoon:"\u4E0B\u5348",evening:"\u665A",night:"\u591C"},abbreviated:{am:"\u4E0A\u5348",pm:"\u4E0B\u5348",midnight:"\u51CC\u6668",noon:"\u4E2D\u5348",morning:"\u65E9\u6668",afternoon:"\u4E2D\u5348",evening:"\u665A\u4E0A",night:"\u591C\u9593"},wide:{am:"\u4E0A\u5348",pm:"\u4E0B\u5348",midnight:"\u51CC\u6668",noon:"\u4E2D\u5348",morning:"\u65E9\u6668",afternoon:"\u4E2D\u5348",evening:"\u665A\u4E0A",night:"\u591C\u9593"}},Sn={narrow:{am:"\u4E0A",pm:"\u4E0B",midnight:"\u51CC\u6668",noon:"\u5348",morning:"\u65E9",afternoon:"\u4E0B\u5348",evening:"\u665A",night:"\u591C"},abbreviated:{am:"\u4E0A\u5348",pm:"\u4E0B\u5348",midnight:"\u51CC\u6668",noon:"\u4E2D\u5348",morning:"\u65E9\u6668",afternoon:"\u4E2D\u5348",evening:"\u665A\u4E0A",night:"\u591C\u9593"},wide:{am:"\u4E0A\u5348",pm:"\u4E0B\u5348",midnight:"\u51CC\u6668",noon:"\u4E2D\u5348",morning:"\u65E9\u6668",afternoon:"\u4E2D\u5348",evening:"\u665A\u4E0A",night:"\u591C\u9593"}},Tn=function(o,t){var n=Number(o);switch(t?.unit){case"date":return n+"\u65E5";case"hour":return n+"\u6642";case"minute":return n+"\u5206";case"second":return n+"\u79D2";default:return"\u7B2C "+n}},wn={ordinalNumber:Tn,era:d({values:xn,defaultWidth:"wide"}),quarter:d({values:Cn,defaultWidth:"wide",argumentCallback:function(o){return o-1}}),month:d({values:_n,defaultWidth:"wide"}),day:d({values:zn,defaultWidth:"wide"}),dayPeriod:d({values:Nn,defaultWidth:"wide",formattingValues:Sn,defaultFormattingWidth:"wide"})},ze=wn;var Pn=/^(第\s*)?\d+(日|時|分|秒)?/i,kn=/\d+/i,An={narrow:/^(前)/i,abbreviated:/^(前)/i,wide:/^(公元前|公元)/i},Mn={any:[/^(前)/i,/^(公元)/i]},En={narrow:/^[1234]/i,abbreviated:/^第[一二三四]刻/i,wide:/^第[一二三四]刻鐘/i},In={any:[/(1|一)/i,/(2|二)/i,/(3|三)/i,/(4|四)/i]},Ln={narrow:/^(一|二|三|四|五|六|七|八|九|十[二一])/i,abbreviated:/^(一|二|三|四|五|六|七|八|九|十[二一]|\d|1[12])月/i,wide:/^(一|二|三|四|五|六|七|八|九|十[二一])月/i},Rn={narrow:[/^一/i,/^二/i,/^三/i,/^四/i,/^五/i,/^六/i,/^七/i,/^八/i,/^九/i,/^十(?!(一|二))/i,/^十一/i,/^十二/i],any:[/^一|1/i,/^二|2/i,/^三|3/i,/^四|4/i,/^五|5/i,/^六|6/i,/^七|7/i,/^八|8/i,/^九|9/i,/^十(?!(一|二))|10/i,/^十一|11/i,/^十二|12/i]},Dn={narrow:/^[一二三四五六日]/i,short:/^[一二三四五六日]/i,abbreviated:/^週[一二三四五六日]/i,wide:/^星期[一二三四五六日]/i},Fn={any:[/日/i,/一/i,/二/i,/三/i,/四/i,/五/i,/六/i]},Wn={any:/^(上午?|下午?|午夜|[中正]午|早上?|下午|晚上?|凌晨)/i},On={any:{am:/^上午?/i,pm:/^下午?/i,midnight:/^午夜/i,noon:/^[中正]午/i,morning:/^早上/i,afternoon:/^下午/i,evening:/^晚上?/i,night:/^凌晨/i}},Hn={ordinalNumber:Z({matchPattern:Pn,parsePattern:kn,valueCallback:function(o){return parseInt(o,10)}}),era:u({matchPatterns:An,defaultMatchWidth:"wide",parsePatterns:Mn,defaultParseWidth:"any"}),quarter:u({matchPatterns:En,defaultMatchWidth:"wide",parsePatterns:In,defaultParseWidth:"any",valueCallback:function(o){return o+1}}),month:u({matchPatterns:Ln,defaultMatchWidth:"wide",parsePatterns:Rn,defaultParseWidth:"any"}),day:u({matchPatterns:Dn,defaultMatchWidth:"wide",parsePatterns:Fn,defaultParseWidth:"any"}),dayPeriod:u({matchPatterns:Wn,defaultMatchWidth:"any",parsePatterns:On,defaultParseWidth:"any"})},Ne=Hn;var Vn={code:"zh-TW",formatDistance:xe,formatLong:Ce,formatRelative:_e,localize:ze,match:Ne,options:{weekStartsOn:1,firstWeekContainsDate:4}},yt=Vn;function Bn(e){let o=e,t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return t===1&&n===0?1:5}var Se=["en",[["a","p"],["AM","PM"],void 0],[["AM","PM"],void 0,void 0],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],void 0,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],void 0,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",void 0,"{1} 'at' {0}",void 0],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",Bn];function Un(e){let o=e;return 5}var Te=["zh-Hant",[["\u4E0A\u5348","\u4E0B\u5348"],void 0,void 0],void 0,[["\u65E5","\u4E00","\u4E8C","\u4E09","\u56DB","\u4E94","\u516D"],["\u9031\u65E5","\u9031\u4E00","\u9031\u4E8C","\u9031\u4E09","\u9031\u56DB","\u9031\u4E94","\u9031\u516D"],["\u661F\u671F\u65E5","\u661F\u671F\u4E00","\u661F\u671F\u4E8C","\u661F\u671F\u4E09","\u661F\u671F\u56DB","\u661F\u671F\u4E94","\u661F\u671F\u516D"],["\u65E5","\u4E00","\u4E8C","\u4E09","\u56DB","\u4E94","\u516D"]],void 0,[["1","2","3","4","5","6","7","8","9","10","11","12"],["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],void 0],void 0,[["\u897F\u5143\u524D","\u897F\u5143"],void 0,void 0],0,[6,0],["y/M/d","y\u5E74M\u6708d\u65E5",void 0,"y\u5E74M\u6708d\u65E5 EEEE"],["Bh:mm","Bh:mm:ss","Bh:mm:ss [z]","Bh:mm:ss [zzzz]"],["{1} {0}",void 0,void 0,void 0],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","\u975E\u6578\u503C",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"TWD","$","\u65B0\u53F0\u5E63",{AUD:["AU$","$"],BYN:[void 0,"\u0440."],KRW:["\uFFE6","\u20A9"],PHP:[void 0,"\u20B1"],RON:[void 0,"L"],RUR:[void 0,"\u0440."],TWD:["$"],USD:["US$","$"],XXX:[]},"ltr",Un];var xt="zh-CN",Ct={"zh-CN":{text:"\u7B80\u4F53\u4E2D\u6587",ng:ue,zorro:Yt,date:bt,delon:oe,abbr:"\u{1F1E8}\u{1F1F3}"},"zh-TW":{text:"\u7E41\u4F53\u4E2D\u6587",ng:Te,zorro:Jt,date:yt,delon:se,abbr:"\u{1F1ED}\u{1F1F0}"},"en-US":{text:"English",ng:Se,zorro:Kt,date:ut,delon:ae,abbr:"\u{1F1EC}\u{1F1E7}"}},M=class M extends Qt{constructor(){super();this.http=a(ne);this.settings=a(G);this.nzI18nService=a(Zt);this.delonLocaleService=a(re);this.platform=a(Vt);this._defaultLang=xt;this._langs=Object.keys(Ct).map(t=>{let n=Ct[t];return{code:t,text:n.text,abbr:n.abbr}});let t=this.getDefaultLang();this._defaultLang=this._langs.findIndex(n=>n.code===t)===-1?xt:t}getDefaultLang(){if(!this.platform.isBrowser)return xt;if(this.settings.layout.lang)return this.settings.layout.lang;let t=(navigator.languages?navigator.languages[0]:null)||navigator.language,n=t.split("-");return n.length<=1?t:`${n[0]}-${n[1].toUpperCase()}`}loadLangData(t){return this.http.get(`./assets/tmp/i18n/${t}.json`)}use(t,n){if(this._currentLang===t)return;this._data=this.flatData(n,[]);let i=Ct[t];Wt(i.ng),this.nzI18nService.setLocale(i.zorro),this.nzI18nService.setDateLocale(i.date),this.delonLocaleService.setLocale(i.delon),this._currentLang=t,this._change$.next(t)}getLangs(){return this._langs}};M.\u0275fac=function(n){return new(n||M)},M.\u0275prov=b({token:M,factory:M.\u0275fac,providedIn:"root"});var we=M;var Pe=(e,o)=>({$implicit:e,data:o}),$n=e=>({$implicit:e});function Xn(e,o){}function jn(e,o){if(e&1&&F(0,Xn,0,0,"ng-template",1),e&2){let t=f();m("ngTemplateOutlet",t.instance.template)("ngTemplateOutletContext",lt(2,Pe,t,t.instance.options==null?null:t.instance.options.nzData))}}function qn(e,o){e&1&&h(0,"nz-icon",6)}function Kn(e,o){e&1&&h(0,"nz-icon",7)}function Yn(e,o){e&1&&h(0,"nz-icon",8)}function Zn(e,o){e&1&&h(0,"nz-icon",9)}function Jn(e,o){if(e&1&&(j(0),h(1,"div",15),q()),e&2){let t=f(2);s(),m("innerHTML",t.instance.title,at)}}function Gn(e,o){if(e&1&&(j(0),h(1,"div",15),q()),e&2){let t=f(2);s(),m("innerHTML",t.instance.content,at)}}function Qn(e,o){}function ti(e,o){if(e&1&&(c(0,"span",14),F(1,Qn,0,0,"ng-template",1),l()),e&2){let t=f(2);s(),m("ngTemplateOutlet",o)("ngTemplateOutletContext",Dt(2,$n,t))}}function ei(e,o){if(e&1&&(c(0,"div",2)(1,"div",2)(2,"div"),H(3,qn,1,0,"nz-icon",6)(4,Kn,1,0,"nz-icon",7)(5,Yn,1,0,"nz-icon",8)(6,Zn,1,0,"nz-icon",9),c(7,"div",10),F(8,Jn,2,1,"ng-container",11),l(),c(9,"div",12),F(10,Gn,2,1,"ng-container",13),l(),H(11,ti,2,4,"span",14),l()()()),e&2){let t,n,i=f();s(2),y("ant-notification-notice-with-icon",i.instance.type!=="blank"),s(),V((t=i.instance.type)==="success"?3:t==="info"?4:t==="warning"?5:t==="error"?6:-1),s(5),m("nzStringTemplateOutlet",i.instance.title),s(2),m("nzStringTemplateOutlet",i.instance.content)("nzStringTemplateOutletContext",lt(7,Pe,i,i.instance.options==null?null:i.instance.options.nzData)),s(),V((n=i.instance.options==null?null:i.instance.options.nzButton)?11:-1,n)}}function ni(e,o){if(e&1&&(j(0),h(1,"nz-icon",16),q()),e&2){let t=o.$implicit;s(),m("nzType",t)}}function ii(e,o){if(e&1&&F(0,ni,2,1,"ng-container",11),e&2){let t=f();m("nzStringTemplateOutlet",t.instance.options==null?null:t.instance.options.nzCloseIcon)}}function oi(e,o){e&1&&h(0,"nz-icon",5)}function ri(e,o){if(e&1){let t=k();c(0,"nz-notification",7),v("destroyed",function(i){N(t);let r=f();return S(r.remove(i.id,i.userAction))}),l()}if(e&2){let t=o.$implicit;m("instance",t)("placement","topLeft")}}function ai(e,o){if(e&1){let t=k();c(0,"nz-notification",7),v("destroyed",function(i){N(t);let r=f();return S(r.remove(i.id,i.userAction))}),l()}if(e&2){let t=o.$implicit;m("instance",t)("placement","topRight")}}function si(e,o){if(e&1){let t=k();c(0,"nz-notification",7),v("destroyed",function(i){N(t);let r=f();return S(r.remove(i.id,i.userAction))}),l()}if(e&2){let t=o.$implicit;m("instance",t)("placement","bottomLeft")}}function ci(e,o){if(e&1){let t=k();c(0,"nz-notification",7),v("destroyed",function(i){N(t);let r=f();return S(r.remove(i.id,i.userAction))}),l()}if(e&2){let t=o.$implicit;m("instance",t)("placement","bottomRight")}}function li(e,o){if(e&1){let t=k();c(0,"nz-notification",7),v("destroyed",function(i){N(t);let r=f();return S(r.remove(i.id,i.userAction))}),l()}if(e&2){let t=o.$implicit;m("instance",t)("placement","top")}}function mi(e,o){if(e&1){let t=k();c(0,"nz-notification",7),v("destroyed",function(i){N(t);let r=f();return S(r.remove(i.id,i.userAction))}),l()}if(e&2){let t=o.$implicit;m("instance",t)("placement","bottom")}}var fi=(()=>{class e extends fe{instance;index;placement;destroyed=new It;constructor(){super(),this.destroyRef.onDestroy(()=>{this.instance.onClick.complete()})}onClick(t){this.instance.onClick.next(t)}close(){this.destroy(!0)}get state(){if(this.instance.state==="enter")switch(this.placement){case"topLeft":case"bottomLeft":return"enterLeft";case"topRight":case"bottomRight":return"enterRight";case"top":return"enterTop";case"bottom":return"enterBottom";default:return"enterRight"}else return this.instance.state}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=st({type:e,selectors:[["nz-notification"]],inputs:{instance:"instance",index:"index",placement:"placement"},outputs:{destroyed:"destroyed"},exportAs:["nzNotification"],features:[ct],decls:7,vars:7,consts:[[1,"ant-notification-notice","ant-notification-notice-closable",3,"click","mouseenter","mouseleave"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"ant-notification-notice-content"],["tabindex","0",1,"ant-notification-notice-close",3,"click"],[1,"ant-notification-notice-close-x"],["nzType","close",1,"ant-notification-close-icon"],["nzType","check-circle",1,"ant-notification-notice-icon","ant-notification-notice-icon-success"],["nzType","info-circle",1,"ant-notification-notice-icon","ant-notification-notice-icon-info"],["nzType","exclamation-circle",1,"ant-notification-notice-icon","ant-notification-notice-icon-warning"],["nzType","close-circle",1,"ant-notification-notice-icon","ant-notification-notice-icon-error"],[1,"ant-notification-notice-message"],[4,"nzStringTemplateOutlet"],[1,"ant-notification-notice-description"],[4,"nzStringTemplateOutlet","nzStringTemplateOutletContext"],[1,"ant-notification-notice-btn"],[3,"innerHTML"],[3,"nzType"]],template:function(n,i){n&1&&(c(0,"div",0),v("@notificationMotion.done",function(C){return i.animationStateChanged.next(C)})("click",function(C){return i.onClick(C)})("mouseenter",function(){return i.onEnter()})("mouseleave",function(){return i.onLeave()}),H(1,jn,1,5,null,1)(2,ei,12,10,"div",2),c(3,"a",3),v("click",function(){return i.close()}),c(4,"span",4),H(5,ii,1,1,"ng-container")(6,oi,1,0,"nz-icon",5),l()()()),n&2&&(Lt((i.instance.options==null?null:i.instance.options.nzStyle)||null),Rt((i.instance.options==null?null:i.instance.options.nzClass)||""),m("@notificationMotion",i.state),s(),V(i.instance.template?1:2),s(4),V(i.instance.options!=null&&i.instance.options.nzCloseIcon?5:6))},dependencies:[$t,Ut,jt,Xt,Ft],encapsulation:2,data:{animation:[Gt]}})}return e})(),tt="notification",di={nzTop:"24px",nzBottom:"24px",nzPlacement:"topRight",nzDuration:4500,nzMaxStack:8,nzPauseOnHover:!0,nzAnimate:!0,nzDirection:"ltr"},ui=(()=>{class e extends me{dir=this.nzConfigService.getConfigForComponent(tt)?.nzDirection||"ltr";bottom;top;topLeftInstances=[];topRightInstances=[];bottomLeftInstances=[];bottomRightInstances=[];topInstances=[];bottomInstances=[];constructor(){super(),this.updateConfig()}create(t){let n=this.onCreate(t),i=n.options.nzKey,r=this.instances.find(C=>C.options.nzKey===t.options.nzKey);return i&&r?this.replaceNotification(r,n):(this.instances.length>=this.config.nzMaxStack&&(this.instances=this.instances.slice(1)),this.instances=[...this.instances,n]),this.readyInstances(),n}onCreate(t){return t.options=this.mergeOptions(t.options),t.onClose=new it,t.onClick=new it,t}subscribeConfigChange(){Bt(tt,()=>{this.updateConfig(),this.dir=this.nzConfigService.getConfigForComponent(tt)?.nzDirection||this.dir})}updateConfig(){this.config=p(p(p({},di),this.config),this.nzConfigService.getConfigForComponent(tt)),this.top=ft(this.config.nzTop),this.bottom=ft(this.config.nzBottom),this.cdr.markForCheck()}replaceNotification(t,n){t.title=n.title,t.content=n.content,t.template=n.template,t.type=n.type,t.options=n.options}readyInstances(){let t={topLeft:[],topRight:[],bottomLeft:[],bottomRight:[],top:[],bottom:[]};this.instances.forEach(n=>{switch(n.options.nzPlacement){case"topLeft":t.topLeft.unshift(n);break;case"topRight":t.topRight.unshift(n);break;case"bottomLeft":t.bottomLeft.unshift(n);break;case"bottomRight":t.bottomRight.unshift(n);break;case"top":t.top.unshift(n);break;case"bottom":t.bottom.unshift(n);break;default:t.topRight.unshift(n)}}),this.topLeftInstances=t.topLeft,this.topRightInstances=t.topRight,this.bottomLeftInstances=t.bottomLeft,this.bottomRightInstances=t.bottomRight,this.topInstances=t.top,this.bottomInstances=t.bottom,this.cdr.detectChanges()}mergeOptions(t){let{nzDuration:n,nzAnimate:i,nzPauseOnHover:r,nzPlacement:C}=this.config;return p({nzDuration:n,nzAnimate:i,nzPauseOnHover:r,nzPlacement:C},t)}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=st({type:e,selectors:[["nz-notification-container"]],exportAs:["nzNotificationContainer"],features:[ct],decls:18,vars:40,consts:[[1,"ant-notification","ant-notification-topLeft"],[3,"instance","placement"],[1,"ant-notification","ant-notification-topRight"],[1,"ant-notification","ant-notification-bottomLeft"],[1,"ant-notification","ant-notification-bottomRight"],[1,"ant-notification","ant-notification-top"],[1,"ant-notification","ant-notification-bottom"],[3,"destroyed","instance","placement"]],template:function(n,i){n&1&&(c(0,"div",0),w(1,ri,1,2,"nz-notification",1,T),l(),c(3,"div",2),w(4,ai,1,2,"nz-notification",1,T),l(),c(6,"div",3),w(7,si,1,2,"nz-notification",1,T),l(),c(9,"div",4),w(10,ci,1,2,"nz-notification",1,T),l(),c(12,"div",5),w(13,li,1,2,"nz-notification",1,T),l(),c(15,"div",6),w(16,mi,1,2,"nz-notification",1,T),l()),n&2&&(A("top",i.top)("left","0px"),y("ant-notification-rtl",i.dir==="rtl"),s(),P(i.topLeftInstances),s(2),A("top",i.top)("right","0px"),y("ant-notification-rtl",i.dir==="rtl"),s(),P(i.topRightInstances),s(2),A("bottom",i.bottom)("left","0px"),y("ant-notification-rtl",i.dir==="rtl"),s(),P(i.bottomLeftInstances),s(2),A("bottom",i.bottom)("right","0px"),y("ant-notification-rtl",i.dir==="rtl"),s(),P(i.bottomRightInstances),s(2),A("top",i.top)("left","50%")("transform","translateX(-50%)"),y("ant-notification-rtl",i.dir==="rtl"),s(),P(i.topInstances),s(2),A("bottom",i.bottom)("left","50%")("transform","translateX(-50%)"),y("ant-notification-rtl",i.dir==="rtl"),s(),P(i.bottomInstances))},dependencies:[fi],encapsulation:2,changeDetection:0})}return e})(),pi=0,zt=(()=>{class e extends le{componentPrefix="notification-";success(t,n,i){return this.create("success",t,n,i)}error(t,n,i){return this.create("error",t,n,i)}info(t,n,i){return this.create("info",t,n,i)}warning(t,n,i){return this.create("warning",t,n,i)}blank(t,n,i){return this.create("blank",t,n,i)}create(t,n,i,r){return this.createInstance({type:t,title:n,content:i},r)}template(t,n){return this.createInstance({template:t},n)}generateMessageId(){return`${this.componentPrefix}-${pi++}`}createInstance(t,n){return this.container=this.withContainer(ui),this.container.create(O(p({},t),{createdAt:new Date,messageId:n?.nzKey||this.generateMessageId(),options:n}))}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Et(e)))(i||e)}})();static \u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var hi={200:"\u670D\u52A1\u5668\u6210\u529F\u8FD4\u56DE\u8BF7\u6C42\u7684\u6570\u636E\u3002",201:"\u65B0\u5EFA\u6216\u4FEE\u6539\u6570\u636E\u6210\u529F\u3002",202:"\u4E00\u4E2A\u8BF7\u6C42\u5DF2\u7ECF\u8FDB\u5165\u540E\u53F0\u6392\u961F\uFF08\u5F02\u6B65\u4EFB\u52A1\uFF09\u3002",204:"\u5220\u9664\u6570\u636E\u6210\u529F\u3002",400:"\u53D1\u51FA\u7684\u8BF7\u6C42\u6709\u9519\u8BEF\uFF0C\u670D\u52A1\u5668\u6CA1\u6709\u8FDB\u884C\u65B0\u5EFA\u6216\u4FEE\u6539\u6570\u636E\u7684\u64CD\u4F5C\u3002",401:"\u7528\u6237\u6CA1\u6709\u6743\u9650\uFF08\u4EE4\u724C\u3001\u7528\u6237\u540D\u3001\u5BC6\u7801\u9519\u8BEF\uFF09\u3002",403:"\u7528\u6237\u5F97\u5230\u6388\u6743\uFF0C\u4F46\u662F\u8BBF\u95EE\u662F\u88AB\u7981\u6B62\u7684\u3002",404:"\u53D1\u51FA\u7684\u8BF7\u6C42\u9488\u5BF9\u7684\u662F\u4E0D\u5B58\u5728\u7684\u8BB0\u5F55\uFF0C\u670D\u52A1\u5668\u6CA1\u6709\u8FDB\u884C\u64CD\u4F5C\u3002",406:"\u8BF7\u6C42\u7684\u683C\u5F0F\u4E0D\u53EF\u5F97\u3002",410:"\u8BF7\u6C42\u7684\u8D44\u6E90\u88AB\u6C38\u4E45\u5220\u9664\uFF0C\u4E14\u4E0D\u4F1A\u518D\u5F97\u5230\u7684\u3002",422:"\u5F53\u521B\u5EFA\u4E00\u4E2A\u5BF9\u8C61\u65F6\uFF0C\u53D1\u751F\u4E00\u4E2A\u9A8C\u8BC1\u9519\u8BEF\u3002",500:"\u670D\u52A1\u5668\u53D1\u751F\u9519\u8BEF\uFF0C\u8BF7\u68C0\u67E5\u670D\u52A1\u5668\u3002",502:"\u7F51\u5173\u9519\u8BEF\u3002",503:"\u670D\u52A1\u4E0D\u53EF\u7528\uFF0C\u670D\u52A1\u5668\u6682\u65F6\u8FC7\u8F7D\u6216\u7EF4\u62A4\u3002",504:"\u7F51\u5173\u8D85\u65F6\u3002"};function vi(e,o){setTimeout(()=>e.get(Y).navigateByUrl(o))}function W(e){e.get(zt).error("\u672A\u767B\u5F55\u6216\u767B\u5F55\u5DF2\u8FC7\u671F\uFF0C\u8BF7\u91CD\u65B0\u767B\u5F55\u3002",""),vi(e,e.get(g).login_url)}function ke(e){let o={},t=a(J).currentLang;return!e?.has("Accept-Language")&&t&&(o["Accept-Language"]=t),o}function Ae(e,o){if(o.status>=200&&o.status<300||o.status===401)return;let t=hi[o.status]||o.statusText;e.get(zt).error(`\u8BF7\u6C42\u9519\u8BEF ${o.status}: ${o.url}`,t)}var E=!1,Nt=new wt(null);function Me(e,o){let t=e.get(g).get()?.token;return o.clone({setHeaders:{token:`Bearer ${t}`}})}function Ee(e){let o=e.get(g).get();return e.get(K).post("/api/auth/refresh",{headers:{refresh_token:o?.refresh_token||""}})}function Ie(e,o,t,n){return["/api/auth/refresh"].some(i=>t.url.includes(i))?(W(e),R(()=>o)):E?Nt.pipe(rt(i=>!!i),Mt(1),z(()=>n(Me(e,t)))):(E=!0,Nt.next(null),Ee(e).pipe(z(i=>(E=!1,Nt.next(i),e.get(g).set(i),n(Me(e,t)))),U(i=>(E=!1,W(e),R(()=>i)))))}function gi(e){let o=e.get(g);o.refresh.pipe(rt(()=>!E),z(t=>(console.log(t),E=!0,Ee(e)))).subscribe({next:t=>{t.expired=+new Date+1e3*60*5,E=!1,o.set(t)},error:()=>W(e)})}function bi(){return[X(()=>(o=>()=>gi(o))(a($))())]}function yi(e,o,t,n){switch(Ae(e,o),o.status){case 200:break;case 401:if(Q.api.refreshTokenEnabled&&Q.api.refreshTokenType==="re-request")return Ie(e,o,t,n);W(e);break;case 403:case 404:case 500:break;default:o instanceof mt&&console.warn("\u672A\u53EF\u77E5\u9519\u8BEF\uFF0C\u5927\u90E8\u5206\u662F\u7531\u4E8E\u540E\u7AEF\u4E0D\u652F\u6301\u8DE8\u57DFCORS\u6216\u65E0\u6548\u914D\u7F6E\u5F15\u8D77\uFF0C\u8BF7\u53C2\u8003 https://ng-alain.com/docs/server \u89E3\u51B3\u8DE8\u57DF\u95EE\u9898",o);break}return o instanceof mt?R(()=>o):o._throw===!0?R(()=>o.body):ot(o)}var hr=(e,o)=>{let t=e.url;if(!e.context.get(ie)&&!t.startsWith("https://")&&!t.startsWith("http://")){let{baseUrl:r}=Q.api;t=r+(r.endsWith("/")&&t.startsWith("/")?t.substring(1):t)}let n=e.clone({url:t,setHeaders:ke(e.headers)}),i=a($);return o(n).pipe(B(r=>r instanceof Ot?yi(i,r,n,o):ot(r)))};var I=class I{constructor(){this.firestore=a(ce);this.defaultPermissions=[{id:"dashboard:read",name:"\u5100\u8868\u677F\u67E5\u770B",description:"\u67E5\u770B\u5100\u8868\u677F\u8CC7\u6599",resource:"dashboard",action:"read",isActive:!0},{id:"user:read",name:"\u7528\u6236\u67E5\u770B",description:"\u67E5\u770B\u7528\u6236\u8CC7\u6599",resource:"user",action:"read",isActive:!0},{id:"user:write",name:"\u7528\u6236\u7DE8\u8F2F",description:"\u7DE8\u8F2F\u7528\u6236\u8CC7\u6599",resource:"user",action:"write",isActive:!0},{id:"admin:access",name:"\u7BA1\u7406\u54E1\u8A2A\u554F",description:"\u8A2A\u554F\u7BA1\u7406\u54E1\u529F\u80FD",resource:"admin",action:"access",isActive:!0}];this.defaultRoles=[{id:"user",name:"\u4E00\u822C\u7528\u6236",description:"\u57FA\u672C\u7528\u6236\u6B0A\u9650",permissions:["dashboard:read","user:read"],isActive:!0},{id:"user1",name:"\u8A8D\u8B49\u7528\u6236",description:"\u5DF2\u8A8D\u8B49\u7528\u6236\u6B0A\u9650",permissions:["dashboard:read","user:read","user:write"],isActive:!0},{id:"admin",name:"\u7BA1\u7406\u54E1",description:"\u7BA1\u7406\u54E1\u6B0A\u9650",permissions:["dashboard:read","user:read","user:write","admin:access"],isActive:!0}]}initializeACL(){let o=this.defaultPermissions.map(n=>this.createPermissionIfNotExists(n)),t=this.defaultRoles.map(n=>this.createRoleIfNotExists(n));return kt([...o,...t]).pipe(D(()=>{}))}createPermissionIfNotExists(o){let t=pt(this.firestore,"acl_permissions",o.id);return _(ht(t)).pipe(z(n=>{if(!n.exists()){let i=O(p({},o),{createdAt:new Date,updatedAt:new Date});return _(vt(t,i))}return _(Promise.resolve())}),D(()=>{}))}createRoleIfNotExists(o){let t=pt(this.firestore,"acl_roles",o.id);return _(ht(t)).pipe(z(n=>{if(!n.exists()){let i=O(p({},o),{createdAt:new Date,updatedAt:new Date});return _(vt(t,i))}return _(Promise.resolve())}),D(()=>{}))}};I.\u0275fac=function(t){return new(t||I)},I.\u0275prov=b({token:I,factory:I.\u0275fac,providedIn:"root"});var et=I;function Br(){return[nt,X(()=>(o=>()=>o.load())(a(nt))())]}var L=class L{constructor(){this.menuService=a(te);this.settingService=a(G);this.aclService=a(Ht);this.titleService=a(ee);this.tokenService=a(g);this.httpClient=a(K);this.router=a(Y);this.i18n=a(J);this.firebaseACLInitService=a(et);this.firebaseACLService=a(de)}load(){let o=this.i18n.defaultLang,t=this.tokenService.get(),n=t&&t.token;return console.log("StartupService: \u6AA2\u67E5 token:",n?"\u6709\u6548":"\u7121\u6548"),At(this.i18n.loadLangData(o),this.httpClient.get("./assets/tmp/app-data.json"),this.firebaseACLInitService.initializeACL()).pipe(U(i=>(console.warn("StartupService.load: Network request failed",i),setTimeout(()=>this.router.navigateByUrl("/exception/500")),[])),B(C=>Tt(this,[C],function*([i,r]){if(this.i18n.use(o,i),this.settingService.setApp(r.app),n){if(console.log("StartupService: \u4F7F\u7528 @delon/auth token \u7528\u6236\u8CC7\u8A0A:",t),this.settingService.setUser({name:t.name||"Anonymous",avatar:t.avatar||"./assets/logo-color.svg",email:t.email||"",id:t.id}),t.role&&t.permissions?this.aclService.set({role:[t.role],ability:t.permissions}):this.aclService.set({role:["user"],ability:["dashboard:read"]}),t.uid){let St=yield Pt(this.firebaseACLService.loadUserACL(t.uid));St&&this.firebaseACLService.applyACL(St)}}else console.log("StartupService: \u4F7F\u7528\u975C\u614B\u7528\u6236\u914D\u7F6E"),this.settingService.setUser(r.user),this.aclService.set({role:["guest"],ability:["dashboard:read"]});this.menuService.add(r.menu),this.titleService.default="",this.titleService.suffix=r.app.name})),D(()=>{}))}};L.\u0275fac=function(t){return new(t||L)},L.\u0275prov=b({token:L,factory:L.\u0275fac});var nt=L;var Xr=()=>!0;export{Q as a,ue as b,bt as c,we as d,bi as e,hr as f,Br as g,nt as h,Xr as i};
