import{a as Bs,b as Us}from"./chunk-263H4HO6.js";import{a as Ks}from"./chunk-6Y4FH44J.js";import{b as li}from"./chunk-UR6TRNFJ.js";import{E as as,F as ss,O as si,b as Sn,f as $e,g as Ka,o as oi,r as os,v as ai}from"./chunk-5MAMKSM6.js";import{e as ns}from"./chunk-UUGZREJK.js";import{a as ci,b as Ws,e as Ls}from"./chunk-XBTT7TBK.js";import{f as Es,g as Ps,h as Os,i as Ms,j as Ns,k as ks}from"./chunk-BPQUQ6MO.js";import{a as Rs,b as As}from"./chunk-T6HWVAS2.js";import{a as ws,b as wr,c as at,d as zs,e as Zt}from"./chunk-6IW4YWVE.js";import{a as Ds,f as zr,g as Is,h as Vs,j as js,k as Fs}from"./chunk-W4BJY4IL.js";import{a as ms,b as _s,c as gs,d as ys}from"./chunk-AMHC2ZNL.js";import{a as vs,b as Cs,c as bs}from"./chunk-OYRBCSW5.js";import{a as Yt,b as en,c as qs}from"./chunk-J64GPCKM.js";import{a as $s,b as Ss,c as xs,d as Ts}from"./chunk-DPC4Z5WN.js";import{f as $r,g as Hs}from"./chunk-RY5S5FFE.js";import{a as rs}from"./chunk-N2U5WHCP.js";import{a as Dt}from"./chunk-PZD74DD7.js";import{d as br,e as ls,g as ot,h as cs,k as ds,m as De,n as us,t as ps,u as fs,y as hs}from"./chunk-B7TLEUBG.js";import{f as Za,g as Ya}from"./chunk-MUUHR64J.js";import{e as ii,f as ts}from"./chunk-D2VCTMW4.js";import{v as ni}from"./chunk-Y7K6W6MG.js";import{A as is,o as Qa,p as Xa,u as ri}from"./chunk-ACVYVQPN.js";import{h as $t,q as vr,s as Cr,t as es}from"./chunk-5LNT6E46.js";import{Nc as ke,Oc as Qt,Pc as zt,Qc as Xt,a as Jt,e as Ga,ga as Ja}from"./chunk-WLGCOGYM.js";import{T as yr,q as wt,y as Gt}from"./chunk-XHOQOBOK.js";import{Aa as P,Ab as Wa,Ac as Me,B as vn,Ba as O,Bc as fr,C as sr,Cc as Kt,Dc as gt,Dd as $n,Ea as ur,Ec as yt,Fb as Z,Ga as qa,Gb as mt,Gd as G,Hb as it,Hd as fe,Ic as we,Jb as re,Jc as He,Kc as K,L as Va,Lb as H,Lc as ti,M as Cn,Mc as ze,Nc as q,Ob as _t,Oc as pe,P as ja,Pb as bn,Pc as ae,R as lr,Ra as tt,Sa as oe,Sc as vt,T as Fa,Tc as Ct,Ua as nt,Uc as bt,V as cr,Vc as hr,Wc as mr,Xc as wn,Yb as qe,Zc as Ba,_b as x,ac as T,ad as zn,bc as rt,bd as _r,cc as La,cd as gr,d as ka,dc as We,ec as Le,ed as Ua,fa as dr,fc as _,g as ei,ga as Bt,gc as w,h as kt,hc as b,ic as B,kd as Ne,lb as ft,mc as Ce,nc as be,oa as Ut,oc as Ha,pa as pt,pc as ne,q as Da,r as ar,sb as m,ta as E,ua as Ra,ub as pr,v as Ia,va as Aa,vc as U,xb as ht,yc as p,zc as Oe}from"./chunk-ONJQPJYD.js";import{a as z,b as Y,c as Ma,d as $,e as Na,f as or,h as Ht}from"./chunk-HN2SGUN4.js";var En=$(W=>{"use strict";Object.defineProperty(W,"__esModule",{value:!0});W.regexpCode=W.getEsmExportName=W.getProperty=W.safeStringify=W.stringify=W.strConcat=W.addCodeArg=W.str=W._=W.nil=W._Code=W.Name=W.IDENTIFIER=W._CodeOrName=void 0;var xn=class{};W._CodeOrName=xn;W.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;var It=class extends xn{constructor(n){if(super(),!W.IDENTIFIER.test(n))throw new Error("CodeGen: name must be a valid identifier");this.str=n}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}};W.Name=It;var Se=class extends xn{constructor(n){super(),this._items=typeof n=="string"?[n]:n}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;let n=this._items[0];return n===""||n==='""'}get str(){var n;return(n=this._str)!==null&&n!==void 0?n:this._str=this._items.reduce((e,i)=>`${e}${i}`,"")}get names(){var n;return(n=this._names)!==null&&n!==void 0?n:this._names=this._items.reduce((e,i)=>(i instanceof It&&(e[i.str]=(e[i.str]||0)+1),e),{})}};W._Code=Se;W.nil=new Se("");function Gs(t,...n){let e=[t[0]],i=0;for(;i<n.length;)xr(e,n[i]),e.push(t[++i]);return new Se(e)}W._=Gs;var Sr=new Se("+");function Js(t,...n){let e=[Tn(t[0])],i=0;for(;i<n.length;)e.push(Sr),xr(e,n[i]),e.push(Sr,Tn(t[++i]));return ou(e),new Se(e)}W.str=Js;function xr(t,n){n instanceof Se?t.push(...n._items):n instanceof It?t.push(n):t.push(lu(n))}W.addCodeArg=xr;function ou(t){let n=1;for(;n<t.length-1;){if(t[n]===Sr){let e=au(t[n-1],t[n+1]);if(e!==void 0){t.splice(n-1,3,e);continue}t[n++]="+"}n++}}function au(t,n){if(n==='""')return t;if(t==='""')return n;if(typeof t=="string")return n instanceof It||t[t.length-1]!=='"'?void 0:typeof n!="string"?`${t.slice(0,-1)}${n}"`:n[0]==='"'?t.slice(0,-1)+n.slice(1):void 0;if(typeof n=="string"&&n[0]==='"'&&!(t instanceof It))return`"${t}${n.slice(1)}`}function su(t,n){return n.emptyStr()?t:t.emptyStr()?n:Js`${t}${n}`}W.strConcat=su;function lu(t){return typeof t=="number"||typeof t=="boolean"||t===null?t:Tn(Array.isArray(t)?t.join(","):t)}function cu(t){return new Se(Tn(t))}W.stringify=cu;function Tn(t){return JSON.stringify(t).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}W.safeStringify=Tn;function du(t){return typeof t=="string"&&W.IDENTIFIER.test(t)?new Se(`.${t}`):Gs`[${t}]`}W.getProperty=du;function uu(t){if(typeof t=="string"&&W.IDENTIFIER.test(t))return new Se(`${t}`);throw new Error(`CodeGen: invalid export name: ${t}, use explicit $id name mapping`)}W.getEsmExportName=uu;function pu(t){return new Se(t.toString())}W.regexpCode=pu});var Pr=$(ge=>{"use strict";Object.defineProperty(ge,"__esModule",{value:!0});ge.ValueScope=ge.ValueScopeName=ge.Scope=ge.varKinds=ge.UsedValueState=void 0;var _e=En(),Tr=class extends Error{constructor(n){super(`CodeGen: "code" for ${n} not defined`),this.value=n.value}},di=function(t){return t[t.Started=0]="Started",t[t.Completed=1]="Completed",t}(di||(ge.UsedValueState=di={}));ge.varKinds={const:new _e.Name("const"),let:new _e.Name("let"),var:new _e.Name("var")};var ui=class{constructor({prefixes:n,parent:e}={}){this._names={},this._prefixes=n,this._parent=e}toName(n){return n instanceof _e.Name?n:this.name(n)}name(n){return new _e.Name(this._newName(n))}_newName(n){let e=this._names[n]||this._nameGroup(n);return`${n}${e.index++}`}_nameGroup(n){var e,i;if(!((i=(e=this._parent)===null||e===void 0?void 0:e._prefixes)===null||i===void 0)&&i.has(n)||this._prefixes&&!this._prefixes.has(n))throw new Error(`CodeGen: prefix "${n}" is not allowed in this scope`);return this._names[n]={prefix:n,index:0}}};ge.Scope=ui;var pi=class extends _e.Name{constructor(n,e){super(e),this.prefix=n}setValue(n,{property:e,itemIndex:i}){this.value=n,this.scopePath=(0,_e._)`.${new _e.Name(e)}[${i}]`}};ge.ValueScopeName=pi;var fu=(0,_e._)`\n`,Er=class extends ui{constructor(n){super(n),this._values={},this._scope=n.scope,this.opts=Y(z({},n),{_n:n.lines?fu:_e.nil})}get(){return this._scope}name(n){return new pi(n,this._newName(n))}value(n,e){var i;if(e.ref===void 0)throw new Error("CodeGen: ref must be passed in value");let r=this.toName(n),{prefix:o}=r,a=(i=e.key)!==null&&i!==void 0?i:e.ref,s=this._values[o];if(s){let d=s.get(a);if(d)return d}else s=this._values[o]=new Map;s.set(a,r);let l=this._scope[o]||(this._scope[o]=[]),c=l.length;return l[c]=e.ref,r.setValue(e,{property:o,itemIndex:c}),r}getValue(n,e){let i=this._values[n];if(i)return i.get(e)}scopeRefs(n,e=this._values){return this._reduceValues(e,i=>{if(i.scopePath===void 0)throw new Error(`CodeGen: name "${i}" has no value`);return(0,_e._)`${n}${i.scopePath}`})}scopeCode(n=this._values,e,i){return this._reduceValues(n,r=>{if(r.value===void 0)throw new Error(`CodeGen: name "${r}" has no value`);return r.value.code},e,i)}_reduceValues(n,e,i={},r){let o=_e.nil;for(let a in n){let s=n[a];if(!s)continue;let l=i[a]=i[a]||new Map;s.forEach(c=>{if(l.has(c))return;l.set(c,di.Started);let d=e(c);if(d){let u=this.opts.es5?ge.varKinds.var:ge.varKinds.const;o=(0,_e._)`${o}${u} ${c} = ${d};${this.opts._n}`}else if(d=r?.(c))o=(0,_e._)`${o}${d}${this.opts._n}`;else throw new Tr(c);l.set(c,di.Completed)})}return o}};ge.ValueScope=Er});var D=$(I=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0});I.or=I.and=I.not=I.CodeGen=I.operators=I.varKinds=I.ValueScopeName=I.ValueScope=I.Scope=I.Name=I.regexpCode=I.stringify=I.getProperty=I.nil=I.strConcat=I.str=I._=void 0;var R=En(),Ie=Pr(),St=En();Object.defineProperty(I,"_",{enumerable:!0,get:function(){return St._}});Object.defineProperty(I,"str",{enumerable:!0,get:function(){return St.str}});Object.defineProperty(I,"strConcat",{enumerable:!0,get:function(){return St.strConcat}});Object.defineProperty(I,"nil",{enumerable:!0,get:function(){return St.nil}});Object.defineProperty(I,"getProperty",{enumerable:!0,get:function(){return St.getProperty}});Object.defineProperty(I,"stringify",{enumerable:!0,get:function(){return St.stringify}});Object.defineProperty(I,"regexpCode",{enumerable:!0,get:function(){return St.regexpCode}});Object.defineProperty(I,"Name",{enumerable:!0,get:function(){return St.Name}});var gi=Pr();Object.defineProperty(I,"Scope",{enumerable:!0,get:function(){return gi.Scope}});Object.defineProperty(I,"ValueScope",{enumerable:!0,get:function(){return gi.ValueScope}});Object.defineProperty(I,"ValueScopeName",{enumerable:!0,get:function(){return gi.ValueScopeName}});Object.defineProperty(I,"varKinds",{enumerable:!0,get:function(){return gi.varKinds}});I.operators={GT:new R._Code(">"),GTE:new R._Code(">="),LT:new R._Code("<"),LTE:new R._Code("<="),EQ:new R._Code("==="),NEQ:new R._Code("!=="),NOT:new R._Code("!"),OR:new R._Code("||"),AND:new R._Code("&&"),ADD:new R._Code("+")};var st=class{optimizeNodes(){return this}optimizeNames(n,e){return this}},Or=class extends st{constructor(n,e,i){super(),this.varKind=n,this.name=e,this.rhs=i}render({es5:n,_n:e}){let i=n?Ie.varKinds.var:this.varKind,r=this.rhs===void 0?"":` = ${this.rhs}`;return`${i} ${this.name}${r};`+e}optimizeNames(n,e){if(n[this.name.str])return this.rhs&&(this.rhs=tn(this.rhs,n,e)),this}get names(){return this.rhs instanceof R._CodeOrName?this.rhs.names:{}}},hi=class extends st{constructor(n,e,i){super(),this.lhs=n,this.rhs=e,this.sideEffects=i}render({_n:n}){return`${this.lhs} = ${this.rhs};`+n}optimizeNames(n,e){if(!(this.lhs instanceof R.Name&&!n[this.lhs.str]&&!this.sideEffects))return this.rhs=tn(this.rhs,n,e),this}get names(){let n=this.lhs instanceof R.Name?{}:z({},this.lhs.names);return _i(n,this.rhs)}},Mr=class extends hi{constructor(n,e,i,r){super(n,i,r),this.op=e}render({_n:n}){return`${this.lhs} ${this.op}= ${this.rhs};`+n}},Nr=class extends st{constructor(n){super(),this.label=n,this.names={}}render({_n:n}){return`${this.label}:`+n}},kr=class extends st{constructor(n){super(),this.label=n,this.names={}}render({_n:n}){return`break${this.label?` ${this.label}`:""};`+n}},Dr=class extends st{constructor(n){super(),this.error=n}render({_n:n}){return`throw ${this.error};`+n}get names(){return this.error.names}},Ir=class extends st{constructor(n){super(),this.code=n}render({_n:n}){return`${this.code};`+n}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(n,e){return this.code=tn(this.code,n,e),this}get names(){return this.code instanceof R._CodeOrName?this.code.names:{}}},Pn=class extends st{constructor(n=[]){super(),this.nodes=n}render(n){return this.nodes.reduce((e,i)=>e+i.render(n),"")}optimizeNodes(){let{nodes:n}=this,e=n.length;for(;e--;){let i=n[e].optimizeNodes();Array.isArray(i)?n.splice(e,1,...i):i?n[e]=i:n.splice(e,1)}return n.length>0?this:void 0}optimizeNames(n,e){let{nodes:i}=this,r=i.length;for(;r--;){let o=i[r];o.optimizeNames(n,e)||(hu(n,o.names),i.splice(r,1))}return i.length>0?this:void 0}get names(){return this.nodes.reduce((n,e)=>Vt(n,e.names),{})}},lt=class extends Pn{render(n){return"{"+n._n+super.render(n)+"}"+n._n}},Vr=class extends Pn{},jr=(()=>{class t extends lt{}return t.kind="else",t})(),fi=(()=>{class t extends lt{constructor(e,i){super(i),this.condition=e}render(e){let i=`if(${this.condition})`+super.render(e);return this.else&&(i+="else "+this.else.render(e)),i}optimizeNodes(){super.optimizeNodes();let e=this.condition;if(e===!0)return this.nodes;let i=this.else;if(i){let r=i.optimizeNodes();i=this.else=Array.isArray(r)?new jr(r):r}if(i)return e===!1?i instanceof t?i:i.nodes:this.nodes.length?this:new t(el(e),i instanceof t?[i]:i.nodes);if(!(e===!1||!this.nodes.length))return this}optimizeNames(e,i){var r;if(this.else=(r=this.else)===null||r===void 0?void 0:r.optimizeNames(e,i),!!(super.optimizeNames(e,i)||this.else))return this.condition=tn(this.condition,e,i),this}get names(){let e=super.names;return _i(e,this.condition),this.else&&Vt(e,this.else.names),e}}return t.kind="if",t})(),yi=(()=>{class t extends lt{}return t.kind="for",t})(),Fr=class extends yi{constructor(n){super(),this.iteration=n}render(n){return`for(${this.iteration})`+super.render(n)}optimizeNames(n,e){if(super.optimizeNames(n,e))return this.iteration=tn(this.iteration,n,e),this}get names(){return Vt(super.names,this.iteration.names)}},Rr=class extends yi{constructor(n,e,i,r){super(),this.varKind=n,this.name=e,this.from=i,this.to=r}render(n){let e=n.es5?Ie.varKinds.var:this.varKind,{name:i,from:r,to:o}=this;return`for(${e} ${i}=${r}; ${i}<${o}; ${i}++)`+super.render(n)}get names(){let n=_i(super.names,this.from);return _i(n,this.to)}},mi=class extends yi{constructor(n,e,i,r){super(),this.loop=n,this.varKind=e,this.name=i,this.iterable=r}render(n){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(n)}optimizeNames(n,e){if(super.optimizeNames(n,e))return this.iterable=tn(this.iterable,n,e),this}get names(){return Vt(super.names,this.iterable.names)}},Qs=(()=>{class t extends lt{constructor(e,i,r){super(),this.name=e,this.args=i,this.async=r}render(e){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(e)}}return t.kind="func",t})(),Xs=(()=>{class t extends Pn{render(e){return"return "+super.render(e)}}return t.kind="return",t})(),Ar=class extends lt{render(n){let e="try"+super.render(n);return this.catch&&(e+=this.catch.render(n)),this.finally&&(e+=this.finally.render(n)),e}optimizeNodes(){var n,e;return super.optimizeNodes(),(n=this.catch)===null||n===void 0||n.optimizeNodes(),(e=this.finally)===null||e===void 0||e.optimizeNodes(),this}optimizeNames(n,e){var i,r;return super.optimizeNames(n,e),(i=this.catch)===null||i===void 0||i.optimizeNames(n,e),(r=this.finally)===null||r===void 0||r.optimizeNames(n,e),this}get names(){let n=super.names;return this.catch&&Vt(n,this.catch.names),this.finally&&Vt(n,this.finally.names),n}},Zs=(()=>{class t extends lt{constructor(e){super(),this.error=e}render(e){return`catch(${this.error})`+super.render(e)}}return t.kind="catch",t})(),Ys=(()=>{class t extends lt{render(e){return"finally"+super.render(e)}}return t.kind="finally",t})(),qr=class{constructor(n,e={}){this._values={},this._blockStarts=[],this._constants={},this.opts=Y(z({},e),{_n:e.lines?`
`:""}),this._extScope=n,this._scope=new Ie.Scope({parent:n}),this._nodes=[new Vr]}toString(){return this._root.render(this.opts)}name(n){return this._scope.name(n)}scopeName(n){return this._extScope.name(n)}scopeValue(n,e){let i=this._extScope.value(n,e);return(this._values[i.prefix]||(this._values[i.prefix]=new Set)).add(i),i}getScopeValue(n,e){return this._extScope.getValue(n,e)}scopeRefs(n){return this._extScope.scopeRefs(n,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(n,e,i,r){let o=this._scope.toName(e);return i!==void 0&&r&&(this._constants[o.str]=i),this._leafNode(new Or(n,o,i)),o}const(n,e,i){return this._def(Ie.varKinds.const,n,e,i)}let(n,e,i){return this._def(Ie.varKinds.let,n,e,i)}var(n,e,i){return this._def(Ie.varKinds.var,n,e,i)}assign(n,e,i){return this._leafNode(new hi(n,e,i))}add(n,e){return this._leafNode(new Mr(n,I.operators.ADD,e))}code(n){return typeof n=="function"?n():n!==R.nil&&this._leafNode(new Ir(n)),this}object(...n){let e=["{"];for(let[i,r]of n)e.length>1&&e.push(","),e.push(i),(i!==r||this.opts.es5)&&(e.push(":"),(0,R.addCodeArg)(e,r));return e.push("}"),new R._Code(e)}if(n,e,i){if(this._blockNode(new fi(n)),e&&i)this.code(e).else().code(i).endIf();else if(e)this.code(e).endIf();else if(i)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(n){return this._elseNode(new fi(n))}else(){return this._elseNode(new jr)}endIf(){return this._endBlockNode(fi,jr)}_for(n,e){return this._blockNode(n),e&&this.code(e).endFor(),this}for(n,e){return this._for(new Fr(n),e)}forRange(n,e,i,r,o=this.opts.es5?Ie.varKinds.var:Ie.varKinds.let){let a=this._scope.toName(n);return this._for(new Rr(o,a,e,i),()=>r(a))}forOf(n,e,i,r=Ie.varKinds.const){let o=this._scope.toName(n);if(this.opts.es5){let a=e instanceof R.Name?e:this.var("_arr",e);return this.forRange("_i",0,(0,R._)`${a}.length`,s=>{this.var(o,(0,R._)`${a}[${s}]`),i(o)})}return this._for(new mi("of",r,o,e),()=>i(o))}forIn(n,e,i,r=this.opts.es5?Ie.varKinds.var:Ie.varKinds.const){if(this.opts.ownProperties)return this.forOf(n,(0,R._)`Object.keys(${e})`,i);let o=this._scope.toName(n);return this._for(new mi("in",r,o,e),()=>i(o))}endFor(){return this._endBlockNode(yi)}label(n){return this._leafNode(new Nr(n))}break(n){return this._leafNode(new kr(n))}return(n){let e=new Xs;if(this._blockNode(e),this.code(n),e.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(Xs)}try(n,e,i){if(!e&&!i)throw new Error('CodeGen: "try" without "catch" and "finally"');let r=new Ar;if(this._blockNode(r),this.code(n),e){let o=this.name("e");this._currNode=r.catch=new Zs(o),e(o)}return i&&(this._currNode=r.finally=new Ys,this.code(i)),this._endBlockNode(Zs,Ys)}throw(n){return this._leafNode(new Dr(n))}block(n,e){return this._blockStarts.push(this._nodes.length),n&&this.code(n).endBlock(e),this}endBlock(n){let e=this._blockStarts.pop();if(e===void 0)throw new Error("CodeGen: not in self-balancing block");let i=this._nodes.length-e;if(i<0||n!==void 0&&i!==n)throw new Error(`CodeGen: wrong number of nodes: ${i} vs ${n} expected`);return this._nodes.length=e,this}func(n,e=R.nil,i,r){return this._blockNode(new Qs(n,e,i)),r&&this.code(r).endFunc(),this}endFunc(){return this._endBlockNode(Qs)}optimize(n=1){for(;n-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(n){return this._currNode.nodes.push(n),this}_blockNode(n){this._currNode.nodes.push(n),this._nodes.push(n)}_endBlockNode(n,e){let i=this._currNode;if(i instanceof n||e&&i instanceof e)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${e?`${n.kind}/${e.kind}`:n.kind}"`)}_elseNode(n){let e=this._currNode;if(!(e instanceof fi))throw new Error('CodeGen: "else" without "if"');return this._currNode=e.else=n,this}get _root(){return this._nodes[0]}get _currNode(){let n=this._nodes;return n[n.length-1]}set _currNode(n){let e=this._nodes;e[e.length-1]=n}};I.CodeGen=qr;function Vt(t,n){for(let e in n)t[e]=(t[e]||0)+(n[e]||0);return t}function _i(t,n){return n instanceof R._CodeOrName?Vt(t,n.names):t}function tn(t,n,e){if(t instanceof R.Name)return i(t);if(!r(t))return t;return new R._Code(t._items.reduce((o,a)=>(a instanceof R.Name&&(a=i(a)),a instanceof R._Code?o.push(...a._items):o.push(a),o),[]));function i(o){let a=e[o.str];return a===void 0||n[o.str]!==1?o:(delete n[o.str],a)}function r(o){return o instanceof R._Code&&o._items.some(a=>a instanceof R.Name&&n[a.str]===1&&e[a.str]!==void 0)}}function hu(t,n){for(let e in n)t[e]=(t[e]||0)-(n[e]||0)}function el(t){return typeof t=="boolean"||typeof t=="number"||t===null?!t:(0,R._)`!${Wr(t)}`}I.not=el;var mu=tl(I.operators.AND);function _u(...t){return t.reduce(mu)}I.and=_u;var gu=tl(I.operators.OR);function yu(...t){return t.reduce(gu)}I.or=yu;function tl(t){return(n,e)=>n===R.nil?e:e===R.nil?n:(0,R._)`${Wr(n)} ${t} ${Wr(e)}`}function Wr(t){return t instanceof R.Name?t:(0,R._)`(${t})`}});var L=$(V=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0});V.checkStrictMode=V.getErrorPath=V.Type=V.useFunc=V.setEvaluated=V.evaluatedPropsToName=V.mergeEvaluated=V.eachItem=V.unescapeJsonPointer=V.escapeJsonPointer=V.escapeFragment=V.unescapeFragment=V.schemaRefOrVal=V.schemaHasRulesButRef=V.schemaHasRules=V.checkUnknownRules=V.alwaysValidSchema=V.toHash=void 0;var Q=D(),vu=En();function Cu(t){let n={};for(let e of t)n[e]=!0;return n}V.toHash=Cu;function bu(t,n){return typeof n=="boolean"?n:Object.keys(n).length===0?!0:(rl(t,n),!ol(n,t.self.RULES.all))}V.alwaysValidSchema=bu;function rl(t,n=t.schema){let{opts:e,self:i}=t;if(!e.strictSchema||typeof n=="boolean")return;let r=i.RULES.keywords;for(let o in n)r[o]||ll(t,`unknown keyword: "${o}"`)}V.checkUnknownRules=rl;function ol(t,n){if(typeof t=="boolean")return!t;for(let e in t)if(n[e])return!0;return!1}V.schemaHasRules=ol;function wu(t,n){if(typeof t=="boolean")return!t;for(let e in t)if(e!=="$ref"&&n.all[e])return!0;return!1}V.schemaHasRulesButRef=wu;function zu({topSchemaRef:t,schemaPath:n},e,i,r){if(!r){if(typeof e=="number"||typeof e=="boolean")return e;if(typeof e=="string")return(0,Q._)`${e}`}return(0,Q._)`${t}${n}${(0,Q.getProperty)(i)}`}V.schemaRefOrVal=zu;function $u(t){return al(decodeURIComponent(t))}V.unescapeFragment=$u;function Su(t){return encodeURIComponent(Hr(t))}V.escapeFragment=Su;function Hr(t){return typeof t=="number"?`${t}`:t.replace(/~/g,"~0").replace(/\//g,"~1")}V.escapeJsonPointer=Hr;function al(t){return t.replace(/~1/g,"/").replace(/~0/g,"~")}V.unescapeJsonPointer=al;function xu(t,n){if(Array.isArray(t))for(let e of t)n(e);else n(t)}V.eachItem=xu;function nl({mergeNames:t,mergeToName:n,mergeValues:e,resultToName:i}){return(r,o,a,s)=>{let l=a===void 0?o:a instanceof Q.Name?(o instanceof Q.Name?t(r,o,a):n(r,o,a),a):o instanceof Q.Name?(n(r,a,o),o):e(o,a);return s===Q.Name&&!(l instanceof Q.Name)?i(r,l):l}}V.mergeEvaluated={props:nl({mergeNames:(t,n,e)=>t.if((0,Q._)`${e} !== true && ${n} !== undefined`,()=>{t.if((0,Q._)`${n} === true`,()=>t.assign(e,!0),()=>t.assign(e,(0,Q._)`${e} || {}`).code((0,Q._)`Object.assign(${e}, ${n})`))}),mergeToName:(t,n,e)=>t.if((0,Q._)`${e} !== true`,()=>{n===!0?t.assign(e,!0):(t.assign(e,(0,Q._)`${e} || {}`),Br(t,e,n))}),mergeValues:(t,n)=>t===!0?!0:z(z({},t),n),resultToName:sl}),items:nl({mergeNames:(t,n,e)=>t.if((0,Q._)`${e} !== true && ${n} !== undefined`,()=>t.assign(e,(0,Q._)`${n} === true ? true : ${e} > ${n} ? ${e} : ${n}`)),mergeToName:(t,n,e)=>t.if((0,Q._)`${e} !== true`,()=>t.assign(e,n===!0?!0:(0,Q._)`${e} > ${n} ? ${e} : ${n}`)),mergeValues:(t,n)=>t===!0?!0:Math.max(t,n),resultToName:(t,n)=>t.var("items",n)})};function sl(t,n){if(n===!0)return t.var("props",!0);let e=t.var("props",(0,Q._)`{}`);return n!==void 0&&Br(t,e,n),e}V.evaluatedPropsToName=sl;function Br(t,n,e){Object.keys(e).forEach(i=>t.assign((0,Q._)`${n}${(0,Q.getProperty)(i)}`,!0))}V.setEvaluated=Br;var il={};function Tu(t,n){return t.scopeValue("func",{ref:n,code:il[n.code]||(il[n.code]=new vu._Code(n.code))})}V.useFunc=Tu;var Lr=function(t){return t[t.Num=0]="Num",t[t.Str=1]="Str",t}(Lr||(V.Type=Lr={}));function Eu(t,n,e){if(t instanceof Q.Name){let i=n===Lr.Num;return e?i?(0,Q._)`"[" + ${t} + "]"`:(0,Q._)`"['" + ${t} + "']"`:i?(0,Q._)`"/" + ${t}`:(0,Q._)`"/" + ${t}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return e?(0,Q.getProperty)(t).toString():"/"+Hr(t)}V.getErrorPath=Eu;function ll(t,n,e=t.opts.strictSchema){if(e){if(n=`strict mode: ${n}`,e===!0)throw new Error(n);t.self.logger.warn(n)}}V.checkStrictMode=ll});var ct=$(Ur=>{"use strict";Object.defineProperty(Ur,"__esModule",{value:!0});var ce=D(),Pu={data:new ce.Name("data"),valCxt:new ce.Name("valCxt"),instancePath:new ce.Name("instancePath"),parentData:new ce.Name("parentData"),parentDataProperty:new ce.Name("parentDataProperty"),rootData:new ce.Name("rootData"),dynamicAnchors:new ce.Name("dynamicAnchors"),vErrors:new ce.Name("vErrors"),errors:new ce.Name("errors"),this:new ce.Name("this"),self:new ce.Name("self"),scope:new ce.Name("scope"),json:new ce.Name("json"),jsonPos:new ce.Name("jsonPos"),jsonLen:new ce.Name("jsonLen"),jsonPart:new ce.Name("jsonPart")};Ur.default=Pu});var On=$(de=>{"use strict";Object.defineProperty(de,"__esModule",{value:!0});de.extendErrors=de.resetErrorsCount=de.reportExtraError=de.reportError=de.keyword$DataError=de.keywordError=void 0;var A=D(),vi=L(),he=ct();de.keywordError={message:({keyword:t})=>(0,A.str)`must pass "${t}" keyword validation`};de.keyword$DataError={message:({keyword:t,schemaType:n})=>n?(0,A.str)`"${t}" keyword must be ${n} ($data)`:(0,A.str)`"${t}" keyword is invalid ($data)`};function Ou(t,n=de.keywordError,e,i){let{it:r}=t,{gen:o,compositeRule:a,allErrors:s}=r,l=ul(t,n,e);i??(a||s)?cl(o,l):dl(r,(0,A._)`[${l}]`)}de.reportError=Ou;function Mu(t,n=de.keywordError,e){let{it:i}=t,{gen:r,compositeRule:o,allErrors:a}=i,s=ul(t,n,e);cl(r,s),o||a||dl(i,he.default.vErrors)}de.reportExtraError=Mu;function Nu(t,n){t.assign(he.default.errors,n),t.if((0,A._)`${he.default.vErrors} !== null`,()=>t.if(n,()=>t.assign((0,A._)`${he.default.vErrors}.length`,n),()=>t.assign(he.default.vErrors,null)))}de.resetErrorsCount=Nu;function ku({gen:t,keyword:n,schemaValue:e,data:i,errsCount:r,it:o}){if(r===void 0)throw new Error("ajv implementation error");let a=t.name("err");t.forRange("i",r,he.default.errors,s=>{t.const(a,(0,A._)`${he.default.vErrors}[${s}]`),t.if((0,A._)`${a}.instancePath === undefined`,()=>t.assign((0,A._)`${a}.instancePath`,(0,A.strConcat)(he.default.instancePath,o.errorPath))),t.assign((0,A._)`${a}.schemaPath`,(0,A.str)`${o.errSchemaPath}/${n}`),o.opts.verbose&&(t.assign((0,A._)`${a}.schema`,e),t.assign((0,A._)`${a}.data`,i))})}de.extendErrors=ku;function cl(t,n){let e=t.const("err",n);t.if((0,A._)`${he.default.vErrors} === null`,()=>t.assign(he.default.vErrors,(0,A._)`[${e}]`),(0,A._)`${he.default.vErrors}.push(${e})`),t.code((0,A._)`${he.default.errors}++`)}function dl(t,n){let{gen:e,validateName:i,schemaEnv:r}=t;r.$async?e.throw((0,A._)`new ${t.ValidationError}(${n})`):(e.assign((0,A._)`${i}.errors`,n),e.return(!1))}var jt={keyword:new A.Name("keyword"),schemaPath:new A.Name("schemaPath"),params:new A.Name("params"),propertyName:new A.Name("propertyName"),message:new A.Name("message"),schema:new A.Name("schema"),parentSchema:new A.Name("parentSchema")};function ul(t,n,e){let{createErrors:i}=t.it;return i===!1?(0,A._)`{}`:Du(t,n,e)}function Du(t,n,e={}){let{gen:i,it:r}=t,o=[Iu(r,e),Vu(t,e)];return ju(t,n,o),i.object(...o)}function Iu({errorPath:t},{instancePath:n}){let e=n?(0,A.str)`${t}${(0,vi.getErrorPath)(n,vi.Type.Str)}`:t;return[he.default.instancePath,(0,A.strConcat)(he.default.instancePath,e)]}function Vu({keyword:t,it:{errSchemaPath:n}},{schemaPath:e,parentSchema:i}){let r=i?n:(0,A.str)`${n}/${t}`;return e&&(r=(0,A.str)`${r}${(0,vi.getErrorPath)(e,vi.Type.Str)}`),[jt.schemaPath,r]}function ju(t,{params:n,message:e},i){let{keyword:r,data:o,schemaValue:a,it:s}=t,{opts:l,propertyName:c,topSchemaRef:d,schemaPath:u}=s;i.push([jt.keyword,r],[jt.params,typeof n=="function"?n(t):n||(0,A._)`{}`]),l.messages&&i.push([jt.message,typeof e=="function"?e(t):e]),l.verbose&&i.push([jt.schema,a],[jt.parentSchema,(0,A._)`${d}${u}`],[he.default.data,o]),c&&i.push([jt.propertyName,c])}});var fl=$(nn=>{"use strict";Object.defineProperty(nn,"__esModule",{value:!0});nn.boolOrEmptySchema=nn.topBoolOrEmptySchema=void 0;var Fu=On(),Ru=D(),Au=ct(),qu={message:"boolean schema is false"};function Wu(t){let{gen:n,schema:e,validateName:i}=t;e===!1?pl(t,!1):typeof e=="object"&&e.$async===!0?n.return(Au.default.data):(n.assign((0,Ru._)`${i}.errors`,null),n.return(!0))}nn.topBoolOrEmptySchema=Wu;function Lu(t,n){let{gen:e,schema:i}=t;i===!1?(e.var(n,!1),pl(t)):e.var(n,!0)}nn.boolOrEmptySchema=Lu;function pl(t,n){let{gen:e,data:i}=t,r={gen:e,keyword:"false schema",data:i,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:t};(0,Fu.reportError)(r,qu,void 0,n)}});var Kr=$(rn=>{"use strict";Object.defineProperty(rn,"__esModule",{value:!0});rn.getRules=rn.isJSONType=void 0;var Hu=["string","number","integer","boolean","null","object","array"],Bu=new Set(Hu);function Uu(t){return typeof t=="string"&&Bu.has(t)}rn.isJSONType=Uu;function Ku(){let t={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:Y(z({},t),{integer:!0,boolean:!0,null:!0}),rules:[{rules:[]},t.number,t.string,t.array,t.object],post:{rules:[]},all:{},keywords:{}}}rn.getRules=Ku});var Gr=$(xt=>{"use strict";Object.defineProperty(xt,"__esModule",{value:!0});xt.shouldUseRule=xt.shouldUseGroup=xt.schemaHasRulesForType=void 0;function Gu({schema:t,self:n},e){let i=n.RULES.types[e];return i&&i!==!0&&hl(t,i)}xt.schemaHasRulesForType=Gu;function hl(t,n){return n.rules.some(e=>ml(t,e))}xt.shouldUseGroup=hl;function ml(t,n){var e;return t[n.keyword]!==void 0||((e=n.definition.implements)===null||e===void 0?void 0:e.some(i=>t[i]!==void 0))}xt.shouldUseRule=ml});var Mn=$(ue=>{"use strict";Object.defineProperty(ue,"__esModule",{value:!0});ue.reportTypeError=ue.checkDataTypes=ue.checkDataType=ue.coerceAndCheckDataType=ue.getJSONTypes=ue.getSchemaTypes=ue.DataType=void 0;var Ju=Kr(),Qu=Gr(),Xu=On(),k=D(),_l=L(),on=function(t){return t[t.Correct=0]="Correct",t[t.Wrong=1]="Wrong",t}(on||(ue.DataType=on={}));function Zu(t){let n=gl(t.type);if(n.includes("null")){if(t.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!n.length&&t.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');t.nullable===!0&&n.push("null")}return n}ue.getSchemaTypes=Zu;function gl(t){let n=Array.isArray(t)?t:t?[t]:[];if(n.every(Ju.isJSONType))return n;throw new Error("type must be JSONType or JSONType[]: "+n.join(","))}ue.getJSONTypes=gl;function Yu(t,n){let{gen:e,data:i,opts:r}=t,o=ep(n,r.coerceTypes),a=n.length>0&&!(o.length===0&&n.length===1&&(0,Qu.schemaHasRulesForType)(t,n[0]));if(a){let s=Qr(n,i,r.strictNumbers,on.Wrong);e.if(s,()=>{o.length?tp(t,n,o):Xr(t)})}return a}ue.coerceAndCheckDataType=Yu;var yl=new Set(["string","number","integer","boolean","null"]);function ep(t,n){return n?t.filter(e=>yl.has(e)||n==="array"&&e==="array"):[]}function tp(t,n,e){let{gen:i,data:r,opts:o}=t,a=i.let("dataType",(0,k._)`typeof ${r}`),s=i.let("coerced",(0,k._)`undefined`);o.coerceTypes==="array"&&i.if((0,k._)`${a} == 'object' && Array.isArray(${r}) && ${r}.length == 1`,()=>i.assign(r,(0,k._)`${r}[0]`).assign(a,(0,k._)`typeof ${r}`).if(Qr(n,r,o.strictNumbers),()=>i.assign(s,r))),i.if((0,k._)`${s} !== undefined`);for(let c of e)(yl.has(c)||c==="array"&&o.coerceTypes==="array")&&l(c);i.else(),Xr(t),i.endIf(),i.if((0,k._)`${s} !== undefined`,()=>{i.assign(r,s),np(t,s)});function l(c){switch(c){case"string":i.elseIf((0,k._)`${a} == "number" || ${a} == "boolean"`).assign(s,(0,k._)`"" + ${r}`).elseIf((0,k._)`${r} === null`).assign(s,(0,k._)`""`);return;case"number":i.elseIf((0,k._)`${a} == "boolean" || ${r} === null
              || (${a} == "string" && ${r} && ${r} == +${r})`).assign(s,(0,k._)`+${r}`);return;case"integer":i.elseIf((0,k._)`${a} === "boolean" || ${r} === null
              || (${a} === "string" && ${r} && ${r} == +${r} && !(${r} % 1))`).assign(s,(0,k._)`+${r}`);return;case"boolean":i.elseIf((0,k._)`${r} === "false" || ${r} === 0 || ${r} === null`).assign(s,!1).elseIf((0,k._)`${r} === "true" || ${r} === 1`).assign(s,!0);return;case"null":i.elseIf((0,k._)`${r} === "" || ${r} === 0 || ${r} === false`),i.assign(s,null);return;case"array":i.elseIf((0,k._)`${a} === "string" || ${a} === "number"
              || ${a} === "boolean" || ${r} === null`).assign(s,(0,k._)`[${r}]`)}}}function np({gen:t,parentData:n,parentDataProperty:e},i){t.if((0,k._)`${n} !== undefined`,()=>t.assign((0,k._)`${n}[${e}]`,i))}function Jr(t,n,e,i=on.Correct){let r=i===on.Correct?k.operators.EQ:k.operators.NEQ,o;switch(t){case"null":return(0,k._)`${n} ${r} null`;case"array":o=(0,k._)`Array.isArray(${n})`;break;case"object":o=(0,k._)`${n} && typeof ${n} == "object" && !Array.isArray(${n})`;break;case"integer":o=a((0,k._)`!(${n} % 1) && !isNaN(${n})`);break;case"number":o=a();break;default:return(0,k._)`typeof ${n} ${r} ${t}`}return i===on.Correct?o:(0,k.not)(o);function a(s=k.nil){return(0,k.and)((0,k._)`typeof ${n} == "number"`,s,e?(0,k._)`isFinite(${n})`:k.nil)}}ue.checkDataType=Jr;function Qr(t,n,e,i){if(t.length===1)return Jr(t[0],n,e,i);let r,o=(0,_l.toHash)(t);if(o.array&&o.object){let a=(0,k._)`typeof ${n} != "object"`;r=o.null?a:(0,k._)`!${n} || ${a}`,delete o.null,delete o.array,delete o.object}else r=k.nil;o.number&&delete o.integer;for(let a in o)r=(0,k.and)(r,Jr(a,n,e,i));return r}ue.checkDataTypes=Qr;var ip={message:({schema:t})=>`must be ${t}`,params:({schema:t,schemaValue:n})=>typeof t=="string"?(0,k._)`{type: ${t}}`:(0,k._)`{type: ${n}}`};function Xr(t){let n=rp(t);(0,Xu.reportError)(n,ip)}ue.reportTypeError=Xr;function rp(t){let{gen:n,data:e,schema:i}=t,r=(0,_l.schemaRefOrVal)(t,i,"type");return{gen:n,keyword:"type",data:e,schema:i.type,schemaCode:r,schemaValue:r,parentSchema:i,params:{},it:t}}});var Cl=$(Ci=>{"use strict";Object.defineProperty(Ci,"__esModule",{value:!0});Ci.assignDefaults=void 0;var an=D(),op=L();function ap(t,n){let{properties:e,items:i}=t.schema;if(n==="object"&&e)for(let r in e)vl(t,r,e[r].default);else n==="array"&&Array.isArray(i)&&i.forEach((r,o)=>vl(t,o,r.default))}Ci.assignDefaults=ap;function vl(t,n,e){let{gen:i,compositeRule:r,data:o,opts:a}=t;if(e===void 0)return;let s=(0,an._)`${o}${(0,an.getProperty)(n)}`;if(r){(0,op.checkStrictMode)(t,`default is ignored for: ${s}`);return}let l=(0,an._)`${s} === undefined`;a.useDefaults==="empty"&&(l=(0,an._)`${l} || ${s} === null || ${s} === ""`),i.if(l,(0,an._)`${s} = ${(0,an.stringify)(e)}`)}});var xe=$(J=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0});J.validateUnion=J.validateArray=J.usePattern=J.callValidateCode=J.schemaProperties=J.allSchemaProperties=J.noPropertyInData=J.propertyInData=J.isOwnProperty=J.hasPropFunc=J.reportMissingProp=J.checkMissingProp=J.checkReportMissingProp=void 0;var ee=D(),Zr=L(),Tt=ct(),sp=L();function lp(t,n){let{gen:e,data:i,it:r}=t;e.if(eo(e,i,n,r.opts.ownProperties),()=>{t.setParams({missingProperty:(0,ee._)`${n}`},!0),t.error()})}J.checkReportMissingProp=lp;function cp({gen:t,data:n,it:{opts:e}},i,r){return(0,ee.or)(...i.map(o=>(0,ee.and)(eo(t,n,o,e.ownProperties),(0,ee._)`${r} = ${o}`)))}J.checkMissingProp=cp;function dp(t,n){t.setParams({missingProperty:n},!0),t.error()}J.reportMissingProp=dp;function bl(t){return t.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,ee._)`Object.prototype.hasOwnProperty`})}J.hasPropFunc=bl;function Yr(t,n,e){return(0,ee._)`${bl(t)}.call(${n}, ${e})`}J.isOwnProperty=Yr;function up(t,n,e,i){let r=(0,ee._)`${n}${(0,ee.getProperty)(e)} !== undefined`;return i?(0,ee._)`${r} && ${Yr(t,n,e)}`:r}J.propertyInData=up;function eo(t,n,e,i){let r=(0,ee._)`${n}${(0,ee.getProperty)(e)} === undefined`;return i?(0,ee.or)(r,(0,ee.not)(Yr(t,n,e))):r}J.noPropertyInData=eo;function wl(t){return t?Object.keys(t).filter(n=>n!=="__proto__"):[]}J.allSchemaProperties=wl;function pp(t,n){return wl(n).filter(e=>!(0,Zr.alwaysValidSchema)(t,n[e]))}J.schemaProperties=pp;function fp({schemaCode:t,data:n,it:{gen:e,topSchemaRef:i,schemaPath:r,errorPath:o},it:a},s,l,c){let d=c?(0,ee._)`${t}, ${n}, ${i}${r}`:n,u=[[Tt.default.instancePath,(0,ee.strConcat)(Tt.default.instancePath,o)],[Tt.default.parentData,a.parentData],[Tt.default.parentDataProperty,a.parentDataProperty],[Tt.default.rootData,Tt.default.rootData]];a.opts.dynamicRef&&u.push([Tt.default.dynamicAnchors,Tt.default.dynamicAnchors]);let v=(0,ee._)`${d}, ${e.object(...u)}`;return l!==ee.nil?(0,ee._)`${s}.call(${l}, ${v})`:(0,ee._)`${s}(${v})`}J.callValidateCode=fp;var hp=(0,ee._)`new RegExp`;function mp({gen:t,it:{opts:n}},e){let i=n.unicodeRegExp?"u":"",{regExp:r}=n.code,o=r(e,i);return t.scopeValue("pattern",{key:o.toString(),ref:o,code:(0,ee._)`${r.code==="new RegExp"?hp:(0,sp.useFunc)(t,r)}(${e}, ${i})`})}J.usePattern=mp;function _p(t){let{gen:n,data:e,keyword:i,it:r}=t,o=n.name("valid");if(r.allErrors){let s=n.let("valid",!0);return a(()=>n.assign(s,!1)),s}return n.var(o,!0),a(()=>n.break()),o;function a(s){let l=n.const("len",(0,ee._)`${e}.length`);n.forRange("i",0,l,c=>{t.subschema({keyword:i,dataProp:c,dataPropType:Zr.Type.Num},o),n.if((0,ee.not)(o),s)})}}J.validateArray=_p;function gp(t){let{gen:n,schema:e,keyword:i,it:r}=t;if(!Array.isArray(e))throw new Error("ajv implementation error");if(e.some(l=>(0,Zr.alwaysValidSchema)(r,l))&&!r.opts.unevaluated)return;let a=n.let("valid",!1),s=n.name("_valid");n.block(()=>e.forEach((l,c)=>{let d=t.subschema({keyword:i,schemaProp:c,compositeRule:!0},s);n.assign(a,(0,ee._)`${a} || ${s}`),t.mergeValidEvaluated(d,s)||n.if((0,ee.not)(a))})),t.result(a,()=>t.reset(),()=>t.error(!0))}J.validateUnion=gp});var Sl=$(Be=>{"use strict";Object.defineProperty(Be,"__esModule",{value:!0});Be.validateKeywordUsage=Be.validSchemaType=Be.funcKeywordCode=Be.macroKeywordCode=void 0;var me=D(),Ft=ct(),yp=xe(),vp=On();function Cp(t,n){let{gen:e,keyword:i,schema:r,parentSchema:o,it:a}=t,s=n.macro.call(a.self,r,o,a),l=$l(e,i,s);a.opts.validateSchema!==!1&&a.self.validateSchema(s,!0);let c=e.name("valid");t.subschema({schema:s,schemaPath:me.nil,errSchemaPath:`${a.errSchemaPath}/${i}`,topSchemaRef:l,compositeRule:!0},c),t.pass(c,()=>t.error(!0))}Be.macroKeywordCode=Cp;function bp(t,n){var e;let{gen:i,keyword:r,schema:o,parentSchema:a,$data:s,it:l}=t;zp(l,n);let c=!s&&n.compile?n.compile.call(l.self,o,a,l):n.validate,d=$l(i,r,c),u=i.let("valid");t.block$data(u,v),t.ok((e=n.valid)!==null&&e!==void 0?e:u);function v(){if(n.errors===!1)y(),n.modifying&&zl(t),f(()=>t.error());else{let C=n.async?g():h();n.modifying&&zl(t),f(()=>wp(t,C))}}function g(){let C=i.let("ruleErrs",null);return i.try(()=>y((0,me._)`await `),j=>i.assign(u,!1).if((0,me._)`${j} instanceof ${l.ValidationError}`,()=>i.assign(C,(0,me._)`${j}.errors`),()=>i.throw(j))),C}function h(){let C=(0,me._)`${d}.errors`;return i.assign(C,null),y(me.nil),C}function y(C=n.async?(0,me._)`await `:me.nil){let j=l.opts.passContext?Ft.default.this:Ft.default.self,F=!("compile"in n&&!s||n.schema===!1);i.assign(u,(0,me._)`${C}${(0,yp.callValidateCode)(t,d,j,F)}`,n.modifying)}function f(C){var j;i.if((0,me.not)((j=n.valid)!==null&&j!==void 0?j:u),C)}}Be.funcKeywordCode=bp;function zl(t){let{gen:n,data:e,it:i}=t;n.if(i.parentData,()=>n.assign(e,(0,me._)`${i.parentData}[${i.parentDataProperty}]`))}function wp(t,n){let{gen:e}=t;e.if((0,me._)`Array.isArray(${n})`,()=>{e.assign(Ft.default.vErrors,(0,me._)`${Ft.default.vErrors} === null ? ${n} : ${Ft.default.vErrors}.concat(${n})`).assign(Ft.default.errors,(0,me._)`${Ft.default.vErrors}.length`),(0,vp.extendErrors)(t)},()=>t.error())}function zp({schemaEnv:t},n){if(n.async&&!t.$async)throw new Error("async keyword in sync schema")}function $l(t,n,e){if(e===void 0)throw new Error(`keyword "${n}" failed to compile`);return t.scopeValue("keyword",typeof e=="function"?{ref:e}:{ref:e,code:(0,me.stringify)(e)})}function $p(t,n,e=!1){return!n.length||n.some(i=>i==="array"?Array.isArray(t):i==="object"?t&&typeof t=="object"&&!Array.isArray(t):typeof t==i||e&&typeof t>"u")}Be.validSchemaType=$p;function Sp({schema:t,opts:n,self:e,errSchemaPath:i},r,o){if(Array.isArray(r.keyword)?!r.keyword.includes(o):r.keyword!==o)throw new Error("ajv implementation error");let a=r.dependencies;if(a?.some(s=>!Object.prototype.hasOwnProperty.call(t,s)))throw new Error(`parent schema must have dependencies of ${o}: ${a.join(",")}`);if(r.validateSchema&&!r.validateSchema(t[o])){let l=`keyword "${o}" value is invalid at path "${i}": `+e.errorsText(r.validateSchema.errors);if(n.validateSchema==="log")e.logger.error(l);else throw new Error(l)}}Be.validateKeywordUsage=Sp});var Tl=$(Et=>{"use strict";Object.defineProperty(Et,"__esModule",{value:!0});Et.extendSubschemaMode=Et.extendSubschemaData=Et.getSubschema=void 0;var Ue=D(),xl=L();function xp(t,{keyword:n,schemaProp:e,schema:i,schemaPath:r,errSchemaPath:o,topSchemaRef:a}){if(n!==void 0&&i!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(n!==void 0){let s=t.schema[n];return e===void 0?{schema:s,schemaPath:(0,Ue._)`${t.schemaPath}${(0,Ue.getProperty)(n)}`,errSchemaPath:`${t.errSchemaPath}/${n}`}:{schema:s[e],schemaPath:(0,Ue._)`${t.schemaPath}${(0,Ue.getProperty)(n)}${(0,Ue.getProperty)(e)}`,errSchemaPath:`${t.errSchemaPath}/${n}/${(0,xl.escapeFragment)(e)}`}}if(i!==void 0){if(r===void 0||o===void 0||a===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:i,schemaPath:r,topSchemaRef:a,errSchemaPath:o}}throw new Error('either "keyword" or "schema" must be passed')}Et.getSubschema=xp;function Tp(t,n,{dataProp:e,dataPropType:i,data:r,dataTypes:o,propertyName:a}){if(r!==void 0&&e!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');let{gen:s}=n;if(e!==void 0){let{errorPath:c,dataPathArr:d,opts:u}=n,v=s.let("data",(0,Ue._)`${n.data}${(0,Ue.getProperty)(e)}`,!0);l(v),t.errorPath=(0,Ue.str)`${c}${(0,xl.getErrorPath)(e,i,u.jsPropertySyntax)}`,t.parentDataProperty=(0,Ue._)`${e}`,t.dataPathArr=[...d,t.parentDataProperty]}if(r!==void 0){let c=r instanceof Ue.Name?r:s.let("data",r,!0);l(c),a!==void 0&&(t.propertyName=a)}o&&(t.dataTypes=o);function l(c){t.data=c,t.dataLevel=n.dataLevel+1,t.dataTypes=[],n.definedProperties=new Set,t.parentData=n.data,t.dataNames=[...n.dataNames,c]}}Et.extendSubschemaData=Tp;function Ep(t,{jtdDiscriminator:n,jtdMetadata:e,compositeRule:i,createErrors:r,allErrors:o}){i!==void 0&&(t.compositeRule=i),r!==void 0&&(t.createErrors=r),o!==void 0&&(t.allErrors=o),t.jtdDiscriminator=n,t.jtdMetadata=e}Et.extendSubschemaMode=Ep});var to=$((Ly,El)=>{"use strict";El.exports=function t(n,e){if(n===e)return!0;if(n&&e&&typeof n=="object"&&typeof e=="object"){if(n.constructor!==e.constructor)return!1;var i,r,o;if(Array.isArray(n)){if(i=n.length,i!=e.length)return!1;for(r=i;r--!==0;)if(!t(n[r],e[r]))return!1;return!0}if(n.constructor===RegExp)return n.source===e.source&&n.flags===e.flags;if(n.valueOf!==Object.prototype.valueOf)return n.valueOf()===e.valueOf();if(n.toString!==Object.prototype.toString)return n.toString()===e.toString();if(o=Object.keys(n),i=o.length,i!==Object.keys(e).length)return!1;for(r=i;r--!==0;)if(!Object.prototype.hasOwnProperty.call(e,o[r]))return!1;for(r=i;r--!==0;){var a=o[r];if(!t(n[a],e[a]))return!1}return!0}return n!==n&&e!==e}});var Ol=$((Hy,Pl)=>{"use strict";var Pt=Pl.exports=function(t,n,e){typeof n=="function"&&(e=n,n={}),e=n.cb||e;var i=typeof e=="function"?e:e.pre||function(){},r=e.post||function(){};bi(n,i,r,t,"",t)};Pt.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};Pt.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};Pt.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};Pt.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function bi(t,n,e,i,r,o,a,s,l,c){if(i&&typeof i=="object"&&!Array.isArray(i)){n(i,r,o,a,s,l,c);for(var d in i){var u=i[d];if(Array.isArray(u)){if(d in Pt.arrayKeywords)for(var v=0;v<u.length;v++)bi(t,n,e,u[v],r+"/"+d+"/"+v,o,r,d,i,v)}else if(d in Pt.propsKeywords){if(u&&typeof u=="object")for(var g in u)bi(t,n,e,u[g],r+"/"+d+"/"+Pp(g),o,r,d,i,g)}else(d in Pt.keywords||t.allKeys&&!(d in Pt.skipKeywords))&&bi(t,n,e,u,r+"/"+d,o,r,d,i)}e(i,r,o,a,s,l,c)}}function Pp(t){return t.replace(/~/g,"~0").replace(/\//g,"~1")}});var Nn=$(ye=>{"use strict";Object.defineProperty(ye,"__esModule",{value:!0});ye.getSchemaRefs=ye.resolveUrl=ye.normalizeId=ye._getFullPath=ye.getFullPath=ye.inlineRef=void 0;var Op=L(),Mp=to(),Np=Ol(),kp=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function Dp(t,n=!0){return typeof t=="boolean"?!0:n===!0?!no(t):n?Ml(t)<=n:!1}ye.inlineRef=Dp;var Ip=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function no(t){for(let n in t){if(Ip.has(n))return!0;let e=t[n];if(Array.isArray(e)&&e.some(no)||typeof e=="object"&&no(e))return!0}return!1}function Ml(t){let n=0;for(let e in t){if(e==="$ref")return 1/0;if(n++,!kp.has(e)&&(typeof t[e]=="object"&&(0,Op.eachItem)(t[e],i=>n+=Ml(i)),n===1/0))return 1/0}return n}function Nl(t,n="",e){e!==!1&&(n=sn(n));let i=t.parse(n);return kl(t,i)}ye.getFullPath=Nl;function kl(t,n){return t.serialize(n).split("#")[0]+"#"}ye._getFullPath=kl;var Vp=/#\/?$/;function sn(t){return t?t.replace(Vp,""):""}ye.normalizeId=sn;function jp(t,n,e){return e=sn(e),t.resolve(n,e)}ye.resolveUrl=jp;var Fp=/^[a-z_][-a-z0-9._]*$/i;function Rp(t,n){if(typeof t=="boolean")return{};let{schemaId:e,uriResolver:i}=this.opts,r=sn(t[e]||n),o={"":r},a=Nl(i,r,!1),s={},l=new Set;return Np(t,{allKeys:!0},(u,v,g,h)=>{if(h===void 0)return;let y=a+v,f=o[h];typeof u[e]=="string"&&(f=C.call(this,u[e])),j.call(this,u.$anchor),j.call(this,u.$dynamicAnchor),o[v]=f;function C(F){let X=this.opts.uriResolver.resolve;if(F=sn(f?X(f,F):F),l.has(F))throw d(F);l.add(F);let N=this.refs[F];return typeof N=="string"&&(N=this.refs[N]),typeof N=="object"?c(u,N.schema,F):F!==sn(y)&&(F[0]==="#"?(c(u,s[F],F),s[F]=u):this.refs[F]=y),F}function j(F){if(typeof F=="string"){if(!Fp.test(F))throw new Error(`invalid anchor "${F}"`);C.call(this,`#${F}`)}}}),s;function c(u,v,g){if(v!==void 0&&!Mp(u,v))throw d(g)}function d(u){return new Error(`reference "${u}" resolves to more than one schema`)}}ye.getSchemaRefs=Rp});var In=$(Ot=>{"use strict";Object.defineProperty(Ot,"__esModule",{value:!0});Ot.getData=Ot.KeywordCxt=Ot.validateFunctionCode=void 0;var Fl=fl(),Dl=Mn(),ro=Gr(),wi=Mn(),Ap=Cl(),Dn=Sl(),io=Tl(),S=D(),M=ct(),qp=Nn(),dt=L(),kn=On();function Wp(t){if(ql(t)&&(Wl(t),Al(t))){Bp(t);return}Rl(t,()=>(0,Fl.topBoolOrEmptySchema)(t))}Ot.validateFunctionCode=Wp;function Rl({gen:t,validateName:n,schema:e,schemaEnv:i,opts:r},o){r.code.es5?t.func(n,(0,S._)`${M.default.data}, ${M.default.valCxt}`,i.$async,()=>{t.code((0,S._)`"use strict"; ${Il(e,r)}`),Hp(t,r),t.code(o)}):t.func(n,(0,S._)`${M.default.data}, ${Lp(r)}`,i.$async,()=>t.code(Il(e,r)).code(o))}function Lp(t){return(0,S._)`{${M.default.instancePath}="", ${M.default.parentData}, ${M.default.parentDataProperty}, ${M.default.rootData}=${M.default.data}${t.dynamicRef?(0,S._)`, ${M.default.dynamicAnchors}={}`:S.nil}}={}`}function Hp(t,n){t.if(M.default.valCxt,()=>{t.var(M.default.instancePath,(0,S._)`${M.default.valCxt}.${M.default.instancePath}`),t.var(M.default.parentData,(0,S._)`${M.default.valCxt}.${M.default.parentData}`),t.var(M.default.parentDataProperty,(0,S._)`${M.default.valCxt}.${M.default.parentDataProperty}`),t.var(M.default.rootData,(0,S._)`${M.default.valCxt}.${M.default.rootData}`),n.dynamicRef&&t.var(M.default.dynamicAnchors,(0,S._)`${M.default.valCxt}.${M.default.dynamicAnchors}`)},()=>{t.var(M.default.instancePath,(0,S._)`""`),t.var(M.default.parentData,(0,S._)`undefined`),t.var(M.default.parentDataProperty,(0,S._)`undefined`),t.var(M.default.rootData,M.default.data),n.dynamicRef&&t.var(M.default.dynamicAnchors,(0,S._)`{}`)})}function Bp(t){let{schema:n,opts:e,gen:i}=t;Rl(t,()=>{e.$comment&&n.$comment&&Hl(t),Qp(t),i.let(M.default.vErrors,null),i.let(M.default.errors,0),e.unevaluated&&Up(t),Ll(t),Yp(t)})}function Up(t){let{gen:n,validateName:e}=t;t.evaluated=n.const("evaluated",(0,S._)`${e}.evaluated`),n.if((0,S._)`${t.evaluated}.dynamicProps`,()=>n.assign((0,S._)`${t.evaluated}.props`,(0,S._)`undefined`)),n.if((0,S._)`${t.evaluated}.dynamicItems`,()=>n.assign((0,S._)`${t.evaluated}.items`,(0,S._)`undefined`))}function Il(t,n){let e=typeof t=="object"&&t[n.schemaId];return e&&(n.code.source||n.code.process)?(0,S._)`/*# sourceURL=${e} */`:S.nil}function Kp(t,n){if(ql(t)&&(Wl(t),Al(t))){Gp(t,n);return}(0,Fl.boolOrEmptySchema)(t,n)}function Al({schema:t,self:n}){if(typeof t=="boolean")return!t;for(let e in t)if(n.RULES.all[e])return!0;return!1}function ql(t){return typeof t.schema!="boolean"}function Gp(t,n){let{schema:e,gen:i,opts:r}=t;r.$comment&&e.$comment&&Hl(t),Xp(t),Zp(t);let o=i.const("_errs",M.default.errors);Ll(t,o),i.var(n,(0,S._)`${o} === ${M.default.errors}`)}function Wl(t){(0,dt.checkUnknownRules)(t),Jp(t)}function Ll(t,n){if(t.opts.jtd)return Vl(t,[],!1,n);let e=(0,Dl.getSchemaTypes)(t.schema),i=(0,Dl.coerceAndCheckDataType)(t,e);Vl(t,e,!i,n)}function Jp(t){let{schema:n,errSchemaPath:e,opts:i,self:r}=t;n.$ref&&i.ignoreKeywordsWithRef&&(0,dt.schemaHasRulesButRef)(n,r.RULES)&&r.logger.warn(`$ref: keywords ignored in schema at path "${e}"`)}function Qp(t){let{schema:n,opts:e}=t;n.default!==void 0&&e.useDefaults&&e.strictSchema&&(0,dt.checkStrictMode)(t,"default is ignored in the schema root")}function Xp(t){let n=t.schema[t.opts.schemaId];n&&(t.baseId=(0,qp.resolveUrl)(t.opts.uriResolver,t.baseId,n))}function Zp(t){if(t.schema.$async&&!t.schemaEnv.$async)throw new Error("async schema in sync schema")}function Hl({gen:t,schemaEnv:n,schema:e,errSchemaPath:i,opts:r}){let o=e.$comment;if(r.$comment===!0)t.code((0,S._)`${M.default.self}.logger.log(${o})`);else if(typeof r.$comment=="function"){let a=(0,S.str)`${i}/$comment`,s=t.scopeValue("root",{ref:n.root});t.code((0,S._)`${M.default.self}.opts.$comment(${o}, ${a}, ${s}.schema)`)}}function Yp(t){let{gen:n,schemaEnv:e,validateName:i,ValidationError:r,opts:o}=t;e.$async?n.if((0,S._)`${M.default.errors} === 0`,()=>n.return(M.default.data),()=>n.throw((0,S._)`new ${r}(${M.default.vErrors})`)):(n.assign((0,S._)`${i}.errors`,M.default.vErrors),o.unevaluated&&ef(t),n.return((0,S._)`${M.default.errors} === 0`))}function ef({gen:t,evaluated:n,props:e,items:i}){e instanceof S.Name&&t.assign((0,S._)`${n}.props`,e),i instanceof S.Name&&t.assign((0,S._)`${n}.items`,i)}function Vl(t,n,e,i){let{gen:r,schema:o,data:a,allErrors:s,opts:l,self:c}=t,{RULES:d}=c;if(o.$ref&&(l.ignoreKeywordsWithRef||!(0,dt.schemaHasRulesButRef)(o,d))){r.block(()=>Ul(t,"$ref",d.all.$ref.definition));return}l.jtd||tf(t,n),r.block(()=>{for(let v of d.rules)u(v);u(d.post)});function u(v){(0,ro.shouldUseGroup)(o,v)&&(v.type?(r.if((0,wi.checkDataType)(v.type,a,l.strictNumbers)),jl(t,v),n.length===1&&n[0]===v.type&&e&&(r.else(),(0,wi.reportTypeError)(t)),r.endIf()):jl(t,v),s||r.if((0,S._)`${M.default.errors} === ${i||0}`))}}function jl(t,n){let{gen:e,schema:i,opts:{useDefaults:r}}=t;r&&(0,Ap.assignDefaults)(t,n.type),e.block(()=>{for(let o of n.rules)(0,ro.shouldUseRule)(i,o)&&Ul(t,o.keyword,o.definition,n.type)})}function tf(t,n){t.schemaEnv.meta||!t.opts.strictTypes||(nf(t,n),t.opts.allowUnionTypes||rf(t,n),of(t,t.dataTypes))}function nf(t,n){if(n.length){if(!t.dataTypes.length){t.dataTypes=n;return}n.forEach(e=>{Bl(t.dataTypes,e)||oo(t,`type "${e}" not allowed by context "${t.dataTypes.join(",")}"`)}),sf(t,n)}}function rf(t,n){n.length>1&&!(n.length===2&&n.includes("null"))&&oo(t,"use allowUnionTypes to allow union type keyword")}function of(t,n){let e=t.self.RULES.all;for(let i in e){let r=e[i];if(typeof r=="object"&&(0,ro.shouldUseRule)(t.schema,r)){let{type:o}=r.definition;o.length&&!o.some(a=>af(n,a))&&oo(t,`missing type "${o.join(",")}" for keyword "${i}"`)}}}function af(t,n){return t.includes(n)||n==="number"&&t.includes("integer")}function Bl(t,n){return t.includes(n)||n==="integer"&&t.includes("number")}function sf(t,n){let e=[];for(let i of t.dataTypes)Bl(n,i)?e.push(i):n.includes("integer")&&i==="number"&&e.push("integer");t.dataTypes=e}function oo(t,n){let e=t.schemaEnv.baseId+t.errSchemaPath;n+=` at "${e}" (strictTypes)`,(0,dt.checkStrictMode)(t,n,t.opts.strictTypes)}var zi=class{constructor(n,e,i){if((0,Dn.validateKeywordUsage)(n,e,i),this.gen=n.gen,this.allErrors=n.allErrors,this.keyword=i,this.data=n.data,this.schema=n.schema[i],this.$data=e.$data&&n.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,dt.schemaRefOrVal)(n,this.schema,i,this.$data),this.schemaType=e.schemaType,this.parentSchema=n.schema,this.params={},this.it=n,this.def=e,this.$data)this.schemaCode=n.gen.const("vSchema",Kl(this.$data,n));else if(this.schemaCode=this.schemaValue,!(0,Dn.validSchemaType)(this.schema,e.schemaType,e.allowUndefined))throw new Error(`${i} value must be ${JSON.stringify(e.schemaType)}`);("code"in e?e.trackErrors:e.errors!==!1)&&(this.errsCount=n.gen.const("_errs",M.default.errors))}result(n,e,i){this.failResult((0,S.not)(n),e,i)}failResult(n,e,i){this.gen.if(n),i?i():this.error(),e?(this.gen.else(),e(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(n,e){this.failResult((0,S.not)(n),void 0,e)}fail(n){if(n===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(n),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(n){if(!this.$data)return this.fail(n);let{schemaCode:e}=this;this.fail((0,S._)`${e} !== undefined && (${(0,S.or)(this.invalid$data(),n)})`)}error(n,e,i){if(e){this.setParams(e),this._error(n,i),this.setParams({});return}this._error(n,i)}_error(n,e){(n?kn.reportExtraError:kn.reportError)(this,this.def.error,e)}$dataError(){(0,kn.reportError)(this,this.def.$dataError||kn.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,kn.resetErrorsCount)(this.gen,this.errsCount)}ok(n){this.allErrors||this.gen.if(n)}setParams(n,e){e?Object.assign(this.params,n):this.params=n}block$data(n,e,i=S.nil){this.gen.block(()=>{this.check$data(n,i),e()})}check$data(n=S.nil,e=S.nil){if(!this.$data)return;let{gen:i,schemaCode:r,schemaType:o,def:a}=this;i.if((0,S.or)((0,S._)`${r} === undefined`,e)),n!==S.nil&&i.assign(n,!0),(o.length||a.validateSchema)&&(i.elseIf(this.invalid$data()),this.$dataError(),n!==S.nil&&i.assign(n,!1)),i.else()}invalid$data(){let{gen:n,schemaCode:e,schemaType:i,def:r,it:o}=this;return(0,S.or)(a(),s());function a(){if(i.length){if(!(e instanceof S.Name))throw new Error("ajv implementation error");let l=Array.isArray(i)?i:[i];return(0,S._)`${(0,wi.checkDataTypes)(l,e,o.opts.strictNumbers,wi.DataType.Wrong)}`}return S.nil}function s(){if(r.validateSchema){let l=n.scopeValue("validate$data",{ref:r.validateSchema});return(0,S._)`!${l}(${e})`}return S.nil}}subschema(n,e){let i=(0,io.getSubschema)(this.it,n);(0,io.extendSubschemaData)(i,this.it,n),(0,io.extendSubschemaMode)(i,n);let r=Y(z(z({},this.it),i),{items:void 0,props:void 0});return Kp(r,e),r}mergeEvaluated(n,e){let{it:i,gen:r}=this;i.opts.unevaluated&&(i.props!==!0&&n.props!==void 0&&(i.props=dt.mergeEvaluated.props(r,n.props,i.props,e)),i.items!==!0&&n.items!==void 0&&(i.items=dt.mergeEvaluated.items(r,n.items,i.items,e)))}mergeValidEvaluated(n,e){let{it:i,gen:r}=this;if(i.opts.unevaluated&&(i.props!==!0||i.items!==!0))return r.if(e,()=>this.mergeEvaluated(n,S.Name)),!0}};Ot.KeywordCxt=zi;function Ul(t,n,e,i){let r=new zi(t,e,n);"code"in e?e.code(r,i):r.$data&&e.validate?(0,Dn.funcKeywordCode)(r,e):"macro"in e?(0,Dn.macroKeywordCode)(r,e):(e.compile||e.validate)&&(0,Dn.funcKeywordCode)(r,e)}var lf=/^\/(?:[^~]|~0|~1)*$/,cf=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function Kl(t,{dataLevel:n,dataNames:e,dataPathArr:i}){let r,o;if(t==="")return M.default.rootData;if(t[0]==="/"){if(!lf.test(t))throw new Error(`Invalid JSON-pointer: ${t}`);r=t,o=M.default.rootData}else{let c=cf.exec(t);if(!c)throw new Error(`Invalid JSON-pointer: ${t}`);let d=+c[1];if(r=c[2],r==="#"){if(d>=n)throw new Error(l("property/index",d));return i[n-d]}if(d>n)throw new Error(l("data",d));if(o=e[n-d],!r)return o}let a=o,s=r.split("/");for(let c of s)c&&(o=(0,S._)`${o}${(0,S.getProperty)((0,dt.unescapeJsonPointer)(c))}`,a=(0,S._)`${a} && ${o}`);return a;function l(c,d){return`Cannot access ${c} ${d} levels up, current level is ${n}`}}Ot.getData=Kl});var $i=$(so=>{"use strict";Object.defineProperty(so,"__esModule",{value:!0});var ao=class extends Error{constructor(n){super("validation failed"),this.errors=n,this.ajv=this.validation=!0}};so.default=ao});var Vn=$(uo=>{"use strict";Object.defineProperty(uo,"__esModule",{value:!0});var lo=Nn(),co=class extends Error{constructor(n,e,i,r){super(r||`can't resolve reference ${i} from id ${e}`),this.missingRef=(0,lo.resolveUrl)(n,e,i),this.missingSchema=(0,lo.normalizeId)((0,lo.getFullPath)(n,this.missingRef))}};uo.default=co});var xi=$(Te=>{"use strict";Object.defineProperty(Te,"__esModule",{value:!0});Te.resolveSchema=Te.getCompilingSchema=Te.resolveRef=Te.compileSchema=Te.SchemaEnv=void 0;var Ve=D(),df=$i(),Rt=ct(),je=Nn(),Gl=L(),uf=In(),ln=class{constructor(n){var e;this.refs={},this.dynamicAnchors={};let i;typeof n.schema=="object"&&(i=n.schema),this.schema=n.schema,this.schemaId=n.schemaId,this.root=n.root||this,this.baseId=(e=n.baseId)!==null&&e!==void 0?e:(0,je.normalizeId)(i?.[n.schemaId||"$id"]),this.schemaPath=n.schemaPath,this.localRefs=n.localRefs,this.meta=n.meta,this.$async=i?.$async,this.refs={}}};Te.SchemaEnv=ln;function fo(t){let n=Jl.call(this,t);if(n)return n;let e=(0,je.getFullPath)(this.opts.uriResolver,t.root.baseId),{es5:i,lines:r}=this.opts.code,{ownProperties:o}=this.opts,a=new Ve.CodeGen(this.scope,{es5:i,lines:r,ownProperties:o}),s;t.$async&&(s=a.scopeValue("Error",{ref:df.default,code:(0,Ve._)`require("ajv/dist/runtime/validation_error").default`}));let l=a.scopeName("validate");t.validateName=l;let c={gen:a,allErrors:this.opts.allErrors,data:Rt.default.data,parentData:Rt.default.parentData,parentDataProperty:Rt.default.parentDataProperty,dataNames:[Rt.default.data],dataPathArr:[Ve.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:a.scopeValue("schema",this.opts.code.source===!0?{ref:t.schema,code:(0,Ve.stringify)(t.schema)}:{ref:t.schema}),validateName:l,ValidationError:s,schema:t.schema,schemaEnv:t,rootId:e,baseId:t.baseId||e,schemaPath:Ve.nil,errSchemaPath:t.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,Ve._)`""`,opts:this.opts,self:this},d;try{this._compilations.add(t),(0,uf.validateFunctionCode)(c),a.optimize(this.opts.code.optimize);let u=a.toString();d=`${a.scopeRefs(Rt.default.scope)}return ${u}`,this.opts.code.process&&(d=this.opts.code.process(d,t));let g=new Function(`${Rt.default.self}`,`${Rt.default.scope}`,d)(this,this.scope.get());if(this.scope.value(l,{ref:g}),g.errors=null,g.schema=t.schema,g.schemaEnv=t,t.$async&&(g.$async=!0),this.opts.code.source===!0&&(g.source={validateName:l,validateCode:u,scopeValues:a._values}),this.opts.unevaluated){let{props:h,items:y}=c;g.evaluated={props:h instanceof Ve.Name?void 0:h,items:y instanceof Ve.Name?void 0:y,dynamicProps:h instanceof Ve.Name,dynamicItems:y instanceof Ve.Name},g.source&&(g.source.evaluated=(0,Ve.stringify)(g.evaluated))}return t.validate=g,t}catch(u){throw delete t.validate,delete t.validateName,d&&this.logger.error("Error compiling schema, function code:",d),u}finally{this._compilations.delete(t)}}Te.compileSchema=fo;function pf(t,n,e){var i;e=(0,je.resolveUrl)(this.opts.uriResolver,n,e);let r=t.refs[e];if(r)return r;let o=mf.call(this,t,e);if(o===void 0){let a=(i=t.localRefs)===null||i===void 0?void 0:i[e],{schemaId:s}=this.opts;a&&(o=new ln({schema:a,schemaId:s,root:t,baseId:n}))}if(o!==void 0)return t.refs[e]=ff.call(this,o)}Te.resolveRef=pf;function ff(t){return(0,je.inlineRef)(t.schema,this.opts.inlineRefs)?t.schema:t.validate?t:fo.call(this,t)}function Jl(t){for(let n of this._compilations)if(hf(n,t))return n}Te.getCompilingSchema=Jl;function hf(t,n){return t.schema===n.schema&&t.root===n.root&&t.baseId===n.baseId}function mf(t,n){let e;for(;typeof(e=this.refs[n])=="string";)n=e;return e||this.schemas[n]||Si.call(this,t,n)}function Si(t,n){let e=this.opts.uriResolver.parse(n),i=(0,je._getFullPath)(this.opts.uriResolver,e),r=(0,je.getFullPath)(this.opts.uriResolver,t.baseId,void 0);if(Object.keys(t.schema).length>0&&i===r)return po.call(this,e,t);let o=(0,je.normalizeId)(i),a=this.refs[o]||this.schemas[o];if(typeof a=="string"){let s=Si.call(this,t,a);return typeof s?.schema!="object"?void 0:po.call(this,e,s)}if(typeof a?.schema=="object"){if(a.validate||fo.call(this,a),o===(0,je.normalizeId)(n)){let{schema:s}=a,{schemaId:l}=this.opts,c=s[l];return c&&(r=(0,je.resolveUrl)(this.opts.uriResolver,r,c)),new ln({schema:s,schemaId:l,root:t,baseId:r})}return po.call(this,e,a)}}Te.resolveSchema=Si;var _f=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function po(t,{baseId:n,schema:e,root:i}){var r;if(((r=t.fragment)===null||r===void 0?void 0:r[0])!=="/")return;for(let s of t.fragment.slice(1).split("/")){if(typeof e=="boolean")return;let l=e[(0,Gl.unescapeFragment)(s)];if(l===void 0)return;e=l;let c=typeof e=="object"&&e[this.opts.schemaId];!_f.has(s)&&c&&(n=(0,je.resolveUrl)(this.opts.uriResolver,n,c))}let o;if(typeof e!="boolean"&&e.$ref&&!(0,Gl.schemaHasRulesButRef)(e,this.RULES)){let s=(0,je.resolveUrl)(this.opts.uriResolver,n,e.$ref);o=Si.call(this,i,s)}let{schemaId:a}=this.opts;if(o=o||new ln({schema:e,schemaId:a,root:i,baseId:n}),o.schema!==o.root.schema)return o}});var Ql=$((Xy,gf)=>{gf.exports={$id:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON AnySchema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1}});var Zl=$((Zy,Xl)=>{"use strict";var yf={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};Xl.exports={HEX:yf}});var ac=$((Yy,oc)=>{"use strict";var{HEX:vf}=Zl(),Cf=/^(?:(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)$/u;function nc(t){if(rc(t,".")<3)return{host:t,isIPV4:!1};let n=t.match(Cf)||[],[e]=n;return e?{host:wf(e,"."),isIPV4:!0}:{host:t,isIPV4:!1}}function ho(t,n=!1){let e="",i=!0;for(let r of t){if(vf[r]===void 0)return;r!=="0"&&i===!0&&(i=!1),i||(e+=r)}return n&&e.length===0&&(e="0"),e}function bf(t){let n=0,e={error:!1,address:"",zone:""},i=[],r=[],o=!1,a=!1,s=!1;function l(){if(r.length){if(o===!1){let c=ho(r);if(c!==void 0)i.push(c);else return e.error=!0,!1}r.length=0}return!0}for(let c=0;c<t.length;c++){let d=t[c];if(!(d==="["||d==="]"))if(d===":"){if(a===!0&&(s=!0),!l())break;if(n++,i.push(":"),n>7){e.error=!0;break}c-1>=0&&t[c-1]===":"&&(a=!0);continue}else if(d==="%"){if(!l())break;o=!0}else{r.push(d);continue}}return r.length&&(o?e.zone=r.join(""):s?i.push(r.join("")):i.push(ho(r))),e.address=i.join(""),e}function ic(t){if(rc(t,":")<2)return{host:t,isIPV6:!1};let n=bf(t);if(n.error)return{host:t,isIPV6:!1};{let e=n.address,i=n.address;return n.zone&&(e+="%"+n.zone,i+="%25"+n.zone),{host:e,escapedHost:i,isIPV6:!0}}}function wf(t,n){let e="",i=!0,r=t.length;for(let o=0;o<r;o++){let a=t[o];a==="0"&&i?(o+1<=r&&t[o+1]===n||o+1===r)&&(e+=a,i=!1):(a===n?i=!0:i=!1,e+=a)}return e}function rc(t,n){let e=0;for(let i=0;i<t.length;i++)t[i]===n&&e++;return e}var Yl=/^\.\.?\//u,ec=/^\/\.(?:\/|$)/u,tc=/^\/\.\.(?:\/|$)/u,zf=/^\/?(?:.|\n)*?(?=\/|$)/u;function $f(t){let n=[];for(;t.length;)if(t.match(Yl))t=t.replace(Yl,"");else if(t.match(ec))t=t.replace(ec,"/");else if(t.match(tc))t=t.replace(tc,"/"),n.pop();else if(t==="."||t==="..")t="";else{let e=t.match(zf);if(e){let i=e[0];t=t.slice(i.length),n.push(i)}else throw new Error("Unexpected dot segment condition")}return n.join("")}function Sf(t,n){let e=n!==!0?escape:unescape;return t.scheme!==void 0&&(t.scheme=e(t.scheme)),t.userinfo!==void 0&&(t.userinfo=e(t.userinfo)),t.host!==void 0&&(t.host=e(t.host)),t.path!==void 0&&(t.path=e(t.path)),t.query!==void 0&&(t.query=e(t.query)),t.fragment!==void 0&&(t.fragment=e(t.fragment)),t}function xf(t){let n=[];if(t.userinfo!==void 0&&(n.push(t.userinfo),n.push("@")),t.host!==void 0){let e=unescape(t.host),i=nc(e);if(i.isIPV4)e=i.host;else{let r=ic(i.host);r.isIPV6===!0?e=`[${r.escapedHost}]`:e=t.host}n.push(e)}return(typeof t.port=="number"||typeof t.port=="string")&&(n.push(":"),n.push(String(t.port))),n.length?n.join(""):void 0}oc.exports={recomposeAuthority:xf,normalizeComponentEncoding:Sf,removeDotSegments:$f,normalizeIPv4:nc,normalizeIPv6:ic,stringArrayToHexStripped:ho}});var pc=$((ev,uc)=>{"use strict";var Tf=/^[\da-f]{8}-[\da-f]{4}-[\da-f]{4}-[\da-f]{4}-[\da-f]{12}$/iu,Ef=/([\da-z][\d\-a-z]{0,31}):((?:[\w!$'()*+,\-.:;=@]|%[\da-f]{2})+)/iu;function sc(t){return typeof t.secure=="boolean"?t.secure:String(t.scheme).toLowerCase()==="wss"}function lc(t){return t.host||(t.error=t.error||"HTTP URIs must have a host."),t}function cc(t){let n=String(t.scheme).toLowerCase()==="https";return(t.port===(n?443:80)||t.port==="")&&(t.port=void 0),t.path||(t.path="/"),t}function Pf(t){return t.secure=sc(t),t.resourceName=(t.path||"/")+(t.query?"?"+t.query:""),t.path=void 0,t.query=void 0,t}function Of(t){if((t.port===(sc(t)?443:80)||t.port==="")&&(t.port=void 0),typeof t.secure=="boolean"&&(t.scheme=t.secure?"wss":"ws",t.secure=void 0),t.resourceName){let[n,e]=t.resourceName.split("?");t.path=n&&n!=="/"?n:void 0,t.query=e,t.resourceName=void 0}return t.fragment=void 0,t}function Mf(t,n){if(!t.path)return t.error="URN can not be parsed",t;let e=t.path.match(Ef);if(e){let i=n.scheme||t.scheme||"urn";t.nid=e[1].toLowerCase(),t.nss=e[2];let r=`${i}:${n.nid||t.nid}`,o=mo[r];t.path=void 0,o&&(t=o.parse(t,n))}else t.error=t.error||"URN can not be parsed.";return t}function Nf(t,n){let e=n.scheme||t.scheme||"urn",i=t.nid.toLowerCase(),r=`${e}:${n.nid||i}`,o=mo[r];o&&(t=o.serialize(t,n));let a=t,s=t.nss;return a.path=`${i||n.nid}:${s}`,n.skipEscape=!0,a}function kf(t,n){let e=t;return e.uuid=e.nss,e.nss=void 0,!n.tolerant&&(!e.uuid||!Tf.test(e.uuid))&&(e.error=e.error||"UUID is not valid."),e}function Df(t){let n=t;return n.nss=(t.uuid||"").toLowerCase(),n}var dc={scheme:"http",domainHost:!0,parse:lc,serialize:cc},If={scheme:"https",domainHost:dc.domainHost,parse:lc,serialize:cc},Ti={scheme:"ws",domainHost:!0,parse:Pf,serialize:Of},Vf={scheme:"wss",domainHost:Ti.domainHost,parse:Ti.parse,serialize:Ti.serialize},jf={scheme:"urn",parse:Mf,serialize:Nf,skipNormalize:!0},Ff={scheme:"urn:uuid",parse:kf,serialize:Df,skipNormalize:!0},mo={http:dc,https:If,ws:Ti,wss:Vf,urn:jf,"urn:uuid":Ff};uc.exports=mo});var hc=$((tv,Pi)=>{"use strict";var{normalizeIPv6:Rf,normalizeIPv4:Af,removeDotSegments:jn,recomposeAuthority:qf,normalizeComponentEncoding:Ei}=ac(),_o=pc();function Wf(t,n){return typeof t=="string"?t=Ke(ut(t,n),n):typeof t=="object"&&(t=ut(Ke(t,n),n)),t}function Lf(t,n,e){let i=Object.assign({scheme:"null"},e),r=fc(ut(t,i),ut(n,i),i,!0);return Ke(r,Y(z({},i),{skipEscape:!0}))}function fc(t,n,e,i){let r={};return i||(t=ut(Ke(t,e),e),n=ut(Ke(n,e),e)),e=e||{},!e.tolerant&&n.scheme?(r.scheme=n.scheme,r.userinfo=n.userinfo,r.host=n.host,r.port=n.port,r.path=jn(n.path||""),r.query=n.query):(n.userinfo!==void 0||n.host!==void 0||n.port!==void 0?(r.userinfo=n.userinfo,r.host=n.host,r.port=n.port,r.path=jn(n.path||""),r.query=n.query):(n.path?(n.path.charAt(0)==="/"?r.path=jn(n.path):((t.userinfo!==void 0||t.host!==void 0||t.port!==void 0)&&!t.path?r.path="/"+n.path:t.path?r.path=t.path.slice(0,t.path.lastIndexOf("/")+1)+n.path:r.path=n.path,r.path=jn(r.path)),r.query=n.query):(r.path=t.path,n.query!==void 0?r.query=n.query:r.query=t.query),r.userinfo=t.userinfo,r.host=t.host,r.port=t.port),r.scheme=t.scheme),r.fragment=n.fragment,r}function Hf(t,n,e){return typeof t=="string"?(t=unescape(t),t=Ke(Ei(ut(t,e),!0),Y(z({},e),{skipEscape:!0}))):typeof t=="object"&&(t=Ke(Ei(t,!0),Y(z({},e),{skipEscape:!0}))),typeof n=="string"?(n=unescape(n),n=Ke(Ei(ut(n,e),!0),Y(z({},e),{skipEscape:!0}))):typeof n=="object"&&(n=Ke(Ei(n,!0),Y(z({},e),{skipEscape:!0}))),t.toLowerCase()===n.toLowerCase()}function Ke(t,n){let e={host:t.host,scheme:t.scheme,userinfo:t.userinfo,port:t.port,path:t.path,query:t.query,nid:t.nid,nss:t.nss,uuid:t.uuid,fragment:t.fragment,reference:t.reference,resourceName:t.resourceName,secure:t.secure,error:""},i=Object.assign({},n),r=[],o=_o[(i.scheme||e.scheme||"").toLowerCase()];o&&o.serialize&&o.serialize(e,i),e.path!==void 0&&(i.skipEscape?e.path=unescape(e.path):(e.path=escape(e.path),e.scheme!==void 0&&(e.path=e.path.split("%3A").join(":")))),i.reference!=="suffix"&&e.scheme&&r.push(e.scheme,":");let a=qf(e);if(a!==void 0&&(i.reference!=="suffix"&&r.push("//"),r.push(a),e.path&&e.path.charAt(0)!=="/"&&r.push("/")),e.path!==void 0){let s=e.path;!i.absolutePath&&(!o||!o.absolutePath)&&(s=jn(s)),a===void 0&&(s=s.replace(/^\/\//u,"/%2F")),r.push(s)}return e.query!==void 0&&r.push("?",e.query),e.fragment!==void 0&&r.push("#",e.fragment),r.join("")}var Bf=Array.from({length:127},(t,n)=>/[^!"$&'()*+,\-.;=_`a-z{}~]/u.test(String.fromCharCode(n)));function Uf(t){let n=0;for(let e=0,i=t.length;e<i;++e)if(n=t.charCodeAt(e),n>126||Bf[n])return!0;return!1}var Kf=/^(?:([^#/:?]+):)?(?:\/\/((?:([^#/?@]*)@)?(\[[^#/?\]]+\]|[^#/:?]*)(?::(\d*))?))?([^#?]*)(?:\?([^#]*))?(?:#((?:.|[\n\r])*))?/u;function ut(t,n){let e=Object.assign({},n),i={scheme:void 0,userinfo:void 0,host:"",port:void 0,path:"",query:void 0,fragment:void 0},r=t.indexOf("%")!==-1,o=!1;e.reference==="suffix"&&(t=(e.scheme?e.scheme+":":"")+"//"+t);let a=t.match(Kf);if(a){if(i.scheme=a[1],i.userinfo=a[3],i.host=a[4],i.port=parseInt(a[5],10),i.path=a[6]||"",i.query=a[7],i.fragment=a[8],isNaN(i.port)&&(i.port=a[5]),i.host){let l=Af(i.host);if(l.isIPV4===!1){let c=Rf(l.host);i.host=c.host.toLowerCase(),o=c.isIPV6}else i.host=l.host,o=!0}i.scheme===void 0&&i.userinfo===void 0&&i.host===void 0&&i.port===void 0&&i.query===void 0&&!i.path?i.reference="same-document":i.scheme===void 0?i.reference="relative":i.fragment===void 0?i.reference="absolute":i.reference="uri",e.reference&&e.reference!=="suffix"&&e.reference!==i.reference&&(i.error=i.error||"URI is not a "+e.reference+" reference.");let s=_o[(e.scheme||i.scheme||"").toLowerCase()];if(!e.unicodeSupport&&(!s||!s.unicodeSupport)&&i.host&&(e.domainHost||s&&s.domainHost)&&o===!1&&Uf(i.host))try{i.host=URL.domainToASCII(i.host.toLowerCase())}catch(l){i.error=i.error||"Host's domain name can not be converted to ASCII: "+l}(!s||s&&!s.skipNormalize)&&(r&&i.scheme!==void 0&&(i.scheme=unescape(i.scheme)),r&&i.host!==void 0&&(i.host=unescape(i.host)),i.path&&(i.path=escape(unescape(i.path))),i.fragment&&(i.fragment=encodeURI(decodeURIComponent(i.fragment)))),s&&s.parse&&s.parse(i,e)}else i.error=i.error||"URI can not be parsed.";return i}var go={SCHEMES:_o,normalize:Wf,resolve:Lf,resolveComponents:fc,equal:Hf,serialize:Ke,parse:ut};Pi.exports=go;Pi.exports.default=go;Pi.exports.fastUri=go});var _c=$(yo=>{"use strict";Object.defineProperty(yo,"__esModule",{value:!0});var mc=hc();mc.code='require("ajv/dist/runtime/uri").default';yo.default=mc});var $c=$(se=>{"use strict";Object.defineProperty(se,"__esModule",{value:!0});se.CodeGen=se.Name=se.nil=se.stringify=se.str=se._=se.KeywordCxt=void 0;var Gf=In();Object.defineProperty(se,"KeywordCxt",{enumerable:!0,get:function(){return Gf.KeywordCxt}});var cn=D();Object.defineProperty(se,"_",{enumerable:!0,get:function(){return cn._}});Object.defineProperty(se,"str",{enumerable:!0,get:function(){return cn.str}});Object.defineProperty(se,"stringify",{enumerable:!0,get:function(){return cn.stringify}});Object.defineProperty(se,"nil",{enumerable:!0,get:function(){return cn.nil}});Object.defineProperty(se,"Name",{enumerable:!0,get:function(){return cn.Name}});Object.defineProperty(se,"CodeGen",{enumerable:!0,get:function(){return cn.CodeGen}});var Jf=$i(),bc=Vn(),Qf=Kr(),Fn=xi(),Xf=D(),Rn=Nn(),Oi=Mn(),Co=L(),gc=Ql(),Zf=_c(),wc=(t,n)=>new RegExp(t,n);wc.code="new RegExp";var Yf=["removeAdditional","useDefaults","coerceTypes"],eh=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),th={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},nh={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},yc=200;function ih(t){var n,e,i,r,o,a,s,l,c,d,u,v,g,h,y,f,C,j,F,X,N,Ae,et,nr,ir;let yn=t.strict,rr=(n=t.code)===null||n===void 0?void 0:n.optimize,Pa=rr===!0||rr===void 0?1:rr||0,Oa=(i=(e=t.code)===null||e===void 0?void 0:e.regExp)!==null&&i!==void 0?i:wc,ru=(r=t.uriResolver)!==null&&r!==void 0?r:Zf.default;return{strictSchema:(a=(o=t.strictSchema)!==null&&o!==void 0?o:yn)!==null&&a!==void 0?a:!0,strictNumbers:(l=(s=t.strictNumbers)!==null&&s!==void 0?s:yn)!==null&&l!==void 0?l:!0,strictTypes:(d=(c=t.strictTypes)!==null&&c!==void 0?c:yn)!==null&&d!==void 0?d:"log",strictTuples:(v=(u=t.strictTuples)!==null&&u!==void 0?u:yn)!==null&&v!==void 0?v:"log",strictRequired:(h=(g=t.strictRequired)!==null&&g!==void 0?g:yn)!==null&&h!==void 0?h:!1,code:t.code?Y(z({},t.code),{optimize:Pa,regExp:Oa}):{optimize:Pa,regExp:Oa},loopRequired:(y=t.loopRequired)!==null&&y!==void 0?y:yc,loopEnum:(f=t.loopEnum)!==null&&f!==void 0?f:yc,meta:(C=t.meta)!==null&&C!==void 0?C:!0,messages:(j=t.messages)!==null&&j!==void 0?j:!0,inlineRefs:(F=t.inlineRefs)!==null&&F!==void 0?F:!0,schemaId:(X=t.schemaId)!==null&&X!==void 0?X:"$id",addUsedSchema:(N=t.addUsedSchema)!==null&&N!==void 0?N:!0,validateSchema:(Ae=t.validateSchema)!==null&&Ae!==void 0?Ae:!0,validateFormats:(et=t.validateFormats)!==null&&et!==void 0?et:!0,unicodeRegExp:(nr=t.unicodeRegExp)!==null&&nr!==void 0?nr:!0,int32range:(ir=t.int32range)!==null&&ir!==void 0?ir:!0,uriResolver:ru}}var An=class{constructor(n={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,n=this.opts=z(z({},n),ih(n));let{es5:e,lines:i}=this.opts.code;this.scope=new Xf.ValueScope({scope:{},prefixes:eh,es5:e,lines:i}),this.logger=ch(n.logger);let r=n.validateFormats;n.validateFormats=!1,this.RULES=(0,Qf.getRules)(),vc.call(this,th,n,"NOT SUPPORTED"),vc.call(this,nh,n,"DEPRECATED","warn"),this._metaOpts=sh.call(this),n.formats&&oh.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),n.keywords&&ah.call(this,n.keywords),typeof n.meta=="object"&&this.addMetaSchema(n.meta),rh.call(this),n.validateFormats=r}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){let{$data:n,meta:e,schemaId:i}=this.opts,r=gc;i==="id"&&(r=z({},gc),r.id=r.$id,delete r.$id),e&&n&&this.addMetaSchema(r,r[i],!1)}defaultMeta(){let{meta:n,schemaId:e}=this.opts;return this.opts.defaultMeta=typeof n=="object"?n[e]||n:void 0}validate(n,e){let i;if(typeof n=="string"){if(i=this.getSchema(n),!i)throw new Error(`no schema with key or ref "${n}"`)}else i=this.compile(n);let r=i(e);return"$async"in i||(this.errors=i.errors),r}compile(n,e){let i=this._addSchema(n,e);return i.validate||this._compileSchemaEnv(i)}compileAsync(n,e){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");let{loadSchema:i}=this.opts;return r.call(this,n,e);function r(d,u){return Ht(this,null,function*(){yield o.call(this,d.$schema);let v=this._addSchema(d,u);return v.validate||a.call(this,v)})}function o(d){return Ht(this,null,function*(){d&&!this.getSchema(d)&&(yield r.call(this,{$ref:d},!0))})}function a(d){return Ht(this,null,function*(){try{return this._compileSchemaEnv(d)}catch(u){if(!(u instanceof bc.default))throw u;return s.call(this,u),yield l.call(this,u.missingSchema),a.call(this,d)}})}function s({missingSchema:d,missingRef:u}){if(this.refs[d])throw new Error(`AnySchema ${d} is loaded but ${u} cannot be resolved`)}function l(d){return Ht(this,null,function*(){let u=yield c.call(this,d);this.refs[d]||(yield o.call(this,u.$schema)),this.refs[d]||this.addSchema(u,d,e)})}function c(d){return Ht(this,null,function*(){let u=this._loading[d];if(u)return u;try{return yield this._loading[d]=i(d)}finally{delete this._loading[d]}})}}addSchema(n,e,i,r=this.opts.validateSchema){if(Array.isArray(n)){for(let a of n)this.addSchema(a,void 0,i,r);return this}let o;if(typeof n=="object"){let{schemaId:a}=this.opts;if(o=n[a],o!==void 0&&typeof o!="string")throw new Error(`schema ${a} must be string`)}return e=(0,Rn.normalizeId)(e||o),this._checkUnique(e),this.schemas[e]=this._addSchema(n,i,e,r,!0),this}addMetaSchema(n,e,i=this.opts.validateSchema){return this.addSchema(n,e,!0,i),this}validateSchema(n,e){if(typeof n=="boolean")return!0;let i;if(i=n.$schema,i!==void 0&&typeof i!="string")throw new Error("$schema must be a string");if(i=i||this.opts.defaultMeta||this.defaultMeta(),!i)return this.logger.warn("meta-schema not available"),this.errors=null,!0;let r=this.validate(i,n);if(!r&&e){let o="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(o);else throw new Error(o)}return r}getSchema(n){let e;for(;typeof(e=Cc.call(this,n))=="string";)n=e;if(e===void 0){let{schemaId:i}=this.opts,r=new Fn.SchemaEnv({schema:{},schemaId:i});if(e=Fn.resolveSchema.call(this,r,n),!e)return;this.refs[n]=e}return e.validate||this._compileSchemaEnv(e)}removeSchema(n){if(n instanceof RegExp)return this._removeAllSchemas(this.schemas,n),this._removeAllSchemas(this.refs,n),this;switch(typeof n){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{let e=Cc.call(this,n);return typeof e=="object"&&this._cache.delete(e.schema),delete this.schemas[n],delete this.refs[n],this}case"object":{let e=n;this._cache.delete(e);let i=n[this.opts.schemaId];return i&&(i=(0,Rn.normalizeId)(i),delete this.schemas[i],delete this.refs[i]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(n){for(let e of n)this.addKeyword(e);return this}addKeyword(n,e){let i;if(typeof n=="string")i=n,typeof e=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),e.keyword=i);else if(typeof n=="object"&&e===void 0){if(e=n,i=e.keyword,Array.isArray(i)&&!i.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(uh.call(this,i,e),!e)return(0,Co.eachItem)(i,o=>vo.call(this,o)),this;fh.call(this,e);let r=Y(z({},e),{type:(0,Oi.getJSONTypes)(e.type),schemaType:(0,Oi.getJSONTypes)(e.schemaType)});return(0,Co.eachItem)(i,r.type.length===0?o=>vo.call(this,o,r):o=>r.type.forEach(a=>vo.call(this,o,r,a))),this}getKeyword(n){let e=this.RULES.all[n];return typeof e=="object"?e.definition:!!e}removeKeyword(n){let{RULES:e}=this;delete e.keywords[n],delete e.all[n];for(let i of e.rules){let r=i.rules.findIndex(o=>o.keyword===n);r>=0&&i.rules.splice(r,1)}return this}addFormat(n,e){return typeof e=="string"&&(e=new RegExp(e)),this.formats[n]=e,this}errorsText(n=this.errors,{separator:e=", ",dataVar:i="data"}={}){return!n||n.length===0?"No errors":n.map(r=>`${i}${r.instancePath} ${r.message}`).reduce((r,o)=>r+e+o)}$dataMetaSchema(n,e){let i=this.RULES.all;n=JSON.parse(JSON.stringify(n));for(let r of e){let o=r.split("/").slice(1),a=n;for(let s of o)a=a[s];for(let s in i){let l=i[s];if(typeof l!="object")continue;let{$data:c}=l.definition,d=a[s];c&&d&&(a[s]=zc(d))}}return n}_removeAllSchemas(n,e){for(let i in n){let r=n[i];(!e||e.test(i))&&(typeof r=="string"?delete n[i]:r&&!r.meta&&(this._cache.delete(r.schema),delete n[i]))}}_addSchema(n,e,i,r=this.opts.validateSchema,o=this.opts.addUsedSchema){let a,{schemaId:s}=this.opts;if(typeof n=="object")a=n[s];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof n!="boolean")throw new Error("schema must be object or boolean")}let l=this._cache.get(n);if(l!==void 0)return l;i=(0,Rn.normalizeId)(a||i);let c=Rn.getSchemaRefs.call(this,n,i);return l=new Fn.SchemaEnv({schema:n,schemaId:s,meta:e,baseId:i,localRefs:c}),this._cache.set(l.schema,l),o&&!i.startsWith("#")&&(i&&this._checkUnique(i),this.refs[i]=l),r&&this.validateSchema(n,!0),l}_checkUnique(n){if(this.schemas[n]||this.refs[n])throw new Error(`schema with key or id "${n}" already exists`)}_compileSchemaEnv(n){if(n.meta?this._compileMetaSchema(n):Fn.compileSchema.call(this,n),!n.validate)throw new Error("ajv implementation error");return n.validate}_compileMetaSchema(n){let e=this.opts;this.opts=this._metaOpts;try{Fn.compileSchema.call(this,n)}finally{this.opts=e}}};An.ValidationError=Jf.default;An.MissingRefError=bc.default;se.default=An;function vc(t,n,e,i="error"){for(let r in t){let o=r;o in n&&this.logger[i](`${e}: option ${r}. ${t[o]}`)}}function Cc(t){return t=(0,Rn.normalizeId)(t),this.schemas[t]||this.refs[t]}function rh(){let t=this.opts.schemas;if(t)if(Array.isArray(t))this.addSchema(t);else for(let n in t)this.addSchema(t[n],n)}function oh(){for(let t in this.opts.formats){let n=this.opts.formats[t];n&&this.addFormat(t,n)}}function ah(t){if(Array.isArray(t)){this.addVocabulary(t);return}this.logger.warn("keywords option as map is deprecated, pass array");for(let n in t){let e=t[n];e.keyword||(e.keyword=n),this.addKeyword(e)}}function sh(){let t=z({},this.opts);for(let n of Yf)delete t[n];return t}var lh={log(){},warn(){},error(){}};function ch(t){if(t===!1)return lh;if(t===void 0)return console;if(t.log&&t.warn&&t.error)return t;throw new Error("logger must implement log, warn and error methods")}var dh=/^[a-z_$][a-z0-9_$:-]*$/i;function uh(t,n){let{RULES:e}=this;if((0,Co.eachItem)(t,i=>{if(e.keywords[i])throw new Error(`Keyword ${i} is already defined`);if(!dh.test(i))throw new Error(`Keyword ${i} has invalid name`)}),!!n&&n.$data&&!("code"in n||"validate"in n))throw new Error('$data keyword must have "code" or "validate" function')}function vo(t,n,e){var i;let r=n?.post;if(e&&r)throw new Error('keyword with "post" flag cannot have "type"');let{RULES:o}=this,a=r?o.post:o.rules.find(({type:l})=>l===e);if(a||(a={type:e,rules:[]},o.rules.push(a)),o.keywords[t]=!0,!n)return;let s={keyword:t,definition:Y(z({},n),{type:(0,Oi.getJSONTypes)(n.type),schemaType:(0,Oi.getJSONTypes)(n.schemaType)})};n.before?ph.call(this,a,s,n.before):a.rules.push(s),o.all[t]=s,(i=n.implements)===null||i===void 0||i.forEach(l=>this.addKeyword(l))}function ph(t,n,e){let i=t.rules.findIndex(r=>r.keyword===e);i>=0?t.rules.splice(i,0,n):(t.rules.push(n),this.logger.warn(`rule ${e} is not defined`))}function fh(t){let{metaSchema:n}=t;n!==void 0&&(t.$data&&this.opts.$data&&(n=zc(n)),t.validateSchema=this.compile(n,!0))}var hh={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function zc(t){return{anyOf:[t,hh]}}});var Sc=$(bo=>{"use strict";Object.defineProperty(bo,"__esModule",{value:!0});var mh={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};bo.default=mh});var Pc=$(At=>{"use strict";Object.defineProperty(At,"__esModule",{value:!0});At.callRef=At.getValidate=void 0;var _h=Vn(),xc=xe(),ve=D(),dn=ct(),Tc=xi(),Mi=L(),gh={keyword:"$ref",schemaType:"string",code(t){let{gen:n,schema:e,it:i}=t,{baseId:r,schemaEnv:o,validateName:a,opts:s,self:l}=i,{root:c}=o;if((e==="#"||e==="#/")&&r===c.baseId)return u();let d=Tc.resolveRef.call(l,c,r,e);if(d===void 0)throw new _h.default(i.opts.uriResolver,r,e);if(d instanceof Tc.SchemaEnv)return v(d);return g(d);function u(){if(o===c)return Ni(t,a,o,o.$async);let h=n.scopeValue("root",{ref:c});return Ni(t,(0,ve._)`${h}.validate`,c,c.$async)}function v(h){let y=Ec(t,h);Ni(t,y,h,h.$async)}function g(h){let y=n.scopeValue("schema",s.code.source===!0?{ref:h,code:(0,ve.stringify)(h)}:{ref:h}),f=n.name("valid"),C=t.subschema({schema:h,dataTypes:[],schemaPath:ve.nil,topSchemaRef:y,errSchemaPath:e},f);t.mergeEvaluated(C),t.ok(f)}}};function Ec(t,n){let{gen:e}=t;return n.validate?e.scopeValue("validate",{ref:n.validate}):(0,ve._)`${e.scopeValue("wrapper",{ref:n})}.validate`}At.getValidate=Ec;function Ni(t,n,e,i){let{gen:r,it:o}=t,{allErrors:a,schemaEnv:s,opts:l}=o,c=l.passContext?dn.default.this:ve.nil;i?d():u();function d(){if(!s.$async)throw new Error("async schema referenced by sync schema");let h=r.let("valid");r.try(()=>{r.code((0,ve._)`await ${(0,xc.callValidateCode)(t,n,c)}`),g(n),a||r.assign(h,!0)},y=>{r.if((0,ve._)`!(${y} instanceof ${o.ValidationError})`,()=>r.throw(y)),v(y),a||r.assign(h,!1)}),t.ok(h)}function u(){t.result((0,xc.callValidateCode)(t,n,c),()=>g(n),()=>v(n))}function v(h){let y=(0,ve._)`${h}.errors`;r.assign(dn.default.vErrors,(0,ve._)`${dn.default.vErrors} === null ? ${y} : ${dn.default.vErrors}.concat(${y})`),r.assign(dn.default.errors,(0,ve._)`${dn.default.vErrors}.length`)}function g(h){var y;if(!o.opts.unevaluated)return;let f=(y=e?.validate)===null||y===void 0?void 0:y.evaluated;if(o.props!==!0)if(f&&!f.dynamicProps)f.props!==void 0&&(o.props=Mi.mergeEvaluated.props(r,f.props,o.props));else{let C=r.var("props",(0,ve._)`${h}.evaluated.props`);o.props=Mi.mergeEvaluated.props(r,C,o.props,ve.Name)}if(o.items!==!0)if(f&&!f.dynamicItems)f.items!==void 0&&(o.items=Mi.mergeEvaluated.items(r,f.items,o.items));else{let C=r.var("items",(0,ve._)`${h}.evaluated.items`);o.items=Mi.mergeEvaluated.items(r,C,o.items,ve.Name)}}}At.callRef=Ni;At.default=gh});var Oc=$(wo=>{"use strict";Object.defineProperty(wo,"__esModule",{value:!0});var yh=Sc(),vh=Pc(),Ch=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",yh.default,vh.default];wo.default=Ch});var Mc=$(zo=>{"use strict";Object.defineProperty(zo,"__esModule",{value:!0});var ki=D(),Mt=ki.operators,Di={maximum:{okStr:"<=",ok:Mt.LTE,fail:Mt.GT},minimum:{okStr:">=",ok:Mt.GTE,fail:Mt.LT},exclusiveMaximum:{okStr:"<",ok:Mt.LT,fail:Mt.GTE},exclusiveMinimum:{okStr:">",ok:Mt.GT,fail:Mt.LTE}},bh={message:({keyword:t,schemaCode:n})=>(0,ki.str)`must be ${Di[t].okStr} ${n}`,params:({keyword:t,schemaCode:n})=>(0,ki._)`{comparison: ${Di[t].okStr}, limit: ${n}}`},wh={keyword:Object.keys(Di),type:"number",schemaType:"number",$data:!0,error:bh,code(t){let{keyword:n,data:e,schemaCode:i}=t;t.fail$data((0,ki._)`${e} ${Di[n].fail} ${i} || isNaN(${e})`)}};zo.default=wh});var Nc=$($o=>{"use strict";Object.defineProperty($o,"__esModule",{value:!0});var qn=D(),zh={message:({schemaCode:t})=>(0,qn.str)`must be multiple of ${t}`,params:({schemaCode:t})=>(0,qn._)`{multipleOf: ${t}}`},$h={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:zh,code(t){let{gen:n,data:e,schemaCode:i,it:r}=t,o=r.opts.multipleOfPrecision,a=n.let("res"),s=o?(0,qn._)`Math.abs(Math.round(${a}) - ${a}) > 1e-${o}`:(0,qn._)`${a} !== parseInt(${a})`;t.fail$data((0,qn._)`(${i} === 0 || (${a} = ${e}/${i}, ${s}))`)}};$o.default=$h});var Dc=$(So=>{"use strict";Object.defineProperty(So,"__esModule",{value:!0});function kc(t){let n=t.length,e=0,i=0,r;for(;i<n;)e++,r=t.charCodeAt(i++),r>=55296&&r<=56319&&i<n&&(r=t.charCodeAt(i),(r&64512)===56320&&i++);return e}So.default=kc;kc.code='require("ajv/dist/runtime/ucs2length").default'});var Ic=$(xo=>{"use strict";Object.defineProperty(xo,"__esModule",{value:!0});var qt=D(),Sh=L(),xh=Dc(),Th={message({keyword:t,schemaCode:n}){let e=t==="maxLength"?"more":"fewer";return(0,qt.str)`must NOT have ${e} than ${n} characters`},params:({schemaCode:t})=>(0,qt._)`{limit: ${t}}`},Eh={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:Th,code(t){let{keyword:n,data:e,schemaCode:i,it:r}=t,o=n==="maxLength"?qt.operators.GT:qt.operators.LT,a=r.opts.unicode===!1?(0,qt._)`${e}.length`:(0,qt._)`${(0,Sh.useFunc)(t.gen,xh.default)}(${e})`;t.fail$data((0,qt._)`${a} ${o} ${i}`)}};xo.default=Eh});var Vc=$(To=>{"use strict";Object.defineProperty(To,"__esModule",{value:!0});var Ph=xe(),Ii=D(),Oh={message:({schemaCode:t})=>(0,Ii.str)`must match pattern "${t}"`,params:({schemaCode:t})=>(0,Ii._)`{pattern: ${t}}`},Mh={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:Oh,code(t){let{data:n,$data:e,schema:i,schemaCode:r,it:o}=t,a=o.opts.unicodeRegExp?"u":"",s=e?(0,Ii._)`(new RegExp(${r}, ${a}))`:(0,Ph.usePattern)(t,i);t.fail$data((0,Ii._)`!${s}.test(${n})`)}};To.default=Mh});var jc=$(Eo=>{"use strict";Object.defineProperty(Eo,"__esModule",{value:!0});var Wn=D(),Nh={message({keyword:t,schemaCode:n}){let e=t==="maxProperties"?"more":"fewer";return(0,Wn.str)`must NOT have ${e} than ${n} properties`},params:({schemaCode:t})=>(0,Wn._)`{limit: ${t}}`},kh={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:Nh,code(t){let{keyword:n,data:e,schemaCode:i}=t,r=n==="maxProperties"?Wn.operators.GT:Wn.operators.LT;t.fail$data((0,Wn._)`Object.keys(${e}).length ${r} ${i}`)}};Eo.default=kh});var Fc=$(Po=>{"use strict";Object.defineProperty(Po,"__esModule",{value:!0});var Ln=xe(),Hn=D(),Dh=L(),Ih={message:({params:{missingProperty:t}})=>(0,Hn.str)`must have required property '${t}'`,params:({params:{missingProperty:t}})=>(0,Hn._)`{missingProperty: ${t}}`},Vh={keyword:"required",type:"object",schemaType:"array",$data:!0,error:Ih,code(t){let{gen:n,schema:e,schemaCode:i,data:r,$data:o,it:a}=t,{opts:s}=a;if(!o&&e.length===0)return;let l=e.length>=s.loopRequired;if(a.allErrors?c():d(),s.strictRequired){let g=t.parentSchema.properties,{definedProperties:h}=t.it;for(let y of e)if(g?.[y]===void 0&&!h.has(y)){let f=a.schemaEnv.baseId+a.errSchemaPath,C=`required property "${y}" is not defined at "${f}" (strictRequired)`;(0,Dh.checkStrictMode)(a,C,a.opts.strictRequired)}}function c(){if(l||o)t.block$data(Hn.nil,u);else for(let g of e)(0,Ln.checkReportMissingProp)(t,g)}function d(){let g=n.let("missing");if(l||o){let h=n.let("valid",!0);t.block$data(h,()=>v(g,h)),t.ok(h)}else n.if((0,Ln.checkMissingProp)(t,e,g)),(0,Ln.reportMissingProp)(t,g),n.else()}function u(){n.forOf("prop",i,g=>{t.setParams({missingProperty:g}),n.if((0,Ln.noPropertyInData)(n,r,g,s.ownProperties),()=>t.error())})}function v(g,h){t.setParams({missingProperty:g}),n.forOf(g,i,()=>{n.assign(h,(0,Ln.propertyInData)(n,r,g,s.ownProperties)),n.if((0,Hn.not)(h),()=>{t.error(),n.break()})},Hn.nil)}}};Po.default=Vh});var Rc=$(Oo=>{"use strict";Object.defineProperty(Oo,"__esModule",{value:!0});var Bn=D(),jh={message({keyword:t,schemaCode:n}){let e=t==="maxItems"?"more":"fewer";return(0,Bn.str)`must NOT have ${e} than ${n} items`},params:({schemaCode:t})=>(0,Bn._)`{limit: ${t}}`},Fh={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:jh,code(t){let{keyword:n,data:e,schemaCode:i}=t,r=n==="maxItems"?Bn.operators.GT:Bn.operators.LT;t.fail$data((0,Bn._)`${e}.length ${r} ${i}`)}};Oo.default=Fh});var Vi=$(Mo=>{"use strict";Object.defineProperty(Mo,"__esModule",{value:!0});var Ac=to();Ac.code='require("ajv/dist/runtime/equal").default';Mo.default=Ac});var qc=$(ko=>{"use strict";Object.defineProperty(ko,"__esModule",{value:!0});var No=Mn(),le=D(),Rh=L(),Ah=Vi(),qh={message:({params:{i:t,j:n}})=>(0,le.str)`must NOT have duplicate items (items ## ${n} and ${t} are identical)`,params:({params:{i:t,j:n}})=>(0,le._)`{i: ${t}, j: ${n}}`},Wh={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:qh,code(t){let{gen:n,data:e,$data:i,schema:r,parentSchema:o,schemaCode:a,it:s}=t;if(!i&&!r)return;let l=n.let("valid"),c=o.items?(0,No.getSchemaTypes)(o.items):[];t.block$data(l,d,(0,le._)`${a} === false`),t.ok(l);function d(){let h=n.let("i",(0,le._)`${e}.length`),y=n.let("j");t.setParams({i:h,j:y}),n.assign(l,!0),n.if((0,le._)`${h} > 1`,()=>(u()?v:g)(h,y))}function u(){return c.length>0&&!c.some(h=>h==="object"||h==="array")}function v(h,y){let f=n.name("item"),C=(0,No.checkDataTypes)(c,f,s.opts.strictNumbers,No.DataType.Wrong),j=n.const("indices",(0,le._)`{}`);n.for((0,le._)`;${h}--;`,()=>{n.let(f,(0,le._)`${e}[${h}]`),n.if(C,(0,le._)`continue`),c.length>1&&n.if((0,le._)`typeof ${f} == "string"`,(0,le._)`${f} += "_"`),n.if((0,le._)`typeof ${j}[${f}] == "number"`,()=>{n.assign(y,(0,le._)`${j}[${f}]`),t.error(),n.assign(l,!1).break()}).code((0,le._)`${j}[${f}] = ${h}`)})}function g(h,y){let f=(0,Rh.useFunc)(n,Ah.default),C=n.name("outer");n.label(C).for((0,le._)`;${h}--;`,()=>n.for((0,le._)`${y} = ${h}; ${y}--;`,()=>n.if((0,le._)`${f}(${e}[${h}], ${e}[${y}])`,()=>{t.error(),n.assign(l,!1).break(C)})))}}};ko.default=Wh});var Wc=$(Io=>{"use strict";Object.defineProperty(Io,"__esModule",{value:!0});var Do=D(),Lh=L(),Hh=Vi(),Bh={message:"must be equal to constant",params:({schemaCode:t})=>(0,Do._)`{allowedValue: ${t}}`},Uh={keyword:"const",$data:!0,error:Bh,code(t){let{gen:n,data:e,$data:i,schemaCode:r,schema:o}=t;i||o&&typeof o=="object"?t.fail$data((0,Do._)`!${(0,Lh.useFunc)(n,Hh.default)}(${e}, ${r})`):t.fail((0,Do._)`${o} !== ${e}`)}};Io.default=Uh});var Lc=$(Vo=>{"use strict";Object.defineProperty(Vo,"__esModule",{value:!0});var Un=D(),Kh=L(),Gh=Vi(),Jh={message:"must be equal to one of the allowed values",params:({schemaCode:t})=>(0,Un._)`{allowedValues: ${t}}`},Qh={keyword:"enum",schemaType:"array",$data:!0,error:Jh,code(t){let{gen:n,data:e,$data:i,schema:r,schemaCode:o,it:a}=t;if(!i&&r.length===0)throw new Error("enum must have non-empty array");let s=r.length>=a.opts.loopEnum,l,c=()=>l??(l=(0,Kh.useFunc)(n,Gh.default)),d;if(s||i)d=n.let("valid"),t.block$data(d,u);else{if(!Array.isArray(r))throw new Error("ajv implementation error");let g=n.const("vSchema",o);d=(0,Un.or)(...r.map((h,y)=>v(g,y)))}t.pass(d);function u(){n.assign(d,!1),n.forOf("v",o,g=>n.if((0,Un._)`${c()}(${e}, ${g})`,()=>n.assign(d,!0).break()))}function v(g,h){let y=r[h];return typeof y=="object"&&y!==null?(0,Un._)`${c()}(${e}, ${g}[${h}])`:(0,Un._)`${e} === ${y}`}}};Vo.default=Qh});var Hc=$(jo=>{"use strict";Object.defineProperty(jo,"__esModule",{value:!0});var Xh=Mc(),Zh=Nc(),Yh=Ic(),em=Vc(),tm=jc(),nm=Fc(),im=Rc(),rm=qc(),om=Wc(),am=Lc(),sm=[Xh.default,Zh.default,Yh.default,em.default,tm.default,nm.default,im.default,rm.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},om.default,am.default];jo.default=sm});var Ro=$(Kn=>{"use strict";Object.defineProperty(Kn,"__esModule",{value:!0});Kn.validateAdditionalItems=void 0;var Wt=D(),Fo=L(),lm={message:({params:{len:t}})=>(0,Wt.str)`must NOT have more than ${t} items`,params:({params:{len:t}})=>(0,Wt._)`{limit: ${t}}`},cm={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:lm,code(t){let{parentSchema:n,it:e}=t,{items:i}=n;if(!Array.isArray(i)){(0,Fo.checkStrictMode)(e,'"additionalItems" is ignored when "items" is not an array of schemas');return}Bc(t,i)}};function Bc(t,n){let{gen:e,schema:i,data:r,keyword:o,it:a}=t;a.items=!0;let s=e.const("len",(0,Wt._)`${r}.length`);if(i===!1)t.setParams({len:n.length}),t.pass((0,Wt._)`${s} <= ${n.length}`);else if(typeof i=="object"&&!(0,Fo.alwaysValidSchema)(a,i)){let c=e.var("valid",(0,Wt._)`${s} <= ${n.length}`);e.if((0,Wt.not)(c),()=>l(c)),t.ok(c)}function l(c){e.forRange("i",n.length,s,d=>{t.subschema({keyword:o,dataProp:d,dataPropType:Fo.Type.Num},c),a.allErrors||e.if((0,Wt.not)(c),()=>e.break())})}}Kn.validateAdditionalItems=Bc;Kn.default=cm});var Ao=$(Gn=>{"use strict";Object.defineProperty(Gn,"__esModule",{value:!0});Gn.validateTuple=void 0;var Uc=D(),ji=L(),dm=xe(),um={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(t){let{schema:n,it:e}=t;if(Array.isArray(n))return Kc(t,"additionalItems",n);e.items=!0,!(0,ji.alwaysValidSchema)(e,n)&&t.ok((0,dm.validateArray)(t))}};function Kc(t,n,e=t.schema){let{gen:i,parentSchema:r,data:o,keyword:a,it:s}=t;d(r),s.opts.unevaluated&&e.length&&s.items!==!0&&(s.items=ji.mergeEvaluated.items(i,e.length,s.items));let l=i.name("valid"),c=i.const("len",(0,Uc._)`${o}.length`);e.forEach((u,v)=>{(0,ji.alwaysValidSchema)(s,u)||(i.if((0,Uc._)`${c} > ${v}`,()=>t.subschema({keyword:a,schemaProp:v,dataProp:v},l)),t.ok(l))});function d(u){let{opts:v,errSchemaPath:g}=s,h=e.length,y=h===u.minItems&&(h===u.maxItems||u[n]===!1);if(v.strictTuples&&!y){let f=`"${a}" is ${h}-tuple, but minItems or maxItems/${n} are not specified or different at path "${g}"`;(0,ji.checkStrictMode)(s,f,v.strictTuples)}}}Gn.validateTuple=Kc;Gn.default=um});var Gc=$(qo=>{"use strict";Object.defineProperty(qo,"__esModule",{value:!0});var pm=Ao(),fm={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:t=>(0,pm.validateTuple)(t,"items")};qo.default=fm});var Qc=$(Wo=>{"use strict";Object.defineProperty(Wo,"__esModule",{value:!0});var Jc=D(),hm=L(),mm=xe(),_m=Ro(),gm={message:({params:{len:t}})=>(0,Jc.str)`must NOT have more than ${t} items`,params:({params:{len:t}})=>(0,Jc._)`{limit: ${t}}`},ym={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:gm,code(t){let{schema:n,parentSchema:e,it:i}=t,{prefixItems:r}=e;i.items=!0,!(0,hm.alwaysValidSchema)(i,n)&&(r?(0,_m.validateAdditionalItems)(t,r):t.ok((0,mm.validateArray)(t)))}};Wo.default=ym});var Xc=$(Lo=>{"use strict";Object.defineProperty(Lo,"__esModule",{value:!0});var Ee=D(),Fi=L(),vm={message:({params:{min:t,max:n}})=>n===void 0?(0,Ee.str)`must contain at least ${t} valid item(s)`:(0,Ee.str)`must contain at least ${t} and no more than ${n} valid item(s)`,params:({params:{min:t,max:n}})=>n===void 0?(0,Ee._)`{minContains: ${t}}`:(0,Ee._)`{minContains: ${t}, maxContains: ${n}}`},Cm={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:vm,code(t){let{gen:n,schema:e,parentSchema:i,data:r,it:o}=t,a,s,{minContains:l,maxContains:c}=i;o.opts.next?(a=l===void 0?1:l,s=c):a=1;let d=n.const("len",(0,Ee._)`${r}.length`);if(t.setParams({min:a,max:s}),s===void 0&&a===0){(0,Fi.checkStrictMode)(o,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(s!==void 0&&a>s){(0,Fi.checkStrictMode)(o,'"minContains" > "maxContains" is always invalid'),t.fail();return}if((0,Fi.alwaysValidSchema)(o,e)){let y=(0,Ee._)`${d} >= ${a}`;s!==void 0&&(y=(0,Ee._)`${y} && ${d} <= ${s}`),t.pass(y);return}o.items=!0;let u=n.name("valid");s===void 0&&a===1?g(u,()=>n.if(u,()=>n.break())):a===0?(n.let(u,!0),s!==void 0&&n.if((0,Ee._)`${r}.length > 0`,v)):(n.let(u,!1),v()),t.result(u,()=>t.reset());function v(){let y=n.name("_valid"),f=n.let("count",0);g(y,()=>n.if(y,()=>h(f)))}function g(y,f){n.forRange("i",0,d,C=>{t.subschema({keyword:"contains",dataProp:C,dataPropType:Fi.Type.Num,compositeRule:!0},y),f()})}function h(y){n.code((0,Ee._)`${y}++`),s===void 0?n.if((0,Ee._)`${y} >= ${a}`,()=>n.assign(u,!0).break()):(n.if((0,Ee._)`${y} > ${s}`,()=>n.assign(u,!1).break()),a===1?n.assign(u,!0):n.if((0,Ee._)`${y} >= ${a}`,()=>n.assign(u,!0)))}}};Lo.default=Cm});var ed=$(Ge=>{"use strict";Object.defineProperty(Ge,"__esModule",{value:!0});Ge.validateSchemaDeps=Ge.validatePropertyDeps=Ge.error=void 0;var Ho=D(),bm=L(),Jn=xe();Ge.error={message:({params:{property:t,depsCount:n,deps:e}})=>{let i=n===1?"property":"properties";return(0,Ho.str)`must have ${i} ${e} when property ${t} is present`},params:({params:{property:t,depsCount:n,deps:e,missingProperty:i}})=>(0,Ho._)`{property: ${t},
    missingProperty: ${i},
    depsCount: ${n},
    deps: ${e}}`};var wm={keyword:"dependencies",type:"object",schemaType:"object",error:Ge.error,code(t){let[n,e]=zm(t);Zc(t,n),Yc(t,e)}};function zm({schema:t}){let n={},e={};for(let i in t){if(i==="__proto__")continue;let r=Array.isArray(t[i])?n:e;r[i]=t[i]}return[n,e]}function Zc(t,n=t.schema){let{gen:e,data:i,it:r}=t;if(Object.keys(n).length===0)return;let o=e.let("missing");for(let a in n){let s=n[a];if(s.length===0)continue;let l=(0,Jn.propertyInData)(e,i,a,r.opts.ownProperties);t.setParams({property:a,depsCount:s.length,deps:s.join(", ")}),r.allErrors?e.if(l,()=>{for(let c of s)(0,Jn.checkReportMissingProp)(t,c)}):(e.if((0,Ho._)`${l} && (${(0,Jn.checkMissingProp)(t,s,o)})`),(0,Jn.reportMissingProp)(t,o),e.else())}}Ge.validatePropertyDeps=Zc;function Yc(t,n=t.schema){let{gen:e,data:i,keyword:r,it:o}=t,a=e.name("valid");for(let s in n)(0,bm.alwaysValidSchema)(o,n[s])||(e.if((0,Jn.propertyInData)(e,i,s,o.opts.ownProperties),()=>{let l=t.subschema({keyword:r,schemaProp:s},a);t.mergeValidEvaluated(l,a)},()=>e.var(a,!0)),t.ok(a))}Ge.validateSchemaDeps=Yc;Ge.default=wm});var nd=$(Bo=>{"use strict";Object.defineProperty(Bo,"__esModule",{value:!0});var td=D(),$m=L(),Sm={message:"property name must be valid",params:({params:t})=>(0,td._)`{propertyName: ${t.propertyName}}`},xm={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:Sm,code(t){let{gen:n,schema:e,data:i,it:r}=t;if((0,$m.alwaysValidSchema)(r,e))return;let o=n.name("valid");n.forIn("key",i,a=>{t.setParams({propertyName:a}),t.subschema({keyword:"propertyNames",data:a,dataTypes:["string"],propertyName:a,compositeRule:!0},o),n.if((0,td.not)(o),()=>{t.error(!0),r.allErrors||n.break()})}),t.ok(o)}};Bo.default=xm});var Ko=$(Uo=>{"use strict";Object.defineProperty(Uo,"__esModule",{value:!0});var Ri=xe(),Fe=D(),Tm=ct(),Ai=L(),Em={message:"must NOT have additional properties",params:({params:t})=>(0,Fe._)`{additionalProperty: ${t.additionalProperty}}`},Pm={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:Em,code(t){let{gen:n,schema:e,parentSchema:i,data:r,errsCount:o,it:a}=t;if(!o)throw new Error("ajv implementation error");let{allErrors:s,opts:l}=a;if(a.props=!0,l.removeAdditional!=="all"&&(0,Ai.alwaysValidSchema)(a,e))return;let c=(0,Ri.allSchemaProperties)(i.properties),d=(0,Ri.allSchemaProperties)(i.patternProperties);u(),t.ok((0,Fe._)`${o} === ${Tm.default.errors}`);function u(){n.forIn("key",r,f=>{!c.length&&!d.length?h(f):n.if(v(f),()=>h(f))})}function v(f){let C;if(c.length>8){let j=(0,Ai.schemaRefOrVal)(a,i.properties,"properties");C=(0,Ri.isOwnProperty)(n,j,f)}else c.length?C=(0,Fe.or)(...c.map(j=>(0,Fe._)`${f} === ${j}`)):C=Fe.nil;return d.length&&(C=(0,Fe.or)(C,...d.map(j=>(0,Fe._)`${(0,Ri.usePattern)(t,j)}.test(${f})`))),(0,Fe.not)(C)}function g(f){n.code((0,Fe._)`delete ${r}[${f}]`)}function h(f){if(l.removeAdditional==="all"||l.removeAdditional&&e===!1){g(f);return}if(e===!1){t.setParams({additionalProperty:f}),t.error(),s||n.break();return}if(typeof e=="object"&&!(0,Ai.alwaysValidSchema)(a,e)){let C=n.name("valid");l.removeAdditional==="failing"?(y(f,C,!1),n.if((0,Fe.not)(C),()=>{t.reset(),g(f)})):(y(f,C),s||n.if((0,Fe.not)(C),()=>n.break()))}}function y(f,C,j){let F={keyword:"additionalProperties",dataProp:f,dataPropType:Ai.Type.Str};j===!1&&Object.assign(F,{compositeRule:!0,createErrors:!1,allErrors:!1}),t.subschema(F,C)}}};Uo.default=Pm});var od=$(Jo=>{"use strict";Object.defineProperty(Jo,"__esModule",{value:!0});var Om=In(),id=xe(),Go=L(),rd=Ko(),Mm={keyword:"properties",type:"object",schemaType:"object",code(t){let{gen:n,schema:e,parentSchema:i,data:r,it:o}=t;o.opts.removeAdditional==="all"&&i.additionalProperties===void 0&&rd.default.code(new Om.KeywordCxt(o,rd.default,"additionalProperties"));let a=(0,id.allSchemaProperties)(e);for(let u of a)o.definedProperties.add(u);o.opts.unevaluated&&a.length&&o.props!==!0&&(o.props=Go.mergeEvaluated.props(n,(0,Go.toHash)(a),o.props));let s=a.filter(u=>!(0,Go.alwaysValidSchema)(o,e[u]));if(s.length===0)return;let l=n.name("valid");for(let u of s)c(u)?d(u):(n.if((0,id.propertyInData)(n,r,u,o.opts.ownProperties)),d(u),o.allErrors||n.else().var(l,!0),n.endIf()),t.it.definedProperties.add(u),t.ok(l);function c(u){return o.opts.useDefaults&&!o.compositeRule&&e[u].default!==void 0}function d(u){t.subschema({keyword:"properties",schemaProp:u,dataProp:u},l)}}};Jo.default=Mm});var cd=$(Qo=>{"use strict";Object.defineProperty(Qo,"__esModule",{value:!0});var ad=xe(),qi=D(),sd=L(),ld=L(),Nm={keyword:"patternProperties",type:"object",schemaType:"object",code(t){let{gen:n,schema:e,data:i,parentSchema:r,it:o}=t,{opts:a}=o,s=(0,ad.allSchemaProperties)(e),l=s.filter(y=>(0,sd.alwaysValidSchema)(o,e[y]));if(s.length===0||l.length===s.length&&(!o.opts.unevaluated||o.props===!0))return;let c=a.strictSchema&&!a.allowMatchingProperties&&r.properties,d=n.name("valid");o.props!==!0&&!(o.props instanceof qi.Name)&&(o.props=(0,ld.evaluatedPropsToName)(n,o.props));let{props:u}=o;v();function v(){for(let y of s)c&&g(y),o.allErrors?h(y):(n.var(d,!0),h(y),n.if(d))}function g(y){for(let f in c)new RegExp(y).test(f)&&(0,sd.checkStrictMode)(o,`property ${f} matches pattern ${y} (use allowMatchingProperties)`)}function h(y){n.forIn("key",i,f=>{n.if((0,qi._)`${(0,ad.usePattern)(t,y)}.test(${f})`,()=>{let C=l.includes(y);C||t.subschema({keyword:"patternProperties",schemaProp:y,dataProp:f,dataPropType:ld.Type.Str},d),o.opts.unevaluated&&u!==!0?n.assign((0,qi._)`${u}[${f}]`,!0):!C&&!o.allErrors&&n.if((0,qi.not)(d),()=>n.break())})})}}};Qo.default=Nm});var dd=$(Xo=>{"use strict";Object.defineProperty(Xo,"__esModule",{value:!0});var km=L(),Dm={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(t){let{gen:n,schema:e,it:i}=t;if((0,km.alwaysValidSchema)(i,e)){t.fail();return}let r=n.name("valid");t.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},r),t.failResult(r,()=>t.reset(),()=>t.error())},error:{message:"must NOT be valid"}};Xo.default=Dm});var ud=$(Zo=>{"use strict";Object.defineProperty(Zo,"__esModule",{value:!0});var Im=xe(),Vm={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:Im.validateUnion,error:{message:"must match a schema in anyOf"}};Zo.default=Vm});var pd=$(Yo=>{"use strict";Object.defineProperty(Yo,"__esModule",{value:!0});var Wi=D(),jm=L(),Fm={message:"must match exactly one schema in oneOf",params:({params:t})=>(0,Wi._)`{passingSchemas: ${t.passing}}`},Rm={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:Fm,code(t){let{gen:n,schema:e,parentSchema:i,it:r}=t;if(!Array.isArray(e))throw new Error("ajv implementation error");if(r.opts.discriminator&&i.discriminator)return;let o=e,a=n.let("valid",!1),s=n.let("passing",null),l=n.name("_valid");t.setParams({passing:s}),n.block(c),t.result(a,()=>t.reset(),()=>t.error(!0));function c(){o.forEach((d,u)=>{let v;(0,jm.alwaysValidSchema)(r,d)?n.var(l,!0):v=t.subschema({keyword:"oneOf",schemaProp:u,compositeRule:!0},l),u>0&&n.if((0,Wi._)`${l} && ${a}`).assign(a,!1).assign(s,(0,Wi._)`[${s}, ${u}]`).else(),n.if(l,()=>{n.assign(a,!0),n.assign(s,u),v&&t.mergeEvaluated(v,Wi.Name)})})}}};Yo.default=Rm});var fd=$(ea=>{"use strict";Object.defineProperty(ea,"__esModule",{value:!0});var Am=L(),qm={keyword:"allOf",schemaType:"array",code(t){let{gen:n,schema:e,it:i}=t;if(!Array.isArray(e))throw new Error("ajv implementation error");let r=n.name("valid");e.forEach((o,a)=>{if((0,Am.alwaysValidSchema)(i,o))return;let s=t.subschema({keyword:"allOf",schemaProp:a},r);t.ok(r),t.mergeEvaluated(s)})}};ea.default=qm});var _d=$(ta=>{"use strict";Object.defineProperty(ta,"__esModule",{value:!0});var Li=D(),md=L(),Wm={message:({params:t})=>(0,Li.str)`must match "${t.ifClause}" schema`,params:({params:t})=>(0,Li._)`{failingKeyword: ${t.ifClause}}`},Lm={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:Wm,code(t){let{gen:n,parentSchema:e,it:i}=t;e.then===void 0&&e.else===void 0&&(0,md.checkStrictMode)(i,'"if" without "then" and "else" is ignored');let r=hd(i,"then"),o=hd(i,"else");if(!r&&!o)return;let a=n.let("valid",!0),s=n.name("_valid");if(l(),t.reset(),r&&o){let d=n.let("ifClause");t.setParams({ifClause:d}),n.if(s,c("then",d),c("else",d))}else r?n.if(s,c("then")):n.if((0,Li.not)(s),c("else"));t.pass(a,()=>t.error(!0));function l(){let d=t.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},s);t.mergeEvaluated(d)}function c(d,u){return()=>{let v=t.subschema({keyword:d},s);n.assign(a,s),t.mergeValidEvaluated(v,a),u?n.assign(u,(0,Li._)`${d}`):t.setParams({ifClause:d})}}}};function hd(t,n){let e=t.schema[n];return e!==void 0&&!(0,md.alwaysValidSchema)(t,e)}ta.default=Lm});var gd=$(na=>{"use strict";Object.defineProperty(na,"__esModule",{value:!0});var Hm=L(),Bm={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:t,parentSchema:n,it:e}){n.if===void 0&&(0,Hm.checkStrictMode)(e,`"${t}" without "if" is ignored`)}};na.default=Bm});var yd=$(ia=>{"use strict";Object.defineProperty(ia,"__esModule",{value:!0});var Um=Ro(),Km=Gc(),Gm=Ao(),Jm=Qc(),Qm=Xc(),Xm=ed(),Zm=nd(),Ym=Ko(),e0=od(),t0=cd(),n0=dd(),i0=ud(),r0=pd(),o0=fd(),a0=_d(),s0=gd();function l0(t=!1){let n=[n0.default,i0.default,r0.default,o0.default,a0.default,s0.default,Zm.default,Ym.default,Xm.default,e0.default,t0.default];return t?n.push(Km.default,Jm.default):n.push(Um.default,Gm.default),n.push(Qm.default),n}ia.default=l0});var vd=$(ra=>{"use strict";Object.defineProperty(ra,"__esModule",{value:!0});var ie=D(),c0={message:({schemaCode:t})=>(0,ie.str)`must match format "${t}"`,params:({schemaCode:t})=>(0,ie._)`{format: ${t}}`},d0={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:c0,code(t,n){let{gen:e,data:i,$data:r,schema:o,schemaCode:a,it:s}=t,{opts:l,errSchemaPath:c,schemaEnv:d,self:u}=s;if(!l.validateFormats)return;r?v():g();function v(){let h=e.scopeValue("formats",{ref:u.formats,code:l.code.formats}),y=e.const("fDef",(0,ie._)`${h}[${a}]`),f=e.let("fType"),C=e.let("format");e.if((0,ie._)`typeof ${y} == "object" && !(${y} instanceof RegExp)`,()=>e.assign(f,(0,ie._)`${y}.type || "string"`).assign(C,(0,ie._)`${y}.validate`),()=>e.assign(f,(0,ie._)`"string"`).assign(C,y)),t.fail$data((0,ie.or)(j(),F()));function j(){return l.strictSchema===!1?ie.nil:(0,ie._)`${a} && !${C}`}function F(){let X=d.$async?(0,ie._)`(${y}.async ? await ${C}(${i}) : ${C}(${i}))`:(0,ie._)`${C}(${i})`,N=(0,ie._)`(typeof ${C} == "function" ? ${X} : ${C}.test(${i}))`;return(0,ie._)`${C} && ${C} !== true && ${f} === ${n} && !${N}`}}function g(){let h=u.formats[o];if(!h){j();return}if(h===!0)return;let[y,f,C]=F(h);y===n&&t.pass(X());function j(){if(l.strictSchema===!1){u.logger.warn(N());return}throw new Error(N());function N(){return`unknown format "${o}" ignored in schema at path "${c}"`}}function F(N){let Ae=N instanceof RegExp?(0,ie.regexpCode)(N):l.code.formats?(0,ie._)`${l.code.formats}${(0,ie.getProperty)(o)}`:void 0,et=e.scopeValue("formats",{key:o,ref:N,code:Ae});return typeof N=="object"&&!(N instanceof RegExp)?[N.type||"string",N.validate,(0,ie._)`${et}.validate`]:["string",N,et]}function X(){if(typeof h=="object"&&!(h instanceof RegExp)&&h.async){if(!d.$async)throw new Error("async format in sync schema");return(0,ie._)`await ${C}(${i})`}return typeof f=="function"?(0,ie._)`${C}(${i})`:(0,ie._)`${C}.test(${i})`}}}};ra.default=d0});var Cd=$(oa=>{"use strict";Object.defineProperty(oa,"__esModule",{value:!0});var u0=vd(),p0=[u0.default];oa.default=p0});var bd=$(un=>{"use strict";Object.defineProperty(un,"__esModule",{value:!0});un.contentVocabulary=un.metadataVocabulary=void 0;un.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];un.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]});var zd=$(aa=>{"use strict";Object.defineProperty(aa,"__esModule",{value:!0});var f0=Oc(),h0=Hc(),m0=yd(),_0=Cd(),wd=bd(),g0=[f0.default,h0.default,(0,m0.default)(),_0.default,wd.metadataVocabulary,wd.contentVocabulary];aa.default=g0});var Sd=$(Hi=>{"use strict";Object.defineProperty(Hi,"__esModule",{value:!0});Hi.DiscrError=void 0;var $d=function(t){return t.Tag="tag",t.Mapping="mapping",t}($d||(Hi.DiscrError=$d={}))});var Td=$(la=>{"use strict";Object.defineProperty(la,"__esModule",{value:!0});var pn=D(),sa=Sd(),xd=xi(),y0=Vn(),v0=L(),C0={message:({params:{discrError:t,tagName:n}})=>t===sa.DiscrError.Tag?`tag "${n}" must be string`:`value of tag "${n}" must be in oneOf`,params:({params:{discrError:t,tag:n,tagName:e}})=>(0,pn._)`{error: ${t}, tag: ${e}, tagValue: ${n}}`},b0={keyword:"discriminator",type:"object",schemaType:"object",error:C0,code(t){let{gen:n,data:e,schema:i,parentSchema:r,it:o}=t,{oneOf:a}=r;if(!o.opts.discriminator)throw new Error("discriminator: requires discriminator option");let s=i.propertyName;if(typeof s!="string")throw new Error("discriminator: requires propertyName");if(i.mapping)throw new Error("discriminator: mapping is not supported");if(!a)throw new Error("discriminator: requires oneOf keyword");let l=n.let("valid",!1),c=n.const("tag",(0,pn._)`${e}${(0,pn.getProperty)(s)}`);n.if((0,pn._)`typeof ${c} == "string"`,()=>d(),()=>t.error(!1,{discrError:sa.DiscrError.Tag,tag:c,tagName:s})),t.ok(l);function d(){let g=v();n.if(!1);for(let h in g)n.elseIf((0,pn._)`${c} === ${h}`),n.assign(l,u(g[h]));n.else(),t.error(!1,{discrError:sa.DiscrError.Mapping,tag:c,tagName:s}),n.endIf()}function u(g){let h=n.name("valid"),y=t.subschema({keyword:"oneOf",schemaProp:g},h);return t.mergeEvaluated(y,pn.Name),h}function v(){var g;let h={},y=C(r),f=!0;for(let X=0;X<a.length;X++){let N=a[X];if(N?.$ref&&!(0,v0.schemaHasRulesButRef)(N,o.self.RULES)){let et=N.$ref;if(N=xd.resolveRef.call(o.self,o.schemaEnv.root,o.baseId,et),N instanceof xd.SchemaEnv&&(N=N.schema),N===void 0)throw new y0.default(o.opts.uriResolver,o.baseId,et)}let Ae=(g=N?.properties)===null||g===void 0?void 0:g[s];if(typeof Ae!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${s}"`);f=f&&(y||C(N)),j(Ae,X)}if(!f)throw new Error(`discriminator: "${s}" must be required`);return h;function C({required:X}){return Array.isArray(X)&&X.includes(s)}function j(X,N){if(X.const)F(X.const,N);else if(X.enum)for(let Ae of X.enum)F(Ae,N);else throw new Error(`discriminator: "properties/${s}" must have "const" or "enum"`)}function F(X,N){if(typeof X!="string"||X in h)throw new Error(`discriminator: "${s}" values must be unique strings`);h[X]=N}}}};la.default=b0});var Ed=$((Bv,w0)=>{w0.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0}});var da=$((te,ca)=>{"use strict";Object.defineProperty(te,"__esModule",{value:!0});te.MissingRefError=te.ValidationError=te.CodeGen=te.Name=te.nil=te.stringify=te.str=te._=te.KeywordCxt=te.Ajv=void 0;var z0=$c(),$0=zd(),S0=Td(),Pd=Ed(),x0=["/properties"],Bi="http://json-schema.org/draft-07/schema",fn=class extends z0.default{_addVocabularies(){super._addVocabularies(),$0.default.forEach(n=>this.addVocabulary(n)),this.opts.discriminator&&this.addKeyword(S0.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;let n=this.opts.$data?this.$dataMetaSchema(Pd,x0):Pd;this.addMetaSchema(n,Bi,!1),this.refs["http://json-schema.org/schema"]=Bi}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(Bi)?Bi:void 0)}};te.Ajv=fn;ca.exports=te=fn;ca.exports.Ajv=fn;Object.defineProperty(te,"__esModule",{value:!0});te.default=fn;var T0=In();Object.defineProperty(te,"KeywordCxt",{enumerable:!0,get:function(){return T0.KeywordCxt}});var hn=D();Object.defineProperty(te,"_",{enumerable:!0,get:function(){return hn._}});Object.defineProperty(te,"str",{enumerable:!0,get:function(){return hn.str}});Object.defineProperty(te,"stringify",{enumerable:!0,get:function(){return hn.stringify}});Object.defineProperty(te,"nil",{enumerable:!0,get:function(){return hn.nil}});Object.defineProperty(te,"Name",{enumerable:!0,get:function(){return hn.Name}});Object.defineProperty(te,"CodeGen",{enumerable:!0,get:function(){return hn.CodeGen}});var E0=$i();Object.defineProperty(te,"ValidationError",{enumerable:!0,get:function(){return E0.default}});var P0=Vn();Object.defineProperty(te,"MissingRefError",{enumerable:!0,get:function(){return P0.default}})});var jd=$(Qe=>{"use strict";Object.defineProperty(Qe,"__esModule",{value:!0});Qe.formatNames=Qe.fastFormats=Qe.fullFormats=void 0;function Je(t,n){return{validate:t,compare:n}}Qe.fullFormats={date:Je(kd,ha),time:Je(pa(!0),ma),"date-time":Je(Od(!0),Id),"iso-time":Je(pa(),Dd),"iso-date-time":Je(Od(),Vd),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:I0,"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:W0,uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:V0,int32:{type:"number",validate:R0},int64:{type:"number",validate:A0},float:{type:"number",validate:Nd},double:{type:"number",validate:Nd},password:!0,binary:!0};Qe.fastFormats=Y(z({},Qe.fullFormats),{date:Je(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,ha),time:Je(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,ma),"date-time":Je(/^\d\d\d\d-[0-1]\d-[0-3]\dt(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,Id),"iso-time":Je(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,Dd),"iso-date-time":Je(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,Vd),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i});Qe.formatNames=Object.keys(Qe.fullFormats);function O0(t){return t%4===0&&(t%100!==0||t%400===0)}var M0=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,N0=[0,31,28,31,30,31,30,31,31,30,31,30,31];function kd(t){let n=M0.exec(t);if(!n)return!1;let e=+n[1],i=+n[2],r=+n[3];return i>=1&&i<=12&&r>=1&&r<=(i===2&&O0(e)?29:N0[i])}function ha(t,n){if(t&&n)return t>n?1:t<n?-1:0}var ua=/^(\d\d):(\d\d):(\d\d(?:\.\d+)?)(z|([+-])(\d\d)(?::?(\d\d))?)?$/i;function pa(t){return function(e){let i=ua.exec(e);if(!i)return!1;let r=+i[1],o=+i[2],a=+i[3],s=i[4],l=i[5]==="-"?-1:1,c=+(i[6]||0),d=+(i[7]||0);if(c>23||d>59||t&&!s)return!1;if(r<=23&&o<=59&&a<60)return!0;let u=o-d*l,v=r-c*l-(u<0?1:0);return(v===23||v===-1)&&(u===59||u===-1)&&a<61}}function ma(t,n){if(!(t&&n))return;let e=new Date("2020-01-01T"+t).valueOf(),i=new Date("2020-01-01T"+n).valueOf();if(e&&i)return e-i}function Dd(t,n){if(!(t&&n))return;let e=ua.exec(t),i=ua.exec(n);if(e&&i)return t=e[1]+e[2]+e[3],n=i[1]+i[2]+i[3],t>n?1:t<n?-1:0}var fa=/t|\s/i;function Od(t){let n=pa(t);return function(i){let r=i.split(fa);return r.length===2&&kd(r[0])&&n(r[1])}}function Id(t,n){if(!(t&&n))return;let e=new Date(t).valueOf(),i=new Date(n).valueOf();if(e&&i)return e-i}function Vd(t,n){if(!(t&&n))return;let[e,i]=t.split(fa),[r,o]=n.split(fa),a=ha(e,r);if(a!==void 0)return a||ma(i,o)}var k0=/\/|:/,D0=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function I0(t){return k0.test(t)&&D0.test(t)}var Md=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm;function V0(t){return Md.lastIndex=0,Md.test(t)}var j0=-(2**31),F0=2**31-1;function R0(t){return Number.isInteger(t)&&t<=F0&&t>=j0}function A0(t){return Number.isInteger(t)}function Nd(){return!0}var q0=/[^\\]\\Z/;function W0(t){if(q0.test(t))return!1;try{return new RegExp(t),!0}catch{return!1}}});var Fd=$(mn=>{"use strict";Object.defineProperty(mn,"__esModule",{value:!0});mn.formatLimitDefinition=void 0;var L0=da(),Re=D(),Nt=Re.operators,Ui={formatMaximum:{okStr:"<=",ok:Nt.LTE,fail:Nt.GT},formatMinimum:{okStr:">=",ok:Nt.GTE,fail:Nt.LT},formatExclusiveMaximum:{okStr:"<",ok:Nt.LT,fail:Nt.GTE},formatExclusiveMinimum:{okStr:">",ok:Nt.GT,fail:Nt.LTE}},H0={message:({keyword:t,schemaCode:n})=>(0,Re.str)`should be ${Ui[t].okStr} ${n}`,params:({keyword:t,schemaCode:n})=>(0,Re._)`{comparison: ${Ui[t].okStr}, limit: ${n}}`};mn.formatLimitDefinition={keyword:Object.keys(Ui),type:"string",schemaType:"string",$data:!0,error:H0,code(t){let{gen:n,data:e,schemaCode:i,keyword:r,it:o}=t,{opts:a,self:s}=o;if(!a.validateFormats)return;let l=new L0.KeywordCxt(o,s.RULES.all.format.definition,"format");l.$data?c():d();function c(){let v=n.scopeValue("formats",{ref:s.formats,code:a.code.formats}),g=n.const("fmt",(0,Re._)`${v}[${l.schemaCode}]`);t.fail$data((0,Re.or)((0,Re._)`typeof ${g} != "object"`,(0,Re._)`${g} instanceof RegExp`,(0,Re._)`typeof ${g}.compare != "function"`,u(g)))}function d(){let v=l.schema,g=s.formats[v];if(!g||g===!0)return;if(typeof g!="object"||g instanceof RegExp||typeof g.compare!="function")throw new Error(`"${r}": format "${v}" does not define "compare" function`);let h=n.scopeValue("formats",{key:v,ref:g,code:a.code.formats?(0,Re._)`${a.code.formats}${(0,Re.getProperty)(v)}`:void 0});t.fail$data(u(h))}function u(v){return(0,Re._)`${v}.compare(${e}, ${i}) ${Ui[r].fail} 0`}},dependencies:["format"]};var B0=t=>(t.addKeyword(mn.formatLimitDefinition),t);mn.default=B0});var Wd=$((Qn,qd)=>{"use strict";Object.defineProperty(Qn,"__esModule",{value:!0});var _n=jd(),U0=Fd(),_a=D(),Rd=new _a.Name("fullFormats"),K0=new _a.Name("fastFormats"),ga=(t,n={keywords:!0})=>{if(Array.isArray(n))return Ad(t,n,_n.fullFormats,Rd),t;let[e,i]=n.mode==="fast"?[_n.fastFormats,K0]:[_n.fullFormats,Rd],r=n.formats||_n.formatNames;return Ad(t,r,e,i),n.keywords&&(0,U0.default)(t),t};ga.get=(t,n="full")=>{let i=(n==="fast"?_n.fastFormats:_n.fullFormats)[t];if(!i)throw new Error(`Unknown format "${t}"`);return i};function Ad(t,n,e,i){var r,o;(r=(o=t.opts.code).formats)!==null&&r!==void 0||(o.formats=(0,_a._)`require("ajv-formats/dist/formats").${i}`);for(let a of n)t.addFormat(a,e[a])}qd.exports=Qn=ga;Object.defineProperty(Qn,"__esModule",{value:!0});Qn.default=ga});var Kd=Na(da(),1),Gd=Na(Wd(),1);var Ld=(()=>{class t{cogSrv=E($e);c;constructor(){this.c=this.cogSrv.merge("utilArray",{deepMapName:"deep",parentMapName:"parent",idMapName:"id",parentIdMapName:"parent_id",childrenMapName:"children",titleMapName:"title",checkedMapname:"checked",selectedMapname:"selected",expandedMapname:"expanded",disabledMapname:"disabled"})}treeToArr(e,i){let r=z({deepMapName:this.c.deepMapName,parentMapName:this.c.parentMapName,childrenMapName:this.c.childrenMapName,clearChildren:!0,cb:null},i),o=[],a=(s,l,c=0)=>{for(let d of s){d[r.deepMapName]=c,d[r.parentMapName]=l,r.cb&&r.cb(d,l,c),o.push(d);let u=d[r.childrenMapName];u!=null&&Array.isArray(u)&&u.length>0&&a(u,d,c+1),r.clearChildren&&delete d[r.childrenMapName]}};return a(e,null),o}arrToTree(e,i){if(!Array.isArray(e)||e.length===0)return[];let r=z({idMapName:this.c.idMapName,parentIdMapName:this.c.parentIdMapName,childrenMapName:this.c.childrenMapName,cb:null},i),o=[],a={},s=r.rootParentIdValue,l=e;if(!s){let c=l.map(u=>u[r.parentIdMapName]),d=c.findIndex(u=>u==null);s=d!==-1?c[d]:c.sort()[0]}for(let c of l){let d=c[r.idMapName],u=c[r.parentIdMapName];a[d]=a[d]||[],c[r.childrenMapName]=a[d],r.cb&&r.cb(c),u!==s?(a[u]=a[u]||[],a[u].push(c)):o.push(c)}return o}arrToTreeNode(e,i){let r=z({idMapName:this.c.idMapName,parentIdMapName:this.c.parentIdMapName,titleMapName:this.c.titleMapName,isLeafMapName:"isLeaf",checkedMapname:this.c.checkedMapname,selectedMapname:this.c.selectedMapname,expandedMapname:this.c.expandedMapname,disabledMapname:this.c.disabledMapname,cb:null},i),o=this.arrToTree(e,{idMapName:r.idMapName,parentIdMapName:r.parentIdMapName,childrenMapName:"children"});return this.visitTree(o,(a,s,l)=>{a.key=a[r.idMapName],a.title=a[r.titleMapName],a.checked=a[r.checkedMapname],a.selected=a[r.selectedMapname],a.expanded=a[r.expandedMapname],a.disabled=a[r.disabledMapname],a[r.isLeafMapName]==null?a.isLeaf=a.children.length===0:a.isLeaf=a[r.isLeafMapName],r.cb&&r.cb(a,s,l)}),o.map(a=>new Ks(a))}visitTree(e,i,r){r=z({childrenMapName:this.c.childrenMapName},r);let o=(a,s,l)=>{for(let c of a){i(c,s,l);let d=c[r.childrenMapName];Array.isArray(d)&&d.length>0&&o(d,c,l+1)}};o(e,null,1)}findTree(e,i,r){let o;return this.visitTree(e,a=>{o===void 0&&i(a)&&(o=a)},r),o}getKeysByTreeNode(e,i){let r=z({includeHalfChecked:!0},i),o=[];return this.visitTree(e,(a,s,l)=>{(a.isChecked||r.includeHalfChecked&&a.isHalfChecked)&&o.push(r.cb?r.cb(a,s,l):r.keyMapName?a.origin[r.keyMapName]:a.key)}),o}baseFlat(e,i,r=[]){let o=-1;for(;++o<e.length;){let a=e[o];if(i>0&&Array.isArray(a))if(i>1)this.baseFlat(a,i-1,r);else{let s=-1,l=r.length;for(;++s<a.length;)r[l+s]=a[s]}else r[r.length]=a}return r}flat(e,i=1/0){return Array.isArray(e)?this.baseFlat(e,i):e}groupBy(e,i){return Array.isArray(e)?e.reduce((r,o)=>{let a=i(o);return Object.prototype.hasOwnProperty.call(r,a)?r[a].push(o):r[a]=[o],r},{}):{}}uniq(e,i){return Array.from(e.reduce((r,o)=>{let a=i?typeof i=="string"?o[i]:i(o):o;return r.has(a)||r.set(a,o),r},new Map).values())}static \u0275fac=function(i){return new(i||t)};static \u0275prov=Ut({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var G0=["target"];function J0(t,n){}function Q0(t,n){t&1&&Ha(0)}var Jd=["*"];function X0(t,n){t&1&&Me(0)}function Z0(t,n){if(t&1&&B(0,"nz-icon",11),t&2){let e=p(5);_("nzType",e._btn.submit_icon.type)("nzTheme",e._btn.submit_icon.theme)("nzTwotoneColor",e._btn.submit_icon.twoToneColor)("nzIconfont",e._btn.submit_icon.iconfont)}}function Y0(t,n){if(t&1&&B(0,"nz-icon",11),t&2){p();let e=wn(1);_("nzType",e.type)("nzTheme",e.theme)("nzTwotoneColor",e.twoToneColor)("nzIconfont",e.iconfont)}}function e_(t,n){if(t&1){let e=ne();w(0,"button",13),U("click",function(){P(e);let r=p(5);return O(r.reset(!0))}),hr(1),x(2,Y0,1,4,"nz-icon",11),q(3),b()}if(t&2){p(3);let e=wn(0),i=p(2);_("nzType",i._btn.reset_type)("nzSize",e.size)("disabled",i.loading),m();let r=mr(i._btn.reset_icon);m(),T(r?2:-1),m(),ae(" ",i._btn.reset," ")}}function t_(t,n){if(t&1&&(w(0,"button",10),x(1,Z0,1,4,"nz-icon",11),q(2),b(),x(3,e_,4,6,"button",12)),t&2){p(2);let e=wn(0),i=p(2);_("nzType",i._btn.submit_type)("nzSize",e.size)("nzLoading",i.loading)("disabled",i.liveValidate&&!i.valid),m(),T(i._btn.submit_icon?1:-1),m(),ae(" ",i._btn.submit," "),m(),T(i._btn.reset?3:-1)}}function n_(t,n){}function i_(t,n){if(t&1&&H(0,n_,0,0,"ng-template",4),t&2){p(4);let e=we(1);_("ngTemplateOutlet",e)}}function r_(t,n){if(t&1&&(w(0,"nz-form-item",6)(1,"div",7)(2,"div",8)(3,"div",9),x(4,t_,4,7)(5,i_,1,1,null,4),b()()()()),t&2){p();let e=wn(0),i=p(2);ze(e.class),_("fixed-label",e.spanLabelFixed),m(),_("nzSpan",i.btnGrid.span)("nzOffset",i.btnGrid.offset)("nzXs",i.btnGrid.xs)("nzSm",i.btnGrid.sm)("nzMd",i.btnGrid.md)("nzLg",i.btnGrid.lg)("nzXl",i.btnGrid.xl)("nzXXl",i.btnGrid.xxl),m(3),T(i.button?4:5)}}function o_(t,n){if(t&1&&(hr(0),x(1,r_,6,12,"nz-form-item",5)),t&2){let e=mr(p(2)._btn.render);m(),T(e?1:-1)}}function a_(t,n){}function s_(t,n){if(t&1&&H(0,a_,0,0,"ng-template",4),t&2){p(2);let e=we(1);_("ngTemplateOutlet",e)}}function l_(t,n){if(t&1&&x(0,o_,2,2)(1,s_,1,1,null,4),t&2){let e=p();T(e.button!=="none"?0:1)}}function c_(t,n){if(t&1&&B(0,"sf-item",3),t&2){let e=p(),i=we(3);_("formProperty",e.rootProperty)("footer",i)}}function d_(t,n){if(t&1&&B(0,"nz-icon",9),t&2){let e=p(4);_("nzTooltipTitle",e.oh.text)("nzTooltipPlacement",e.oh.placement)("nzTooltipTrigger",e.oh.trigger)("nzTooltipColor",e.oh.bgColor)("nzTooltipOverlayClassName",e.oh.overlayClassName)("nzTooltipOverlayStyle",e.oh.overlayStyle)("nzTooltipMouseEnterDelay",e.oh.mouseEnterDelay)("nzTooltipMouseLeaveDelay",e.oh.mouseLeaveDelay)("nzType",e.oh.icon)}}function u_(t,n){if(t&1&&(w(0,"span",8),q(1),x(2,d_,1,9,"nz-icon",9),b()),t&2){let e=p(3);m(),ae(" ",e.ui.optional," "),m(),T(e.oh?2:-1)}}function p_(t,n){if(t&1&&(w(0,"label")(1,"span",7),q(2),b(),x(3,u_,3,2,"span",8),b()),t&2){let e=p(2);K("ant-form-item-required",e.ui._required),qe("for",e.id),m(2),pe(e.t),m(),T(e.ui.optional||e.oh?3:-1)}}function f_(t,n){if(t&1&&(w(0,"div",0),x(1,p_,4,5,"label",6),b()),t&2){let e=p();_("nzSpan",e.ui.spanLabel),m(),T(e.t?1:-1)}}function h_(t,n){if(t&1&&(w(0,"div",4)(1,"div",10),q(2),b()()),t&2){let e=p();_("@helpMotion",void 0),m(2),ae(" ",e.error," ")}}function m_(t,n){if(t&1&&B(0,"div",5),t&2){let e=p();_("innerHTML",e.ui._description,ft)}}function __(t,n){if(t&1&&B(0,"nz-icon",7),t&2){let e=p(2);_("nzTooltipTitle",e.oh.text)("nzTooltipPlacement",e.oh.placement)("nzTooltipTrigger",e.oh.trigger)("nzTooltipOverlayClassName",e.oh.overlayClassName)("nzTooltipOverlayStyle",e.oh.overlayStyle)("nzTooltipMouseEnterDelay",e.oh.mouseEnterDelay)("nzTooltipMouseLeaveDelay",e.oh.mouseLeaveDelay)("nzType",e.oh.icon)}}function g_(t,n){if(t&1){let e=ne();w(0,"div",0)(1,"label"),q(2),w(3,"span",6),q(4),x(5,__,1,8,"nz-icon",7),b()(),w(6,"div",8)(7,"button",9),U("click",function(){P(e);let r=p();return O(r.addItem())}),b()()()}if(t&2){let e=p();_("nzSpan",e.ui.spanLabel),m(),K("ant-form-item-required",e.ui.required),m(),ae(" ",e.schema.title," "),m(2),ae(" ",e.ui.optional," "),m(),T(e.oh?5:-1),m(2),_("nzType",e.addType)("disabled",e.addDisabled)("innerHTML",e.addTitle,ft)}}function y_(t,n){if(t&1){let e=ne();w(0,"span",13),U("click",function(){P(e);let r=p(2).$index,o=p();return O(o.removeItem(r))}),B(1,"nz-icon",14),b()}if(t&2){let e=p(3);qe("title",e.removeTitle)}}function v_(t,n){if(t&1&&(w(0,"div",10)(1,"nz-card"),B(2,"sf-item",11),x(3,y_,2,1,"span",12),b()()),t&2){let e=p(),i=e.$implicit,r=e.$index,o=p();_("nzSpan",o.arraySpan),qe("data-index",r),m(2),_("formProperty",i),m(),T(o.showRemove?3:-1)}}function C_(t,n){if(t&1&&x(0,v_,4,4,"div",10),t&2){let e=n.$implicit;T(e.visible&&!e.ui.hidden?0:-1)}}function b_(t,n){if(t&1&&(w(0,"div",4),q(1),b()),t&2){let e=p();m(),pe(e.error)}}function w_(t,n){if(t&1&&B(0,"div",5),t&2){let e=p();_("innerHTML",e.ui._description,ft)}}function z_(t,n){if(t&1){let e=ne();w(0,"label",3),bt("ngModelChange",function(r){P(e);let o=p(2);return Ct(o.allChecked,r)||(o.allChecked=r),O(r)}),U("ngModelChange",function(){P(e);let r=p(2);return O(r.onAllChecked())}),q(1),b()}if(t&2){let e=p(2);vt("ngModel",e.allChecked),_("nzIndeterminate",e.indeterminate),m(),ae(" ",e.ui.checkAllText||e.l.checkAllText," ")}}function $_(t,n){if(t&1&&x(0,z_,2,3,"label",2),t&2){let e=p();T(e.ui.checkAll?0:-1)}}function S_(t,n){if(t&1&&B(0,"nz-icon",7),t&2){let e=p(3);_("nzTooltipTitle",e.oh.text)("nzTooltipPlacement",e.oh.placement)("nzTooltipTrigger",e.oh.trigger)("nzTooltipOverlayClassName",e.oh.overlayClassName)("nzTooltipOverlayStyle",e.oh.overlayStyle)("nzTooltipMouseEnterDelay",e.oh.mouseEnterDelay)("nzTooltipMouseLeaveDelay",e.oh.mouseLeaveDelay)("nzType",e.oh.icon)}}function x_(t,n){if(t&1){let e=ne();w(0,"label",5),U("ngModelChange",function(r){P(e);let o=p(2);return O(o._setValue(r))}),q(1),w(2,"span",6),q(3),x(4,S_,1,8,"nz-icon",7),b()()}if(t&2){let e=p(2);_("nzDisabled",e.disabled)("ngModel",e.value),m(),ae(" ",e.schema.title," "),m(2),ae(" ",e.ui.optional," "),m(),T(e.oh?4:-1)}}function T_(t,n){}function E_(t,n){if(t&1){let e=ne();H(0,T_,0,0,"ng-template",9),w(1,"nz-checkbox-group",10),U("ngModelChange",function(r){P(e);let o=p(3);return O(o.groupInGridChange(r))}),b()}if(t&2){let e=p(3),i=we(1);_("ngTemplateOutlet",i),m(),_("ngModel",e.value)("nzOptions",e.data)}}function P_(t,n){}function O_(t,n){if(t&1&&(w(0,"div",13),H(1,P_,0,0,"ng-template",9),b()),t&2){let e=p(4),i=we(1);_("nzSpan",e.grid_span),m(),_("ngTemplateOutlet",i)}}function M_(t,n){if(t&1&&(w(0,"div",13)(1,"label",14),q(2),b()()),t&2){let e=n.$implicit,i=p(4);_("nzSpan",i.grid_span),m(),_("nzValue",e.value)("ngModel",e.checked)("nzDisabled",e.disabled),m(),ae(" ",e.label," ")}}function N_(t,n){if(t&1){let e=ne();w(0,"nz-checkbox-wrapper",11),U("nzOnChange",function(r){P(e);let o=p(3);return O(o.groupInGridChange(r))}),w(1,"div",12),x(2,O_,2,2,"div",13),We(3,M_,3,5,"div",13,rt),b()()}if(t&2){let e=p(3);m(2),T(e.ui.checkAll?2:-1),m(),Le(e.data)}}function k_(t,n){if(t&1&&x(0,E_,2,3)(1,N_,5,1,"nz-checkbox-wrapper",8),t&2){let e=p(2);T(e.grid_span===0?0:1)}}function D_(t,n){if(t&1&&x(0,x_,5,5,"label",4)(1,k_,2,1),t&2){let e=p();T(e.data.length===0?0:1)}}var I_=(t,n,e)=>({$implicit:t,schema:n,ui:e});function V_(t,n){}function j_(t,n){if(t&1){let e=ne();w(0,"nz-year-picker",5),bt("ngModelChange",function(r){P(e);let o=p();return Ct(o.displayValue,r)||(o.displayValue=r),O(r)}),U("ngModelChange",function(r){P(e);let o=p();return O(o._change(r))})("nzOnOpenChange",function(r){P(e);let o=p();return O(o._openChange(r))}),b()}if(t&2){let e=p();ze(e.ui.className),_("nzId",e.id)("nzDisabled",e.disabled)("nzSize",e.ui.size)("nzFormat",e.displayFormat),vt("ngModel",e.displayValue),_("nzAllowClear",e.i.allowClear)("nzDisabledDate",e.ui.disabledDate)("nzLocale",e.ui.locale)("nzPlaceHolder",e.ui.placeholder)("nzPopupStyle",e.ui.popupStyle)("nzDropdownClassName",e.ui.dropdownClassName)("nzRenderExtraFooter",e.ui.renderExtraFooter)("nzInputReadOnly",e.ui.inputReadOnly)("nzInline",e.ui.inline)}}function F_(t,n){if(t&1){let e=ne();w(0,"nz-month-picker",5),bt("ngModelChange",function(r){P(e);let o=p();return Ct(o.displayValue,r)||(o.displayValue=r),O(r)}),U("ngModelChange",function(r){P(e);let o=p();return O(o._change(r))})("nzOnOpenChange",function(r){P(e);let o=p();return O(o._openChange(r))}),b()}if(t&2){let e=p();ze(e.ui.className),_("nzId",e.id)("nzDisabled",e.disabled)("nzSize",e.ui.size)("nzFormat",e.displayFormat),vt("ngModel",e.displayValue),_("nzAllowClear",e.i.allowClear)("nzDisabledDate",e.ui.disabledDate)("nzLocale",e.ui.locale)("nzPlaceHolder",e.ui.placeholder)("nzPopupStyle",e.ui.popupStyle)("nzDropdownClassName",e.ui.dropdownClassName)("nzRenderExtraFooter",e.ui.renderExtraFooter)("nzInputReadOnly",e.ui.inputReadOnly)("nzInline",e.ui.inline)}}function R_(t,n){if(t&1){let e=ne();w(0,"nz-week-picker",6),bt("ngModelChange",function(r){P(e);let o=p();return Ct(o.displayValue,r)||(o.displayValue=r),O(r)}),U("ngModelChange",function(r){P(e);let o=p();return O(o._change(r))})("nzOnOpenChange",function(r){P(e);let o=p();return O(o._openChange(r))}),b()}if(t&2){let e=p();ze(e.ui.className),_("nzId",e.id)("nzDisabled",e.disabled)("nzSize",e.ui.size)("nzFormat",e.displayFormat),vt("ngModel",e.displayValue),_("nzAllowClear",e.i.allowClear)("nzDisabledDate",e.ui.disabledDate)("nzLocale",e.ui.locale)("nzPlaceHolder",e.ui.placeholder)("nzPopupStyle",e.ui.popupStyle)("nzDropdownClassName",e.ui.dropdownClassName)("nzInputReadOnly",e.ui.inputReadOnly)("nzInline",e.ui.inline)}}function A_(t,n){if(t&1){let e=ne();w(0,"nz-range-picker",7),bt("ngModelChange",function(r){P(e);let o=p();return Ct(o.displayValue,r)||(o.displayValue=r),O(r)}),U("ngModelChange",function(r){P(e);let o=p();return O(o._change(r))})("nzOnOpenChange",function(r){P(e);let o=p();return O(o._openChange(r))})("nzOnOk",function(r){P(e);let o=p();return O(o._ok(r))}),b()}if(t&2){let e=p();ze(e.ui.className),_("nzId",e.id)("nzDisabled",e.disabled)("nzSize",e.ui.size)("nzFormat",e.displayFormat),vt("ngModel",e.displayValue),_("nzAllowClear",e.i.allowClear)("nzDisabledDate",e.ui.disabledDate)("nzLocale",e.ui.locale)("nzPlaceHolder",e.ui.placeholder)("nzPopupStyle",e.ui.popupStyle)("nzDropdownClassName",e.ui.dropdownClassName)("nzDisabledTime",e.ui.disabledTime)("nzRenderExtraFooter",e.ui.renderExtraFooter)("nzRanges",e.ui.ranges)("nzShowTime",e.ui.showTime)("nzSeparator",e.ui.separator)("nzShowWeekNumber",e.ui.showWeekNumber||!1)("nzMode",e.ui.rangeMode)("nzInputReadOnly",e.ui.inputReadOnly)("nzInline",e.ui.inline)}}function q_(t,n){if(t&1){let e=ne();w(0,"nz-date-picker",8),bt("ngModelChange",function(r){P(e);let o=p();return Ct(o.displayValue,r)||(o.displayValue=r),O(r)}),U("ngModelChange",function(r){P(e);let o=p();return O(o._change(r))})("nzOnOpenChange",function(r){P(e);let o=p();return O(o._openChange(r))})("nzOnOk",function(r){P(e);let o=p();return O(o._ok(r))}),b()}if(t&2){let e=p();ze(e.ui.className),_("nzId",e.id)("nzDisabled",e.disabled)("nzSize",e.ui.size)("nzFormat",e.displayFormat),vt("ngModel",e.displayValue),_("nzAllowClear",e.i.allowClear)("nzDisabledDate",e.ui.disabledDate)("nzLocale",e.ui.locale)("nzPlaceHolder",e.ui.placeholder)("nzPopupStyle",e.ui.popupStyle)("nzDropdownClassName",e.ui.dropdownClassName)("nzDisabledTime",e.ui.disabledTime)("nzRenderExtraFooter",e.ui.renderExtraFooter)("nzShowTime",e.ui.showTime)("nzShowToday",e.i.showToday)("nzShowWeekNumber",e.ui.showWeekNumber||!1)("nzInputReadOnly",e.ui.inputReadOnly)("nzInline",e.ui.inline)}}var W_=()=>[],L_=()=>({$implicit:!0});function H_(t,n){if(t&1&&(w(0,"div",4),q(1),b()),t&2){let e=p(2);m(),pe(e.title)}}function B_(t,n){if(t&1&&(w(0,"div",6),B(1,"sf-item",7),b()),t&2){let e=p().$implicit;_("nzSpan",e.grid.span)("nzOffset",e.grid.offset)("nzXs",e.grid.xs)("nzSm",e.grid.sm)("nzMd",e.grid.md)("nzLg",e.grid.lg)("nzXl",e.grid.xl)("nzXXl",e.grid.xxl),m(),_("formProperty",e.property)("fixed-label",e.spanLabelFixed)}}function U_(t,n){if(t&1&&x(0,B_,2,10,"div",6),t&2){let e=n.$implicit;T(e.property.visible&&e.show?0:-1)}}function K_(t,n){if(t&1&&(w(0,"div",5),We(1,U_,1,1,null,null,rt),b()),t&2){let e=p(2);_("nzGutter",e.grid.gutter),m(),Le(e.list)}}function G_(t,n){if(t&1&&B(0,"sf-item",7),t&2){let e=p().$implicit;_("formProperty",e.property)("fixed-label",e.spanLabelFixed)}}function J_(t,n){if(t&1&&x(0,G_,1,2,"sf-item",7),t&2){let e=n.$implicit;T(e.property.visible&&e.show?0:-1)}}function Q_(t,n){if(t&1&&We(0,J_,1,1,null,null,rt),t&2){let e=p(2);Le(e.list)}}function X_(t,n){if(t&1&&(x(0,H_,2,1,"div",4),x(1,K_,3,1,"div",5)(2,Q_,2,0)),t&2){let e=n.$implicit,i=p();T(!e&&i.title?0:-1),m(),T(i.grid?1:2)}}function Z_(t,n){if(t&1&&B(0,"nz-icon",11),t&2){let e=p(3);_("nzType",e.expand?"down":"up")}}function Y_(t,n){if(t&1&&B(0,"nz-icon",13),t&2){let e=p(4);_("nzTooltipTitle",e.oh.text)("nzTooltipPlacement",e.oh.placement)("nzTooltipTrigger",e.oh.trigger)("nzTooltipColor",e.oh.bgColor)("nzTooltipOverlayClassName",e.oh.overlayClassName)("nzTooltipOverlayStyle",e.oh.overlayStyle)("nzTooltipMouseEnterDelay",e.oh.mouseEnterDelay)("nzTooltipMouseLeaveDelay",e.oh.mouseLeaveDelay)("nzType",e.oh.icon)}}function eg(t,n){if(t&1&&(w(0,"span",12),q(1),x(2,Y_,1,9,"nz-icon",13),b()),t&2){let e=p(3);m(),ae(" ",e.ui.optional," "),m(),T(e.oh?2:-1)}}function tg(t,n){if(t&1){let e=ne();w(0,"div",10),U("click",function(){P(e);let r=p(2);return O(r.changeExpand())}),x(1,Z_,1,1,"nz-icon",11),q(2),x(3,eg,3,2,"span",12),b()}if(t&2){let e=p(2);K("point",e.showExpand),m(),T(e.showExpand?1:-1),m(),ae(" ",e.title," "),m(),T(e.ui.optional||e.oh?3:-1)}}function ng(t,n){}function ig(t,n){if(t&1&&(w(0,"nz-card",8),H(1,tg,4,5,"ng-template",null,1,Ne)(3,ng,0,0,"ng-template",9),b()),t&2){let e=we(2),i=p(),r=we(1);K("sf__object-card-fold",!i.expand),_("nzTitle",e)("nzExtra",i.ui.cardExtra)("nzSize",i.ui.cardSize||"small")("nzActions",i.ui.cardActions||_r(10,W_))("nzBodyStyle",i.ui.cardBodyStyle)("nzBordered",i.ui.cardBordered||!0),m(3),_("ngTemplateOutlet",r)("ngTemplateOutletContext",_r(11,L_))}}function rg(t,n){}function og(t,n){if(t&1&&H(0,rg,0,0,"ng-template",3),t&2){p();let e=we(1);_("ngTemplateOutlet",e)}}function ag(t,n){if(t&1&&(w(0,"label",2),B(1,"span",3),b()),t&2){let e=n.$implicit,i=p(2);_("nzValue",e.value)("nzDisabled",i.disabled||e.disabled),m(),_("innerHTML",e.label,ft)}}function sg(t,n){if(t&1&&We(0,ag,2,3,"label",2,rt),t&2){let e=p();Le(e.data)}}function lg(t,n){if(t&1&&(w(0,"label",4),B(1,"span",3),b()),t&2){let e=n.$implicit,i=p(2);_("nzValue",e.value)("nzDisabled",i.disabled||e.disabled),m(),_("innerHTML",e.label,ft)}}function cg(t,n){if(t&1&&We(0,lg,2,3,"label",4,rt),t&2){let e=p();Le(e.data)}}function dg(t,n){if(t&1&&B(0,"nz-option",3),t&2){let e=n.$implicit;_("nzLabel",e.label)("nzValue",e.value)("nzHide",e.hide)("nzDisabled",e.disabled)}}function ug(t,n){if(t&1&&We(0,dg,1,4,"nz-option",3,rt),t&2){let e=p();Le(e.data)}}function pg(t,n){if(t&1&&B(0,"nz-option",5),t&2){let e=n.$implicit;_("nzLabel",e.label)("nzValue",e.value)("nzDisabled",e.disabled)("nzHide",e.hide)}}function fg(t,n){if(t&1&&(w(0,"nz-option-group",4),We(1,pg,1,4,"nz-option",5,rt),b()),t&2){let e=n.$implicit;_("nzLabel",e.label),m(),Le(e.children)}}function hg(t,n){if(t&1&&We(0,fg,3,1,"nz-option-group",4,rt),t&2){let e=p();Le(e.data)}}function mg(t,n){if(t&1&&(w(0,"nz-option",2),B(1,"nz-icon",6),q(2),b()),t&2){let e=p();m(2),ae(" ",e.ui.searchLoadingText," ")}}function _g(t,n){if(t&1){let e=ne();w(0,"input",4),U("ngModelChange",function(r){P(e);let o=p();return O(o.change(r))})("keyup.enter",function(r){P(e);let o=p();return O(o.enter(r))})("focus",function(r){P(e);let o=p();return O(o.focus(r))})("blur",function(r){P(e);let o=p();return O(o.blur(r))}),b()}if(t&2){let e=p();_("disabled",e.disabled)("nzSize",e.ui.size)("nzBorderless",e.ui.borderless)("ngModel",e.value),qe("id",e.id)("disabled",e.disabled)("maxLength",e.schema.maxLength||null)("type",e.ui.type||"text")("placeholder",e.ui.placeholder)("autocomplete",e.ui.autocomplete)("autoFocus",e.ui.autofocus)}}function gg(t,n){}function yg(t,n){if(t&1&&(w(0,"nz-input-group",2),H(1,gg,0,0,"ng-template",3),b()),t&2){let e=p(),i=we(2);_("nzAddOnBefore",e.ui.addOnBefore)("nzAddOnAfter",e.ui.addOnAfter)("nzAddOnBeforeIcon",e.ui.addOnBeforeIcon)("nzAddOnAfterIcon",e.ui.addOnAfterIcon)("nzPrefix",e.ui.prefix)("nzPrefixIcon",e.ui.prefixIcon)("nzSuffix",e.ui.suffix)("nzSuffixIcon",e.ui.suffixIcon),m(),_("ngTemplateOutlet",i)}}function vg(t,n){}function Cg(t,n){if(t&1&&H(0,vg,0,0,"ng-template",3),t&2){p();let e=we(2);_("ngTemplateOutlet",e)}}function bg(t,n){if(t&1&&B(0,"span",1),t&2){let e=p();_("innerHTML",e.text,ft)}}function wg(t,n){if(t&1&&B(0,"span",2),t&2){let e=p();_("innerText",e.text)}}function zg(t,n){if(t&1){let e=ne();w(0,"textarea",4),U("ngModelChange",function(r){P(e);let o=p();return O(o.change(r))})("focus",function(r){P(e);let o=p();return O(o.focus(r))})("blur",function(r){P(e);let o=p();return O(o.blur(r))}),q(1,"      "),b()}if(t&2){let e=p();_("disabled",e.disabled)("nzSize",e.ui.size)("ngModel",e.value)("nzAutosize",e.autosize)("nzBorderless",e.ui.borderless),qe("id",e.id)("disabled",e.disabled)("maxLength",e.schema.maxLength||null)("placeholder",e.ui.placeholder)}}function $g(t,n){if(t&1){let e=ne();w(0,"nz-textarea-count",2)(1,"textarea",4),U("ngModelChange",function(r){P(e);let o=p();return O(o.change(r))})("focus",function(r){P(e);let o=p();return O(o.focus(r))})("blur",function(r){P(e);let o=p();return O(o.blur(r))}),q(2,"        "),b()()}if(t&2){let e=p();_("nzMaxCharacterCount",e.ui.maxCharacterCount)("nzComputeCharacterCount",e.ui.computeCharacterCount),m(),_("disabled",e.disabled)("nzSize",e.ui.size)("ngModel",e.value)("nzAutosize",e.autosize)("nzBorderless",e.ui.borderless),qe("id",e.id)("disabled",e.disabled)("maxLength",e.schema.maxLength||null)("placeholder",e.ui.placeholder)}}function Sg(t,n){}function xg(t,n){if(t&1&&H(0,Sg,0,0,"ng-template",3),t&2){p();let e=we(2);_("ngTemplateOutlet",e)}}var Tg={formatMap:{"date-time":{widget:"date",showTime:!0,format:"yyyy-MM-dd'T'HH:mm:ss.SSSxxx"},date:{widget:"date",format:"yyyy-MM-dd"},"full-date":{widget:"date",format:"yyyy-MM-dd"},time:{widget:"time",format:"HH:mm:ss.SSSxxx"},"full-time":{widget:"time"},week:{widget:"date",mode:"week",format:"yyyy-ww"},month:{widget:"date",mode:"month",format:"yyyy-MM"},uri:{widget:"upload"},email:{widget:"autocomplete",type:"email"},color:{widget:"string",type:"color"},"":{widget:"string"}},ingoreKeywords:["type","enum"],liveValidate:!0,autocomplete:null,firstVisual:!1,onlyVisual:!1,errors:{},ui:{},button:{submit_type:"primary",reset_type:"default"},uiDateStringFormat:"yyyy-MM-dd HH:mm:ss",uiDateNumberFormat:"T",uiTimeStringFormat:"HH:mm:ss",uiTimeNumberFormat:"T",uiEmailSuffixes:["qq.com","163.com","gmail.com","126.com","aliyun.com"],delay:!1};function wa(t){return t.merge("sf",Tg)}var Xe="/";function Qd(t){return t==null}function Pe(t,n){return t==null?n:`${t}`!="false"}function Gi(t,...n){}function Eg(t,n){let e=/^#\/definitions\/(.*)$/.exec(t);if(e&&e[1]){let i=e[1].split(Xe),r=n;for(let o of i)if(o=o.replace(/~1/g,Xe).replace(/~0/g,"~"),Object.prototype.hasOwnProperty.call(r,o))r=r[o];else throw new Error(`Could not find a definition for ${t}.`);return r}throw new Error(`Could not find a definition for ${t}.`)}function za(t,n={}){if(Object.prototype.hasOwnProperty.call(t,"$ref")){let i=Eg(t.$ref,n),e=t,{$ref:r}=e,o=Ma(e,["$ref"]);return za(z(z({},i),o),n)}return t}function Pg(t,n){let e=(i,r)=>{Og(i,r),Object.keys(i.properties).forEach(o=>{let a=i.properties[o],s=`$${o}`;a.items&&e(a.items,r[s].$items),a.properties&&e(a,r[s])})};e(t,n)}function Og(t,n){if(!(Object.prototype.hasOwnProperty.call(t,"if")&&Object.prototype.hasOwnProperty.call(t,"then")))return null;if(!t.if.properties)throw new Error("if: does not contain 'properties'");let e=Object.keys(t.properties),i=Object.keys(t.if.properties);ya(e,i),ya(e,t.then.required),t.required=t.required.concat(t.then.required);let r=Object.prototype.hasOwnProperty.call(t,"else");r&&(ya(e,t.else.required),t.required=t.required.concat(t.else.required));let o={},a={};return i.forEach(s=>{let l=t.if.properties[s].enum;o[s]=l,r&&(a[s]=c=>!l.includes(c))}),t.then.required.forEach(s=>n[`$${s}`].visibleIf=o),r&&t.else.required.forEach(s=>n[`$${s}`].visibleIf=a),t}function ya(t,n){n.forEach(e=>{if(!t.includes(e))throw new Error(`if: properties does not contain '${e}'`)})}function Mg(t,n){if(!Array.isArray(n))return t;let e=d=>d.reduce((u,v)=>(u[v]=!0,u),{}),i=d=>`property [${d.join("', '")}]`,r=e(t),o=e(n),a=n.filter(d=>d!=="*"&&!r[d]);if(a.length)throw new Error(`ui schema order list contains extraneous ${i(a)}`);let s=t.filter(d=>!o[d]),l=n.indexOf("*");if(l===-1){if(s.length)throw new Error(`ui schema order list does not contain ${i(s)}`);return n}if(l!==n.lastIndexOf("*"))throw new Error("ui schema order list contains more than one wildcard item");let c=[...n];return c.splice(l,1,...s),c}function Ng(t,n,e){return Qd(t)||!Array.isArray(t)||t.length===0?[]:(typeof t[0]!="object"&&(t=t.map(i=>({label:i,value:i}))),n&&(Array.isArray(n)||(n=[n]),t.forEach(i=>{~n.indexOf(i.value)&&(i.checked=!0)})),e&&t.forEach(i=>i.disabled=!0),t)}function Hd(t,n,e){return Ng(Sn(t||[]),n,e)}function $a(t,n,e,i){return typeof n.asyncData=="function"?n.asyncData(i).pipe(vn(r=>Hd(r,e,t.readOnly))):Ia(Hd(t.enum,e,t.readOnly))}var Ji=class{injector;_options;_errors=null;_valueChanges=new kt({path:null,pathValue:null,value:null});_errorsChanges=new kt(null);_visible=!0;_visibilityChanges=new kt(!0);_root;_parent;_objErrors={};schemaValidator;schema;ui;formData;_value=null;widget;path;propertyId;constructor(n,e,i,r,o,a,s,l){this.injector=n,this._options=l,this.schema=i,this.ui=r,this.schemaValidator=e.createValidatorFn(i,{ingoreKeywords:this.ui.ingoreKeywords,debug:r.debug}),this.formData=o||i.default,this._parent=a,a?this._root=a.root:this._root=this,this.path=s}get valueChanges(){return this._valueChanges}get errorsChanges(){return this._errorsChanges}get type(){return this.schema.type}get parent(){return this._parent}get root(){return this._root}get value(){return this._value}get errors(){return this._errors}get visible(){return this._visible}get valid(){return this._errors===null||this._errors.length===0}get options(){return this._options}cd(n=!1){this.widget?.detectChanges(n)}updateValueAndValidity(n){n=z({onlySelf:!1,emitValidator:!0,emitValueEvent:!0,updatePath:"",updateValue:null},n),this._updateValue(),n.emitValueEvent&&(n.updatePath=n.updatePath||this.path,n.updateValue=n.updateValue==null?this.value:n.updateValue,this.valueChanges.next({value:this.value,path:n.updatePath,pathValue:n.updateValue})),n.emitValidator&&this.ui.liveValidate===!0&&this._runValidation(),this.parent&&!n.onlySelf&&this.parent.updateValueAndValidity(Y(z({},n),{emitValidator:!1}))}searchProperty(n){let e=this,i=null,r=null;if(n[0]===Xe)i=this.findRoot(),r=i.getProperty(n.substring(1));else for(;r===null&&e.parent!==null;)e=i=e.parent,r=i.getProperty(n);return r}findRoot(){let n=this;for(;n.parent!==null;)n=n.parent;return n}isEmptyData(n){if(Qd(n))return!0;switch(this.type){case"string":return`${n}`.length===0}return!1}_runValidation(){let n,e=this.isEmptyData(this._value);e&&this.ui._required?n=[{keyword:"required"}]:e?n=[]:n=this.schemaValidator(this._value)||[];let i=this.ui.validator;if(typeof i=="function"){let r=i(this.value,this,this.findRoot());if(r instanceof ka){r.subscribe(o=>{this.setCustomErrors(n,o),this.cd(!1)});return}this.setCustomErrors(n,r);return}this._errors=n,this.setErrors(this._errors)}setCustomErrors(n,e){let i=Array.isArray(e)&&e.length>0;i&&e.forEach(r=>{if(!r.message)throw new Error("The custom validator must contain a 'message' attribute to viewed error text");r.keyword=null}),this._errors=i?n.concat(...e):n,this.setErrors(this._errors)}setErrors(n=[],e=!0){let i=Array.isArray(n)?n:[n];if(e&&i&&!this.ui.onlyVisual){let r=this.widget&&this.widget.l.error||{};i=i.map(o=>{let a=o.keyword==null&&o.message?o.message:(this.ui.errors||{})[o.keyword]||this._options.errors[o.keyword]||r[o.keyword]||"";return a&&typeof a=="function"&&(a=a(o)),a&&(~a.indexOf("{")&&o.params&&(a=a.replace(/{([.a-zA-Z0-9]+)}/g,(s,l)=>o.params[l]||"")),o.message=a),o})}this._errors=i,this._errorsChanges.next(i),this._parent&&this._parent.setParentAndPlatErrors(i,this.path)}setParentAndPlatErrors(n,e){this._objErrors[e]=n;let i=[];Object.keys(this._objErrors).forEach(r=>{let o=this.searchProperty(r);o&&!o.visible||i.push(...this._objErrors[r])}),this.setErrors(i,!1)}setVisible(n){return this._visible=n,this._visibilityChanges.next(n),n&&this.injector.get(bn).onStable.pipe(Fa(1)).subscribe(()=>{this.resetValue(this.value,!0)}),this}_bindVisibility(){let n=this.ui.visibleIf;if(typeof n=="object"&&Object.keys(n).length===0)this.setVisible(!1);else if(n!=null){let e=[];for(let i in n)if(Object.prototype.hasOwnProperty.call(n,i)){let r=this.searchProperty(i);if(r){let o=r.valueChanges.pipe(vn(l=>{let c=n[i];if(typeof c=="function"){let d=c(l.value,r);if(typeof d=="object"){let u=z({show:!1,required:!1},d),v=this.parent?.schema.required;if(v&&this.propertyId){let g=v.findIndex(h=>h===this.propertyId);u.required?g===-1&&v.push(this.propertyId):g!==-1&&v.splice(g,1),this.ui._required=u.required}return u.show}return d}return c.indexOf("$ANY$")!==-1?l.value&&l.value.length>0:c.indexOf(l.value)!==-1})),a=r._visibilityChanges,s=sr([o,a]).pipe(vn(l=>l[0]&&l[1]));e.push(s)}}sr(e).pipe(vn(i=>this.ui.visibleIfLogical==="and"?i.every(r=>r):i.some(r=>r)),cr()).subscribe(i=>this.setVisible(i))}}updateFeedback(n=""){this.ui.feedback=n,this.widget?.injector.get(Dt).formStatusChanges.next({status:n,hasFeedback:!!n}),this.cd(!0)}},gn=class t extends Ji{properties=null;getProperty(n){let e=n.indexOf(Xe),i=e!==-1?n.substring(0,e):n,r=this.properties[i];if(r!==null&&e!==-1&&r instanceof t){let o=n.substring(e+1);r=r.getProperty(o)}return r}forEachChild(n){for(let e in this.properties)if(Object.prototype.hasOwnProperty.call(this.properties,e)){let i=this.properties[e];n(i,e)}}forEachChildRecursive(n){this.forEachChild(e=>{n(e),e instanceof t&&e.forEachChildRecursive(n)})}_bindVisibility(){super._bindVisibility(),this._bindVisibilityRecursive()}_bindVisibilityRecursive(){this.forEachChildRecursive(n=>{n._bindVisibility()})}isRoot(){return this===this.root}},Qi=class extends gn{formPropertyFactory;_propertiesId=[];get propertiesId(){return this._propertiesId}constructor(n,e,i,r,o,a,s,l,c){super(n,i,r,o,a,s,l,c),this.formPropertyFactory=e,this.createProperties()}createProperties(){this.properties={},this._propertiesId=[];let n;try{n=Mg(Object.keys(this.schema.properties),this.ui.order)}catch(e){console.error(`Invalid ${this.schema.title||"root"} object field configuration:`,e)}n.forEach(e=>{this.properties[e]=this.formPropertyFactory.createProperty(this.schema.properties[e],this.ui[`$${e}`],(this.formData||{})[e],this,e),this._propertiesId.push(e)})}setValue(n,e){let i=this.properties;for(let r in n)Object.prototype.hasOwnProperty.call(n,r)&&i[r]&&i[r].setValue(n[r],!0);this.cd(e),this.updateValueAndValidity({onlySelf:e,emitValueEvent:!0})}resetValue(n,e){n=n||this.schema.default||{};let i=this.properties;for(let r in this.schema.properties)Object.prototype.hasOwnProperty.call(this.schema.properties,r)&&i[r].resetValue(n[r],!0);this.cd(e),this.updateValueAndValidity({onlySelf:e,emitValueEvent:!0})}_hasValue(){return this.value!=null&&!!Object.keys(this.value).length}_updateValue(){let n={};this.forEachChild((e,i)=>{e.visible&&e._hasValue()&&(n[i]=e.value)}),this._value=n}},Xi=class extends gn{formPropertyFactory;constructor(n,e,i,r,o,a,s,l,c){super(n,i,r,o,a,s,l,c),this.formPropertyFactory=e,this.properties=[]}getProperty(n){let e=n.indexOf(Xe),i=+(e!==-1?n.substring(0,e):n),r=this.properties;if(isNaN(i)||i>=r.length)return;let o=n.substring(e+1);return r[i].getProperty(o)}setValue(n,e){this.properties=[],this.clearErrors(),this.resetProperties(n),this.cd(e),this.updateValueAndValidity({onlySelf:e,emitValueEvent:!0})}resetValue(n,e){this._value=n||this.schema.default||[],this.setValue(this._value,e)}_hasValue(){return!0}_updateValue(){let n=[];this.forEachChild(e=>{e.visible&&n.push(z(z({},this.widget?.cleanValue?null:e.formData),e.value))}),this._value=n}addProperty(n){let e=this.formPropertyFactory.createProperty(Sn(this.schema.items),Sn(this.ui.$items),n,this);return this.properties.push(e),e}resetProperties(n){for(let e of n)this.addProperty(e).resetValue(e,!0)}clearErrors(n){(n||this)._objErrors={}}add(n){let e=this.addProperty(n);return e.resetValue(n,!1),e}remove(n){let e=this.properties;this.clearErrors(),e.splice(n,1),e.forEach((i,r)=>{i.path=[i.parent.path,r].join(Xe),this.clearErrors(i),i instanceof Qi&&i.forEachChild(o=>{o.updateValueAndValidity({emitValueEvent:!1})})}),e.length===0&&this.updateValueAndValidity()}},Xn=class extends Ji{setValue(n,e){this._value=n,this.cd(e),this.updateValueAndValidity({onlySelf:e,emitValueEvent:!0})}resetValue(n,e){n==null&&(n=this.schema.default!==void 0?this.schema.default:this.fallbackValue()),this._value=n,this.updateValueAndValidity({onlySelf:e,emitValueEvent:!0}),this.widget&&(this.widget.reset(n),this.cd(e))}_hasValue(){return this.fallbackValue()!==this.value}_updateValue(){}},va=class extends Xn{fallbackValue(){return null}},Ca=class extends Xn{fallbackValue(){return null}setValue(n,e){typeof n=="string"&&(n.length?n=n.indexOf(".")>-1?parseFloat(n):parseInt(n,10):n=void 0),this._value=n,this.cd(e),this.updateValueAndValidity({onlySelf:e,emitValueEvent:!0})}},ba=class extends Xn{fallbackValue(){return null}setValue(n,e){this._value=n??"",this.cd(e),this.updateValueAndValidity({onlySelf:e,emitValueEvent:!0})}},Zn=class{injector;schemaValidatorFactory;options;constructor(n,e,i){this.injector=n,this.schemaValidatorFactory=e,this.options=wa(i)}createProperty(n,e,i,r=null,o){let a=null,s="";if(r)switch(s+=r.path,r.parent!==null&&(s+=Xe),r.type){case"object":s+=o;break;case"array":s+=r.properties.length;break;default:throw new Error(`Instanciation of a FormProperty with an unknown parent type: ${r.type}`)}else s=Xe;if(n.$ref){let l=za(n,r.root.schema.definitions);a=this.createProperty(l,e,i,r,s)}else switch((o&&r.schema.required.indexOf(o.split(Xe).pop())!==-1||e.showRequired===!0)&&(e._required=!0),n.title==null&&(n.title=o),(n.type==="string"||n.type==="number")&&!n.format&&!e.format?e.widget==="date"?e._format=n.type==="string"?this.options.uiDateStringFormat:this.options.uiDateNumberFormat:e.widget==="time"&&(e._format=n.type==="string"?this.options.uiTimeStringFormat:this.options.uiTimeNumberFormat):e._format=e.format,n.type){case"integer":case"number":a=new Ca(this.injector,this.schemaValidatorFactory,n,e,i,r,s,this.options);break;case"string":a=new ba(this.injector,this.schemaValidatorFactory,n,e,i,r,s,this.options);break;case"boolean":a=new va(this.injector,this.schemaValidatorFactory,n,e,i,r,s,this.options);break;case"object":a=new Qi(this.injector,this,this.schemaValidatorFactory,n,e,i,r,s,this.options);break;case"array":a=new Xi(this.injector,this,this.schemaValidatorFactory,n,e,i,r,s,this.options);break;default:throw new TypeError(`Undefined type ${n.type}`)}return a.propertyId=o,a instanceof gn&&this.initializeRoot(a),a}initializeRoot(n){n._bindVisibility()}},Yn=class{onDestroy;constructor(){this.onDestroy=new ei}destroy(){this.onDestroy.next(!0)}},Yi=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275prov=Ut({token:t,factory:t.\u0275fac})}return t})(),Xd=(()=>{class t extends Yi{ngZone=E(bn);cogSrv=E($e);ajv;options;constructor(){if(super(),!(typeof document=="object"&&document))return;this.options=wa(this.cogSrv);let e=this.options.ajv||{};this.ngZone.runOutsideAngular(()=>{this.ajv=new Kd.default(Y(z({allErrors:!0,loopEnum:50},e),{formats:z({"data-url":/^data:([a-z]+\/[a-z0-9-+.]+)?;name=(.*);base64,(.*)$/,color:li.color,mobile:li.mobile,"id-card":li.idCard},e.formats)})),(0,Gd.default)(this.ajv)})}createValidatorFn(e,i){let r=[...this.options.ingoreKeywords,...i.ingoreKeywords||[]];return o=>{try{this.ngZone.runOutsideAngular(()=>this.ajv.validate(e,o))}catch{}let a=this.ajv.errors;return this.options&&r&&a&&(a=a.filter(s=>r.indexOf(s.keyword)===-1)),a}}static \u0275fac=function(i){return new(i||t)};static \u0275prov=Ut({token:t,factory:t.\u0275fac})}return t})(),Lt=class{_widgets={};defaultWidget;get widgets(){return this._widgets}setDefault(n){this.defaultWidget=n}register(n,e){this._widgets[n]=e}has(n){return Object.prototype.hasOwnProperty.call(this._widgets,n)}getType(n){return this.has(n)?this._widgets[n]:this.defaultWidget}},Zd=(()=>{class t{registry=E(Lt);createWidget(e,i){this.registry.has(i);let r=this.registry.getType(i);return e.createComponent(r)}static \u0275fac=function(i){return new(i||t)};static \u0275prov=Ut({token:t,factory:t.\u0275fac})}return t})(),kg=0,er=(()=>{class t{widgetFactory=E(Zd);terminator=E(Yn);ref;destroy$=new ei;widget=null;formProperty;footer=null;container;onWidgetInstanciated(e){this.widget=e;let i=`_sf-${kg++}`,r=this.formProperty.ui;this.widget.formProperty=this.formProperty,this.widget.schema=this.formProperty.schema,this.widget.ui=r,this.widget.id=i,this.formProperty.widget=e}ngOnInit(){this.terminator.onDestroy.subscribe(()=>this.ngOnDestroy())}ngOnChanges(){let e=this.formProperty;this.ref=this.widgetFactory.createWidget(this.container,e.ui.widget||e.schema.type),this.onWidgetInstanciated(this.ref.instance)}ngOnDestroy(){let{destroy$:e}=this;e.next(),e.complete(),this.ref.destroy()}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=Z({type:t,selectors:[["sf-item"]],viewQuery:function(i,r){if(i&1&&Kt(G0,7,Wa),i&2){let o;gt(o=yt())&&(r.container=o.first)}},hostVars:2,hostBindings:function(i,r){i&2&&K("sf__item",!0)},inputs:{formProperty:"formProperty",footer:"footer"},exportAs:["sfItem"],standalone:!1,features:[zn([Dt]),tt],decls:3,vars:1,consts:[["target",""],[4,"ngTemplateOutlet"]],template:function(i,r){i&1&&H(0,J0,0,0,"ng-template",null,0,Ne)(2,Q0,1,0,"ng-container",1),i&2&&(m(2),_("ngTemplateOutlet",r.footer))},dependencies:[wt],encapsulation:2})}return t})(),Yd=(()=>{class t{el=E(nt).nativeElement;render=E(ht);_inited=!1;num;init(){if(!this._inited||this.num==null||this.num<=0)return;let e=this.el,i=e.querySelector(".ant-row")||e;this.render.addClass(i,"sf__fixed");let r=i.querySelector(".ant-form-item-label"),o=i.querySelector(".ant-form-item-control-wrapper,.ant-form-item-control"),a=`${this.num}px`;r?(this.render.setStyle(r,"flex",`0 0 ${a}`),this.render.setStyle(o,"max-width",`calc(100% - ${a})`)):this.render.setStyle(o,"margin-left",a)}ngAfterViewInit(){this._inited=!0,this.init()}ngOnChanges(){this._inited&&this.init()}static \u0275fac=function(i){return new(i||t)};static \u0275dir=it({type:t,selectors:[["","fixed-label",""]],inputs:{num:[2,"fixed-label","num",e=>fe(e,0)]},standalone:!1,features:[tt]})}return t})();function Dg(t,n,e){return new Zn(t,n,e)}var Ig=(()=>{class t{formPropertyFactory=E(Zn);terminator=E(Yn);dom=E(yr);cdr=E($n);localeSrv=E(as);aclSrv=E(Ka);i18nSrv=E(os);platform=E(Ga);cogSrv=E($e);_renders=new Map;_item;_valid=!0;_defUi;options;_inited=!1;locale={};rootProperty=null;_formData;_btn;_schema;_ui;get btnGrid(){return this._btn.render.grid}layout="horizontal";schema;ui;formData;button={};liveValidate=!0;autocomplete;firstVisual=!0;onlyVisual=!1;compact=!1;set mode(e){switch(e){case"search":this.layout="inline",this.firstVisual=!1,this.liveValidate=!1,this._btn&&(this._btn.submit=this._btn.search);break;case"edit":this.layout="horizontal",this.firstVisual=!1,this.liveValidate=!0,this._btn&&(this._btn.submit=this._btn.edit);break}this._mode=e}get mode(){return this._mode}_mode;loading=!1;disabled=!1;noColon=!1;cleanValue=!1;delay=!1;formValueChange=new _t;formChange=new _t;formSubmit=new _t;formReset=new _t;formError=new _t;get valid(){return this._valid}get value(){return this._item}getProperty(e){return this.rootProperty?.searchProperty(e)}getValue(e){return this.getProperty(e)?.value}setValue(e,i){let r=this.getProperty(e);if(!r)throw new Error(`Invalid path: ${e}`);return r.resetValue(i,!1),this}setDisabled(e,i){let r=this.getProperty(e);if(!r)throw new Error(`Invalid path: ${e}`);return r.schema.readOnly=i,r.widget.detectChanges(),this}setRequired(e,i){let r=this.getProperty(e);if(!r)throw new Error(`Invalid path: ${e}`);let o=e.split(Xe).pop(),a=r.parent?.schema.required||[],s=a.findIndex(l=>l===o);return i?s===-1&&a.push(o):s!==-1&&a.splice(s,1),r.parent.schema.required=a,r.ui._required=i,r.widget.detectChanges(),this.validator({onlyRoot:!1}),this}updateFeedback(e,i=""){return this.getProperty(e)?.updateFeedback(i),this}onSubmit(e){e.preventDefault(),e.stopPropagation(),this.liveValidate||this.validator(),this.valid&&this.formSubmit.emit(this.value)}constructor(){this.options=wa(this.cogSrv),this.liveValidate=this.options.liveValidate,this.firstVisual=this.options.firstVisual,this.autocomplete=this.options.autocomplete,this.delay=this.options.delay,this.localeSrv.change.pipe(Jt()).subscribe(()=>{this.locale=this.localeSrv.getData("sf"),this._inited&&(this.validator({emitError:!1,onlyRoot:!1}),this.coverButtonProperty(),this.cdr.markForCheck())}),Va(this.aclSrv.change,this.i18nSrv.change).pipe(Cn(()=>this._inited),Jt()).subscribe(()=>this.refreshSchema())}fanyi(e){return this.i18nSrv.fanyi(e)||e}inheritUI(e){["optionalHelp"].filter(i=>!!this._defUi[i]).forEach(i=>e[i]=z(z({},this._defUi[i]),e[i]))}coverProperty(){let e=this.layout==="horizontal",i=Sn(this.schema),{definitions:r}=i,o=(a,s,l,c,d)=>{Array.isArray(a.required)||(a.required=[]),Object.keys(a.properties).forEach(u=>{let v="$",g=v+u,h=za(a.properties[u],r),y=z(z({},h.ui),l[g]),f=z(z(z(z(Y(z(z({},this._defUi),c),{visibleIf:void 0,hidden:void 0,optional:void 0,optionalHelp:void 0,widget:h.type}),h.format&&this.options.formatMap[h.format]),typeof h.ui=="string"?{widget:h.ui}:null),!h.format&&!h.ui&&Array.isArray(h.enum)&&h.enum.length>0?{widget:"select"}:null),y);if(Object.keys(f).filter(C=>C.startsWith(v)).forEach(C=>delete f[C]),e?c.spanLabelFixed?y.spanLabelFixed||(f.spanLabelFixed=c.spanLabelFixed):(f.spanLabel||(f.spanLabel=typeof c.spanLabel>"u"?5:c.spanLabel),f.spanControl||(f.spanControl=typeof c.spanControl>"u"?19:c.spanControl),f.offsetControl||(f.offsetControl=typeof c.offsetControl>"u"?null:c.offsetControl)):(f.spanLabel=null,f.spanControl=null,f.offsetControl=null),this.layout==="inline"&&delete f.grid,this.layout!=="horizontal"&&(f.spanLabelFixed=null),f.spanLabelFixed!=null&&f.spanLabelFixed>0&&(f.spanLabel=null,f.spanControl=null),f.widget==="date"&&f.end!=null){let C=a.properties[f.end];C?C.ui=Y(z({},C.ui),{widget:f.widget,hidden:!0}):f.end=null}if(this.inheritUI(f),f.optionalHelp){typeof f.optionalHelp=="string"&&(f.optionalHelp={text:f.optionalHelp});let C=f.optionalHelp=z({text:"",icon:"question-circle",placement:"top",trigger:"hover",mouseEnterDelay:.15,mouseLeaveDelay:.1},f.optionalHelp);C.i18n&&(C.text=this.fanyi(C.i18n)),C.text||(f.optionalHelp=void 0)}if(f.i18n&&(h.title=this.fanyi(f.i18n)),f.descriptionI18n&&(h.description=this.fanyi(f.descriptionI18n)),h.description&&(f._description=this.dom.bypassSecurityTrustHtml(h.description)),f.hidden=typeof f.hidden=="boolean"?f.hidden:!1,f.hidden===!1&&f.acl&&this.aclSrv&&!this.aclSrv.can(f.acl)&&(f.hidden=!0),d[g]=f,delete h.ui,f.hidden===!0){let C=a.required.indexOf(u);C!==-1&&a.required.splice(C,1)}h.items&&(f.$items=z(z(z({},h.items.ui),l[g]),f.$items),o(h.items,h.items,l[g]?.$items??{},f.$items,f.$items),delete h.items.ui),h.properties&&Object.keys(h.properties).length&&o(h,a,l[g]||{},f,f)})};this.ui==null&&(this.ui={}),this._defUi=z(z(z({onlyVisual:this.options.onlyVisual,size:this.options.size,liveValidate:this.liveValidate},this.options.ui),i.ui),this.ui["*"]),this.onlyVisual===!0&&(this._defUi.onlyVisual=!0),this.layout==="inline"&&delete this._defUi.grid,this._ui=z({},this._defUi),o(i,i,this.ui,this.ui,this._ui),Pg(i,this._ui),this._schema=i,delete i.ui,Gi(this._ui,"cover schema & ui",this._ui,i)}coverButtonProperty(){this._btn=z(z(z({render:{size:"default"}},this.locale),this.options.button),this.button);let e=Object.keys(this._ui).find(r=>r.startsWith("$")),i=this._btn.render;if(this.layout==="horizontal"){let r=e?this._ui[e]:this._defUi;i.grid||(i.grid={offset:r.spanLabel,span:r.spanControl}),i.spanLabelFixed==null&&(i.spanLabelFixed=r.spanLabelFixed),!i.class&&typeof r.spanLabelFixed=="number"&&r.spanLabelFixed>0&&(i.class="text-center")}else i.grid={};this._mode&&(this.mode=this._mode),Gi(this._ui,"button property",this._btn)}ngOnInit(){this.platform.isBrowser&&(this.validator(),this._inited=!0)}ngOnChanges(e){if(!this.platform.isBrowser)return;let i=["disabled","loading"];if(Object.keys(e).every(r=>i.includes(r))){this.cdr.detectChanges();return}this.delay||this.refreshSchema()}_addTpl(e,i){this._inited&&(this._renders.has(e)||(this._renders.set(e,i),this.attachCustomRender()))}attachCustomRender(){this._renders.forEach((e,i)=>{let r=this.rootProperty?.searchProperty(i);r!=null&&(r.ui._render=e)})}validator(e={emitError:!0,onlyRoot:!0}){if(this.rootProperty==null||!this.platform.isBrowser)return!1;let i=o=>{o._runValidation(),!(!(o instanceof gn)||!o.properties)&&(Array.isArray(o.properties)?o.properties.forEach(a=>i(a)):Object.keys(o.properties).forEach(a=>i(o.properties[a])))};e.onlyRoot?this.rootProperty._runValidation():i(this.rootProperty);let r=this.rootProperty.errors;return this._valid=!(r&&r.length),e.emitError&&!this._valid&&this.formError.emit(r),this.cdr.detectChanges(),this._valid}refreshSchema(e,i){if(!this.platform.isBrowser)return this;if(e&&(this.schema=e),i&&(this.ui=i),!this.schema||typeof this.schema.properties>"u")throw new Error("Invalid Schema");if(this.schema.ui&&typeof this.schema.ui=="string")throw new Error("Don't support string with root ui property");this.schema.type="object",this._formData=z({},this.formData),this._inited&&this.terminator.destroy(),this.cleanRootSub(),this.coverProperty(),this.coverButtonProperty(),this.rootProperty=this.formPropertyFactory.createProperty(this._schema,this._ui,this.formData),this.attachCustomRender(),this.cdr.detectChanges(),this.reset();let r=!0;return this.rootProperty.valueChanges.subscribe(o=>{if(this._item=z(z({},this.cleanValue?null:this.formData),o.value),r){r=!1;return}this.formChange.emit(this._item),this.formValueChange.emit({value:this._item,path:o.path,pathValue:o.pathValue})}),this.rootProperty.errorsChanges.subscribe(o=>{this._valid=!(o&&o.length),this.formError.emit(o),this.cdr.detectChanges()}),this}reset(e=!1){return this.rootProperty==null||!this.platform.isBrowser?this:(this.rootProperty.resetValue(this.formData,!1),Promise.resolve().then(()=>this.cdr.detectChanges()),e&&this.formReset.emit(this.value),this)}cleanRootSub(){this.rootProperty&&(this.rootProperty.errorsChanges.unsubscribe(),this.rootProperty.valueChanges.unsubscribe())}ngOnDestroy(){this.cleanRootSub(),this.terminator.destroy()}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=Z({type:t,selectors:[["sf"],["","sf",""]],hostVars:16,hostBindings:function(i,r){i&2&&K("sf",!0)("sf__inline",r.layout==="inline")("sf__horizontal",r.layout==="horizontal")("sf__search",r.mode==="search")("sf__edit",r.mode==="edit")("sf__no-error",r.onlyVisual)("sf__no-colon",r.noColon)("sf__compact",r.compact)},inputs:{layout:"layout",schema:"schema",ui:"ui",formData:"formData",button:"button",liveValidate:[2,"liveValidate","liveValidate",G],autocomplete:"autocomplete",firstVisual:[2,"firstVisual","firstVisual",G],onlyVisual:[2,"onlyVisual","onlyVisual",G],compact:[2,"compact","compact",G],mode:"mode",loading:[2,"loading","loading",G],disabled:[2,"disabled","disabled",G],noColon:[2,"noColon","noColon",G],cleanValue:[2,"cleanValue","cleanValue",G],delay:[2,"delay","delay",G]},outputs:{formValueChange:"formValueChange",formChange:"formChange",formSubmit:"formSubmit",formReset:"formReset",formError:"formError"},exportAs:["sf"],standalone:!1,features:[zn([Zd,{provide:Zn,useFactory:Dg,deps:[ur,Yi,$e]},Yn]),tt],ngContentSelectors:Jd,decls:6,vars:3,consts:[["con",""],["btnTpl",""],["nz-form","",3,"submit","nzLayout"],[3,"formProperty","footer"],[3,"ngTemplateOutlet"],[1,"sf-btns",3,"class","fixed-label"],[1,"sf-btns",3,"fixed-label"],["nz-col","",1,"ant-form-item-control",3,"nzSpan","nzOffset","nzXs","nzSm","nzMd","nzLg","nzXl","nzXXl"],[1,"ant-form-item-control-input"],[1,"ant-form-item-control-input-content"],["type","submit","nz-button","","data-type","submit",3,"nzType","nzSize","nzLoading","disabled"],[3,"nzType","nzTheme","nzTwotoneColor","nzIconfont"],["type","button","nz-button","","data-type","reset",3,"nzType","nzSize","disabled"],["type","button","nz-button","","data-type","reset",3,"click","nzType","nzSize","disabled"]],template:function(i,r){if(i&1){let o=ne();Oe(),H(0,X0,1,0,"ng-template",null,0,Ne)(2,l_,2,1,"ng-template",null,1,Ne),w(4,"form",2),U("submit",function(s){return P(o),O(r.onSubmit(s))}),x(5,c_,1,2,"sf-item",3),b()}i&2&&(m(4),_("nzLayout",r.layout),qe("autocomplete",r.autocomplete),m(),T(r.rootProperty?5:-1))},dependencies:[wt,us,cs,ds,Cr,$t,vr,en,Yt,Ws,ci,ke,er,Yd],encapsulation:2,changeDetection:0})}return t})(),Ze=(()=>{class t{statusSrv=E(Dt);_showTitle=!1;id;schema;ui;showError;error;set showTitle(e){this._showTitle=!!e}title=null;get t(){return this.title===null?this.schema.title:this.title}get oh(){return this.ui.optionalHelp}ngOnChanges(){let e=!!this.error;this.statusSrv.formStatusChanges.next({status:e?"error":"",hasFeedback:!!this.ui.feedback})}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=Z({type:t,selectors:[["sf-item-wrap"]],inputs:{id:"id",schema:"schema",ui:"ui",showError:"showError",error:"error",showTitle:"showTitle",title:"title"},standalone:!1,features:[tt],ngContentSelectors:Jd,decls:8,vars:21,consts:[["nz-col","",1,"ant-form-item-label",3,"nzSpan"],["nz-col","",1,"ant-form-item-control",3,"nzSpan","nzOffset"],[1,"ant-form-item-control-input"],[1,"ant-form-item-control-input-content"],[1,"ant-form-item-explain","ant-form-item-explain-connected"],[1,"ant-form-item-extra",3,"innerHTML"],[3,"ant-form-item-required"],[1,"sf__label-text"],[1,"sf__optional"],["nz-tooltip","",3,"nzTooltipTitle","nzTooltipPlacement","nzTooltipTrigger","nzTooltipColor","nzTooltipOverlayClassName","nzTooltipOverlayStyle","nzTooltipMouseEnterDelay","nzTooltipMouseLeaveDelay","nzType"],["role","alert",1,"ant-form-item-explain-error"]],template:function(i,r){i&1&&(Oe(),w(0,"nz-form-item"),x(1,f_,2,2,"div",0),w(2,"div",1)(3,"div",2)(4,"div",3),Me(5),b()(),x(6,h_,3,2,"div",4),x(7,m_,1,1,"div",5),b()()),i&2&&(He("width",r.ui.width,"px"),K("ant-form-item-has-error",r.showError)("ant-form-item-with-help",r.showError)("ant-form-item-has-success",r.ui.feedback==="success")("ant-form-item-has-warning",r.ui.feedback==="warning")("ant-form-item-has-error",r.ui.feedback==="error")("ant-form-item-is-validating",r.ui.feedback==="validating")("ant-form-item-has-feedback",r.ui.feedback),m(),T(r._showTitle?1:-1),m(),_("nzSpan",r.ui.spanControl)("nzOffset",r.ui.offsetControl),m(4),T(!r.ui.onlyVisual&&r.showError?6:-1),m(),T(r.schema.description?7:-1))},dependencies:[$t,en,Yt,ci,ke,at],encapsulation:2,data:{animation:[ri]}})}return t})();var tr=(()=>{class t{cd=E($n);injector=E(ur);sfItemComp=E(er);sfComp=E(Ig);formProperty;error;showError=!1;id="";schema;ui;get cls(){return this.ui.class||""}get disabled(){return!!(this.schema.readOnly===!0||this.sfComp.disabled)}get l(){return this.formProperty.root.widget.sfComp.locale}get oh(){return this.ui.optionalHelp}get dom(){return this.injector.get(yr)}get cleanValue(){return this.sfComp.cleanValue}ngAfterViewInit(){this.formProperty.errorsChanges.pipe(Bt(this.sfItemComp.destroy$)).subscribe(e=>{if(e==null)return;Gi(this.ui,"errorsChanges",this.formProperty.path,e);let i=this.sfComp?.firstVisual;(i||!i&&this.sfComp?._inited)&&(this.showError=e.length>0,this.error=this.showError?e[0].message:"",this.cd.detectChanges())}),this.afterViewInit()}setValue(e){this.formProperty.setValue(e,!1),Gi(this.ui,"valueChanges",this.formProperty.path,this.formProperty)}get value(){return this.formProperty.value}detectChanges(e=!1){e?this.cd.markForCheck():this.formProperty.root.widget?.cd.markForCheck()}static \u0275fac=function(i){return new(i||t)};static \u0275dir=it({type:t,hostVars:2,hostBindings:function(i,r){i&2&&ze(r.cls)}})}return t})(),o1=(()=>{class t extends tr{reset(e){}afterViewInit(){}static \u0275fac=(()=>{let e;return function(r){return(e||(e=oe(t)))(r||t)}})();static \u0275dir=it({type:t,features:[re]})}return t})(),Ye=(()=>{class t extends tr{reset(e){}afterViewInit(){}static \u0275fac=(()=>{let e;return function(r){return(e||(e=oe(t)))(r||t)}})();static \u0275dir=it({type:t,features:[re]})}return t})(),Vg=(()=>{class t extends tr{reset(e){}afterViewInit(){}ngAfterViewInit(){this.formProperty.errorsChanges.pipe(Bt(this.sfItemComp.destroy$)).subscribe(()=>this.cd.detectChanges())}static \u0275fac=(()=>{let e;return function(r){return(e||(e=oe(t)))(r||t)}})();static \u0275dir=it({type:t,features:[re]})}return t})(),jg=(()=>{class t extends tr{reset(e){}afterViewInit(){}ngAfterViewInit(){this.formProperty.errorsChanges.pipe(Bt(this.sfItemComp.destroy$)).subscribe(()=>this.cd.detectChanges())}static \u0275fac=(()=>{let e;return function(r){return(e||(e=oe(t)))(r||t)}})();static \u0275dir=it({type:t,features:[re]})}return t})(),Fg=(()=>{class t extends Vg{addTitle;addType;removeTitle;arraySpan=8;get addDisabled(){return this.disabled||this.schema.maxItems!=null&&this.formProperty.properties.length>=this.schema.maxItems}get showRemove(){return!(this.disabled||!this.removeTitle||this.schema.minItems!=null&&this.formProperty.properties.length<=this.schema.minItems)}ngOnInit(){let{grid:e,addTitle:i,addType:r,removable:o,removeTitle:a}=this.ui;e&&e.arraySpan&&(this.arraySpan=e.arraySpan),this.addTitle=this.dom.bypassSecurityTrustHtml(i||this.l.addText),this.addType=r||"dashed",this.removeTitle=o===!1?null:a||this.l.removeText}reValid(e){this.formProperty.updateValueAndValidity(z({onlySelf:!1,emitValueEvent:!1,emitValidator:!0},e))}addItem(){let e=this.formProperty.add({});this.reValid(),this.ui.add?.(e)}removeItem(e){let i=this.formProperty.properties[e].path;this.formProperty.remove(e),this.reValid({updatePath:i,emitValueEvent:!0}),this.ui.remove?.(e)}static \u0275fac=(()=>{let e;return function(r){return(e||(e=oe(t)))(r||t)}})();static \u0275cmp=Z({type:t,selectors:[["sf-array"]],hostVars:2,hostBindings:function(i,r){i&2&&K("sf__array",!0)},standalone:!1,features:[re],decls:9,vars:9,consts:[["nz-col","",1,"ant-form-item-label",3,"nzSpan"],["nz-col","",1,"ant-form-item-control-wrapper",3,"nzSpan","nzOffset"],[1,"ant-form-item-control"],["nz-row","",1,"sf__array-container"],[1,"ant-form-explain"],[1,"ant-form-extra",3,"innerHTML"],[1,"sf__optional"],["nz-tooltip","",3,"nzTooltipTitle","nzTooltipPlacement","nzTooltipTrigger","nzTooltipOverlayClassName","nzTooltipOverlayStyle","nzTooltipMouseEnterDelay","nzTooltipMouseLeaveDelay","nzType"],[1,"sf__array-add"],["type","button","nz-button","",3,"click","nzType","disabled","innerHTML"],["nz-col","",1,"sf__array-item",3,"nzSpan"],[3,"formProperty"],[1,"sf__array-remove"],[1,"sf__array-remove",3,"click"],["nzType","delete"]],template:function(i,r){i&1&&(w(0,"nz-form-item"),x(1,g_,8,9,"div",0),w(2,"div",1)(3,"div",2)(4,"div",3),We(5,C_,1,1,null,null,La),b(),x(7,b_,2,1,"div",4),x(8,w_,1,1,"div",5),b()()()),i&2&&(K("ant-form-item-with-help",r.showError),m(),T(r.schema.title?1:-1),m(),_("nzSpan",r.ui.spanControl)("nzOffset",r.ui.offsetControl),m(),K("has-error",r.showError),m(2),Le(r.formProperty.properties),m(2),T(!r.ui.onlyVisual&&r.showError?7:-1),m(),T(r.schema.description?8:-1))},dependencies:[Cr,$t,vr,$r,en,Yt,ci,ke,at,er],encapsulation:2})}return t})(),Rg=(()=>{class t extends Ye{static \u0275fac=(()=>{let e;return function(r){return(e||(e=oe(t)))(r||t)}})();static \u0275cmp=Z({type:t,selectors:[["sf-boolean"]],standalone:!1,features:[re],decls:2,vars:12,consts:[[3,"id","schema","ui","showError","error","showTitle"],[3,"ngModelChange","ngModel","nzDisabled","nzSize","nzCheckedChildren","nzUnCheckedChildren","nzLoading"]],template:function(i,r){i&1&&(w(0,"sf-item-wrap",0)(1,"nz-switch",1),U("ngModelChange",function(a){return r.setValue(a)}),b()()),i&2&&(_("id",r.id)("schema",r.schema)("ui",r.ui)("showError",r.showError)("error",r.error)("showTitle",r.schema.title),m(),_("ngModel",r.value)("nzDisabled",r.disabled)("nzSize",r.ui.size)("nzCheckedChildren",r.ui.checkedChildren)("nzUnCheckedChildren",r.ui.unCheckedChildren)("nzLoading",r.ui.loading))},dependencies:[ot,De,Bs,Ze],encapsulation:2})}return t})(),Ag=(()=>{class t extends Ye{data=[];allChecked=!1;indeterminate=!1;grid_span;labelTitle="";inited=!1;reset(e){this.inited=!1,$a(this.schema,this.ui,e).subscribe(i=>{this.data=i,this.allChecked=!1,this.indeterminate=!1,this.labelTitle=i.length===0?"":this.schema.title;let{span:r}=this.ui;this.grid_span=r&&r>0?r:0,this.updateAllChecked(),this.inited=!0,this.detectChanges()})}_setValue(e){this.setValue(e),this.detectChanges(),this.notifyChange(e)}notifySet(){let e=this.data.filter(i=>i.checked);this.updateAllChecked().setValue(e.map(i=>i.value)),this.notifyChange(e)}groupInGridChange(e){this.data.forEach(i=>i.checked=e.indexOf(i.value)!==-1),this.notifySet()}onAllChecked(){this.data.forEach(e=>e.checked=this.allChecked),this.notifySet()}updateAllChecked(){return this.data.every(e=>e.checked!==!0)?(this.allChecked=!1,this.indeterminate=!1):this.data.every(e=>e.checked===!0)?(this.allChecked=!0,this.indeterminate=!1):this.indeterminate=!0,this.detectChanges(),this}notifyChange(e){this.ui.change&&this.ui.change(e)}static \u0275fac=(()=>{let e;return function(r){return(e||(e=oe(t)))(r||t)}})();static \u0275cmp=Z({type:t,selectors:[["sf-checkbox"]],standalone:!1,features:[re],decls:4,vars:8,consts:[["all",""],[3,"id","schema","ui","showError","error","showTitle","title"],["nz-checkbox","",1,"sf__checkbox-all","mr-sm",3,"ngModel","nzIndeterminate"],["nz-checkbox","",1,"sf__checkbox-all","mr-sm",3,"ngModelChange","ngModel","nzIndeterminate"],["nz-checkbox","",3,"nzDisabled","ngModel"],["nz-checkbox","",3,"ngModelChange","nzDisabled","ngModel"],[1,"sf__optional"],["nz-tooltip","",3,"nzTooltipTitle","nzTooltipPlacement","nzTooltipTrigger","nzTooltipOverlayClassName","nzTooltipOverlayStyle","nzTooltipMouseEnterDelay","nzTooltipMouseLeaveDelay","nzType"],[1,"sf__checkbox-list"],[3,"ngTemplateOutlet"],[3,"ngModelChange","ngModel","nzOptions"],[1,"sf__checkbox-list",3,"nzOnChange"],["nz-row",""],["nz-col","",3,"nzSpan"],["nz-checkbox","",3,"nzValue","ngModel","nzDisabled"]],template:function(i,r){i&1&&(H(0,$_,1,1,"ng-template",null,0,Ne),w(2,"sf-item-wrap",1),x(3,D_,2,1),b()),i&2&&(m(2),_("id",r.id)("schema",r.schema)("ui",r.ui)("showError",r.showError)("error",r.error)("showTitle",!0)("title",r.labelTitle),m(),T(r.inited?3:-1))},dependencies:[wt,ot,De,$t,_s,gs,ms,en,Yt,ke,at,Ze],encapsulation:2})}return t})(),qg=(()=>{class t extends Ye{static \u0275fac=(()=>{let e;return function(r){return(e||(e=oe(t)))(r||t)}})();static \u0275cmp=Z({type:t,selectors:[["sf-custom"]],standalone:!1,features:[re],decls:2,vars:12,consts:[[3,"id","schema","ui","showError","error","showTitle"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(i,r){i&1&&(w(0,"sf-item-wrap",0),H(1,V_,0,0,"ng-template",1),b()),i&2&&(_("id",r.id)("schema",r.schema)("ui",r.ui)("showError",r.showError)("error",r.error)("showTitle",r.schema.title),m(),_("ngTemplateOutlet",r.ui._render)("ngTemplateOutletContext",Ua(8,I_,r,r.schema,r.ui)))},dependencies:[wt,Ze],encapsulation:2})}return t})(),Wg=(()=>{class t extends Ye{startFormat;endFormat;flatRange=!1;mode;displayValue=null;displayFormat;i;ngOnInit(){let{mode:e,end:i,displayFormat:r,allowClear:o,showToday:a}=this.ui;if(this.mode=e||"date",this.flatRange=i!=null,this.startFormat=this.ui._format,this.flatRange){this.mode="range";let s=this.endProperty.ui;this.endFormat=s.format?s._format:this.startFormat}if(r)this.displayFormat=r;else switch(this.mode){case"year":this.displayFormat="yyyy";break;case"month":this.displayFormat="yyyy-MM";break;case"week":this.displayFormat="yyyy-ww";break}this.i={allowClear:Pe(o,!0),showToday:Pe(a,!0)}}reset(e){let i={formatString:this.startFormat,defaultValue:null};if(Array.isArray(e)?e=e.map(r=>oi(r,i)):e=oi(e,i),this.flatRange){let r=oi(this.endProperty.formData,{formatString:this.endFormat||this.startFormat,defaultValue:null});this.displayValue=e==null||r==null?[]:[e,r]}else this.displayValue=e;this.detectChanges(),this.displayValue&&setTimeout(()=>this._change(this.displayValue,!1))}_change(e,i=!0){if(i&&this.ui.change&&this.ui.change(e),e==null||Array.isArray(e)&&e.length<2){this.setValue(null),this.setEnd(null);return}let r=Array.isArray(e)?[ni(e[0],this.startFormat),ni(e[1],this.endFormat||this.startFormat)]:ni(e,this.startFormat);this.flatRange?(this.setValue(r[0]),this.setEnd(r[1])):this.setValue(r)}_openChange(e){this.ui.onOpenChange&&this.ui.onOpenChange(e)}_ok(e){this.ui.onOk&&this.ui.onOk(e)}get endProperty(){return this.formProperty.parent.properties[this.ui.end]}setEnd(e){this.flatRange&&(this.endProperty.setValue(e,!0),this.endProperty.updateValueAndValidity())}static \u0275fac=(()=>{let e;return function(r){return(e||(e=oe(t)))(r||t)}})();static \u0275cmp=Z({type:t,selectors:[["sf-date"]],standalone:!1,features:[re],decls:6,vars:7,consts:[[3,"id","schema","ui","showError","error","showTitle"],[3,"nzId","nzDisabled","nzSize","nzFormat","ngModel","nzAllowClear","class","nzDisabledDate","nzLocale","nzPlaceHolder","nzPopupStyle","nzDropdownClassName","nzRenderExtraFooter","nzInputReadOnly","nzInline"],[3,"nzId","nzDisabled","nzSize","nzFormat","ngModel","nzAllowClear","class","nzDisabledDate","nzLocale","nzPlaceHolder","nzPopupStyle","nzDropdownClassName","nzInputReadOnly","nzInline"],[3,"nzId","nzDisabled","nzSize","nzFormat","ngModel","nzAllowClear","class","nzDisabledDate","nzLocale","nzPlaceHolder","nzPopupStyle","nzDropdownClassName","nzDisabledTime","nzRenderExtraFooter","nzRanges","nzShowTime","nzSeparator","nzShowWeekNumber","nzMode","nzInputReadOnly","nzInline"],[3,"nzId","nzDisabled","nzSize","nzFormat","ngModel","nzAllowClear","class","nzDisabledDate","nzLocale","nzPlaceHolder","nzPopupStyle","nzDropdownClassName","nzDisabledTime","nzRenderExtraFooter","nzShowTime","nzShowToday","nzShowWeekNumber","nzInputReadOnly","nzInline"],[3,"ngModelChange","nzOnOpenChange","nzId","nzDisabled","nzSize","nzFormat","ngModel","nzAllowClear","nzDisabledDate","nzLocale","nzPlaceHolder","nzPopupStyle","nzDropdownClassName","nzRenderExtraFooter","nzInputReadOnly","nzInline"],[3,"ngModelChange","nzOnOpenChange","nzId","nzDisabled","nzSize","nzFormat","ngModel","nzAllowClear","nzDisabledDate","nzLocale","nzPlaceHolder","nzPopupStyle","nzDropdownClassName","nzInputReadOnly","nzInline"],[3,"ngModelChange","nzOnOpenChange","nzOnOk","nzId","nzDisabled","nzSize","nzFormat","ngModel","nzAllowClear","nzDisabledDate","nzLocale","nzPlaceHolder","nzPopupStyle","nzDropdownClassName","nzDisabledTime","nzRenderExtraFooter","nzRanges","nzShowTime","nzSeparator","nzShowWeekNumber","nzMode","nzInputReadOnly","nzInline"],[3,"ngModelChange","nzOnOpenChange","nzOnOk","nzId","nzDisabled","nzSize","nzFormat","ngModel","nzAllowClear","nzDisabledDate","nzLocale","nzPlaceHolder","nzPopupStyle","nzDropdownClassName","nzDisabledTime","nzRenderExtraFooter","nzShowTime","nzShowToday","nzShowWeekNumber","nzInputReadOnly","nzInline"]],template:function(i,r){if(i&1&&(w(0,"sf-item-wrap",0),x(1,j_,1,16,"nz-year-picker",1)(2,F_,1,16,"nz-month-picker",1)(3,R_,1,15,"nz-week-picker",2)(4,A_,1,22,"nz-range-picker",3)(5,q_,1,20,"nz-date-picker",4),b()),i&2){let o;_("id",r.id)("schema",r.schema)("ui",r.ui)("showError",r.showError)("error",r.error)("showTitle",r.schema.title),m(),T((o=r.mode)==="year"?1:o==="month"?2:o==="week"?3:o==="range"?4:5)}},dependencies:[ot,De,Es,Os,Ps,Ns,Ms,Ze],encapsulation:2})}return t})(),Bd=(()=>{class t extends Ye{min;max;step;formatter=e=>e.toString();parser=e=>+e;width="";ngOnInit(){let{minimum:e,exclusiveMinimum:i,maximum:r,exclusiveMaximum:o,multipleOf:a,type:s}=this.schema;this.step=a||1,typeof e<"u"&&(this.min=i?e+this.step:e),typeof r<"u"&&(this.max=o?r-this.step:r),s==="integer"&&(this.min=Math.trunc(this.min),this.max=Math.trunc(this.max),this.step=Math.trunc(this.step));let l=this.ui;l.prefix!=null&&(l.formatter=c=>c==null?"":`${l.prefix} ${c}`,l.parser=c=>+c.replace(`${l.prefix} `,"")),l.unit!=null&&(l.formatter=c=>c==null?"":`${c} ${l.unit}`,l.parser=c=>+c.replace(` ${l.unit}`,"")),l.formatter&&(this.formatter=l.formatter),l.parser&&(this.parser=l.parser),this.width=typeof l.widgetWidth=="number"?`${l.widgetWidth}px`:l.widgetWidth??"90px"}_setValue(e){this.setValue(this.schema.type==="integer"?Math.floor(e):e),this.ui.change?.(this.value)}static \u0275fac=(()=>{let e;return function(r){return(e||(e=oe(t)))(r||t)}})();static \u0275cmp=Z({type:t,selectors:[["sf-number"]],standalone:!1,features:[re],decls:2,vars:21,consts:[[3,"id","schema","ui","showError","error","showTitle"],[3,"ngModelChange","nzId","ngModel","nzDisabled","nzSize","nzMin","nzMax","nzStep","nzFormatter","nzParser","nzPrecision","nzPlaceHolder"]],template:function(i,r){i&1&&(w(0,"sf-item-wrap",0)(1,"nz-input-number",1),U("ngModelChange",function(a){return r._setValue(a)}),b()()),i&2&&(_("id",r.id)("schema",r.schema)("ui",r.ui)("showError",r.showError)("error",r.error)("showTitle",r.schema.title),m(),He("width",r.width),K("ant-input-number__hide-step",r.ui.hideStep),_("nzId",r.id)("ngModel",r.value)("nzDisabled",r.disabled)("nzSize",r.ui.size)("nzMin",r.min)("nzMax",r.max)("nzStep",r.step)("nzFormatter",r.formatter)("nzParser",r.parser)("nzPrecision",r.ui.precision||null)("nzPlaceHolder",r.ui.placeholder||""))},dependencies:[ot,De,Rs,Ze],encapsulation:2})}return t})(),Lg=(()=>{class t extends jg{grid;type="default";list=[];title;showExpand=!0;expand=!0;ngOnInit(){let{formProperty:e,ui:i}=this,{grid:r,showTitle:o,type:a}=i;this.showExpand=Pe(i.showExpand,!0),this.expand=Pe(i.expand,!0),this.type=a??"default",(this.type==="card"||!e.isRoot()&&!(e.parent instanceof Xi)&&o===!0)&&(this.title=this.schema.title),this.grid=r;let s=[];for(let l of e.propertiesId){let c=e.properties[l],d={property:c,grid:c.ui.grid||r||{},spanLabelFixed:c.ui.spanLabelFixed,show:c.ui.hidden===!1};s.push(d)}this.list=s}changeExpand(){this.showExpand&&(this.expand=!this.expand,this.detectChanges(!0))}static \u0275fac=(()=>{let e;return function(r){return(e||(e=oe(t)))(r||t)}})();static \u0275cmp=Z({type:t,selectors:[["sf-object"]],standalone:!1,features:[re],decls:4,vars:1,consts:[["default",""],["cardTitleTpl",""],[1,"sf__object-card",3,"nzTitle","nzExtra","nzSize","nzActions","nzBodyStyle","nzBordered","sf__object-card-fold"],[3,"ngTemplateOutlet"],[1,"sf__title"],["nz-row","",3,"nzGutter"],["nz-col","",3,"nzSpan","nzOffset","nzXs","nzSm","nzMd","nzLg","nzXl","nzXXl"],[3,"formProperty","fixed-label"],[1,"sf__object-card",3,"nzTitle","nzExtra","nzSize","nzActions","nzBodyStyle","nzBordered"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"click"],[1,"mr-xs","text-xs",3,"nzType"],[1,"sf__optional"],["nz-tooltip","",3,"nzTooltipTitle","nzTooltipPlacement","nzTooltipTrigger","nzTooltipColor","nzTooltipOverlayClassName","nzTooltipOverlayStyle","nzTooltipMouseEnterDelay","nzTooltipMouseLeaveDelay","nzType"]],template:function(i,r){i&1&&(H(0,X_,3,2,"ng-template",null,0,Ne),x(2,ig,4,12,"nz-card",2)(3,og,1,1,null,3)),i&2&&(m(2),T(r.type==="card"?2:3))},dependencies:[wt,$t,$r,en,Yt,ke,at,er,Yd],encapsulation:2})}return t})(),Hg=(()=>{class t extends Ye{data=[];styleType;reset(e){this.styleType=(this.ui.styleType||"default")==="default",$a(this.schema,this.ui,e).subscribe(i=>{this.data=i,this.detectChanges()})}_setValue(e){this.setValue(e),this.ui.change&&this.ui.change(e)}static \u0275fac=(()=>{let e;return function(r){return(e||(e=oe(t)))(r||t)}})();static \u0275cmp=Z({type:t,selectors:[["sf-radio"]],standalone:!1,features:[re],decls:4,vars:11,consts:[[3,"id","schema","ui","showError","error","showTitle"],[3,"ngModelChange","nzSize","nzName","ngModel","nzButtonStyle"],["nz-radio","",3,"nzValue","nzDisabled"],[3,"innerHTML"],["nz-radio-button","",3,"nzValue","nzDisabled"]],template:function(i,r){i&1&&(w(0,"sf-item-wrap",0)(1,"nz-radio-group",1),U("ngModelChange",function(a){return r._setValue(a)}),x(2,sg,2,0)(3,cg,2,0),b()()),i&2&&(_("id",r.id)("schema",r.schema)("ui",r.ui)("showError",r.showError)("error",r.error)("showTitle",r.schema.title),m(),_("nzSize",r.ui.size)("nzName",r.id)("ngModel",r.value)("nzButtonStyle",r.ui.buttonStyle||"outline"),m(),T(r.styleType?2:3))},dependencies:[ot,De,Cs,vs,Ze],encapsulation:2})}return t})(),Bg=(()=>{class t extends Ye{search$=new ei;i;data=[];_value;hasGroup=!1;loading=!1;checkGroup(e){this.hasGroup=(e||[]).filter(i=>i.group===!0).length>0}ngOnInit(){let{autoClearSearchValue:e,borderless:i,autoFocus:r,dropdownMatchSelectWidth:o,serverSearch:a,maxMultipleCount:s,mode:l,showSearch:c,tokenSeparators:d,maxTagCount:u,compareWith:v,optionHeightPx:g,optionOverflowSize:h,showArrow:y}=this.ui;this.i={autoClearSearchValue:Pe(e,!0),borderless:Pe(i,!1),autoFocus:Pe(r,!1),dropdownMatchSelectWidth:Pe(o,!0),serverSearch:Pe(a,!1),maxMultipleCount:s||1/0,mode:l||"default",showSearch:Pe(c,!0),tokenSeparators:d||[],maxTagCount:u||1/0,optionHeightPx:g||32,optionOverflowSize:h||8,showArrow:Pe(y,!0),compareWith:v||((C,j)=>C===j)};let f=this.ui.onSearch;f&&this.search$.pipe(Bt(this.sfItemComp.destroy$),cr(),lr(this.ui.searchDebounceTime||300),dr(C=>f(C)),ja(()=>[])).subscribe(C=>{this.data=C,this.checkGroup(C),this.loading=!1,this.detectChanges()})}reset(e){let i=this.ui.onSearch;$a(this.schema,this.ui,e).subscribe(r=>{this._value=e,i==null&&(this.data=r),this.checkGroup(r),this.detectChanges()}),e&&i!=null&&this.search$.next(e)}change(e){this.ui.change&&this.ui.change(e,this.getOrgData(e)),this.setValue(e??this.ui.clearValue)}getOrgData(e){let i=this.injector.get(Ld);return Array.isArray(e)?e.map(r=>i.findTree(this.data,o=>o.value===r)):i.findTree(this.data,r=>r.value===e)}openChange(e){this.ui.openChange&&this.ui.openChange(e)}scrollToBottom(){this.ui.scrollToBottom&&this.ui.scrollToBottom()}onSearch(e){this.ui.onSearch&&(this.loading=!0,this.search$.next(e))}static \u0275fac=(()=>{let e;return function(r){return(e||(e=oe(t)))(r||t)}})();static \u0275cmp=Z({type:t,selectors:[["sf-select"]],standalone:!1,features:[re],decls:5,vars:39,consts:[[3,"id","schema","ui","showError","error","showTitle"],[3,"ngModelChange","nzOpenChange","nzOnSearch","nzScrollToBottom","nzId","nzDisabled","ngModel","nzSize","nzPlaceHolder","nzNotFoundContent","nzDropdownClassName","nzAllowClear","nzDropdownStyle","nzCustomTemplate","nzSuffixIcon","nzRemoveIcon","nzClearIcon","nzMenuItemSelectedIcon","nzMaxTagPlaceholder","nzDropdownRender","nzAutoClearSearchValue","nzBorderless","nzAutoFocus","nzDropdownMatchSelectWidth","nzServerSearch","nzMaxMultipleCount","nzMode","nzShowSearch","nzShowArrow","nzTokenSeparators","nzMaxTagCount","compareWith","nzOptionHeightPx","nzOptionOverflowSize"],["nzDisabled","","nzCustomContent",""],[3,"nzLabel","nzValue","nzHide","nzDisabled"],[3,"nzLabel"],[3,"nzLabel","nzValue","nzDisabled","nzHide"],["nzType","loading"]],template:function(i,r){i&1&&(w(0,"sf-item-wrap",0)(1,"nz-select",1),bt("ngModelChange",function(a){return Ct(r._value,a)||(r._value=a),a}),U("ngModelChange",function(a){return r.change(a)})("nzOpenChange",function(a){return r.openChange(a)})("nzOnSearch",function(a){return r.onSearch(a)})("nzScrollToBottom",function(){return r.scrollToBottom()}),x(2,ug,2,0),x(3,hg,2,0),x(4,mg,3,1,"nz-option",2),b()()),i&2&&(_("id",r.id)("schema",r.schema)("ui",r.ui)("showError",r.showError)("error",r.error)("showTitle",r.schema.title),m(),_("nzId",r.id)("nzDisabled",r.disabled),vt("ngModel",r._value),_("nzSize",r.ui.size)("nzPlaceHolder",r.ui.placeholder)("nzNotFoundContent",r.ui.notFoundContent)("nzDropdownClassName",r.ui.dropdownClassName)("nzAllowClear",r.ui.allowClear)("nzDropdownStyle",r.ui.dropdownStyle)("nzCustomTemplate",r.ui.customTemplate)("nzSuffixIcon",r.ui.suffixIcon)("nzRemoveIcon",r.ui.removeIcon)("nzClearIcon",r.ui.clearIcon)("nzMenuItemSelectedIcon",r.ui.menuItemSelectedIcon)("nzMaxTagPlaceholder",r.ui.maxTagPlaceholder)("nzDropdownRender",r.ui.dropdownRender)("nzAutoClearSearchValue",r.i.autoClearSearchValue)("nzBorderless",r.i.borderless)("nzAutoFocus",r.i.autoFocus)("nzDropdownMatchSelectWidth",r.i.dropdownMatchSelectWidth)("nzServerSearch",r.i.serverSearch)("nzMaxMultipleCount",r.i.maxMultipleCount)("nzMode",r.i.mode)("nzShowSearch",r.i.showSearch)("nzShowArrow",r.i.showArrow)("nzTokenSeparators",r.i.tokenSeparators)("nzMaxTagCount",r.i.maxTagCount)("compareWith",r.i.compareWith)("nzOptionHeightPx",r.i.optionHeightPx)("nzOptionOverflowSize",r.i.optionOverflowSize),m(),T(!r.loading&&!r.hasGroup?2:-1),m(),T(!r.loading&&r.hasGroup?3:-1),m(),T(r.loading?4:-1))},dependencies:[ot,De,$t,ke,Ss,xs,$s,Ze],encapsulation:2})}return t})(),Ud=(()=>{class t extends Ye{type;change$=null;ngOnInit(){let{addOnAfter:e,addOnAfterIcon:i,addOnBefore:r,addOnBeforeIcon:o,prefix:a,prefixIcon:s,suffix:l,suffixIcon:c,autofocus:d}=this.ui;this.type=e||r||i||o||a||s||l||c?"addon":"",d===!0&&setTimeout(()=>{this.injector.get(nt).nativeElement.querySelector(`#${this.id}`).focus()},20),this.initChange()}reset(e){!e&&this.schema.format==="color"&&this.setValue("#000000")}initChange(){let e=this.ui.changeDebounceTime,i=this.ui.change;if(e==null||e<=0||i==null)return;this.change$=new kt(this.value);let r=this.change$.asObservable().pipe(lr(e),Bt(this.sfItemComp.destroy$));this.ui.changeMap!=null&&(r=r.pipe(dr(this.ui.changeMap))),r.subscribe(o=>i(o))}change(e){if(this.setValue(e),this.change$!=null){this.change$.next(e);return}this.ui.change&&this.ui.change(e)}focus(e){this.ui.focus&&this.ui.focus(e)}blur(e){this.ui.blur&&this.ui.blur(e)}enter(e){this.ui.enter&&this.ui.enter(e)}static \u0275fac=(()=>{let e;return function(r){return(e||(e=oe(t)))(r||t)}})();static \u0275cmp=Z({type:t,selectors:[["sf-string"]],standalone:!1,features:[re],decls:5,vars:7,consts:[["ipt",""],[3,"id","schema","ui","showError","error","showTitle"],[3,"nzAddOnBefore","nzAddOnAfter","nzAddOnBeforeIcon","nzAddOnAfterIcon","nzPrefix","nzPrefixIcon","nzSuffix","nzSuffixIcon"],[3,"ngTemplateOutlet"],["nz-input","",3,"ngModelChange","keyup.enter","focus","blur","disabled","nzSize","nzBorderless","ngModel"]],template:function(i,r){i&1&&(w(0,"sf-item-wrap",1),H(1,_g,1,11,"ng-template",null,0,Ne),x(3,yg,2,9,"nz-input-group",2)(4,Cg,1,1,null,3),b()),i&2&&(_("id",r.id)("schema",r.schema)("ui",r.ui)("showError",r.showError)("error",r.error)("showTitle",r.schema.title),m(3),T(r.type==="addon"?3:4))},dependencies:[wt,br,ot,De,$t,zr,Vs,Is,Ze],encapsulation:2})}return t})(),Ug=(()=>{class t extends Ye{text="";ngOnInit(){this.ui._required=!1,this.ui.html=Pe(this.ui.html,!0)}reset(e){this.text=e||this.ui.defaultText||"-"}static \u0275fac=(()=>{let e;return function(r){return(e||(e=oe(t)))(r||t)}})();static \u0275cmp=Z({type:t,selectors:[["sf-text"]],standalone:!1,features:[re],decls:3,vars:9,consts:[[3,"id","schema","ui","showError","error","showTitle"],[3,"innerHTML"],[3,"innerText"]],template:function(i,r){i&1&&(w(0,"sf-item-wrap",0),x(1,bg,1,1,"span",1)(2,wg,1,1,"span",2),b()),i&2&&(K("sf__text-html",r.ui.html),_("id",r.id)("schema",r.schema)("ui",r.ui)("showError",r.showError)("error",r.error)("showTitle",r.schema.title),m(),T(r.ui.html?1:2))},dependencies:[Ze],encapsulation:2})}return t})(),Kg=(()=>{class t extends Ye{autosize=!0;ngOnInit(){this.ui.autosize!=null&&(this.autosize=this.ui.autosize),this.ui.computeCharacterCount==null&&(this.ui.computeCharacterCount=e=>e.length)}change(e){this.setValue(e),this.ui.change&&this.ui.change(e)}focus(e){this.ui.focus&&this.ui.focus(e)}blur(e){this.ui.blur&&this.ui.blur(e)}static \u0275fac=(()=>{let e;return function(r){return(e||(e=oe(t)))(r||t)}})();static \u0275cmp=Z({type:t,selectors:[["sf-textarea"]],standalone:!1,features:[re],decls:5,vars:7,consts:[["ipt",""],[3,"id","schema","ui","showError","error","showTitle"],[3,"nzMaxCharacterCount","nzComputeCharacterCount"],[3,"ngTemplateOutlet"],["nz-input","",3,"ngModelChange","focus","blur","disabled","nzSize","ngModel","nzAutosize","nzBorderless"]],template:function(i,r){i&1&&(w(0,"sf-item-wrap",1),H(1,zg,2,9,"ng-template",null,0,Ne),x(3,$g,3,11,"nz-textarea-count",2)(4,xg,1,1,null,3),b()),i&2&&(_("id",r.id)("schema",r.schema)("ui",r.ui)("showError",r.showError)("error",r.error)("showTitle",r.schema.title),m(3),T(r.ui.maxCharacterCount?3:4))},dependencies:[wt,br,ot,De,js,zr,Ds,Ze],encapsulation:2})}return t})(),Zi=class extends Lt{constructor(){super(),this.register("object",Lg),this.register("array",Fg),this.register("text",Ug),this.register("string",Ud),this.register("number",Bd),this.register("integer",Bd),this.register("date",Wg),this.register("radio",Hg),this.register("checkbox",Ag),this.register("boolean",Rg),this.register("textarea",Kg),this.register("select",Bg),this.register("custom",qg),this.setDefault(Ud)}},Gg=[es,Hs,ys,ks,Ls,qs,Qt,Fs,As,ns,bs,Ts,Us,Zt];var a1=(()=>{class t{static forRoot(){return{ngModule:t,providers:[{provide:Yi,useClass:Xd,deps:[$e,bn]},{provide:Lt,useClass:Zi}]}}static \u0275fac=function(i){return new(i||t)};static \u0275mod=mt({type:t});static \u0275inj=pt({imports:[Gt,hs,ss,Gg]})}return t})();function s1(t){let n=[{provide:Yi,useClass:Xd,deps:[$e,bn]},{provide:Lt,useClass:Zi}];return t?.widgets&&n.push(Aa(()=>{let e=E(Lt);t?.widgets?.forEach(i=>e.register(i.KEY,i.type))})),Ra(n)}var xa=["*"];function Jg(t,n){if(t&1&&(Ce(0),q(1),be()),t&2){let e=p(2);m(),pe(e.title)}}function Qg(t,n){if(t&1&&(w(0,"div",0),H(1,Jg,2,1,"ng-container",1),b()),t&2){let e=p();m(),_("nzStringTemplateOutlet",e.title)}}var Xg=["contentElement"];function Zg(t,n){if(t&1&&(Ce(0),q(1),be()),t&2){let e=p(2);m(),pe(e.label)}}function Yg(t,n){if(t&1&&(Ce(0),q(1),be()),t&2){let e=p(3);m(),pe(e.optional)}}function ey(t,n){if(t&1&&B(0,"nz-icon",12),t&2){let e=p(3);_("nzTooltipTitle",e.optionalHelp)("nzTooltipColor",e.optionalHelpColor)}}function ty(t,n){if(t&1&&(w(0,"span",11),H(1,Yg,2,1,"ng-container",9),x(2,ey,1,2,"nz-icon",12),b()),t&2){let e=p(2);K("se__label-optional-no-text",!e.optional),m(),_("nzStringTemplateOutlet",e.optional),m(),T(e.optionalHelp?2:-1)}}function ny(t,n){if(t&1&&(w(0,"label",7)(1,"span",8),H(2,Zg,2,1,"ng-container",9),b(),x(3,ty,3,4,"span",10),b()),t&2){let e=p();K("ant-form-item-required",e.required)("se__no-colon",e._noColon),qe("for",e._id),m(2),_("nzStringTemplateOutlet",e.label),m(),T(e.optional||e.optionalHelp?3:-1)}}function iy(t,n){if(t&1&&(Ce(0),q(1),be()),t&2){let e=p(2);m(),pe(e._error)}}function ry(t,n){if(t&1&&(w(0,"div",5)(1,"div",13),H(2,iy,2,1,"ng-container",9),b()()),t&2){let e=p();_("@helpMotion",void 0),m(2),_("nzStringTemplateOutlet",e._error)}}function oy(t,n){if(t&1&&(Ce(0),q(1),be()),t&2){let e=p(2);m(),pe(e.extra)}}function ay(t,n){if(t&1&&(w(0,"div",6),H(1,oy,2,1,"ng-container",9),b()),t&2){let e=p();m(),_("nzStringTemplateOutlet",e.extra)}}var sy=(()=>{class t{parentComp=E(eu,{host:!0,optional:!0});el=E(nt).nativeElement;ren=E(ht);constructor(){if(this.parentComp==null)throw new Error("[se-title] must include 'se-container' component")}setClass(){let{el:e}=this,i=this.parentComp.gutter;this.ren.setStyle(e,"padding-left",`${i/2}px`),this.ren.setStyle(e,"padding-right",`${i/2}px`)}ngOnInit(){this.setClass()}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=Z({type:t,selectors:[["se-title"],["","se-title",""]],hostVars:2,hostBindings:function(i,r){i&2&&K("se__title",!0)},exportAs:["seTitle"],ngContentSelectors:xa,decls:1,vars:0,template:function(i,r){i&1&&(Oe(),Me(0))},encapsulation:2,changeDetection:0})}return t})(),eu=(()=>{class t{cogSrv=E($e);errorNotify$=new kt(null);colInCon;col;labelWidth;noColon=!1;title;get gutter(){return this.nzLayout==="horizontal"?this._gutter:0}set gutter(e){this._gutter=e}_gutter;get nzLayout(){return this._nzLayout}set nzLayout(e){this._nzLayout=e,e==="inline"&&(this.size="compact")}_nzLayout;size;firstVisual;ingoreDirty;line=!1;set errors(e){this.setErrors(e)}get margin(){return-(this.gutter/2)}get errorNotify(){return this.errorNotify$.pipe(Cn(e=>e!=null))}constructor(){this.cogSrv.attach(this,"se",{size:"default",nzLayout:"horizontal",gutter:32,col:2,labelWidth:150,firstVisual:!1,ingoreDirty:!1})}setErrors(e){for(let i of e)this.errorNotify$.next(i)}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=Z({type:t,selectors:[["se-container"],["","se-container",""]],hostVars:16,hostBindings:function(i,r){i&2&&(He("margin-left",r.margin,"px")("margin-right",r.margin,"px"),K("ant-row",!0)("se__container",!0)("se__horizontal",r.nzLayout==="horizontal")("se__vertical",r.nzLayout==="vertical")("se__inline",r.nzLayout==="inline")("se__compact",r.size==="compact"))},inputs:{colInCon:[2,"se-container","colInCon",e=>e==null?null:fe(e)],col:[2,"col","col",e=>e==null?null:fe(e)],labelWidth:[2,"labelWidth","labelWidth",e=>e==null?null:fe(e)],noColon:[2,"noColon","noColon",G],title:"title",gutter:[2,"gutter","gutter",fe],nzLayout:"nzLayout",size:"size",firstVisual:[2,"firstVisual","firstVisual",G],ingoreDirty:[2,"ingoreDirty","ingoreDirty",G],line:[2,"line","line",G],errors:"errors"},exportAs:["seContainer"],ngContentSelectors:xa,decls:2,vars:1,consts:[["se-title",""],[4,"nzStringTemplateOutlet"]],template:function(i,r){i&1&&(Oe(),x(0,Qg,2,1,"div",0),Me(1)),i&2&&T(r.title?0:-1)},dependencies:[sy,zt],encapsulation:2,changeDetection:0})}return t})(),Sa="se",ly=0,M1=(()=>{class t{parentComp=E(eu,{host:!0,optional:!0});el=E(nt).nativeElement;rep=E(ai);ren=E(ht);cdr=E($n);statusSrv=E(Dt);destroy$=E(qa);ngModel;formControlName;contentElement;clsMap=[];inited=!1;onceFlag=!1;errorData={};isBindModel=!1;invalid=!1;_labelWidth=null;_noColon=null;_error;optional=null;optionalHelp=null;optionalHelpColor;set error(e){this.errorData=typeof e=="string"||e instanceof pr?{"":e}:e}extra;label;col;required=!1;controlClass="";line;labelWidth;noColon;hideLabel=!1;set id(e){this._id=e,this._autoId=!1}_id=`_se-${++ly}`;_autoId=!0;get paddingValue(){return this.parentComp.gutter/2}get showErr(){return this.invalid&&!!this._error&&!this.compact}get compact(){return this.parentComp.size==="compact"}get ngControl(){return this.ngModel||this.formControlName}constructor(){if(this.parentComp==null)throw new Error("[se] must include 'se-container' component");this.parentComp.errorNotify.pipe(Jt(),Cn(e=>this.inited&&this.ngControl!=null&&this.ngControl.name===e.name)).subscribe(e=>{this.error=e.error,this.updateStatus(this.ngControl.invalid)})}setClass(){let{el:e,ren:i,clsMap:r,col:o,cdr:a,line:s,labelWidth:l,rep:c,noColon:d}=this,u=this.parentComp;this._noColon=d??u.noColon,this._labelWidth=u.nzLayout==="horizontal"?l??u.labelWidth:null,r.forEach(h=>i.removeClass(e,h)),r.length=0;let v=u.colInCon||u.col,g=u.nzLayout==="horizontal"?c.genCls(o??v,v):[];return r.push("ant-form-item",...g,`${Sa}__item`),(s||u.line)&&r.push(`${Sa}__line`),r.forEach(h=>i.addClass(e,h)),a.detectChanges(),this}bindModel(){if(!(!this.ngControl||this.isBindModel)){if(this.isBindModel=!0,this.ngControl.statusChanges.pipe(Jt(this.destroy$)).subscribe(e=>this.updateStatus(e==="INVALID")),this._autoId){let e=this.ngControl.valueAccessor,i=(e?.elementRef||e?._elementRef)?.nativeElement;i&&(i.id?this._id=i.id:i.id=this._id)}if(this.required!==!0){let e=this.ngControl?.control?.hasValidator(ls.required);e!==!0&&(e=(this.ngControl?._rawValidators).find(r=>r instanceof fs)!=null),this.required=e,this.cdr.detectChanges()}}}updateStatus(e){if(this.ngControl?.disabled||this.ngControl?.isDisabled)return;this.invalid=!this.onceFlag&&e&&this.parentComp.ingoreDirty===!1&&!this.ngControl?.dirty?!1:e;let i=this.ngControl?.errors;if(i!=null&&Object.keys(i).length>0){let r=Object.keys(i)[0]||"",o=this.errorData[r];this._error=o??(this.errorData[""]||"")}this.statusSrv.formStatusChanges.next({status:this.invalid?"error":"",hasFeedback:!1}),this.cdr.detectChanges()}checkContent(){let e=this.contentElement.nativeElement,i=`${Sa}__item-empty`;si(e)?this.ren.addClass(e,i):this.ren.removeClass(e,i)}ngAfterContentInit(){this.checkContent()}ngOnChanges(){this.onceFlag=this.parentComp.firstVisual,this.inited&&this.setClass().bindModel()}ngAfterViewInit(){this.setClass().bindModel(),this.inited=!0,this.onceFlag&&Promise.resolve().then(()=>{this.updateStatus(this.ngControl.invalid),this.onceFlag=!1})}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=Z({type:t,selectors:[["se"]],contentQueries:function(i,r,o){if(i&1&&(fr(o,De,7),fr(o,ps,7)),i&2){let a;gt(a=yt())&&(r.ngModel=a.first),gt(a=yt())&&(r.formControlName=a.first)}},viewQuery:function(i,r){if(i&1&&Kt(Xg,7),i&2){let o;gt(o=yt())&&(r.contentElement=o.first)}},hostVars:10,hostBindings:function(i,r){i&2&&(He("padding-left",r.paddingValue,"px")("padding-right",r.paddingValue,"px"),K("se__hide-label",r.hideLabel)("ant-form-item-has-error",r.invalid)("ant-form-item-with-help",r.showErr))},inputs:{optional:"optional",optionalHelp:"optionalHelp",optionalHelpColor:"optionalHelpColor",error:"error",extra:"extra",label:"label",col:[2,"col","col",e=>e==null?null:fe(e)],required:[2,"required","required",G],controlClass:"controlClass",line:[2,"line","line",e=>e==null?null:G(e)],labelWidth:[2,"labelWidth","labelWidth",e=>e==null?null:fe(e)],noColon:[2,"noColon","noColon",e=>e==null?null:G(e)],hideLabel:[2,"hideLabel","hideLabel",G],id:"id"},exportAs:["se"],features:[zn([Dt]),tt],ngContentSelectors:xa,decls:9,vars:10,consts:[["contentElement",""],[1,"ant-form-item-label"],[1,"se__label",3,"ant-form-item-required","se__no-colon"],[1,"ant-form-item-control","se__control"],[1,"ant-form-item-control-input-content",3,"cdkObserveContent"],[1,"ant-form-item-explain","ant-form-item-explain-connected"],[1,"ant-form-item-extra"],[1,"se__label"],[1,"se__label-text"],[4,"nzStringTemplateOutlet"],[1,"se__label-optional",3,"se__label-optional-no-text"],[1,"se__label-optional"],["nz-tooltip","","nzType","question-circle",3,"nzTooltipTitle","nzTooltipColor"],["role","alert",1,"ant-form-item-explain-error"]],template:function(i,r){if(i&1){let o=ne();Oe(),w(0,"div",1),x(1,ny,4,7,"label",2),b(),w(2,"div",3)(3,"div")(4,"div",4,0),U("cdkObserveContent",function(){return P(o),O(r.checkContent())}),Me(6),b()(),x(7,ry,3,2,"div",5),x(8,ay,2,1,"div",6),b()}i&2&&(He("width",r._labelWidth,"px"),K("se__nolabel",r.hideLabel||!r.label),m(),T(r.label?1:-1),m(2),ze(Ba("ant-form-item-control-input ",r.controlClass)),m(4),T(r.showErr?7:-1),m(),T(r.extra&&!r.compact?8:-1))},dependencies:[zt,at,ke,ii],encapsulation:2,data:{animation:[ri]},changeDetection:0})}return t})();var N1=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=mt({type:t});static \u0275inj=pt({imports:[Gt,Zt,Qt,Xt]})}return t})();var Ea=["*"];function cy(t,n){if(t&1&&(Ce(0),q(1),be()),t&2){let e=p(2);m(),pe(e.title)}}function dy(t,n){if(t&1&&(w(0,"sv-title"),H(1,cy,2,1,"ng-container",1),b()),t&2){let e=p();m(),_("nzStringTemplateOutlet",e.title)}}var uy=["conEl"];function py(t,n){if(t&1&&(Ce(0),q(1),be()),t&2){let e=p(2);m(),pe(e.label)}}function fy(t,n){if(t&1&&(Ce(0),q(1),be()),t&2){let e=p(3);m(),pe(e.optional)}}function hy(t,n){if(t&1&&B(0,"nz-icon",10),t&2){let e=p(3);_("nzTooltipTitle",e.optionalHelp)("nzTooltipColor",e.optionalHelpColor)}}function my(t,n){if(t&1&&(w(0,"span",9),H(1,fy,2,1,"ng-container",7),x(2,hy,1,2,"nz-icon",10),b()),t&2){let e=p(2);K("sv__label-optional-no-text",!e.optional),m(),_("nzStringTemplateOutlet",e.optional),m(),T(e.optionalHelp?2:-1)}}function _y(t,n){if(t&1&&(w(0,"div",5)(1,"span",6),H(2,py,2,1,"ng-container",7),b(),x(3,my,3,4,"span",8),b()),t&2){let e=p();He("width",e.labelWidth,"px"),K("sv__label-empty",!e.label)("sv__label-width",e.labelWidth!==null&&e.labelWidth!==void 0)("sv__no-colon",e._noColon),m(2),_("nzStringTemplateOutlet",e.label),m(),T(e.optional||e.optionalHelp?3:-1)}}function gy(t,n){if(t&1&&(w(0,"span",4),q(1),b()),t&2){let e=p(2);m(),pe(e.unit)}}function yy(t,n){if(t&1&&H(0,gy,2,1,"span",11),t&2){let e=p();_("nzStringTemplateOutlet",e.unit)}}var vy=(()=>{class t{el=E(nt).nativeElement;parentComp=E(tu,{host:!0,optional:!0});ren=E(ht);constructor(){if(this.parentComp==null)throw new Error("[sv-title] must include 'sv-container' component")}setClass(){let e=this.parentComp.gutter,i=this.el;this.ren.setStyle(i,"padding-left",`${e/2}px`),this.ren.setStyle(i,"padding-right",`${e/2}px`)}ngOnInit(){this.setClass()}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=Z({type:t,selectors:[["sv-title"],["","sv-title",""]],hostVars:2,hostBindings:function(i,r){i&2&&K("sv__title",!0)},exportAs:["svTitle"],ngContentSelectors:Ea,decls:1,vars:0,template:function(i,r){i&1&&(Oe(),Me(0))},encapsulation:2,changeDetection:0})}return t})(),tu=(()=>{class t{cogSrv=E($e);colInCon;title;size;gutter;layout;labelWidth;col;default;noColon=!1;bordered=!1;get margin(){return this.bordered?{}:{"margin-left":`${-(this.gutter/2)}px`,"margin-right":`${-(this.gutter/2)}px`}}constructor(){this.cogSrv.attach(this,"sv",{size:"large",gutter:32,layout:"horizontal",col:3,default:!0})}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=Z({type:t,selectors:[["sv-container"],["","sv-container",""]],hostVars:14,hostBindings:function(i,r){i&2&&K("sv__container",!0)("sv__horizontal",r.layout==="horizontal")("sv__vertical",r.layout==="vertical")("sv__small",r.size==="small")("sv__large",r.size==="large")("sv__bordered",r.bordered)("clearfix",!0)},inputs:{colInCon:[2,"sv-container","colInCon",e=>e==null?null:fe(e)],title:"title",size:"size",gutter:[2,"gutter","gutter",fe],layout:"layout",labelWidth:[2,"labelWidth","labelWidth",fe],col:[2,"col","col",fe],default:[2,"default","default",G],noColon:[2,"noColon","noColon",G],bordered:[2,"bordered","bordered",G]},exportAs:["svContainer"],ngContentSelectors:Ea,decls:3,vars:3,consts:[[1,"ant-row"],[4,"nzStringTemplateOutlet"]],template:function(i,r){i&1&&(Oe(),w(0,"div",0),x(1,dy,2,1,"sv-title"),Me(2),b()),i&2&&(ti(r.margin),m(),T(r.title?1:-1))},dependencies:[vy,zt],encapsulation:2,changeDetection:0})}return t})();var Ta="sv",J1=(()=>{class t{el=E(nt).nativeElement;parentComp=E(tu,{host:!0,optional:!0});rep=E(ai);ren=E(ht);conEl;clsMap=[];_noColon=!1;optional;optionalHelp;optionalHelpColor;label;unit;col;default;type;noColon;hideLabel=!1;get paddingValue(){return this.parentComp.bordered?null:this.parentComp.gutter/2}get labelWidth(){let{labelWidth:e,layout:i}=this.parentComp;return i==="horizontal"?e:null}constructor(){if(this.parentComp==null)throw new Error("[sv] must include 'sv-container' component")}setClass(){let{ren:e,col:i,clsMap:r,type:o,rep:a,noColon:s}=this,l=this.parentComp,c=this.el;this._noColon=l.bordered?!0:s??l.noColon,r.forEach(u=>e.removeClass(c,u)),r.length=0;let d=l.colInCon||l.col;r.push(...a.genCls(i??d,d)),r.push(`${Ta}__item`),l.labelWidth&&r.push(`${Ta}__item-fixed`),o&&r.push(`${Ta}__type-${o}`),r.forEach(u=>e.addClass(c,u))}ngAfterViewInit(){this.setClass(),this.checkContent()}ngOnChanges(){this.setClass()}checkContent(){let{conEl:e}=this,i=this.default;if(!(i??this.parentComp?.default))return;let r=e.nativeElement,o="sv__default";r.classList.contains(o)&&r.classList.remove(o),si(r)&&r.classList.add(o)}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=Z({type:t,selectors:[["sv"],["","sv",""]],viewQuery:function(i,r){if(i&1&&Kt(uy,5),i&2){let o;gt(o=yt())&&(r.conEl=o.first)}},hostVars:4,hostBindings:function(i,r){i&2&&He("padding-left",r.paddingValue,"px")("padding-right",r.paddingValue,"px")},inputs:{optional:"optional",optionalHelp:"optionalHelp",optionalHelpColor:"optionalHelpColor",label:"label",unit:"unit",col:[2,"col","col",e=>e==null?null:fe(e)],default:[2,"default","default",e=>e==null?null:G(e)],type:"type",noColon:[2,"noColon","noColon",e=>e==null?null:G(e)],hideLabel:[2,"hideLabel","hideLabel",G]},exportAs:["sv"],features:[tt],ngContentSelectors:Ea,decls:6,vars:2,consts:[["conEl",""],[1,"sv__label",3,"sv__label-empty","sv__label-width","sv__no-colon","width"],[1,"sv__detail"],[3,"cdkObserveContent"],[1,"sv__unit"],[1,"sv__label"],[1,"sv__label-text"],[4,"nzStringTemplateOutlet"],[1,"sv__label-optional",3,"sv__label-optional-no-text"],[1,"sv__label-optional"],["nz-tooltip","","nzType","question-circle",3,"nzTooltipTitle","nzTooltipColor"],["class","sv__unit",4,"nzStringTemplateOutlet"]],template:function(i,r){if(i&1){let o=ne();Oe(),x(0,_y,4,10,"div",1),w(1,"div",2)(2,"span",3,0),U("cdkObserveContent",function(){return P(o),O(r.checkContent())}),Me(4),b(),x(5,yy,1,1,"span",4),b()}i&2&&(T(r.hideLabel?-1:0),m(5),T(r.unit?5:-1))},dependencies:[zt,at,ke,ii],encapsulation:2,changeDetection:0})}return t})();var Q1=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=mt({type:t});static \u0275inj=pt({imports:[Gt,ts,Zt,Qt,Xt]})}return t})();var nu=t=>({$implicit:t});function Cy(t,n){if(t&1&&(Ce(0),q(1),be()),t&2){let e=p(3);m(),ae(" ",e.nzTitle," ")}}function by(t,n){if(t&1&&(w(0,"div",7),H(1,Cy,2,1,"ng-container",9),b()),t&2){let e=p(2);m(),_("nzStringTemplateOutlet",e.nzTitle)("nzStringTemplateOutletContext",gr(2,nu,e.nzTitleContext))}}function wy(t,n){if(t&1&&(Ce(0),q(1),be()),t&2){let e=p(2);m(),ae(" ",e.nzContent," ")}}function zy(t,n){if(t&1&&(w(0,"div",2)(1,"div",3)(2,"div",4),B(3,"span",5),b(),w(4,"div",6)(5,"div"),x(6,by,2,4,"div",7),w(7,"div",8),H(8,wy,2,1,"ng-container",9),b()()()()()),t&2){let e=p();ti(e.nzOverlayStyle),ze(e._classMap),K("ant-popover-rtl",e.dir==="rtl"),_("@.disabled",!!(e.noAnimation!=null&&e.noAnimation.nzNoAnimation))("nzNoAnimation",e.noAnimation==null?null:e.noAnimation.nzNoAnimation)("@zoomBigMotion","active"),m(6),T(e.nzTitle?6:-1),m(2),_("nzStringTemplateOutlet",e.nzContent)("nzStringTemplateOutletContext",gr(12,nu,e.nzContentContext))}}var $y="popover",gb=(()=>{var r;let t=ws,n,e=[],i=[];return r=class extends t{_nzModuleName=$y;arrowPointAtCenter;title;titleContext=null;content;contentContext=null;directiveTitle;trigger="hover";placement="top";origin;visible;mouseEnterDelay;mouseLeaveDelay;overlayClassName;overlayStyle;overlayClickable;directiveContent=null;nzPopoverBackdrop=ar(this,e,!1);visibleChange=(ar(this,i),new _t);getProxyPropertyMap(){return z({nzPopoverBackdrop:["nzBackdrop",()=>this.nzPopoverBackdrop],titleContext:["nzTitleContext",()=>this.titleContext],contentContext:["nzContentContext",()=>this.contentContext]},super.getProxyPropertyMap())}constructor(){super(iu)}},(()=>{let a=typeof Symbol=="function"&&Symbol.metadata?Object.create(t[Symbol.metadata]??null):void 0;n=[Ja()],Da(null,null,n,{kind:"field",name:"nzPopoverBackdrop",static:!1,private:!1,access:{has:s=>"nzPopoverBackdrop"in s,get:s=>s.nzPopoverBackdrop,set:(s,l)=>{s.nzPopoverBackdrop=l}},metadata:a},e,i),a&&Object.defineProperty(r,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a})})(),or(r,"\u0275fac",function(s){return new(s||r)}),or(r,"\u0275dir",it({type:r,selectors:[["","nz-popover",""]],hostVars:2,hostBindings:function(s,l){s&2&&K("ant-popover-open",l.visible)},inputs:{arrowPointAtCenter:[2,"nzPopoverArrowPointAtCenter","arrowPointAtCenter",G],title:[0,"nzPopoverTitle","title"],titleContext:[0,"nzPopoverTitleContext","titleContext"],content:[0,"nzPopoverContent","content"],contentContext:[0,"nzPopoverContentContext","contentContext"],directiveTitle:[0,"nz-popover","directiveTitle"],trigger:[0,"nzPopoverTrigger","trigger"],placement:[0,"nzPopoverPlacement","placement"],origin:[0,"nzPopoverOrigin","origin"],visible:[0,"nzPopoverVisible","visible"],mouseEnterDelay:[0,"nzPopoverMouseEnterDelay","mouseEnterDelay"],mouseLeaveDelay:[0,"nzPopoverMouseLeaveDelay","mouseLeaveDelay"],overlayClassName:[0,"nzPopoverOverlayClassName","overlayClassName"],overlayStyle:[0,"nzPopoverOverlayStyle","overlayStyle"],overlayClickable:[0,"nzPopoverOverlayClickable","overlayClickable"],nzPopoverBackdrop:"nzPopoverBackdrop"},outputs:{visibleChange:"nzPopoverVisibleChange"},exportAs:["nzPopover"],features:[re]})),r})(),iu=(()=>{class t extends zs{_prefix="ant-popover";nzContentContext=null;get hasBackdrop(){return this.nzTrigger==="click"?this.nzBackdrop:!1}isEmpty(){return wr(this.nzTitle)&&wr(this.nzContent)}static \u0275fac=(()=>{let e;return function(r){return(e||(e=oe(t)))(r||t)}})();static \u0275cmp=Z({type:t,selectors:[["nz-popover"]],exportAs:["nzPopoverComponent"],features:[re],decls:2,vars:6,consts:[["overlay","cdkConnectedOverlay"],["cdkConnectedOverlay","","nzConnectedOverlay","",3,"overlayOutsideClick","detach","positionChange","cdkConnectedOverlayHasBackdrop","cdkConnectedOverlayOrigin","cdkConnectedOverlayPositions","cdkConnectedOverlayOpen","cdkConnectedOverlayPush","nzArrowPointAtCenter"],[1,"ant-popover",3,"nzNoAnimation"],[1,"ant-popover-content"],[1,"ant-popover-arrow"],[1,"ant-popover-arrow-content"],["role","tooltip",1,"ant-popover-inner"],[1,"ant-popover-title"],[1,"ant-popover-inner-content"],[4,"nzStringTemplateOutlet","nzStringTemplateOutletContext"]],template:function(i,r){if(i&1){let o=ne();H(0,zy,9,14,"ng-template",1,0,Ne),U("overlayOutsideClick",function(s){return P(o),O(r.onClickOutside(s))})("detach",function(){return P(o),O(r.hide())})("positionChange",function(s){return P(o),O(r.onPositionChange(s))})}i&2&&_("cdkConnectedOverlayHasBackdrop",r.hasBackdrop)("cdkConnectedOverlayOrigin",r.origin)("cdkConnectedOverlayPositions",r._positions)("cdkConnectedOverlayOpen",r._visible)("cdkConnectedOverlayPush",r.cdkConnectedOverlayPush)("nzArrowPointAtCenter",r.nzArrowPointAtCenter)},dependencies:[Xa,Qa,Ya,Za,rs,Xt,zt],encapsulation:2,data:{animation:[is]},changeDetection:0})}return t})(),yb=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=mt({type:t});static \u0275inj=pt({imports:[iu]})}return t})();export{Ig as a,Ze as b,o1 as c,a1 as d,s1 as e,eu as f,M1 as g,N1 as h,tu as i,J1 as j,Q1 as k,gb as l,yb as m};
