import{Ea as w,M as O,a as m,ca as b,h as v,oa as l,ra as A,ta as d}from"./chunk-C2TUN3UK.js";import{a as u,b as h,d as N,f as R}from"./chunk-57BLH6QZ.js";var S=N((B,x)=>{"use strict";var p=Object.prototype.hasOwnProperty,j=Object.prototype.toString,E=Object.defineProperty,P=Object.getOwnPropertyDescriptor,I=function(n){return typeof Array.isArray=="function"?Array.isArray(n):j.call(n)==="[object Array]"},M=function(n){if(!n||j.call(n)!=="[object Object]")return!1;var e=p.call(n,"constructor"),t=n.constructor&&n.constructor.prototype&&p.call(n.constructor.prototype,"isPrototypeOf");if(n.constructor&&!e&&!t)return!1;var r;for(r in n);return typeof r>"u"||p.call(n,r)},D=function(n,e){E&&e.name==="__proto__"?E(n,e.name,{enumerable:!0,configurable:!0,value:e.newValue,writable:!0}):n[e.name]=e.newValue},_=function(n,e){if(e==="__proto__")if(p.call(n,e)){if(P)return P(n,e).value}else return;return n[e]};x.exports=function o(){var n,e,t,r,c,a,i=arguments[0],s=1,f=arguments.length,y=!1;for(typeof i=="boolean"&&(y=i,i=arguments[1]||{},s=2),(i==null||typeof i!="object"&&typeof i!="function")&&(i={});s<f;++s)if(n=arguments[s],n!=null)for(e in n)t=_(i,e),r=_(n,e),i!==r&&(y&&r&&(M(r)||(c=I(r)))?(c?(c=!1,a=t&&I(t)?t:[]):a=t&&M(t)?t:{},D(i,{name:e,newValue:o(y,a,r)})):typeof r<"u"&&D(i,{name:e,newValue:r}));return i}});var C=R(S(),1);function U(o,n,e){if(!o||n==null||n.length===0)return e;if(Array.isArray(n)||(n=~n.indexOf(".")?n.split("."):[n]),n.length===1){let r=o[n[0]];return typeof r>"u"?e:r}let t=n.reduce((r,c)=>(r||{})[c],o);return typeof t>"u"?e:t}function L(o){return(0,C.default)(!0,{},{_:o})._}function g(o,n,...e){if(Array.isArray(o)||typeof o!="object")return o;let t=c=>typeof c=="object",r=(c,a)=>(Object.keys(a).filter(i=>i!=="__proto__"&&Object.prototype.hasOwnProperty.call(a,i)).forEach(i=>{let s=a[i],f=c[i];Array.isArray(f)?c[i]=n?s:[...f,...s]:typeof s=="function"?c[i]=s:s!=null&&t(s)&&f!=null&&t(f)?c[i]=r(f,s):c[i]=L(s)}),c);return e.filter(c=>c!=null&&t(c)).forEach(c=>r(o,c)),o}function W(o,...n){return g(o,!1,...n)}var X=(()=>{class o{doc=d(w);list={};cached={};_notify=new v([]);get change(){return this._notify.asObservable().pipe(b(),O(e=>e.length!==0))}clear(){this.list={},this.cached={}}attachAttributes(e,t){t!=null&&Object.entries(t).forEach(([r,c])=>{e.setAttribute(r,c)})}load(e){Array.isArray(e)||(e=[e]);let t=[];return e.map(r=>typeof r!="object"?{path:r}:r).forEach(r=>{r.path.endsWith(".js")?t.push(this.loadScript(r.path,r.options)):t.push(this.loadStyle(r.path,r.options))}),Promise.all(t).then(r=>(this._notify.next(r),Promise.resolve(r)))}loadScript(e,t,r){let c=typeof t=="object"?t:{innerContent:t,attributes:r};return new Promise(a=>{if(this.list[e]===!0){a(h(u({},this.cached[e]),{status:"loading"}));return}this.list[e]=!0;let i=f=>{this.cached[e]=f,a(f),this._notify.next([f])},s=this.doc.createElement("script");s.type="text/javascript",s.src=e,this.attachAttributes(s,c.attributes),c.innerContent&&(s.innerHTML=c.innerContent),s.onload=()=>i({path:e,status:"ok"}),s.onerror=f=>i({path:e,status:"error",error:f}),this.doc.getElementsByTagName("head")[0].appendChild(s)})}loadStyle(e,t,r,c){let a=typeof t=="object"?t:{rel:t,innerContent:r,attributes:c};return new Promise(i=>{if(this.list[e]===!0){i(this.cached[e]);return}this.list[e]=!0;let s=this.doc.createElement("link");s.rel=a.rel??"stylesheet",s.type="text/css",s.href=e,this.attachAttributes(s,a.attributes),a.innerContent&&(s.innerHTML=a.innerContent),this.doc.getElementsByTagName("head")[0].appendChild(s);let f={path:e,status:"ok"};this.cached[e]=f,i(f)})}static \u0275fac=function(t){return new(t||o)};static \u0275prov=l({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();var T=new A("alain-config",{providedIn:"root",factory:$});function $(){return{}}var te=(()=>{class o{config=u({},d(T,{optional:!0}));get(e,t){let r=this.config[e]||{};return t?{[t]:r[t]}:r}merge(e,...t){return g({},!0,...t,this.get(e))}attach(e,t,r){let c=this.merge(t,r);Object.entries(c).forEach(([a,i])=>{let s=e,f=s[a]?.[m];f!=null?f.value=i:s[a]=i})}set(e,t){this.config[e]=u(u({},this.config[e]),t)}static \u0275fac=function(t){return new(t||o)};static \u0275prov=l({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();export{U as a,L as b,g as c,W as d,X as e,T as f,te as g};
