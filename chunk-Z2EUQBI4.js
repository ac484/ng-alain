import{a as Ze,b as et,c as tt,d as nt,e as it}from"./chunk-JSW4L7WF.js";import{a as Ke,b as Xe}from"./chunk-3AJA4UAR.js";import{d as Se}from"./chunk-RHSNDLDC.js";import{a as We,b as Re}from"./chunk-XRP4WJZ7.js";import{j as Ee,k as we}from"./chunk-VPG4RKW7.js";import{c as Le,d as Ge,e as Qe,f as qe,k as Ue}from"./chunk-UGOQL7HW.js";import{a as je,f as $e,k as Je}from"./chunk-A6I6NVJK.js";import"./chunk-H7YPP55E.js";import{a as Pe,b as Ie,c as Ye}from"./chunk-V7W5MTAK.js";import"./chunk-RYKA7J56.js";import{b as P,c as I,d as Y}from"./chunk-VDEGG43N.js";import"./chunk-PU46QXHH.js";import{F as T,L as Me,O as Fe}from"./chunk-FSJ6KERW.js";import"./chunk-UATVLLJJ.js";import"./chunk-BRKXCE7P.js";import"./chunk-WHJAXXAS.js";import{a as Ve,d as xe,e as W,g as R,h as Ne,m as be,n as Te,q as ke,t as Oe,x as Ae,y as Be,z as He}from"./chunk-NB4EIDVA.js";import"./chunk-43QWISWI.js";import"./chunk-4OGGW47F.js";import"./chunk-JHZVO6A4.js";import"./chunk-Z2B7QBBP.js";import"./chunk-QNTYQDQV.js";import{$d as Ce,Aa as C,Bc as ie,Dd as pe,Ec as ae,Fa as X,Fc as oe,Gb as k,Hd as ue,Ib as O,Ih as he,Jh as ge,Kc as re,Kh as fe,Lb as Q,Mb as q,Mc as le,Nb as c,Ob as d,Oc as se,Pa as L,Pb as l,Qb as h,Th as ve,Ub as A,Vb as B,Xb as g,_b as z,ai as _e,bb as r,bc as m,cb as w,ci as De,di as ye,ec as x,fd as de,gb as G,gc as N,hc as b,hd as U,lc as ee,mc as te,na as J,nb as S,nc as ne,ne as ze,ni as at,ob as Z,oi as ot,pa as K,pb as V,pc as H,qc as p,rc as f,ta as D,tb as v,uc as y,vb as _,vc as M,wc as F,yd as ce,za as u,zd as me}from"./chunk-VMD4HRQF.js";import"./chunk-57BLH6QZ.js";var rt=(t,a)=>a.value;function Ct(t,a){if(t&1&&(A(0),p(1),B()),t&2){let e=m(2);r(),f(e.nzCustomHeader)}}function zt(t,a){if(t&1&&v(0,Ct,2,1,"ng-container",1),t&2){let e=m();c("nzStringTemplateOutlet",e.nzCustomHeader)}}function ht(t,a){if(t&1&&h(0,"nz-option",3),t&2){let e=a.$implicit;c("nzLabel",e.label)("nzValue",e.value)}}function gt(t,a){if(t&1&&h(0,"nz-option",3),t&2){let e=a.$implicit;c("nzLabel",e.label)("nzValue",e.value)}}function ft(t,a){if(t&1){let e=g();d(0,"nz-select",8),z("ngModelChange",function(i){u(e);let o=m(2);return C(o.monthChange.emit(i))}),Q(1,gt,1,2,"nz-option",3,rt),l()}if(t&2){let e=m(2);c("nzSize",e.size)("nzDropdownMatchSelectWidth",!1)("ngModel",e.activeMonth),r(),q(e.months)}}function vt(t,a){if(t&1){let e=g();d(0,"div",0)(1,"nz-select",2),z("ngModelChange",function(i){u(e);let o=m();return C(o.updateYear(i))}),Q(2,ht,1,2,"nz-option",3,rt),l(),k(4,ft,3,3,"nz-select",4),d(5,"nz-radio-group",5),F("ngModelChange",function(i){u(e);let o=m();return M(o.mode,i)||(o.mode=i),C(i)}),z("ngModelChange",function(i){u(e);let o=m();return C(o.modeChange.emit(i))}),d(6,"label",6),p(7),l(),d(8,"label",7),p(9),l()()()}if(t&2){let e=m();r(),c("nzSize",e.size)("nzDropdownMatchSelectWidth",!1)("ngModel",e.activeYear),r(),q(e.years),r(2),O(e.mode==="month"?4:-1),r(),y("ngModel",e.mode),c("nzSize",e.size),r(2),f(e.monthTypeText),r(2),f(e.yearTypeText)}}function _t(t,a){if(t&1){let e=g();d(0,"date-table",5),z("valueChange",function(i){u(e);let o=m();return C(o.onDateSelect(i))}),l()}if(t&2){let e=m();c("prefixCls",e.prefixCls)("value",e.activeDate)("activeDate",e.activeDate)("cellRender",e.dateCell)("fullCellRender",e.dateFullCell)("disabledDate",e.nzDisabledDate)}}function Dt(t,a){if(t&1){let e=g();d(0,"month-table",6),z("valueChange",function(i){u(e);let o=m();return C(o.onDateSelect(i))}),l()}if(t&2){let e=m();c("prefixCls",e.prefixCls)("value",e.activeDate)("activeDate",e.activeDate)("cellRender",e.monthCell)("fullCellRender",e.monthFullCell)}}var j=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275dir=V({type:t,selectors:[["","nzDateCell",""]],exportAs:["nzDateCell"]})}return t})(),yt=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275dir=V({type:t,selectors:[["","nzMonthCell",""]],exportAs:["nzMonthCell"]})}return t})(),Mt=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275dir=V({type:t,selectors:[["","nzDateFullCell",""]],exportAs:["nzDateFullCell"]})}return t})(),Ft=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275dir=V({type:t,selectors:[["","nzMonthFullCell",""]],exportAs:["nzMonthFullCell"]})}return t})(),lt=(()=>{class t{dateHelper=D(Fe);i18n=D(Me);mode="month";fullscreen=!0;activeDate=new T;nzCustomHeader;modeChange=new _;yearChange=new _;monthChange=new _;yearOffset=10;yearTotal=20;years=[];months=[];get activeYear(){return this.activeDate.getYear()}get activeMonth(){return this.activeDate.getMonth()}get size(){return this.fullscreen?"default":"small"}get yearTypeText(){return this.i18n.getLocale().Calendar.lang.year}get monthTypeText(){return this.i18n.getLocale().Calendar.lang.month}ngOnInit(){this.setUpYears(),this.setUpMonths()}ngOnChanges(e){if(e.activeDate){let n=e.activeDate.previousValue,i=e.activeDate.currentValue;n?.getYear()!==i?.getYear()&&this.setUpYears()}}updateYear(e){this.yearChange.emit(e),this.setUpYears(e)}setUpYears(e){let n=(e||this.activeYear)-this.yearOffset,i=n+this.yearTotal;this.years=[];for(let o=n;o<i;o++)this.years.push({label:`${o}`,value:o})}setUpMonths(){this.months=[];for(let e=0;e<12;e++){let n=this.activeDate.setMonth(e),i=this.dateHelper.format(n.nativeDate,"MMM");this.months.push({label:i,value:e})}}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=S({type:t,selectors:[["nz-calendar-header"]],hostAttrs:[1,"ant-fullcalendar-header"],hostVars:2,hostBindings:function(n,i){n&2&&te("display","block")},inputs:{mode:"mode",fullscreen:[2,"fullscreen","fullscreen",U],activeDate:"activeDate",nzCustomHeader:"nzCustomHeader"},outputs:{modeChange:"modeChange",yearChange:"yearChange",monthChange:"monthChange"},exportAs:["nzCalendarHeader"],features:[L],decls:2,vars:1,consts:[[1,"ant-picker-calendar-header"],[4,"nzStringTemplateOutlet"],[1,"ant-picker-calendar-year-select",3,"ngModelChange","nzSize","nzDropdownMatchSelectWidth","ngModel"],[3,"nzLabel","nzValue"],[1,"ant-picker-calendar-month-select",3,"nzSize","nzDropdownMatchSelectWidth","ngModel"],[1,"ant-picker-calendar-mode-switch",3,"ngModelChange","ngModel","nzSize"],["nz-radio-button","","nzValue","month"],["nz-radio-button","","nzValue","year"],[1,"ant-picker-calendar-month-select",3,"ngModelChange","nzSize","nzDropdownMatchSelectWidth","ngModel"]],template:function(n,i){n&1&&k(0,zt,1,1,"ng-container")(1,vt,10,8,"div",0),n&2&&O(i.nzCustomHeader?0:1)},dependencies:[Y,P,I,Be,R,be,Ye,Ie,Pe,fe],encapsulation:2,changeDetection:0})}return t})(),$=(()=>{class t{cdr=D(de);directionality=D(ze);destroyRef=D(X);activeDate=new T;prefixCls="ant-picker-calendar";dir="ltr";onChangeFn=()=>{};onTouchFn=()=>{};nzMode="month";nzValue;nzDisabledDate;nzModeChange=new _;nzPanelChange=new _;nzSelectChange=new _;nzValueChange=new _;nzDateCell;nzDateCellChild;get dateCell(){return this.nzDateCell||this.nzDateCellChild}nzDateFullCell;nzDateFullCellChild;get dateFullCell(){return this.nzDateFullCell||this.nzDateFullCellChild}nzMonthCell;nzMonthCellChild;get monthCell(){return this.nzMonthCell||this.nzMonthCellChild}nzMonthFullCell;nzMonthFullCellChild;get monthFullCell(){return this.nzMonthFullCell||this.nzMonthFullCellChild}nzCustomHeader;nzFullscreen=!0;ngOnInit(){this.dir=this.directionality.value,this.directionality.change?.pipe(Ce(this.destroyRef)).subscribe(()=>{this.dir=this.directionality.value})}onModeChange(e){this.nzModeChange.emit(e),this.nzPanelChange.emit({date:this.activeDate.nativeDate,mode:e})}onYearSelect(e){let n=this.activeDate.setYear(e);this.updateDate(n)}onMonthSelect(e){let n=this.activeDate.setMonth(e);this.updateDate(n)}onDateSelect(e){this.updateDate(e)}writeValue(e){this.updateDate(new T(e),!1),this.cdr.markForCheck()}registerOnChange(e){this.onChangeFn=e}registerOnTouched(e){this.onTouchFn=e}updateDate(e,n=!0){this.activeDate=e,n&&(this.onChangeFn(e.nativeDate),this.onTouchFn(),this.nzSelectChange.emit(e.nativeDate),this.nzValueChange.emit(e.nativeDate))}ngOnChanges(e){e.nzValue&&this.updateDate(new T(this.nzValue),!1)}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=S({type:t,selectors:[["nz-calendar"]],contentQueries:function(n,i,o){if(n&1&&(x(o,j,5,w),x(o,Mt,5,w),x(o,yt,5,w),x(o,Ft,5,w)),n&2){let s;N(s=b())&&(i.nzDateCellChild=s.first),N(s=b())&&(i.nzDateFullCellChild=s.first),N(s=b())&&(i.nzMonthCellChild=s.first),N(s=b())&&(i.nzMonthFullCellChild=s.first)}},hostAttrs:[1,"ant-picker-calendar"],hostVars:6,hostBindings:function(n,i){n&2&&ne("ant-picker-calendar-full",i.nzFullscreen)("ant-picker-calendar-mini",!i.nzFullscreen)("ant-picker-calendar-rtl",i.dir==="rtl")},inputs:{nzMode:"nzMode",nzValue:"nzValue",nzDisabledDate:"nzDisabledDate",nzDateCell:"nzDateCell",nzDateFullCell:"nzDateFullCell",nzMonthCell:"nzMonthCell",nzMonthFullCell:"nzMonthFullCell",nzCustomHeader:"nzCustomHeader",nzFullscreen:[2,"nzFullscreen","nzFullscreen",U]},outputs:{nzModeChange:"nzModeChange",nzPanelChange:"nzPanelChange",nzSelectChange:"nzSelectChange",nzValueChange:"nzValueChange"},exportAs:["nzCalendar"],features:[ae([{provide:Ve,useExisting:J(()=>t),multi:!0}]),L],decls:6,vars:8,consts:[[3,"modeChange","yearChange","monthChange","fullscreen","activeDate","nzCustomHeader","mode"],[1,"ant-picker-panel"],[1,"ant-picker-body"],[3,"prefixCls","value","activeDate","cellRender","fullCellRender","disabledDate"],[3,"prefixCls","value","activeDate","cellRender","fullCellRender"],[3,"valueChange","prefixCls","value","activeDate","cellRender","fullCellRender","disabledDate"],[3,"valueChange","prefixCls","value","activeDate","cellRender","fullCellRender"]],template:function(n,i){n&1&&(d(0,"nz-calendar-header",0),F("modeChange",function(s){return M(i.nzMode,s)||(i.nzMode=s),s}),z("modeChange",function(s){return i.onModeChange(s)})("yearChange",function(s){return i.onYearSelect(s)})("monthChange",function(s){return i.onMonthSelect(s)}),l(),d(1,"div",1)(2,"div")(3,"div",2),k(4,_t,1,6,"date-table",3)(5,Dt,1,5,"month-table",4),l()()()),n&2&&(c("fullscreen",i.nzFullscreen)("activeDate",i.activeDate)("nzCustomHeader",i.nzCustomHeader),y("mode",i.nzMode),r(2),H(ie("ant-picker-",i.nzMode==="month"?"date":"month","-panel")),r(2),O(i.nzMode==="month"?4:5))},dependencies:[lt,Qe,Ge,Le],encapsulation:2,changeDetection:0})}return t})(),st=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=Z({type:t});static \u0275inj=K({imports:[lt,$]})}return t})();var wt=()=>({minRows:3,maxRows:5});function St(t,a){if(t&1){let e=g();d(0,"button",18),z("click",function(){u(e);let i=m();return C(i.showAddEventModal())}),h(1,"span",19),p(2," \u65B0\u589E\u4E8B\u4EF6 "),l()}}function Vt(t,a){if(t&1){let e=g();A(0),d(1,"li",22),z("click",function(){let i=u(e).$implicit,o=m(2);return C(o.viewEvent(i))}),h(2,"nz-badge",23),l(),B()}if(t&2){let e=a.$implicit,n=m(2);r(),H("event-"+e.type),r(),c("nzStatus",n.getEventStatus(e.type))("nzText",e.title)}}function xt(t,a){if(t&1&&(d(0,"ul",20),v(1,Vt,3,4,"ng-container",21),l()),t&2){let e=a.$implicit,n=m();r(),c("ngForOf",n.getEventsForDate(e))}}function Nt(t,a){if(t&1&&(d(0,"p")(1,"strong"),p(2,"\u63CF\u8FF0\uFF1A"),l(),p(3),l()),t&2){let e=m(2);r(3),f(e.selectedEvent.description)}}function bt(t,a){if(t&1&&(d(0,"div")(1,"p")(2,"strong"),p(3,"\u6A19\u984C\uFF1A"),l(),p(4),l(),d(5,"p")(6,"strong"),p(7,"\u65E5\u671F\uFF1A"),l(),p(8),re(9,"date"),l(),d(10,"p")(11,"strong"),p(12,"\u985E\u578B\uFF1A"),l(),p(13),l(),v(14,Nt,4,1,"p",17),l()),t&2){let e=m();r(4),f(e.selectedEvent.title),r(4),f(le(9,4,e.selectedEvent.date,"yyyy-MM-dd HH:mm")),r(5),f(e.getEventTypeText(e.selectedEvent.type)),r(),c("ngIf",e.selectedEvent.description)}}var E=class E{constructor(a,e){this.fb=a;this.message=e;this.events=[];this.isAddEventVisible=!1;this.isViewEventVisible=!1;this.selectedEvent=null;this.eventForm=this.fb.group({title:["",[W.required]],date:[null,[W.required]],type:["meeting",[W.required]],description:[""]}),this.initializeSampleEvents()}initializeSampleEvents(){let a=new Date;this.events=[{id:"1",title:"\u5718\u968A\u6703\u8B70",date:new Date(a.getFullYear(),a.getMonth(),a.getDate(),10,0),type:"meeting",description:"\u8A0E\u8AD6\u672C\u9031\u5DE5\u4F5C\u9032\u5EA6"},{id:"2",title:"\u5B8C\u6210\u5831\u544A",date:new Date(a.getFullYear(),a.getMonth(),a.getDate()+1,14,30),type:"task",description:"\u5B8C\u6210\u5B63\u5EA6\u5831\u544A\u64B0\u5BEB"},{id:"3",title:"\u5BA2\u6236\u56DE\u8A2A\u63D0\u9192",date:new Date(a.getFullYear(),a.getMonth(),a.getDate()+2,9,0),type:"reminder",description:"\u56DE\u8A2A\u91CD\u8981\u5BA2\u6236"}]}onDateSelect(a){console.log("\u9078\u64C7\u65E5\u671F:",a)}onPanelChange(a){console.log("\u9762\u677F\u8B8A\u66F4:",a)}getEventsForDate(a){return this.events.filter(e=>e.date.getDate()===a.getDate()&&e.date.getMonth()===a.getMonth()&&e.date.getFullYear()===a.getFullYear())}getEventStatus(a){switch(a){case"meeting":return"processing";case"task":return"success";case"reminder":return"warning";default:return"error"}}getEventTypeText(a){switch(a){case"meeting":return"\u6703\u8B70";case"task":return"\u4EFB\u52D9";case"reminder":return"\u63D0\u9192";default:return"\u672A\u77E5"}}showAddEventModal(){this.isAddEventVisible=!0}handleAddEventCancel(){this.isAddEventVisible=!1,this.eventForm.reset({type:"meeting"})}handleAddEventOk(){if(this.eventForm.valid){let a=this.eventForm.value,e={id:Date.now().toString(),title:a.title,date:a.date,type:a.type,description:a.description};this.events.push(e),this.message.success("\u4E8B\u4EF6\u65B0\u589E\u6210\u529F"),this.isAddEventVisible=!1,this.eventForm.reset({type:"meeting"})}else this.message.error("\u8ACB\u586B\u5BEB\u5B8C\u6574\u8CC7\u8A0A")}viewEvent(a){this.selectedEvent=a,this.isViewEventVisible=!0}handleViewEventCancel(){this.isViewEventVisible=!1,this.selectedEvent=null}};E.\u0275fac=function(e){return new(e||E)(G(Ae),G(Se))},E.\u0275cmp=S({type:E,selectors:[["app-workspace-calendar"]],decls:36,vars:17,consts:[["extraTemplate",""],["nzTitle","\u5DE5\u4F5C\u5340\u65E5\u66C6",3,"nzExtra"],[3,"nzSelectChange","nzPanelChange","nzFullscreen"],["class","events",4,"nzDateCell"],["nzTitle","\u65B0\u589E\u4E8B\u4EF6",3,"nzVisibleChange","nzOnCancel","nzOnOk","nzVisible"],["nz-form","","nz-row","",3,"formGroup","nzGutter"],["nz-col","","nzSpan","24"],["nzRequired","",3,"nzSpan"],[3,"nzSpan"],["nz-input","","formControlName","title","placeholder","\u8ACB\u8F38\u5165\u4E8B\u4EF6\u6A19\u984C"],["formControlName","date","nzShowTime","","nzFormat","yyyy-MM-dd HH:mm"],["formControlName","type","placeholder","\u8ACB\u9078\u64C7\u4E8B\u4EF6\u985E\u578B"],["nzValue","meeting","nzLabel","\u6703\u8B70"],["nzValue","task","nzLabel","\u4EFB\u52D9"],["nzValue","reminder","nzLabel","\u63D0\u9192"],["nz-input","","formControlName","description","placeholder","\u8ACB\u8F38\u5165\u4E8B\u4EF6\u63CF\u8FF0",3,"nzAutosize"],["nzTitle","\u4E8B\u4EF6\u8A73\u60C5",3,"nzVisibleChange","nzOnCancel","nzVisible"],[4,"ngIf"],["nz-button","","nzType","primary",3,"click"],["nz-icon","","nzType","plus"],[1,"events"],[4,"ngFor","ngForOf"],[3,"click"],[3,"nzStatus","nzText"]],template:function(e,n){if(e&1){let i=g();d(0,"nz-card",1),v(1,St,3,0,"ng-template",null,0,se),d(3,"nz-calendar",2),z("nzSelectChange",function(s){return u(i),C(n.onDateSelect(s))})("nzPanelChange",function(s){return u(i),C(n.onPanelChange(s))}),v(4,xt,2,1,"ul",3),l()(),d(5,"nz-modal",4),F("nzVisibleChange",function(s){return u(i),M(n.isAddEventVisible,s)||(n.isAddEventVisible=s),C(s)}),z("nzOnCancel",function(){return u(i),C(n.handleAddEventCancel())})("nzOnOk",function(){return u(i),C(n.handleAddEventOk())}),d(6,"form",5)(7,"div",6)(8,"nz-form-item")(9,"nz-form-label",7),p(10,"\u4E8B\u4EF6\u6A19\u984C"),l(),d(11,"nz-form-control",8),h(12,"input",9),l()()(),d(13,"div",6)(14,"nz-form-item")(15,"nz-form-label",7),p(16,"\u4E8B\u4EF6\u65E5\u671F"),l(),d(17,"nz-form-control",8),h(18,"nz-date-picker",10),l()()(),d(19,"div",6)(20,"nz-form-item")(21,"nz-form-label",7),p(22,"\u4E8B\u4EF6\u985E\u578B"),l(),d(23,"nz-form-control",8)(24,"nz-select",11),h(25,"nz-option",12)(26,"nz-option",13)(27,"nz-option",14),l()()()(),d(28,"div",6)(29,"nz-form-item")(30,"nz-form-label",8),p(31,"\u4E8B\u4EF6\u63CF\u8FF0"),l(),d(32,"nz-form-control",8),h(33,"textarea",15),l()()()()(),d(34,"nz-modal",16),F("nzVisibleChange",function(s){return u(i),M(n.isViewEventVisible,s)||(n.isViewEventVisible=s),C(s)}),z("nzOnCancel",function(){return u(i),C(n.handleViewEventCancel())}),v(35,bt,15,7,"div",17),l()}if(e&2){let i=ee(2);c("nzExtra",i),r(3),c("nzFullscreen",!1),r(2),y("nzVisible",n.isAddEventVisible),r(),c("formGroup",n.eventForm)("nzGutter",16),r(3),c("nzSpan",6),r(2),c("nzSpan",18),r(4),c("nzSpan",6),r(2),c("nzSpan",18),r(4),c("nzSpan",6),r(2),c("nzSpan",18),r(7),c("nzSpan",6),r(2),c("nzSpan",18),r(),c("nzAutosize",oe(16,wt)),r(),y("nzVisible",n.isViewEventVisible),r(),c("ngIf",n.selectedEvent)}},dependencies:[ue,ce,me,st,$,j,ot,at,ye,De,ve,_e,Re,We,ge,he,we,Ee,it,Xe,Ke,et,Ze,nt,tt,Je,$e,je,Ue,qe,Y,P,I,He,Te,xe,R,Ne,ke,Oe,pe],styles:[".events[_ngcontent-%COMP%]{list-style:none;margin:0;padding:0}.events[_ngcontent-%COMP%]   .ant-badge-status[_ngcontent-%COMP%]{overflow:hidden;white-space:nowrap;width:100%;text-overflow:ellipsis;font-size:12px}.event-meeting[_ngcontent-%COMP%]   .ant-badge-status-dot[_ngcontent-%COMP%]{background-color:#1890ff}.event-task[_ngcontent-%COMP%]   .ant-badge-status-dot[_ngcontent-%COMP%]{background-color:#52c41a}.event-reminder[_ngcontent-%COMP%]   .ant-badge-status-dot[_ngcontent-%COMP%]{background-color:#faad14}"],changeDetection:0});var dt=E;export{dt as WorkspaceCalendarComponent};
