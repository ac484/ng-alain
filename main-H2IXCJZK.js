import{a as dt,b as Zu,c as el,d as tl,e as ol,f as al,g as cl,i as ul,j as gl,k as _l}from"./chunk-TXMBLONQ.js";import{d as nl,e as rl,f as il,g as sl}from"./chunk-22VHXWVH.js";import{A as St,B,C as te,D as Qe,E as De,F as Zi,G as Sr,H as ne,I as re,J as fe,K as xe,L as Rl,M as ie,N as Rr,O as P,P as Pl,a as yl,b as Il,c as Ji,d as vl,e as Gt,f as Xi,g as kn,h as Be,i as ft,j as br,k as pt,l as Ee,m as El,n as Tl,o as Nn,p as wl,q as Al,r as Fe,s as zt,t as On,u as Te,v as Oe,w as bl,x as qe,y as Dn,z as Sl}from"./chunk-UWU63BYA.js";import{b as fl,c as pl,d as ml}from"./chunk-EVORRA7Z.js";import"./chunk-65UZK6NH.js";import"./chunk-7I5NSYXU.js";import{C as dl,d as ll,x as hl}from"./chunk-46ZJ5XDF.js";import"./chunk-HHES5VLB.js";import{$ as Pn,$c as Nc,$e as Hc,Af as Eu,Bf as Tu,Cf as wu,Df as Au,Ef as bu,F as Yi,Ff as Su,Fh as Qu,Ga as Ac,Gd as Gc,Gf as Ru,Hf as Pu,If as Cu,Ig as Ku,Jf as ku,Kf as Nu,La as bc,Lf as Ou,M as yc,Mf as Du,Nc as jt,Nf as xu,Nh as Ju,Oc as ht,Of as Vu,Oh as Xu,P as Ic,Pc as Cc,Pf as Lu,Q as vc,Qf as Mu,Rf as Fu,Sf as Uu,T as Ec,Tf as $u,U as Qi,Ua as U,Uf as Bu,Vf as qu,Wf as ju,Xf as Gu,Ze as Kc,_a as Sc,_c as kc,_e as Wc,_g as Wu,ad as Oc,af as Yc,ba as Z,bf as Qc,c as Rn,ca as $e,cf as Jc,da as Me,df as Xc,ea as ee,ed as Dc,ef as Zc,ff as eu,ga as Tc,gd as xc,gf as tu,h as mc,ha as Tr,hd as Vc,hf as nu,i as gc,if as ru,jf as iu,kb as Rc,kd as Lc,kf as su,kg as zu,l as zi,lf as ou,ma as G,md as Mc,mf as au,nd as Fc,nf as cu,of as uu,p as Ki,pd as Ar,pf as lu,q as Wi,qa as wc,qf as hu,ra as D,rd as Uc,rf as du,s as qt,sd as $c,se as zc,sf as fu,sh as Hu,td as Bc,tf as pu,ud as qc,uf as mu,vc as wr,vd as jc,vf as gu,w as Hi,wc as Pc,wf as _u,xa as de,xc as Cn,xf as yu,y as _c,yf as Iu,zf as vu,zh as Yu}from"./chunk-A76PPZD6.js";import{a as Sn,b as Gi,h as lt,i as g}from"./chunk-57BLH6QZ.js";var Cl=new wr("20.0.0");var Kt=class Kt{constructor(){this.router=Me(Ar);this.titleSrv=Me(Yu);this.modalSrv=Me(Wu);this.ngAlainVersion=Xu.full;this.ngZorroVersion=Cl.full;this.donePreloader=Hu()}ngOnInit(){let e=!1;this.router.events.subscribe(n=>{n instanceof Vc&&(e=!0),e&&n instanceof xc&&this.modalSrv.confirm({nzTitle:"\u63D0\u9192",nzContent:dt.production?"\u5E94\u7528\u53EF\u80FD\u5DF2\u53D1\u5E03\u65B0\u7248\u672C\uFF0C\u8BF7\u70B9\u51FB\u5237\u65B0\u624D\u80FD\u751F\u6548\u3002":`\u65E0\u6CD5\u52A0\u8F7D\u8DEF\u7531\uFF1A${n.url}`,nzCancelDisabled:!1,nzOkText:"\u5237\u65B0",nzCancelText:"\u5FFD\u7565",nzOnOk:()=>location.reload()}),n instanceof Dc&&(this.donePreloader(),this.titleSrv.setTitle(),this.modalSrv.closeAll())})}};Kt.\u0275fac=function(n){return new(n||Kt)},Kt.\u0275cmp=bc({type:Kt,selectors:[["app-root"]],hostVars:2,hostBindings:function(n,i){n&2&&Sc("ng-alain-version",i.ngAlainVersion)("ng-zorro-version",i.ngZorroVersion)},decls:1,vars:0,template:function(n,i){n&1&&Rc(0,"router-outlet")},dependencies:[Mc],encapsulation:2});var Pr=Kt;var Nl=[gu,Zc,Pu,cu,Iu];var Ol=[Kc,Wc,Yc,Hc,Xc,Qc,Jc,eu,nu,tu,iu,ru,su,ou,au,uu,lu,du,hu,pu,fu,mu,_u,yu,Eu,vu,Tu,bu,wu,Au,Su,Ru,Uu,ku,Cu,Nu,Du,Ou,Vu,xu,Lu,Fu,Mu,$u,Bu,qu,ju,Gu];var Dl=[{path:"",component:gl,canActivate:[ul,nl],canActivateChild:[rl],data:{},children:[{path:"",redirectTo:"dashboard",pathMatch:"full"},{path:"dashboard",loadChildren:()=>import("./chunk-PPICNYUW.js").then(t=>t.routes)},{path:"widgets",loadChildren:()=>import("./chunk-TFSODSME.js").then(t=>t.routes)},{path:"style",loadChildren:()=>import("./chunk-NM3QWPWM.js").then(t=>t.routes)},{path:"delon",loadChildren:()=>import("./chunk-2S4N5DW7.js").then(t=>t.routes)},{path:"extras",loadChildren:()=>import("./chunk-T2EWJVWD.js").then(t=>t.routes)},{path:"pro",loadChildren:()=>import("./chunk-RR4F22AW.js").then(t=>t.routes)}]},{path:"data-v",component:_l,children:[{path:"",loadChildren:()=>import("./chunk-HA7SFRXS.js").then(t=>t.routes)}]},{path:"",loadChildren:()=>import("./chunk-QMNIM3BW.js").then(t=>t.routes)},{path:"exception",loadChildren:()=>import("./chunk-2XTEXVH7.js").then(t=>t.routes)},{path:"**",redirectTo:"exception/404"}];var nm="firebase",rm="11.10.0";P(nm,rm,"app");var z=new wr("ANGULARFIRE2_VERSION");function se(t,e,n){if(e){if(e.length===1)return e[0];let a=e.filter(u=>u.app===n);if(a.length===1)return a[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var oe=(t,e)=>{let n=e?[e]:Rr(),i=[];return n.forEach(s=>{s.container.getProvider(t).instances.forEach(u=>{i.includes(u)||i.push(u)})}),i},Wt=function(t){return t[t.SILENT=0]="SILENT",t[t.WARN=1]="WARN",t[t.VERBOSE=2]="VERBOSE",t}(Wt||{}),xl=Cn()&&typeof Zone<"u"?Wt.WARN:Wt.SILENT;var Cr=class{zone;delegate;constructor(e,n=gc){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,i){let s=this.zone,a=function(u){s?s.runGuarded(()=>{e.apply(this,[u])}):e.apply(this,[u])};return this.delegate.schedule(a,n,i)}},Q=(()=>{class t{outsideAngular;insideAngular;constructor(){let n=Me(U);this.outsideAngular=n.runOutsideAngular(()=>new Cr(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=n.run(()=>new Cr(typeof Zone>"u"?void 0:Zone.current,mc))}static \u0275fac=function(i){return new(i||t)};static \u0275prov=Pn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Vl=!1;function im(t,e){!Vl&&(xl>Wt.SILENT||Cn())&&(Vl=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),xl>=e&&console.warn(`Firebase API called outside injection context: ${t.name}`)}function sm(t){let e=Me(U,{optional:!0});return e?e.runOutsideAngular(()=>t()):t()}function Rt(t){let e=Me(U,{optional:!0});return e?e.run(()=>t()):t()}var om=(t,e,n)=>(...i)=>(e&&setTimeout(e,0),Tr(n,()=>Rt(()=>t.apply(void 0,i)))),q=(t,e,n)=>(n||=e?Wt.WARN:Wt.VERBOSE,function(){let i,s=arguments,a,u,h;try{a=Me(Q),u=Me(wc),h=Me(Tc)}catch{return im(t,n),t.apply(this,s)}for(let I=0;I<arguments.length;I++)typeof s[I]=="function"&&(e&&(i||=Rt(()=>u.add())),s[I]=om(s[I],i,h));let d=sm(()=>t.apply(this,s));return e?d instanceof Rn?d.pipe(Wi(a.outsideAngular),Ki(a.insideAngular),Gc(h)):d instanceof Promise?Rt(()=>{let I=u.add();return new Promise((A,R)=>{d.then(b=>Tr(h,()=>Rt(()=>A(b))),b=>Tr(h,()=>Rt(()=>R(b)))).finally(I)})}):typeof d=="function"&&i?function(){return setTimeout(i,0),d.apply(this,arguments)}:Rt(()=>d):d instanceof Rn?d.pipe(Wi(a.outsideAngular),Ki(a.insideAngular)):Rt(()=>d)});var K=class{constructor(e){return e}},J=class{constructor(){return Rr()}};function am(t){return t&&t.length===1?t[0]:new K(ie())}var es=new Z("angularfire2._apps"),cm={provide:K,useFactory:am,deps:[[new D,es]]},um={provide:J,deps:[[new D,es]]};function lm(t){return(e,n)=>{let i=n.get(de);P("angularfire",z.full,"core"),P("angularfire",z.full,"app"),P("angular",Pc.full,i.toString());let s=e.runOutsideAngular(()=>t(n));return new K(s)}}function Ll(t,...e){return ee([cm,um,{provide:es,useFactory:lm(t),multi:!0,deps:[U,G,Q,...e]}])}var Ml=q(Rl,!0);var rs=new Map,jl={activated:!1,tokenObservers:[]},hm={initialized:!1,enabled:!1};function ce(t){return rs.get(t)||Object.assign({},jl)}function dm(t,e){return rs.set(t,e),rs.get(t)}function Dr(){return hm}var Gl="https://content-firebaseappcheck.googleapis.com/v1";var fm="exchangeRecaptchaEnterpriseToken",pm="exchangeDebugToken",Fl={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},mm=24*60*60*1e3;var is=class{constructor(e,n,i,s,a){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=i,this.lowerBound=s,this.upperBound=a,this.pending=null,this.nextErrorWaitInterval=s,s>a)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return g(this,null,function*(){this.stop();try{this.pending=new kn,this.pending.promise.catch(n=>{}),yield gm(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new kn,this.pending.promise.catch(n=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}};function gm(t){return new Promise(e=>{setTimeout(e,t)})}var _m={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},be=new Oe("appCheck","AppCheck",_m);function Ul(t=!1){var e;return t?(e=self.grecaptcha)===null||e===void 0?void 0:e.enterprise:self.grecaptcha}function as(t){if(!ce(t).activated)throw be.create("use-before-activation",{appName:t.name})}function zl(t){let e=Math.round(t/1e3),n=Math.floor(e/(3600*24)),i=Math.floor((e-n*3600*24)/3600),s=Math.floor((e-n*3600*24-i*3600)/60),a=e-n*3600*24-i*3600-s*60,u="";return n&&(u+=kr(n)+"d:"),i&&(u+=kr(i)+"h:"),u+=kr(s)+"m:"+kr(a)+"s",u}function kr(t){return t===0?"00":t>=10?t.toString():"0"+t}function cs(i,s){return g(this,arguments,function*({url:t,body:e},n){let a={"Content-Type":"application/json"},u=n.getImmediate({optional:!0});if(u){let C=yield u.getHeartbeatsHeader();C&&(a["X-Firebase-Client"]=C)}let h={method:"POST",body:JSON.stringify(e),headers:a},d;try{d=yield fetch(t,h)}catch(C){throw be.create("fetch-network-error",{originalErrorMessage:C?.message})}if(d.status!==200)throw be.create("fetch-status-error",{httpStatus:d.status});let I;try{I=yield d.json()}catch(C){throw be.create("fetch-parse-error",{originalErrorMessage:C?.message})}let A=I.ttl.match(/^([\d.]+)(s)$/);if(!A||!A[2]||isNaN(Number(A[1])))throw be.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${I.ttl}`});let R=Number(A[1])*1e3,b=Date.now();return{token:I.token,expireTimeMillis:b+R,issuedAtTimeMillis:b}})}function ym(t,e){let{projectId:n,appId:i,apiKey:s}=t.options;return{url:`${Gl}/projects/${n}/apps/${i}:${fm}?key=${s}`,body:{recaptcha_enterprise_token:e}}}function Kl(t,e){let{projectId:n,appId:i,apiKey:s}=t.options;return{url:`${Gl}/projects/${n}/apps/${i}:${pm}?key=${s}`,body:{debug_token:e}}}var Im="firebase-app-check-database",vm=1,xn="firebase-app-check-store",Wl="debug-token",Nr=null;function Hl(){return Nr||(Nr=new Promise((t,e)=>{try{let n=indexedDB.open(Im,vm);n.onsuccess=i=>{t(i.target.result)},n.onerror=i=>{var s;e(be.create("storage-open",{originalErrorMessage:(s=i.target.error)===null||s===void 0?void 0:s.message}))},n.onupgradeneeded=i=>{let s=i.target.result;switch(i.oldVersion){case 0:s.createObjectStore(xn,{keyPath:"compositeKey"})}}}catch(n){e(be.create("storage-open",{originalErrorMessage:n?.message}))}}),Nr)}function Em(t){return Ql(Jl(t))}function Tm(t,e){return Yl(Jl(t),e)}function wm(t){return Yl(Wl,t)}function Am(){return Ql(Wl)}function Yl(t,e){return g(this,null,function*(){let i=(yield Hl()).transaction(xn,"readwrite"),a=i.objectStore(xn).put({compositeKey:t,value:e});return new Promise((u,h)=>{a.onsuccess=d=>{u()},i.onerror=d=>{var I;h(be.create("storage-set",{originalErrorMessage:(I=d.target.error)===null||I===void 0?void 0:I.message}))}})})}function Ql(t){return g(this,null,function*(){let n=(yield Hl()).transaction(xn,"readonly"),s=n.objectStore(xn).get(t);return new Promise((a,u)=>{s.onsuccess=h=>{let d=h.target.result;a(d?d.value:void 0)},n.onerror=h=>{var d;u(be.create("storage-get",{originalErrorMessage:(d=h.target.error)===null||d===void 0?void 0:d.message}))}})})}function Jl(t){return`${t.options.appId}-${t.name}`}var mt=new De("@firebase/app-check");function bm(t){return g(this,null,function*(){if(Fe()){let e;try{e=yield Em(t)}catch(n){mt.warn(`Failed to read token from IndexedDB. Error: ${n}`)}return e}})}function ts(t,e){return Fe()?Tm(t,e).catch(n=>{mt.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function Sm(){return g(this,null,function*(){let t;try{t=yield Am()}catch{}if(t)return t;{let e=crypto.randomUUID();return wm(e).catch(n=>mt.warn(`Failed to persist debug token to IndexedDB. Error: ${n}`)),e}})}function us(){return Dr().enabled}function ls(){return g(this,null,function*(){let t=Dr();if(t.enabled&&t.token)return t.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}function Rm(){let t=Ji(),e=Dr();if(e.initialized=!0,typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN!="string"&&t.FIREBASE_APPCHECK_DEBUG_TOKEN!==!0)return;e.enabled=!0;let n=new kn;e.token=n,typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN=="string"?n.resolve(t.FIREBASE_APPCHECK_DEBUG_TOKEN):n.resolve(Sm())}var Pm={error:"UNKNOWN_ERROR"};function Cm(t){return yl.encodeString(JSON.stringify(t),!1)}function ss(t,e=!1,n=!1){return g(this,null,function*(){let i=t.app;as(i);let s=ce(i),a=s.token,u;if(a&&!Ht(a)&&(s.token=void 0,a=void 0),!a){let I=yield s.cachedTokenPromise;I&&(Ht(I)?a=I:yield ts(i,void 0))}if(!e&&a&&Ht(a))return{token:a.token};let h=!1;if(us())try{s.exchangeTokenPromise||(s.exchangeTokenPromise=cs(Kl(i,yield ls()),t.heartbeatServiceProvider).finally(()=>{s.exchangeTokenPromise=void 0}),h=!0);let I=yield s.exchangeTokenPromise;return yield ts(i,I),s.token=I,{token:I.token}}catch(I){return I.code==="appCheck/throttled"||I.code==="appCheck/initial-throttle"?mt.warn(I.message):n&&mt.error(I),ns(I)}try{s.exchangeTokenPromise||(s.exchangeTokenPromise=s.provider.getToken().finally(()=>{s.exchangeTokenPromise=void 0}),h=!0),a=yield ce(i).exchangeTokenPromise}catch(I){I.code==="appCheck/throttled"||I.code==="appCheck/initial-throttle"?mt.warn(I.message):n&&mt.error(I),u=I}let d;return a?u?Ht(a)?d={token:a.token,internalError:u}:d=ns(u):(d={token:a.token},s.token=a,yield ts(i,a)):d=ns(u),h&&eh(i,d),d})}function km(t){return g(this,null,function*(){let e=t.app;as(e);let{provider:n}=ce(e);if(us()){let i=yield ls(),{token:s}=yield cs(Kl(e,i),t.heartbeatServiceProvider);return{token:s}}else{let{token:i}=yield n.getToken();return{token:i}}})}function Xl(t,e,n,i){let{app:s}=t,a=ce(s),u={next:n,error:i,type:e};if(a.tokenObservers=[...a.tokenObservers,u],a.token&&Ht(a.token)){let h=a.token;Promise.resolve().then(()=>{n({token:h.token}),$l(t)}).catch(()=>{})}a.cachedTokenPromise.then(()=>$l(t))}function Zl(t,e){let n=ce(t),i=n.tokenObservers.filter(s=>s.next!==e);i.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=i}function $l(t){let{app:e}=t,n=ce(e),i=n.tokenRefresher;i||(i=Nm(t),n.tokenRefresher=i),!i.isRunning()&&n.isTokenAutoRefreshEnabled&&i.start()}function Nm(t){let{app:e}=t;return new is(()=>g(null,null,function*(){let n=ce(e),i;if(n.token?i=yield ss(t,!0):i=yield ss(t),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{let n=ce(e);if(n.token){let i=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5,s=n.token.expireTimeMillis-5*60*1e3;return i=Math.min(i,s),Math.max(0,i-Date.now())}else return 0},Fl.RETRIAL_MIN_WAIT,Fl.RETRIAL_MAX_WAIT)}function eh(t,e){let n=ce(t).tokenObservers;for(let i of n)try{i.type==="EXTERNAL"&&e.error!=null?i.error(e.error):i.next(e)}catch{}}function Ht(t){return t.expireTimeMillis-Date.now()>0}function ns(t){return{token:Cm(Pm),error:t}}var os=class{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){let{tokenObservers:e}=ce(this.app);for(let n of e)Zl(this.app,n.next);return Promise.resolve()}};function Om(t,e){return new os(t,e)}function Dm(t){return{getToken:e=>ss(t,e),getLimitedUseToken:()=>km(t),addTokenListener:e=>Xl(t,"INTERNAL",e),removeTokenListener:e=>Zl(t.app,e)}}var xm="@firebase/app-check",Vm="0.10.1";var Lm="https://www.google.com/recaptcha/enterprise.js";function Mm(t,e){let n=new kn,i=ce(t);i.reCAPTCHAState={initialized:n};let s=Fm(t),a=Ul(!0);return a?Bl(t,e,a,s,n):Bm(()=>{let u=Ul(!0);if(!u)throw new Error("no recaptcha");Bl(t,e,u,s,n)}),n.promise}function Bl(t,e,n,i,s){n.ready(()=>{$m(t,e,n,i),s.resolve(n)})}function Fm(t){let e=`fire_app_check_${t.name}`,n=document.createElement("div");return n.id=e,n.style.display="none",document.body.appendChild(n),e}function Um(t){return g(this,null,function*(){as(t);let n=yield ce(t).reCAPTCHAState.initialized.promise;return new Promise((i,s)=>{let a=ce(t).reCAPTCHAState;n.ready(()=>{i(n.execute(a.widgetId,{action:"fire_app_check"}))})})})}function $m(t,e,n,i){let s=n.render(i,{sitekey:e,size:"invisible",callback:()=>{ce(t).reCAPTCHAState.succeeded=!0},"error-callback":()=>{ce(t).reCAPTCHAState.succeeded=!1}}),a=ce(t);a.reCAPTCHAState=Object.assign(Object.assign({},a.reCAPTCHAState),{widgetId:s})}function Bm(t){let e=document.createElement("script");e.src=Lm,e.onload=t,document.head.appendChild(e)}var Or=class t{constructor(e){this._siteKey=e,this._throttleData=null}getToken(){return g(this,null,function*(){var e,n,i;jm(this._throttleData);let s=yield Um(this._app).catch(u=>{throw be.create("recaptcha-error")});if(!(!((e=ce(this._app).reCAPTCHAState)===null||e===void 0)&&e.succeeded))throw be.create("recaptcha-error");let a;try{a=yield cs(ym(this._app,s),this._heartbeatServiceProvider)}catch(u){throw!((n=u.code)===null||n===void 0)&&n.includes("fetch-status-error")?(this._throttleData=qm(Number((i=u.customData)===null||i===void 0?void 0:i.httpStatus),this._throttleData),be.create("initial-throttle",{time:zl(this._throttleData.allowRequestsAfter-Date.now()),httpStatus:this._throttleData.httpStatus})):u}return this._throttleData=null,a})}initialize(e){this._app=e,this._heartbeatServiceProvider=re(e,"heartbeat"),Mm(e,this._siteKey).catch(()=>{})}isEqual(e){return e instanceof t?this._siteKey===e._siteKey:!1}};function qm(t,e){if(t===404||t===403)return{backoffCount:1,allowRequestsAfter:Date.now()+mm,httpStatus:t};{let n=e?e.backoffCount:0,i=St(n,1e3,2);return{backoffCount:n+1,allowRequestsAfter:Date.now()+i,httpStatus:t}}}function jm(t){if(t&&Date.now()-t.allowRequestsAfter<=0)throw be.create("throttled",{time:zl(t.allowRequestsAfter-Date.now()),httpStatus:t.httpStatus})}function th(t=ie(),e){t=B(t);let n=re(t,"app-check");if(Dr().initialized||Rm(),us()&&ls().then(s=>console.log(`App Check debug token: ${s}. You will need to add it to your app's App Check settings in the Firebase console for it to work.`)),n.isInitialized()){let s=n.getImmediate(),a=n.getOptions();if(a.isTokenAutoRefreshEnabled===e.isTokenAutoRefreshEnabled&&a.provider.isEqual(e.provider))return s;throw be.create("already-initialized",{appName:t.name})}let i=n.initialize({options:e});return Gm(t,e.provider,e.isTokenAutoRefreshEnabled),ce(t).isTokenAutoRefreshEnabled&&Xl(i,"INTERNAL",()=>{}),i}function Gm(t,e,n=!1){let i=dm(t,Object.assign({},jl));i.activated=!0,i.provider=e,i.cachedTokenPromise=bm(t).then(s=>(s&&Ht(s)&&(i.token=s,eh(t,{token:s.token})),s)),i.isTokenAutoRefreshEnabled=n&&t.automaticDataCollectionEnabled,!t.automaticDataCollectionEnabled&&n&&mt.warn("`isTokenAutoRefreshEnabled` is true but `automaticDataCollectionEnabled` was set to false during `initializeApp()`. This blocks automatic token refresh."),i.provider.initialize(t)}var zm="app-check",ql="app-check-internal";function Km(){ne(new te(zm,t=>{let e=t.getProvider("app").getImmediate(),n=t.getProvider("heartbeat");return Om(e,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(ql).initialize()})),ne(new te(ql,t=>{let e=t.getProvider("app-check").getImmediate();return Dm(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),P(xm,Vm)}Km();var nh="app-check",Vn=class{constructor(e){return e}},Ce=class{constructor(){return oe(nh)}};var hs=new Z("angularfire2.app-check-instances");function Wm(t,e){let n=se(nh,t,e);return n&&new Vn(n)}var Hm=["localhost","0.0.0.0","127.0.0.1"],Ym=typeof window<"u"&&Hm.includes(window.location.hostname);function Qm(t){return(e,n,i)=>{!ht(i)&&(Cn()||Ym)&&(globalThis.FIREBASE_APPCHECK_DEBUG_TOKEN??=!0);let s=e.runOutsideAngular(()=>t(n));return new Vn(s)}}var Jm={provide:Ce,deps:[[new D,hs]]},Xm={provide:Vn,useFactory:Wm,deps:[[new D,hs],K,de]};function rh(t,...e){return P("angularfire",z.full,"app-check"),ee([Xm,Jm,{provide:hs,useFactory:Qm(t),multi:!0,deps:[U,G,de,Q,J,...e]}])}var ih=q(th,!0);function Ih(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var vh=Ih,Eh=new Oe("auth","Firebase",Ih());var Ur=new De("@firebase/auth");function Zm(t,...e){Ur.logLevel<=Qe.WARN&&Ur.warn(`Auth (${xe}): ${t}`,...e)}function Vr(t,...e){Ur.logLevel<=Qe.ERROR&&Ur.error(`Auth (${xe}): ${t}`,...e)}function yt(t,...e){throw Ns(t,...e)}function Ct(t,...e){return Ns(t,...e)}function Th(t,e,n){let i=Object.assign(Object.assign({},vh()),{[e]:n});return new Oe("auth","Firebase",i).create(e,{appName:t.name})}function Pt(t){return Th(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ns(t,...e){if(typeof t!="string"){let n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return Eh.create(t,...e)}function O(t,e,...n){if(!t)throw Ns(e,...n)}function Je(t){let e="INTERNAL ASSERTION FAILED: "+t;throw Vr(e),new Error(e)}function It(t,e){t||Je(e)}function ms(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function eg(){return sh()==="http:"||sh()==="https:"}function sh(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function tg(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(eg()||Nn()||"connection"in navigator)?navigator.onLine:!0}function ng(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var kt=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,It(n>e,"Short delay should be less than long delay!"),this.isMobile=El()||wl()}get(){return tg()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function Os(t,e){It(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var $r=class{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Je("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Je("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Je("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var rg={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var ig=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],sg=new kt(3e4,6e4);function Ds(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Yt(a,u,h,d){return g(this,arguments,function*(t,e,n,i,s={}){return wh(t,s,()=>g(null,null,function*(){let I={},A={};i&&(e==="GET"?A=i:I={body:JSON.stringify(i)});let R=Dn(Object.assign({key:t.config.apiKey},A)).slice(1),b=yield t._getAdditionalHeaders();b["Content-Type"]="application/json",t.languageCode&&(b["X-Firebase-Locale"]=t.languageCode);let C=Object.assign({method:e,headers:b},I);return Tl()||(C.referrerPolicy="no-referrer"),t.emulatorConfig&&Be(t.emulatorConfig.host)&&(C.credentials="include"),$r.fetch()(yield Ah(t,t.config.apiHost,n,R),C)}))})}function wh(t,e,n){return g(this,null,function*(){t._canInitEmulator=!1;let i=Object.assign(Object.assign({},rg),e);try{let s=new gs(t),a=yield Promise.race([n(),s.promise]);s.clearNetworkTimeout();let u=yield a.json();if("needConfirmation"in u)throw xr(t,"account-exists-with-different-credential",u);if(a.ok&&!("errorMessage"in u))return u;{let h=a.ok?u.errorMessage:u.error.message,[d,I]=h.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw xr(t,"credential-already-in-use",u);if(d==="EMAIL_EXISTS")throw xr(t,"email-already-in-use",u);if(d==="USER_DISABLED")throw xr(t,"user-disabled",u);let A=i[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(I)throw Th(t,A,I);yt(t,A)}}catch(s){if(s instanceof Te)throw s;yt(t,"network-request-failed",{message:String(s)})}})}function og(a,u,h,d){return g(this,arguments,function*(t,e,n,i,s={}){let I=yield Yt(t,e,n,i,s);return"mfaPendingCredential"in I&&yt(t,"multi-factor-auth-required",{_serverResponse:I}),I})}function Ah(t,e,n,i){return g(this,null,function*(){let s=`${e}${n}?${i}`,a=t,u=a.config.emulator?Os(t.config,s):`${t.config.apiScheme}://${s}`;return ig.includes(n)&&(yield a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(u).toString():u})}var gs=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Ct(this.auth,"network-request-failed")),sg.get())})}};function xr(t,e,n){let i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);let s=Ct(t,e,i);return s.customData._tokenResponse=n,s}function ag(t,e){return g(this,null,function*(){return Yt(t,"POST","/v1/accounts:delete",e)})}function Br(t,e){return g(this,null,function*(){return Yt(t,"POST","/v1/accounts:lookup",e)})}function Ln(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function xs(t,e=!1){return g(this,null,function*(){let n=B(t),i=yield n.getIdToken(e),s=Vs(i);O(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");let a=typeof s.firebase=="object"?s.firebase:void 0,u=a?.sign_in_provider;return{claims:s,token:i,authTime:Ln(ds(s.auth_time)),issuedAtTime:Ln(ds(s.iat)),expirationTime:Ln(ds(s.exp)),signInProvider:u||null,signInSecondFactor:a?.sign_in_second_factor||null}})}function ds(t){return Number(t)*1e3}function Vs(t){let[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return Vr("JWT malformed, contained fewer than 3 sections"),null;try{let s=Il(n);return s?JSON.parse(s):(Vr("Failed to decode base64 JWT payload"),null)}catch(s){return Vr("Caught error parsing JWT payload as JSON",s?.toString()),null}}function oh(t){let e=Vs(t);return O(e,"internal-error"),O(typeof e.exp<"u","internal-error"),O(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Fn(t,e,n=!1){return g(this,null,function*(){if(n)return e;try{return yield e}catch(i){throw i instanceof Te&&cg(i)&&t.auth.currentUser===t&&(yield t.auth.signOut()),i}})}function cg({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var _s=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;let s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>g(this,null,function*(){yield this.iteration()}),n)}iteration(){return g(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Un=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ln(this.lastLoginAt),this.creationTime=Ln(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function qr(t){return g(this,null,function*(){var e;let n=t.auth,i=yield t.getIdToken(),s=yield Fn(t,Br(n,{idToken:i}));O(s?.users.length,n,"internal-error");let a=s.users[0];t._notifyReloadListener(a);let u=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?bh(a.providerUserInfo):[],h=ug(t.providerData,u),d=t.isAnonymous,I=!(t.email&&a.passwordHash)&&!h?.length,A=d?I:!1,R={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:h,metadata:new Un(a.createdAt,a.lastLoginAt),isAnonymous:A};Object.assign(t,R)})}function Ls(t){return g(this,null,function*(){let e=B(t);yield qr(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function ug(t,e){return[...t.filter(i=>!e.some(s=>s.providerId===i.providerId)),...e]}function bh(t){return t.map(e=>{var{providerId:n}=e,i=zi(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}function lg(t,e){return g(this,null,function*(){let n=yield wh(t,{},()=>g(null,null,function*(){let i=Dn({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:a}=t.config,u=yield Ah(t,s,"/v1/token",`key=${a}`),h=yield t._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";let d={method:"POST",headers:h,body:i};return t.emulatorConfig&&Be(t.emulatorConfig.host)&&(d.credentials="include"),$r.fetch()(u,d)}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function hg(t,e){return g(this,null,function*(){return Yt(t,"POST","/v2/accounts:revokeToken",Ds(t,e))})}var Mn=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){O(e.idToken,"internal-error"),O(typeof e.idToken<"u","internal-error"),O(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):oh(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){O(e.length!==0,"internal-error");let n=oh(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return g(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(O(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return g(this,null,function*(){let{accessToken:i,refreshToken:s,expiresIn:a}=yield lg(e,n);this.updateTokensAndExpiration(i,s,Number(a))})}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){let{refreshToken:i,accessToken:s,expirationTime:a}=n,u=new t;return i&&(O(typeof i=="string","internal-error",{appName:e}),u.refreshToken=i),s&&(O(typeof s=="string","internal-error",{appName:e}),u.accessToken=s),a&&(O(typeof a=="number","internal-error",{appName:e}),u.expirationTime=a),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return Je("not implemented")}};function gt(t,e){O(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var _t=class t{constructor(e){var{uid:n,auth:i,stsTokenManager:s}=e,a=zi(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new _s(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Un(a.createdAt||void 0,a.lastLoginAt||void 0)}getIdToken(e){return g(this,null,function*(){let n=yield Fn(this,this.stsTokenManager.getToken(this.auth,e));return O(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return xs(this,e)}reload(){return Ls(this)}_assign(e){this!==e&&(O(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){O(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return g(this,null,function*(){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield qr(this)),yield this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)})}delete(){return g(this,null,function*(){if(fe(this.auth.app))return Promise.reject(Pt(this.auth));let e=yield this.getIdToken();return yield Fn(this,ag(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,s,a,u,h,d,I,A;let R=(i=n.displayName)!==null&&i!==void 0?i:void 0,b=(s=n.email)!==null&&s!==void 0?s:void 0,C=(a=n.phoneNumber)!==null&&a!==void 0?a:void 0,N=(u=n.photoURL)!==null&&u!==void 0?u:void 0,V=(h=n.tenantId)!==null&&h!==void 0?h:void 0,k=(d=n._redirectEventId)!==null&&d!==void 0?d:void 0,W=(I=n.createdAt)!==null&&I!==void 0?I:void 0,ue=(A=n.lastLoginAt)!==null&&A!==void 0?A:void 0,{uid:H,emailVerified:Y,isAnonymous:Ne,providerData:le,stsTokenManager:v}=n;O(H&&v,e,"internal-error");let f=Mn.fromJSON(this.name,v);O(typeof H=="string",e,"internal-error"),gt(R,e.name),gt(b,e.name),O(typeof Y=="boolean",e,"internal-error"),O(typeof Ne=="boolean",e,"internal-error"),gt(C,e.name),gt(N,e.name),gt(V,e.name),gt(k,e.name),gt(W,e.name),gt(ue,e.name);let m=new t({uid:H,auth:e,email:b,emailVerified:Y,displayName:R,isAnonymous:Ne,photoURL:N,phoneNumber:C,tenantId:V,stsTokenManager:f,createdAt:W,lastLoginAt:ue});return le&&Array.isArray(le)&&(m.providerData=le.map(_=>Object.assign({},_))),k&&(m._redirectEventId=k),m}static _fromIdTokenResponse(e,n,i=!1){return g(this,null,function*(){let s=new Mn;s.updateFromServerResponse(n);let a=new t({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:i});return yield qr(a),a})}static _fromGetAccountInfoResponse(e,n,i){return g(this,null,function*(){let s=n.users[0];O(s.localId!==void 0,"internal-error");let a=s.providerUserInfo!==void 0?bh(s.providerUserInfo):[],u=!(s.email&&s.passwordHash)&&!a?.length,h=new Mn;h.updateFromIdToken(i);let d=new t({uid:s.localId,auth:e,stsTokenManager:h,isAnonymous:u}),I={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Un(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!a?.length};return Object.assign(d,I),d})}};var ah=new Map;function Xe(t){It(t instanceof Function,"Expected a class definition");let e=ah.get(t);return e?(It(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,ah.set(t,e),e)}var dg=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return g(this,null,function*(){return!0})}_set(n,i){return g(this,null,function*(){this.storage[n]=i})}_get(n){return g(this,null,function*(){let i=this.storage[n];return i===void 0?null:i})}_remove(n){return g(this,null,function*(){delete this.storage[n]})}_addListener(n,i){}_removeListener(n,i){}}return t.type="NONE",t})(),ys=dg;function Lr(t,e,n){return`firebase:${t}:${e}:${n}`}var jr=class t{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;let{config:s,name:a}=this.auth;this.fullUserKey=Lr(this.userKey,s.apiKey,a),this.fullPersistenceKey=Lr("persistence",s.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return g(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let n=yield Br(this.auth,{idToken:e}).catch(()=>{});return n?_t._fromGetAccountInfoResponse(this.auth,n,e):null}return _t._fromJSON(this.auth,e)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return g(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,i="authUser"){return g(this,null,function*(){if(!n.length)return new t(Xe(ys),e,i);let s=(yield Promise.all(n.map(I=>g(null,null,function*(){if(yield I._isAvailable())return I})))).filter(I=>I),a=s[0]||Xe(ys),u=Lr(i,e.config.apiKey,e.name),h=null;for(let I of n)try{let A=yield I._get(u);if(A){let R;if(typeof A=="string"){let b=yield Br(e,{idToken:A}).catch(()=>{});if(!b)break;R=yield _t._fromGetAccountInfoResponse(e,b,A)}else R=_t._fromJSON(e,A);I!==a&&(h=R),a=I;break}}catch{}let d=s.filter(I=>I._shouldAllowMigration);return!a._shouldAllowMigration||!d.length?new t(a,e,i):(a=d[0],h&&(yield a._set(u,h.toJSON())),yield Promise.all(n.map(I=>g(null,null,function*(){if(I!==a)try{yield I._remove(u)}catch{}}))),new t(a,e,i))})}};function ch(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Ch(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Sh(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Nh(e))return"Blackberry";if(Oh(e))return"Webos";if(Rh(e))return"Safari";if((e.includes("chrome/")||Ph(e))&&!e.includes("edge/"))return"Chrome";if(kh(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if(i?.length===2)return i[1]}return"Other"}function Sh(t=Ee()){return/firefox\//i.test(t)}function Rh(t=Ee()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Ph(t=Ee()){return/crios\//i.test(t)}function Ch(t=Ee()){return/iemobile/i.test(t)}function kh(t=Ee()){return/android/i.test(t)}function Nh(t=Ee()){return/blackberry/i.test(t)}function Oh(t=Ee()){return/webos/i.test(t)}function Ms(t=Ee()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function fg(t=Ee()){var e;return Ms(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function pg(){return Al()&&document.documentMode===10}function Dh(t=Ee()){return Ms(t)||kh(t)||Oh(t)||Nh(t)||/windows phone/i.test(t)||Ch(t)}function xh(t,e=[]){let n;switch(t){case"Browser":n=ch(Ee());break;case"Worker":n=`${ch(Ee())}-${t}`;break;default:n=t}let i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${xe}/${i}`}var Is=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let i=a=>new Promise((u,h)=>{try{let d=e(a);u(d)}catch(d){h(d)}});i.onAbort=n,this.queue.push(i);let s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}runMiddleware(e){return g(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let i of this.queue)yield i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(let s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})}};function mg(n){return g(this,arguments,function*(t,e={}){return Yt(t,"GET","/v2/passwordPolicy",Ds(t,e))})}var gg=6,vs=class{constructor(e){var n,i,s,a;let u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=u.minPasswordLength)!==null&&n!==void 0?n:gg,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,s,a,u,h;let d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(n=d.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),d.isValid&&(d.isValid=(i=d.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),d.isValid&&(d.isValid=(s=d.containsLowercaseLetter)!==null&&s!==void 0?s:!0),d.isValid&&(d.isValid=(a=d.containsUppercaseLetter)!==null&&a!==void 0?a:!0),d.isValid&&(d.isValid=(u=d.containsNumericCharacter)!==null&&u!==void 0?u:!0),d.isValid&&(d.isValid=(h=d.containsNonAlphanumericCharacter)!==null&&h!==void 0?h:!0),d}validatePasswordLengthOptions(e,n){let i=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let s=0;s<e.length;s++)i=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,s,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}};var Es=class{constructor(e,n,i,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Gr(this),this.idTokenSubscription=new Gr(this),this.beforeStateQueue=new Is(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Eh,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Xe(n)),this._initializationPromise=this.queue(()=>g(this,null,function*(){var i,s,a;if(!this._deleted&&(this.persistenceManager=yield jr.create(this,e),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return g(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return g(this,null,function*(){try{let n=yield Br(this,{idToken:e}),i=yield _t._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return g(this,null,function*(){var n;if(fe(this.app)){let u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}let i=yield this.assertedPersistence.getCurrentUser(),s=i,a=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let u=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,h=s?._redirectEventId,d=yield this.tryRedirectSignIn(e);(!u||u===h)&&d?.user&&(s=d.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{yield this.beforeStateQueue.runMiddleware(s)}catch(u){s=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return O(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)})}tryRedirectSignIn(e){return g(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return g(this,null,function*(){try{yield qr(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=ng()}_delete(){return g(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return g(this,null,function*(){if(fe(this.app))return Promise.reject(Pt(this));let n=e?B(e):null;return n&&O(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return g(this,null,function*(){if(!this._deleted)return e&&O(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>g(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return g(this,null,function*(){return fe(this.app)?Promise.reject(Pt(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return fe(this.app)?Promise.reject(Pt(this)):this.queue(()=>g(this,null,function*(){yield this.assertedPersistence.setPersistence(Xe(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return g(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return g(this,null,function*(){let e=yield mg(this),n=new vs(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Oe("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let i=this.onAuthStateChanged(()=>{i(),e()},n)}})}revokeAccessToken(e){return g(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),yield hg(this,i)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return g(this,null,function*(){let i=yield this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return g(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&Xe(e)||this._popupRedirectResolver;O(n,this,"argument-error"),this.redirectPersistenceManager=yield jr.create(this,[Xe(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return g(this,null,function*(){var n,i;return this._isInitialized&&(yield this.queue(()=>g(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return g(this,null,function*(){if(e===this.currentUser)return this.queue(()=>g(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,s){if(this._deleted)return()=>{};let a=typeof n=="function"?n:n.next.bind(n),u=!1,h=this._isInitialized?Promise.resolve():this._initializationPromise;if(O(h,this,"internal-error"),h.then(()=>{u||a(this.currentUser)}),typeof n=="function"){let d=e.addObserver(n,i,s);return()=>{u=!0,d()}}else{let d=e.addObserver(n);return()=>{u=!0,d()}}}directlySetCurrentUser(e){return g(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return O(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=xh(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return g(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let i=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();i&&(n["X-Firebase-Client"]=i);let s=yield this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n})}_getAppCheckToken(){return g(this,null,function*(){var e;if(fe(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&Zm(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function Fs(t){return B(t)}var Gr=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=Sl(n=>this.observer=n)}get next(){return O(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Us={loadJS(){return g(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function _g(t){Us=t}function yg(t){return Us.loadJS(t)}function Ig(){return Us.gapiScript}function Vh(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function $s(t,e){let n=re(t,"auth");if(n.isInitialized()){let s=n.getImmediate(),a=n.getOptions();if(qe(a,e??{}))return s;yt(s,"already-initialized")}return n.initialize({options:e})}function vg(t,e){let n=e?.persistence||[],i=(Array.isArray(n)?n:[n]).map(Xe);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e?.popupRedirectResolver)}function Bs(t,e,n){let i=Fs(t);O(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");let s=!!n?.disableWarnings,a=Lh(e),{host:u,port:h}=Eg(e),d=h===null?"":`:${h}`,I={url:`${a}//${u}${d}/`},A=Object.freeze({host:u,port:h,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!i._canInitEmulator){O(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),O(qe(I,i.config.emulator)&&qe(A,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=I,i.emulatorConfig=A,i.settings.appVerificationDisabledForTesting=!0,Be(u)?(ft(`${a}//${u}${d}`),pt("Auth",!0)):s||Tg()}function Lh(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Eg(t){let e=Lh(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let i=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(i);if(s){let a=s[1];return{host:a,port:uh(i.substr(a.length+1))}}else{let[a,u]=i.split(":");return{host:a,port:uh(u)}}}function uh(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function Tg(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var zr=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Je("not implemented")}_getIdTokenResponse(e){return Je("not implemented")}_linkToIdToken(e,n){return Je("not implemented")}_getReauthenticationResolver(e){return Je("not implemented")}};function fs(t,e){return g(this,null,function*(){return og(t,"POST","/v1/accounts:signInWithIdp",Ds(t,e))})}var Kr=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var Ts=class extends Kr{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var $n=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,i,s=!1){return g(this,null,function*(){let a=yield _t._fromIdTokenResponse(e,i,s),u=lh(i);return new t({user:a,providerId:u,_tokenResponse:i,operationType:n})})}static _forOperation(e,n,i){return g(this,null,function*(){yield e._updateTokensIfNecessary(i,!0);let s=lh(i);return new t({user:e,providerId:s,_tokenResponse:i,operationType:n})})}};function lh(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var ws=class t extends Te{constructor(e,n,i,s){var a;super(n.code,n.message),this.operationType=i,this.user=s,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,s){return new t(e,n,i,s)}};function Mh(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?ws._fromErrorAndOperation(t,a,e,i):a})}function wg(t,e,n=!1){return g(this,null,function*(){let i=yield Fn(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return $n._forOperation(t,"link",i)})}function Ag(t,e,n=!1){return g(this,null,function*(){let{auth:i}=t;if(fe(i.app))return Promise.reject(Pt(i));let s="reauthenticate";try{let a=yield Fn(t,Mh(i,s,e,t),n);O(a.idToken,i,"internal-error");let u=Vs(a.idToken);O(u,i,"internal-error");let{sub:h}=u;return O(t.uid===h,i,"user-mismatch"),$n._forOperation(t,s,a)}catch(a){throw a?.code==="auth/user-not-found"&&yt(i,"user-mismatch"),a}})}function bg(t,e,n=!1){return g(this,null,function*(){if(fe(t.app))return Promise.reject(Pt(t));let i="signIn",s=yield Mh(t,i,e),a=yield $n._fromIdTokenResponse(t,i,s);return n||(yield t._updateCurrentUser(a.user)),a})}function Jr(t,e,n,i){return B(t).onIdTokenChanged(e,n,i)}function qs(t,e,n){return B(t).beforeAuthStateChanged(e,n)}function Xr(t,e,n,i){return B(t).onAuthStateChanged(e,n,i)}var Wr="__sak";var Hr=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Wr,"1"),this.storage.removeItem(Wr),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var Sg=1e3,Rg=10,Pg=(()=>{class t extends Hr{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,i)=>this.onStorageEvent(n,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Dh(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let i of Object.keys(this.listeners)){let s=this.storage.getItem(i),a=this.localCache[i];s!==a&&n(i,a,s)}}onStorageEvent(n,i=!1){if(!n.key){this.forAllChangedKeys((h,d,I)=>{this.notifyListeners(h,I)});return}let s=n.key;i?this.detachListener():this.stopPolling();let a=()=>{let h=this.storage.getItem(s);!i&&this.localCache[s]===h||this.notifyListeners(s,h)},u=this.storage.getItem(s);pg()&&u!==n.newValue&&n.newValue!==n.oldValue?setTimeout(a,Rg):a()}notifyListeners(n,i){this.localCache[n]=i;let s=this.listeners[n];if(s)for(let a of Array.from(s))a(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,i,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:i,newValue:s}),!0)})},Sg)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(i)}_removeListener(n,i){this.listeners[n]&&(this.listeners[n].delete(i),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,i){return g(this,null,function*(){yield lt(t.prototype,this,"_set").call(this,n,i),this.localCache[n]=JSON.stringify(i)})}_get(n){return g(this,null,function*(){let i=yield lt(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(i),i})}_remove(n){return g(this,null,function*(){yield lt(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),Fh=Pg;var Cg=(()=>{class t extends Hr{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,i){}_removeListener(n,i){}}return t.type="SESSION",t})(),js=Cg;function kg(t){return Promise.all(t.map(e=>g(null,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var Ng=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let i=this.receivers.find(a=>a.isListeningto(n));if(i)return i;let s=new t(n);return this.receivers.push(s),s}isListeningto(n){return this.eventTarget===n}handleEvent(n){return g(this,null,function*(){let i=n,{eventId:s,eventType:a,data:u}=i.data,h=this.handlersMap[a];if(!h?.size)return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:a});let d=Array.from(h).map(A=>g(this,null,function*(){return A(i.origin,u)})),I=yield kg(d);i.ports[0].postMessage({status:"done",eventId:s,eventType:a,response:I})})}_subscribe(n,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(i)}_unsubscribe(n,i){this.handlersMap[n]&&i&&this.handlersMap[n].delete(i),(!i||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function Uh(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}var As=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,i=50){return g(this,null,function*(){let s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let a,u;return new Promise((h,d)=>{let I=Uh("",20);s.port1.start();let A=setTimeout(()=>{d(new Error("unsupported_event"))},i);u={messageChannel:s,onMessage(R){let b=R;if(b.data.eventId===I)switch(b.data.status){case"ack":clearTimeout(A),a=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),h(b.data.response);break;default:clearTimeout(A),clearTimeout(a),d(new Error("invalid_response"));break}}},this.handlers.add(u),s.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:I,data:n},[s.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})})}};function je(){return window}function Og(t){je().location.href=t}function $h(){return typeof je().WorkerGlobalScope<"u"&&typeof je().importScripts=="function"}function Dg(){return g(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function xg(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Vg(){return $h()?self:null}var Bh="firebaseLocalStorageDb",Lg=1,Yr="firebaseLocalStorage",qh="fbase_key",Nt=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function Zr(t,e){return t.transaction([Yr],e?"readwrite":"readonly").objectStore(Yr)}function Mg(){let t=indexedDB.deleteDatabase(Bh);return new Nt(t).toPromise()}function bs(){let t=indexedDB.open(Bh,Lg);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let i=t.result;try{i.createObjectStore(Yr,{keyPath:qh})}catch(s){n(s)}}),t.addEventListener("success",()=>g(null,null,function*(){let i=t.result;i.objectStoreNames.contains(Yr)?e(i):(i.close(),yield Mg(),e(yield bs()))}))})}function hh(t,e,n){return g(this,null,function*(){let i=Zr(t,!0).put({[qh]:e,value:n});return new Nt(i).toPromise()})}function Fg(t,e){return g(this,null,function*(){let n=Zr(t,!1).get(e),i=yield new Nt(n).toPromise();return i===void 0?null:i.value})}function dh(t,e){let n=Zr(t,!0).delete(e);return new Nt(n).toPromise()}var Ug=800,$g=3,Bg=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return g(this,null,function*(){return this.db?this.db:(this.db=yield bs(),this.db)})}_withRetries(n){return g(this,null,function*(){let i=0;for(;;)try{let s=yield this._openDb();return yield n(s)}catch(s){if(i++>$g)throw s;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return g(this,null,function*(){return $h()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return g(this,null,function*(){this.receiver=Ng._getInstance(Vg()),this.receiver._subscribe("keyChanged",(n,i)=>g(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(i.key)}})),this.receiver._subscribe("ping",(n,i)=>g(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return g(this,null,function*(){var n,i;if(this.activeServiceWorker=yield Dg(),!this.activeServiceWorker)return;this.sender=new As(this.activeServiceWorker);let s=yield this.sender._send("ping",{},800);s&&!((n=s[0])===null||n===void 0)&&n.fulfilled&&!((i=s[0])===null||i===void 0)&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return g(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||xg()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return g(this,null,function*(){try{if(!indexedDB)return!1;let n=yield bs();return yield hh(n,Wr,"1"),yield dh(n,Wr),!0}catch{}return!1})}_withPendingWrite(n){return g(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,i){return g(this,null,function*(){return this._withPendingWrite(()=>g(this,null,function*(){return yield this._withRetries(s=>hh(s,n,i)),this.localCache[n]=i,this.notifyServiceWorker(n)}))})}_get(n){return g(this,null,function*(){let i=yield this._withRetries(s=>Fg(s,n));return this.localCache[n]=i,i})}_remove(n){return g(this,null,function*(){return this._withPendingWrite(()=>g(this,null,function*(){return yield this._withRetries(i=>dh(i,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return g(this,null,function*(){let n=yield this._withRetries(a=>{let u=Zr(a,!1).getAll();return new Nt(u).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let i=[],s=new Set;if(n.length!==0)for(let{fbase_key:a,value:u}of n)s.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(u)&&(this.notifyListeners(a,u),i.push(a));for(let a of Object.keys(this.localCache))this.localCache[a]&&!s.has(a)&&(this.notifyListeners(a,null),i.push(a));return i})}notifyListeners(n,i){this.localCache[n]=i;let s=this.listeners[n];if(s)for(let a of Array.from(s))a(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>g(this,null,function*(){return this._poll()}),Ug)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(i)}_removeListener(n,i){this.listeners[n]&&(this.listeners[n].delete(i),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),jh=Bg;var Sw=Vh("rcb"),Rw=new kt(3e4,6e4);function qg(t,e){return e?Xe(e):(O(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var Bn=class extends zr{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return fs(e,this._buildIdpRequest())}_linkToIdToken(e,n){return fs(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return fs(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function jg(t){return bg(t.auth,new Bn(t),t.bypassAuthState)}function Gg(t){let{auth:e,user:n}=t;return O(n,e,"internal-error"),Ag(n,new Bn(t),t.bypassAuthState)}function zg(t){return g(this,null,function*(){let{auth:e,user:n}=t;return O(n,e,"internal-error"),wg(n,new Bn(t),t.bypassAuthState)})}var Ss=class{constructor(e,n,i,s,a=!1){this.auth=e,this.resolver=i,this.user=s,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>g(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}}))}onAuthEvent(e){return g(this,null,function*(){let{urlResponse:n,sessionId:i,postBody:s,tenantId:a,error:u,type:h}=e;if(u){this.reject(u);return}let d={auth:this.auth,requestUri:n,sessionId:i,tenantId:a||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(h)(d))}catch(I){this.reject(I)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return jg;case"linkViaPopup":case"linkViaRedirect":return zg;case"reauthViaPopup":case"reauthViaRedirect":return Gg;default:yt(this.auth,"internal-error")}}resolve(e){It(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){It(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var Pw=new kt(2e3,1e4);var Kg="pendingRedirect",Mr=new Map,Rs=class t extends Ss{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}execute(){return g(this,null,function*(){let e=Mr.get(this.auth._key());if(!e){try{let i=(yield Wg(this.resolver,this.auth))?yield lt(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}Mr.set(this.auth._key(),e)}return this.bypassAuthState||Mr.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return g(this,null,function*(){if(e.type==="signInViaRedirect")return lt(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,lt(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return g(this,null,function*(){})}cleanUp(){}};function Wg(t,e){return g(this,null,function*(){let n=Qg(e),i=Yg(t);if(!(yield i._isAvailable()))return!1;let s=(yield i._get(n))==="true";return yield i._remove(n),s})}function Hg(t,e){Mr.set(t._key(),e)}function Yg(t){return Xe(t._redirectPersistence)}function Qg(t){return Lr(Kg,t.config.apiKey,t.name)}function Jg(t,e,n=!1){return g(this,null,function*(){if(fe(t.app))return Promise.reject(Pt(t));let i=Fs(t),s=qg(i,e),u=yield new Rs(i,s,n).execute();return u&&!n&&(delete u.user._redirectEventId,yield i._persistUserIfCurrent(u.user),yield i._setRedirectUser(null,e)),u})}var Xg=10*60*1e3,Ps=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Zg(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!Gh(e)){let s=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(Ct(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Xg&&this.cachedEventUids.clear(),this.cachedEventUids.has(fh(e))}saveEventToCache(e){this.cachedEventUids.add(fh(e)),this.lastProcessedEventTime=Date.now()}};function fh(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Gh({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function Zg(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Gh(t);default:return!1}}function e_(n){return g(this,arguments,function*(t,e={}){return Yt(t,"GET","/v1/projects",e)})}var t_=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,n_=/^https?/;function r_(t){return g(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield e_(t);for(let n of e)try{if(i_(n))return}catch{}yt(t,"unauthorized-domain")})}function i_(t){let e=ms(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){let u=new URL(t);return u.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===i}if(!n_.test(n))return!1;if(t_.test(t))return i===t;let s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(i)}var s_=new kt(3e4,6e4);function ph(){let t=je().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function o_(t){return new Promise((e,n)=>{var i,s,a;function u(){ph(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{ph(),n(Ct(t,"network-request-failed"))},timeout:s_.get()})}if(!((s=(i=je().gapi)===null||i===void 0?void 0:i.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((a=je().gapi)===null||a===void 0)&&a.load)u();else{let h=Vh("iframefcb");return je()[h]=()=>{gapi.load?u():n(Ct(t,"network-request-failed"))},yg(`${Ig()}?onload=${h}`).catch(d=>n(d))}}).catch(e=>{throw Fr=null,e})}var Fr=null;function a_(t){return Fr=Fr||o_(t),Fr}var c_=new kt(5e3,15e3),u_="__/auth/iframe",l_="emulator/auth/iframe",h_={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},d_=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function f_(t){let e=t.config;O(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?Os(e,l_):`https://${t.config.authDomain}/${u_}`,i={apiKey:e.apiKey,appName:t.name,v:xe},s=d_.get(t.config.apiHost);s&&(i.eid=s);let a=t._getFrameworks();return a.length&&(i.fw=a.join(",")),`${n}?${Dn(i).slice(1)}`}function p_(t){return g(this,null,function*(){let e=yield a_(t),n=je().gapi;return O(n,t,"internal-error"),e.open({where:document.body,url:f_(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:h_,dontclear:!0},i=>new Promise((s,a)=>g(null,null,function*(){yield i.restyle({setHideOnLeave:!1});let u=Ct(t,"network-request-failed"),h=je().setTimeout(()=>{a(u)},c_.get());function d(){je().clearTimeout(h),s(i)}i.ping(d).then(d,()=>{a(u)})})))})}var m_={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},g_=500,__=600,y_="_blank",I_="http://localhost",Qr=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function v_(t,e,n,i=g_,s=__){let a=Math.max((window.screen.availHeight-s)/2,0).toString(),u=Math.max((window.screen.availWidth-i)/2,0).toString(),h="",d=Object.assign(Object.assign({},m_),{width:i.toString(),height:s.toString(),top:a,left:u}),I=Ee().toLowerCase();n&&(h=Ph(I)?y_:n),Sh(I)&&(e=e||I_,d.scrollbars="yes");let A=Object.entries(d).reduce((b,[C,N])=>`${b}${C}=${N},`,"");if(fg(I)&&h!=="_self")return E_(e||"",h),new Qr(null);let R=window.open(e||"",h,A);O(R,t,"popup-blocked");try{R.focus()}catch{}return new Qr(R)}function E_(t,e){let n=document.createElement("a");n.href=t,n.target=e;let i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}var T_="__/auth/handler",w_="emulator/auth/handler",A_=encodeURIComponent("fac");function mh(t,e,n,i,s,a){return g(this,null,function*(){O(t.config.authDomain,t,"auth-domain-config-required"),O(t.config.apiKey,t,"invalid-api-key");let u={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:xe,eventId:s};if(e instanceof Kr){e.setDefaultLanguage(t.languageCode),u.providerId=e.providerId||"",bl(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(let[A,R]of Object.entries(a||{}))u[A]=R}if(e instanceof Ts){let A=e.getScopes().filter(R=>R!=="");A.length>0&&(u.scopes=A.join(","))}t.tenantId&&(u.tid=t.tenantId);let h=u;for(let A of Object.keys(h))h[A]===void 0&&delete h[A];let d=yield t._getAppCheckToken(),I=d?`#${A_}=${encodeURIComponent(d)}`:"";return`${b_(t)}?${Dn(h).slice(1)}${I}`})}function b_({config:t}){return t.emulator?Os(t,w_):`https://${t.authDomain}/${T_}`}var ps="webStorageSupport",Cs=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=js,this._completeRedirectFn=Jg,this._overrideRedirectResult=Hg}_openPopup(e,n,i,s){return g(this,null,function*(){var a;It((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");let u=yield mh(e,n,i,ms(),s);return v_(e,u,Uh())})}_openRedirect(e,n,i,s){return g(this,null,function*(){yield this._originValidation(e);let a=yield mh(e,n,i,ms(),s);return Og(a),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:s,promise:a}=this.eventManagers[n];return s?Promise.resolve(s):(It(a,"If manager is not set, promise should be"),a)}let i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}initAndGetManager(e){return g(this,null,function*(){let n=yield p_(e),i=new Ps(e);return n.register("authEvent",s=>(O(s?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(ps,{type:ps},s=>{var a;let u=(a=s?.[0])===null||a===void 0?void 0:a[ps];u!==void 0&&n(!!u),yt(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=r_(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Dh()||Rh()||Ms()}},zh=Cs;var gh="@firebase/auth",_h="1.10.8";var ks=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return g(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){O(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function S_(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function R_(t){ne(new te("auth",(e,{options:n})=>{let i=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:u,authDomain:h}=i.options;O(u&&!u.includes(":"),"invalid-api-key",{appName:i.name});let d={apiKey:u,authDomain:h,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:xh(t)},I=new Es(i,s,a,d);return vg(I,n),I},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),ne(new te("auth-internal",e=>{let n=Fs(e.getProvider("auth").getImmediate());return(i=>new ks(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),P(gh,_h,S_(t)),P(gh,_h,"esm2017")}var P_=5*60,C_=Xi("authIdTokenMaxAge")||P_,yh=null,k_=t=>e=>g(null,null,function*(){let n=e&&(yield e.getIdTokenResult()),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>C_)return;let s=n?.token;yh!==s&&(yh=s,yield fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))});function Gs(t=ie()){let e=re(t,"auth");if(e.isInitialized())return e.getImmediate();let n=$s(t,{popupRedirectResolver:zh,persistence:[jh,Fh,js]}),i=Xi("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){let a=new URL(i,location.origin);if(location.origin===a.origin){let u=k_(a.toString());qs(n,u,()=>u(n.currentUser)),Jr(n,h=>u(h))}}let s=vl("auth");return s&&Bs(n,`http://${s}`),n}function N_(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}_g({loadJS(t){return new Promise((e,n)=>{let i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=s=>{let a=Ct("internal-error");a.customData=s,n(a)},i.type="text/javascript",i.charset="UTF-8",N_().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});R_("Browser");function Wh(t){return new Rn(function(e){var n=Xr(t,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:n}})}var Hh="auth",Ot=class{constructor(e){return e}},Ze=class{constructor(){return oe(Hh)}};var zs=new Z("angularfire2.auth-instances");function wy(t,e){let n=se(Hh,t,e);return n&&new Ot(n)}function Ay(t){return(e,n)=>{let i=e.runOutsideAngular(()=>t(n));return new Ot(i)}}var by={provide:Ze,deps:[[new D,zs]]},Sy={provide:Ot,useFactory:wy,deps:[[new D,zs],K]};function Yh(t,...e){return P("angularfire",z.full,"auth"),ee([Sy,by,{provide:zs,useFactory:Ay(t),multi:!0,deps:[U,G,Q,J,[new D,Ce],...e]}])}var Qh=q(Wh,!0);var Jh=q(Gs,!0);var ei="analytics",Py="firebase_id",Cy="origin",ky=60*1e3,Ny="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Xs="https://www.googletagmanager.com/gtag/js";var we=new De("@firebase/analytics");var Oy={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},ke=new Oe("analytics","Analytics",Oy);function Dy(t){if(!t.startsWith(Xs)){let e=ke.create("invalid-gtag-resource",{gtagURL:t});return we.warn(e.message),""}return t}function id(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function xy(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function Vy(t,e){let n=xy("firebase-js-sdk-policy",{createScriptURL:Dy}),i=document.createElement("script"),s=`${Xs}?l=${t}&id=${e}`;i.src=n?n?.createScriptURL(s):s,i.async=!0,document.head.appendChild(i)}function Ly(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}function My(t,e,n,i,s,a){return g(this,null,function*(){let u=i[s];try{if(u)yield e[u];else{let d=(yield id(n)).find(I=>I.measurementId===s);d&&(yield e[d.appId])}}catch(h){we.error(h)}t("config",s,a)})}function Fy(t,e,n,i,s){return g(this,null,function*(){try{let a=[];if(s&&s.send_to){let u=s.send_to;Array.isArray(u)||(u=[u]);let h=yield id(n);for(let d of u){let I=h.find(R=>R.measurementId===d),A=I&&e[I.appId];if(A)a.push(A);else{a=[];break}}}a.length===0&&(a=Object.values(e)),yield Promise.all(a),t("event",i,s||{})}catch(a){we.error(a)}})}function Uy(t,e,n,i){function s(a,...u){return g(this,null,function*(){try{if(a==="event"){let[h,d]=u;yield Fy(t,e,n,h,d)}else if(a==="config"){let[h,d]=u;yield My(t,e,n,i,h,d)}else if(a==="consent"){let[h,d]=u;t("consent",h,d)}else if(a==="get"){let[h,d,I]=u;t("get",h,d,I)}else if(a==="set"){let[h]=u;t("set",h)}else t(a,...u)}catch(h){we.error(h)}})}return s}function $y(t,e,n,i,s){let a=function(...u){window[i].push(arguments)};return window[s]&&typeof window[s]=="function"&&(a=window[s]),window[s]=Uy(a,t,e,n),{gtagCore:a,wrappedGtag:window[s]}}function By(t){let e=window.document.getElementsByTagName("script");for(let n of Object.values(e))if(n.src&&n.src.includes(Xs)&&n.src.includes(t))return n;return null}var qy=30,jy=1e3,Ws=class{constructor(e={},n=jy){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}},sd=new Ws;function Gy(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function zy(t){return g(this,null,function*(){var e;let{appId:n,apiKey:i}=t,s={method:"GET",headers:Gy(i)},a=Ny.replace("{app-id}",n),u=yield fetch(a,s);if(u.status!==200&&u.status!==304){let h="";try{let d=yield u.json();!((e=d.error)===null||e===void 0)&&e.message&&(h=d.error.message)}catch{}throw ke.create("config-fetch-failed",{httpStatus:u.status,responseMessage:h})}return u.json()})}function Ky(i){return g(this,arguments,function*(t,e=sd,n){let{appId:s,apiKey:a,measurementId:u}=t.options;if(!s)throw ke.create("no-app-id");if(!a){if(u)return{measurementId:u,appId:s};throw ke.create("no-api-key")}let h=e.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},d=new Hs;return setTimeout(()=>g(null,null,function*(){d.abort()}),n!==void 0?n:ky),od({appId:s,apiKey:a,measurementId:u},h,d,e)})}function od(a,u,h){return g(this,arguments,function*(t,{throttleEndTimeMillis:e,backoffCount:n},i,s=sd){var d;let{appId:I,measurementId:A}=t;try{yield Wy(i,e)}catch(R){if(A)return we.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${A} provided in the "measurementId" field in the local Firebase config. [${R?.message}]`),{appId:I,measurementId:A};throw R}try{let R=yield zy(t);return s.deleteThrottleMetadata(I),R}catch(R){let b=R;if(!Hy(b)){if(s.deleteThrottleMetadata(I),A)return we.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${A} provided in the "measurementId" field in the local Firebase config. [${b?.message}]`),{appId:I,measurementId:A};throw R}let C=Number((d=b?.customData)===null||d===void 0?void 0:d.httpStatus)===503?St(n,s.intervalMillis,qy):St(n,s.intervalMillis),N={throttleEndTimeMillis:Date.now()+C,backoffCount:n+1};return s.setThrottleMetadata(I,N),we.debug(`Calling attemptFetch again in ${C} millis`),od(t,N,i,s)}})}function Wy(t,e){return new Promise((n,i)=>{let s=Math.max(e-Date.now(),0),a=setTimeout(n,s);t.addEventListener(()=>{clearTimeout(a),i(ke.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function Hy(t){if(!(t instanceof Te)||!t.customData)return!1;let e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}var Hs=class{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}};var Ys;function Yy(t,e,n,i,s){return g(this,null,function*(){if(s&&s.global){t("event",n,i);return}else{let a=yield e,u=Object.assign(Object.assign({},i),{send_to:a});t("event",n,u)}})}function Qy(t,e,n,i){return g(this,null,function*(){if(i&&i.global)return t("set",{user_id:n}),Promise.resolve();{let s=yield e;t("config",s,{update:!0,user_id:n})}})}var Qs;function Jy(t){Qs=t}function Xy(t){Ys=t}function Zy(){return g(this,null,function*(){if(Fe())try{yield zt()}catch(t){return we.warn(ke.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}else return we.warn(ke.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0})}function eI(t,e,n,i,s,a,u){return g(this,null,function*(){var h;let d=Ky(t);d.then(C=>{n[C.measurementId]=C.appId,t.options.measurementId&&C.measurementId!==t.options.measurementId&&we.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${C.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(C=>we.error(C)),e.push(d);let I=Zy().then(C=>{if(C)return i.getId()}),[A,R]=yield Promise.all([d,I]);By(a)||Vy(a,A.measurementId),Qs&&(s("consent","default",Qs),Jy(void 0)),s("js",new Date);let b=(h=u?.config)!==null&&h!==void 0?h:{};return b[Cy]="firebase",b.update=!0,R!=null&&(b[Py]=R),s("config",A.measurementId,b),Ys&&(s("set",Ys),Xy(void 0)),A.measurementId})}var Js=class{constructor(e){this.app=e}_delete(){return delete Qt[this.app.options.appId],Promise.resolve()}},Qt={},Xh=[],Zh={},Ks="dataLayer",tI="gtag",ed,Zs,td=!1;function nI(){let t=[];if(Nn()&&t.push("This is a browser extension environment."),On()||t.push("Cookies are not available."),t.length>0){let e=t.map((i,s)=>`(${s+1}) ${i}`).join(" "),n=ke.create("invalid-analytics-context",{errorInfo:e});we.warn(n.message)}}function rI(t,e,n){nI();let i=t.options.appId;if(!i)throw ke.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)we.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw ke.create("no-api-key");if(Qt[i]!=null)throw ke.create("already-exists",{id:i});if(!td){Ly(Ks);let{wrappedGtag:a,gtagCore:u}=$y(Qt,Xh,Zh,Ks,tI);Zs=a,ed=u,td=!0}return Qt[i]=eI(t,Xh,Zh,e,ed,Ks,n),new Js(t)}function ad(t=ie()){t=B(t);let e=re(t,ei);return e.isInitialized()?e.getImmediate():cd(t)}function cd(t,e={}){let n=re(t,ei);if(n.isInitialized()){let s=n.getImmediate();if(qe(e,n.getOptions()))return s;throw ke.create("already-initialized")}return n.initialize({options:e})}function ud(){return g(this,null,function*(){if(Nn()||!On()||!Fe())return!1;try{return yield zt()}catch{return!1}})}function ld(t,e,n){t=B(t),Qy(Zs,Qt[t.app.options.appId],e,n).catch(i=>we.error(i))}function eo(t,e,n,i){t=B(t),Yy(Zs,Qt[t.app.options.appId],e,n,i).catch(s=>we.error(s))}var nd="@firebase/analytics",rd="0.10.17";function iI(){ne(new te(ei,(e,{options:n})=>{let i=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return rI(i,s,n)},"PUBLIC")),ne(new te("analytics-internal",t,"PRIVATE")),P(nd,rd),P(nd,rd,"esm2017");function t(e){try{let n=e.getProvider(ei).getImmediate();return{logEvent:(i,s,a)=>eo(n,i,s,a)}}catch(n){throw ke.create("interop-component-reg-failed",{reason:n})}}}iI();var Dt=class{constructor(e){return e}},fd="analytics",no=class{constructor(){return oe(fd)}};var pd=q(ad,!0);var md=q(ud,!1),sI=q(eo,!1,2);var oI=q(ld,!0,2);var io=(()=>{class t{initialized;disposables=[];constructor(n,i,s){P("angularfire",z.full,"user-tracking");let a;this.initialized=i.runOutsideAngular(()=>new Promise(u=>{a=u})),md().then(()=>{let u=s.get(Dt);u?this.disposables=[Qh(n).subscribe(h=>{oI(u,h?.uid),a()})]:a()})}ngOnDestroy(){this.disposables.forEach(n=>n.unsubscribe())}static \u0275fac=function(i){return new(i||t)($e(Ot),$e(U),$e(G))};static \u0275prov=Pn({token:t,factory:t.\u0275fac})}return t})(),aI="firebase_event_origin",cI="firebase_previous_class",uI="firebase_previous_id",lI="firebase_previous_screen",hI="firebase_screen_class",hd="firebase_screen_id",dI="firebase_screen",ro="outlet",fI="page_path",pI="page_title",qn="screen_class",dd="screen_name",mI="screen_view",gI="auto",_I="#",yI=Math.floor(Math.random()*(2**32-1))-2**31,to={},II=t=>{let e=[t[qn],t[ro]].join(_I);if(to.hasOwnProperty(e))return to[e];{let n=yI++;return to[e]=n,n}},vI=(t,e,n)=>t.events.pipe(Yi(s=>s instanceof Lc)).pipe(Qi(s=>{let u=t.parseUrl(t.url.replace(/(?:\().+(?:\))/g,b=>b.replace("://",":///"))).root.children[s.snapshot.outlet]?.toString()||"",h=t.routerState.root.children.map(b=>b).find(b=>b.outlet===s.snapshot.outlet);if(!h)return qt(null);let d=h;for(;d.firstChild;)d=d.firstChild;let I=d.pathFromRoot.map(b=>b.routeConfig?.path).filter(b=>b).join("/")||"/",A={[dd]:I,[fI]:`/${u}`,[aI]:gI,[dI]:I,[ro]:s.snapshot.outlet};e&&(A[pI]=e.getTitle());let R=h.component;if(R){if(R===Fc){let b=s.snapshot;for(;b.firstChild;)b=b.firstChild;R=b.component}}else R=s.snapshot.component;if(typeof R=="string")return qt(Gi(Sn({},A),{[qn]:R}));if(R){let b=n.resolveComponentFactory(R);return qt(Gi(Sn({},A),{[qn]:b.selector}))}return qt(null)}),Yi(s=>!!s),Hi(s=>Sn({[hI]:s[qn],[hd]:II(s)},s)),Ic(s=>s[ro]),_c(s=>s.pipe(yc((a,u)=>JSON.stringify(a)===JSON.stringify(u)),Ec(void 0),vc(),Hi(([a,u])=>a?Sn({[cI]:a[qn],[lI]:a[dd],[uI]:a[hd]},u):u)))),gd=(()=>{class t{disposable;constructor(n,i,s,a,u,h){P("angularfire",z.full,"screen-tracking"),md().then(()=>{let d=h.get(Dt);!n||!d||a.runOutsideAngular(()=>{this.disposable=vI(n,i,s).pipe(Qi(I=>g(this,null,function*(){return u&&(yield u.initialized),sI(d,mI,I)}))).subscribe()})})}ngOnDestroy(){this.disposable&&this.disposable.unsubscribe()}static \u0275fac=function(i){return new(i||t)($e(Ar,8),$e(Oc,8),$e(Ac),$e(U),$e(io,8),$e(G))};static \u0275prov=Pn({token:t,factory:t.\u0275fac})}return t})(),so=new Z("angularfire2.analytics-instances");function EI(t,e,n){if(!jt(n))return null;let i=se(fd,t,e);return i&&new Dt(i)}function TI(t){return(e,n,i)=>{if(!jt(i))return null;let s=e.runOutsideAngular(()=>t(n));return new Dt(s)}}var wI={provide:no,deps:[[new D,so]]},AI={provide:Dt,useFactory:EI,deps:[[new D,so],K,de]};function _d(t,...e){return P("angularfire",z.full,"analytics"),ee([AI,wI,{provide:so,useFactory:TI(t),multi:!0,deps:[U,G,de,Q,J,...e]}])}var yd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Id={};var ti,vd;(function(){var t;function e(v,f){function m(){}m.prototype=f.prototype,v.D=f.prototype,v.prototype=new m,v.prototype.constructor=v,v.C=function(_,y,T){for(var p=Array(arguments.length-2),We=2;We<arguments.length;We++)p[We-2]=arguments[We];return f.prototype[y].apply(_,p)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(v,f,m){m||(m=0);var _=Array(16);if(typeof f=="string")for(var y=0;16>y;++y)_[y]=f.charCodeAt(m++)|f.charCodeAt(m++)<<8|f.charCodeAt(m++)<<16|f.charCodeAt(m++)<<24;else for(y=0;16>y;++y)_[y]=f[m++]|f[m++]<<8|f[m++]<<16|f[m++]<<24;f=v.g[0],m=v.g[1],y=v.g[2];var T=v.g[3],p=f+(T^m&(y^T))+_[0]+3614090360&4294967295;f=m+(p<<7&4294967295|p>>>25),p=T+(y^f&(m^y))+_[1]+3905402710&4294967295,T=f+(p<<12&4294967295|p>>>20),p=y+(m^T&(f^m))+_[2]+606105819&4294967295,y=T+(p<<17&4294967295|p>>>15),p=m+(f^y&(T^f))+_[3]+3250441966&4294967295,m=y+(p<<22&4294967295|p>>>10),p=f+(T^m&(y^T))+_[4]+4118548399&4294967295,f=m+(p<<7&4294967295|p>>>25),p=T+(y^f&(m^y))+_[5]+1200080426&4294967295,T=f+(p<<12&4294967295|p>>>20),p=y+(m^T&(f^m))+_[6]+2821735955&4294967295,y=T+(p<<17&4294967295|p>>>15),p=m+(f^y&(T^f))+_[7]+4249261313&4294967295,m=y+(p<<22&4294967295|p>>>10),p=f+(T^m&(y^T))+_[8]+1770035416&4294967295,f=m+(p<<7&4294967295|p>>>25),p=T+(y^f&(m^y))+_[9]+2336552879&4294967295,T=f+(p<<12&4294967295|p>>>20),p=y+(m^T&(f^m))+_[10]+4294925233&4294967295,y=T+(p<<17&4294967295|p>>>15),p=m+(f^y&(T^f))+_[11]+2304563134&4294967295,m=y+(p<<22&4294967295|p>>>10),p=f+(T^m&(y^T))+_[12]+1804603682&4294967295,f=m+(p<<7&4294967295|p>>>25),p=T+(y^f&(m^y))+_[13]+4254626195&4294967295,T=f+(p<<12&4294967295|p>>>20),p=y+(m^T&(f^m))+_[14]+2792965006&4294967295,y=T+(p<<17&4294967295|p>>>15),p=m+(f^y&(T^f))+_[15]+1236535329&4294967295,m=y+(p<<22&4294967295|p>>>10),p=f+(y^T&(m^y))+_[1]+4129170786&4294967295,f=m+(p<<5&4294967295|p>>>27),p=T+(m^y&(f^m))+_[6]+3225465664&4294967295,T=f+(p<<9&4294967295|p>>>23),p=y+(f^m&(T^f))+_[11]+643717713&4294967295,y=T+(p<<14&4294967295|p>>>18),p=m+(T^f&(y^T))+_[0]+3921069994&4294967295,m=y+(p<<20&4294967295|p>>>12),p=f+(y^T&(m^y))+_[5]+3593408605&4294967295,f=m+(p<<5&4294967295|p>>>27),p=T+(m^y&(f^m))+_[10]+38016083&4294967295,T=f+(p<<9&4294967295|p>>>23),p=y+(f^m&(T^f))+_[15]+3634488961&4294967295,y=T+(p<<14&4294967295|p>>>18),p=m+(T^f&(y^T))+_[4]+3889429448&4294967295,m=y+(p<<20&4294967295|p>>>12),p=f+(y^T&(m^y))+_[9]+568446438&4294967295,f=m+(p<<5&4294967295|p>>>27),p=T+(m^y&(f^m))+_[14]+3275163606&4294967295,T=f+(p<<9&4294967295|p>>>23),p=y+(f^m&(T^f))+_[3]+4107603335&4294967295,y=T+(p<<14&4294967295|p>>>18),p=m+(T^f&(y^T))+_[8]+1163531501&4294967295,m=y+(p<<20&4294967295|p>>>12),p=f+(y^T&(m^y))+_[13]+2850285829&4294967295,f=m+(p<<5&4294967295|p>>>27),p=T+(m^y&(f^m))+_[2]+4243563512&4294967295,T=f+(p<<9&4294967295|p>>>23),p=y+(f^m&(T^f))+_[7]+1735328473&4294967295,y=T+(p<<14&4294967295|p>>>18),p=m+(T^f&(y^T))+_[12]+2368359562&4294967295,m=y+(p<<20&4294967295|p>>>12),p=f+(m^y^T)+_[5]+4294588738&4294967295,f=m+(p<<4&4294967295|p>>>28),p=T+(f^m^y)+_[8]+2272392833&4294967295,T=f+(p<<11&4294967295|p>>>21),p=y+(T^f^m)+_[11]+1839030562&4294967295,y=T+(p<<16&4294967295|p>>>16),p=m+(y^T^f)+_[14]+4259657740&4294967295,m=y+(p<<23&4294967295|p>>>9),p=f+(m^y^T)+_[1]+2763975236&4294967295,f=m+(p<<4&4294967295|p>>>28),p=T+(f^m^y)+_[4]+1272893353&4294967295,T=f+(p<<11&4294967295|p>>>21),p=y+(T^f^m)+_[7]+4139469664&4294967295,y=T+(p<<16&4294967295|p>>>16),p=m+(y^T^f)+_[10]+3200236656&4294967295,m=y+(p<<23&4294967295|p>>>9),p=f+(m^y^T)+_[13]+681279174&4294967295,f=m+(p<<4&4294967295|p>>>28),p=T+(f^m^y)+_[0]+3936430074&4294967295,T=f+(p<<11&4294967295|p>>>21),p=y+(T^f^m)+_[3]+3572445317&4294967295,y=T+(p<<16&4294967295|p>>>16),p=m+(y^T^f)+_[6]+76029189&4294967295,m=y+(p<<23&4294967295|p>>>9),p=f+(m^y^T)+_[9]+3654602809&4294967295,f=m+(p<<4&4294967295|p>>>28),p=T+(f^m^y)+_[12]+3873151461&4294967295,T=f+(p<<11&4294967295|p>>>21),p=y+(T^f^m)+_[15]+530742520&4294967295,y=T+(p<<16&4294967295|p>>>16),p=m+(y^T^f)+_[2]+3299628645&4294967295,m=y+(p<<23&4294967295|p>>>9),p=f+(y^(m|~T))+_[0]+4096336452&4294967295,f=m+(p<<6&4294967295|p>>>26),p=T+(m^(f|~y))+_[7]+1126891415&4294967295,T=f+(p<<10&4294967295|p>>>22),p=y+(f^(T|~m))+_[14]+2878612391&4294967295,y=T+(p<<15&4294967295|p>>>17),p=m+(T^(y|~f))+_[5]+4237533241&4294967295,m=y+(p<<21&4294967295|p>>>11),p=f+(y^(m|~T))+_[12]+1700485571&4294967295,f=m+(p<<6&4294967295|p>>>26),p=T+(m^(f|~y))+_[3]+2399980690&4294967295,T=f+(p<<10&4294967295|p>>>22),p=y+(f^(T|~m))+_[10]+4293915773&4294967295,y=T+(p<<15&4294967295|p>>>17),p=m+(T^(y|~f))+_[1]+2240044497&4294967295,m=y+(p<<21&4294967295|p>>>11),p=f+(y^(m|~T))+_[8]+1873313359&4294967295,f=m+(p<<6&4294967295|p>>>26),p=T+(m^(f|~y))+_[15]+4264355552&4294967295,T=f+(p<<10&4294967295|p>>>22),p=y+(f^(T|~m))+_[6]+2734768916&4294967295,y=T+(p<<15&4294967295|p>>>17),p=m+(T^(y|~f))+_[13]+1309151649&4294967295,m=y+(p<<21&4294967295|p>>>11),p=f+(y^(m|~T))+_[4]+4149444226&4294967295,f=m+(p<<6&4294967295|p>>>26),p=T+(m^(f|~y))+_[11]+3174756917&4294967295,T=f+(p<<10&4294967295|p>>>22),p=y+(f^(T|~m))+_[2]+718787259&4294967295,y=T+(p<<15&4294967295|p>>>17),p=m+(T^(y|~f))+_[9]+3951481745&4294967295,v.g[0]=v.g[0]+f&4294967295,v.g[1]=v.g[1]+(y+(p<<21&4294967295|p>>>11))&4294967295,v.g[2]=v.g[2]+y&4294967295,v.g[3]=v.g[3]+T&4294967295}i.prototype.u=function(v,f){f===void 0&&(f=v.length);for(var m=f-this.blockSize,_=this.B,y=this.h,T=0;T<f;){if(y==0)for(;T<=m;)s(this,v,T),T+=this.blockSize;if(typeof v=="string"){for(;T<f;)if(_[y++]=v.charCodeAt(T++),y==this.blockSize){s(this,_),y=0;break}}else for(;T<f;)if(_[y++]=v[T++],y==this.blockSize){s(this,_),y=0;break}}this.h=y,this.o+=f},i.prototype.v=function(){var v=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);v[0]=128;for(var f=1;f<v.length-8;++f)v[f]=0;var m=8*this.o;for(f=v.length-8;f<v.length;++f)v[f]=m&255,m/=256;for(this.u(v),v=Array(16),f=m=0;4>f;++f)for(var _=0;32>_;_+=8)v[m++]=this.g[f]>>>_&255;return v};function a(v,f){var m=h;return Object.prototype.hasOwnProperty.call(m,v)?m[v]:m[v]=f(v)}function u(v,f){this.h=f;for(var m=[],_=!0,y=v.length-1;0<=y;y--){var T=v[y]|0;_&&T==f||(m[y]=T,_=!1)}this.g=m}var h={};function d(v){return-128<=v&&128>v?a(v,function(f){return new u([f|0],0>f?-1:0)}):new u([v|0],0>v?-1:0)}function I(v){if(isNaN(v)||!isFinite(v))return R;if(0>v)return k(I(-v));for(var f=[],m=1,_=0;v>=m;_++)f[_]=v/m|0,m*=4294967296;return new u(f,0)}function A(v,f){if(v.length==0)throw Error("number format error: empty string");if(f=f||10,2>f||36<f)throw Error("radix out of range: "+f);if(v.charAt(0)=="-")return k(A(v.substring(1),f));if(0<=v.indexOf("-"))throw Error('number format error: interior "-" character');for(var m=I(Math.pow(f,8)),_=R,y=0;y<v.length;y+=8){var T=Math.min(8,v.length-y),p=parseInt(v.substring(y,y+T),f);8>T?(T=I(Math.pow(f,T)),_=_.j(T).add(I(p))):(_=_.j(m),_=_.add(I(p)))}return _}var R=d(0),b=d(1),C=d(16777216);t=u.prototype,t.m=function(){if(V(this))return-k(this).m();for(var v=0,f=1,m=0;m<this.g.length;m++){var _=this.i(m);v+=(0<=_?_:4294967296+_)*f,f*=4294967296}return v},t.toString=function(v){if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(N(this))return"0";if(V(this))return"-"+k(this).toString(v);for(var f=I(Math.pow(v,6)),m=this,_="";;){var y=Y(m,f).g;m=W(m,y.j(f));var T=((0<m.g.length?m.g[0]:m.h)>>>0).toString(v);if(m=y,N(m))return T+_;for(;6>T.length;)T="0"+T;_=T+_}},t.i=function(v){return 0>v?0:v<this.g.length?this.g[v]:this.h};function N(v){if(v.h!=0)return!1;for(var f=0;f<v.g.length;f++)if(v.g[f]!=0)return!1;return!0}function V(v){return v.h==-1}t.l=function(v){return v=W(this,v),V(v)?-1:N(v)?0:1};function k(v){for(var f=v.g.length,m=[],_=0;_<f;_++)m[_]=~v.g[_];return new u(m,~v.h).add(b)}t.abs=function(){return V(this)?k(this):this},t.add=function(v){for(var f=Math.max(this.g.length,v.g.length),m=[],_=0,y=0;y<=f;y++){var T=_+(this.i(y)&65535)+(v.i(y)&65535),p=(T>>>16)+(this.i(y)>>>16)+(v.i(y)>>>16);_=p>>>16,T&=65535,p&=65535,m[y]=p<<16|T}return new u(m,m[m.length-1]&-2147483648?-1:0)};function W(v,f){return v.add(k(f))}t.j=function(v){if(N(this)||N(v))return R;if(V(this))return V(v)?k(this).j(k(v)):k(k(this).j(v));if(V(v))return k(this.j(k(v)));if(0>this.l(C)&&0>v.l(C))return I(this.m()*v.m());for(var f=this.g.length+v.g.length,m=[],_=0;_<2*f;_++)m[_]=0;for(_=0;_<this.g.length;_++)for(var y=0;y<v.g.length;y++){var T=this.i(_)>>>16,p=this.i(_)&65535,We=v.i(y)>>>16,an=v.i(y)&65535;m[2*_+2*y]+=p*an,ue(m,2*_+2*y),m[2*_+2*y+1]+=T*an,ue(m,2*_+2*y+1),m[2*_+2*y+1]+=p*We,ue(m,2*_+2*y+1),m[2*_+2*y+2]+=T*We,ue(m,2*_+2*y+2)}for(_=0;_<f;_++)m[_]=m[2*_+1]<<16|m[2*_];for(_=f;_<2*f;_++)m[_]=0;return new u(m,0)};function ue(v,f){for(;(v[f]&65535)!=v[f];)v[f+1]+=v[f]>>>16,v[f]&=65535,f++}function H(v,f){this.g=v,this.h=f}function Y(v,f){if(N(f))throw Error("division by zero");if(N(v))return new H(R,R);if(V(v))return f=Y(k(v),f),new H(k(f.g),k(f.h));if(V(f))return f=Y(v,k(f)),new H(k(f.g),f.h);if(30<v.g.length){if(V(v)||V(f))throw Error("slowDivide_ only works with positive integers.");for(var m=b,_=f;0>=_.l(v);)m=Ne(m),_=Ne(_);var y=le(m,1),T=le(_,1);for(_=le(_,2),m=le(m,2);!N(_);){var p=T.add(_);0>=p.l(v)&&(y=y.add(m),T=p),_=le(_,1),m=le(m,1)}return f=W(v,y.j(f)),new H(y,f)}for(y=R;0<=v.l(f);){for(m=Math.max(1,Math.floor(v.m()/f.m())),_=Math.ceil(Math.log(m)/Math.LN2),_=48>=_?1:Math.pow(2,_-48),T=I(m),p=T.j(f);V(p)||0<p.l(v);)m-=_,T=I(m),p=T.j(f);N(T)&&(T=b),y=y.add(T),v=W(v,p)}return new H(y,v)}t.A=function(v){return Y(this,v).h},t.and=function(v){for(var f=Math.max(this.g.length,v.g.length),m=[],_=0;_<f;_++)m[_]=this.i(_)&v.i(_);return new u(m,this.h&v.h)},t.or=function(v){for(var f=Math.max(this.g.length,v.g.length),m=[],_=0;_<f;_++)m[_]=this.i(_)|v.i(_);return new u(m,this.h|v.h)},t.xor=function(v){for(var f=Math.max(this.g.length,v.g.length),m=[],_=0;_<f;_++)m[_]=this.i(_)^v.i(_);return new u(m,this.h^v.h)};function Ne(v){for(var f=v.g.length+1,m=[],_=0;_<f;_++)m[_]=v.i(_)<<1|v.i(_-1)>>>31;return new u(m,v.h)}function le(v,f){var m=f>>5;f%=32;for(var _=v.g.length-m,y=[],T=0;T<_;T++)y[T]=0<f?v.i(T+m)>>>f|v.i(T+m+1)<<32-f:v.i(T+m);return new u(y,v.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,vd=Id.Md5=i,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=I,u.fromString=A,ti=Id.Integer=u}).apply(typeof yd<"u"?yd:typeof self<"u"?self:typeof window<"u"?window:{});var ni=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},et={};var Ed,bI,Td,wd,Ad,bd,Sd,Rd,Pd;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(r,o,c){return r==Array.prototype||r==Object.prototype||(r[o]=c.value),r};function n(r){r=[typeof globalThis=="object"&&globalThis,r,typeof window=="object"&&window,typeof self=="object"&&self,typeof ni=="object"&&ni];for(var o=0;o<r.length;++o){var c=r[o];if(c&&c.Math==Math)return c}throw Error("Cannot find global object")}var i=n(this);function s(r,o){if(o)e:{var c=i;r=r.split(".");for(var l=0;l<r.length-1;l++){var E=r[l];if(!(E in c))break e;c=c[E]}r=r[r.length-1],l=c[r],o=o(l),o!=l&&o!=null&&e(c,r,{configurable:!0,writable:!0,value:o})}}function a(r,o){r instanceof String&&(r+="");var c=0,l=!1,E={next:function(){if(!l&&c<r.length){var w=c++;return{value:o(w,r[w]),done:!1}}return l=!0,{done:!0,value:void 0}}};return E[Symbol.iterator]=function(){return E},E}s("Array.prototype.values",function(r){return r||function(){return a(this,function(o,c){return c})}});var u=u||{},h=this||self;function d(r){var o=typeof r;return o=o!="object"?o:r?Array.isArray(r)?"array":o:"null",o=="array"||o=="object"&&typeof r.length=="number"}function I(r){var o=typeof r;return o=="object"&&r!=null||o=="function"}function A(r,o,c){return r.call.apply(r.bind,arguments)}function R(r,o,c){if(!r)throw Error();if(2<arguments.length){var l=Array.prototype.slice.call(arguments,2);return function(){var E=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(E,l),r.apply(o,E)}}return function(){return r.apply(o,arguments)}}function b(r,o,c){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?A:R,b.apply(null,arguments)}function C(r,o){var c=Array.prototype.slice.call(arguments,1);return function(){var l=c.slice();return l.push.apply(l,arguments),r.apply(this,l)}}function N(r,o){function c(){}c.prototype=o.prototype,r.aa=o.prototype,r.prototype=new c,r.prototype.constructor=r,r.Qb=function(l,E,w){for(var S=Array(arguments.length-2),$=2;$<arguments.length;$++)S[$-2]=arguments[$];return o.prototype[E].apply(l,S)}}function V(r){let o=r.length;if(0<o){let c=Array(o);for(let l=0;l<o;l++)c[l]=r[l];return c}return[]}function k(r,o){for(let c=1;c<arguments.length;c++){let l=arguments[c];if(d(l)){let E=r.length||0,w=l.length||0;r.length=E+w;for(let S=0;S<w;S++)r[E+S]=l[S]}else r.push(l)}}class W{constructor(o,c){this.i=o,this.j=c,this.h=0,this.g=null}get(){let o;return 0<this.h?(this.h--,o=this.g,this.g=o.next,o.next=null):o=this.i(),o}}function ue(r){return/^[\s\xa0]*$/.test(r)}function H(){var r=h.navigator;return r&&(r=r.userAgent)?r:""}function Y(r){return Y[" "](r),r}Y[" "]=function(){};var Ne=H().indexOf("Gecko")!=-1&&!(H().toLowerCase().indexOf("webkit")!=-1&&H().indexOf("Edge")==-1)&&!(H().indexOf("Trident")!=-1||H().indexOf("MSIE")!=-1)&&H().indexOf("Edge")==-1;function le(r,o,c){for(let l in r)o.call(c,r[l],l,r)}function v(r,o){for(let c in r)o.call(void 0,r[c],c,r)}function f(r){let o={};for(let c in r)o[c]=r[c];return o}let m="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function _(r,o){let c,l;for(let E=1;E<arguments.length;E++){l=arguments[E];for(c in l)r[c]=l[c];for(let w=0;w<m.length;w++)c=m[w],Object.prototype.hasOwnProperty.call(l,c)&&(r[c]=l[c])}}function y(r){var o=1;r=r.split(":");let c=[];for(;0<o&&r.length;)c.push(r.shift()),o--;return r.length&&c.push(r.join(":")),c}function T(r){h.setTimeout(()=>{throw r},0)}function p(){var r=Ii;let o=null;return r.g&&(o=r.g,r.g=r.g.next,r.g||(r.h=null),o.next=null),o}class We{constructor(){this.h=this.g=null}add(o,c){let l=an.get();l.set(o,c),this.h?this.h.next=l:this.g=l,this.h=l}}var an=new W(()=>new Tp,r=>r.reset());class Tp{constructor(){this.next=this.g=this.h=null}set(o,c){this.h=o,this.g=c,this.next=null}reset(){this.next=this.g=this.h=null}}let cn,un=!1,Ii=new We,pa=()=>{let r=h.Promise.resolve(void 0);cn=()=>{r.then(wp)}};var wp=()=>{for(var r;r=p();){try{r.h.call(r.g)}catch(c){T(c)}var o=an;o.j(r),100>o.h&&(o.h++,r.next=o.g,o.g=r)}un=!1};function ot(){this.s=this.s,this.C=this.C}ot.prototype.s=!1,ot.prototype.ma=function(){this.s||(this.s=!0,this.N())},ot.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function me(r,o){this.type=r,this.g=this.target=o,this.defaultPrevented=!1}me.prototype.h=function(){this.defaultPrevented=!0};var Ap=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var r=!1,o=Object.defineProperty({},"passive",{get:function(){r=!0}});try{let c=()=>{};h.addEventListener("test",c,o),h.removeEventListener("test",c,o)}catch{}return r}();function ln(r,o){if(me.call(this,r?r.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,r){var c=this.type=r.type,l=r.changedTouches&&r.changedTouches.length?r.changedTouches[0]:null;if(this.target=r.target||r.srcElement,this.g=o,o=r.relatedTarget){if(Ne){e:{try{Y(o.nodeName);var E=!0;break e}catch{}E=!1}E||(o=null)}}else c=="mouseover"?o=r.fromElement:c=="mouseout"&&(o=r.toElement);this.relatedTarget=o,l?(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0):(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=r.button,this.key=r.key||"",this.ctrlKey=r.ctrlKey,this.altKey=r.altKey,this.shiftKey=r.shiftKey,this.metaKey=r.metaKey,this.pointerId=r.pointerId||0,this.pointerType=typeof r.pointerType=="string"?r.pointerType:bp[r.pointerType]||"",this.state=r.state,this.i=r,r.defaultPrevented&&ln.aa.h.call(this)}}N(ln,me);var bp={2:"touch",3:"pen",4:"mouse"};ln.prototype.h=function(){ln.aa.h.call(this);var r=this.i;r.preventDefault?r.preventDefault():r.returnValue=!1};var hn="closure_listenable_"+(1e6*Math.random()|0),Sp=0;function Rp(r,o,c,l,E){this.listener=r,this.proxy=null,this.src=o,this.type=c,this.capture=!!l,this.ha=E,this.key=++Sp,this.da=this.fa=!1}function sr(r){r.da=!0,r.listener=null,r.proxy=null,r.src=null,r.ha=null}function or(r){this.src=r,this.g={},this.h=0}or.prototype.add=function(r,o,c,l,E){var w=r.toString();r=this.g[w],r||(r=this.g[w]=[],this.h++);var S=Ei(r,o,l,E);return-1<S?(o=r[S],c||(o.fa=!1)):(o=new Rp(o,this.src,w,!!l,E),o.fa=c,r.push(o)),o};function vi(r,o){var c=o.type;if(c in r.g){var l=r.g[c],E=Array.prototype.indexOf.call(l,o,void 0),w;(w=0<=E)&&Array.prototype.splice.call(l,E,1),w&&(sr(o),r.g[c].length==0&&(delete r.g[c],r.h--))}}function Ei(r,o,c,l){for(var E=0;E<r.length;++E){var w=r[E];if(!w.da&&w.listener==o&&w.capture==!!c&&w.ha==l)return E}return-1}var Ti="closure_lm_"+(1e6*Math.random()|0),wi={};function ma(r,o,c,l,E){if(l&&l.once)return _a(r,o,c,l,E);if(Array.isArray(o)){for(var w=0;w<o.length;w++)ma(r,o[w],c,l,E);return null}return c=Ri(c),r&&r[hn]?r.K(o,c,I(l)?!!l.capture:!!l,E):ga(r,o,c,!1,l,E)}function ga(r,o,c,l,E,w){if(!o)throw Error("Invalid event type");var S=I(E)?!!E.capture:!!E,$=bi(r);if($||(r[Ti]=$=new or(r)),c=$.add(o,c,l,S,w),c.proxy)return c;if(l=Pp(),c.proxy=l,l.src=r,l.listener=c,r.addEventListener)Ap||(E=S),E===void 0&&(E=!1),r.addEventListener(o.toString(),l,E);else if(r.attachEvent)r.attachEvent(Ia(o.toString()),l);else if(r.addListener&&r.removeListener)r.addListener(l);else throw Error("addEventListener and attachEvent are unavailable.");return c}function Pp(){function r(c){return o.call(r.src,r.listener,c)}let o=Cp;return r}function _a(r,o,c,l,E){if(Array.isArray(o)){for(var w=0;w<o.length;w++)_a(r,o[w],c,l,E);return null}return c=Ri(c),r&&r[hn]?r.L(o,c,I(l)?!!l.capture:!!l,E):ga(r,o,c,!0,l,E)}function ya(r,o,c,l,E){if(Array.isArray(o))for(var w=0;w<o.length;w++)ya(r,o[w],c,l,E);else l=I(l)?!!l.capture:!!l,c=Ri(c),r&&r[hn]?(r=r.i,o=String(o).toString(),o in r.g&&(w=r.g[o],c=Ei(w,c,l,E),-1<c&&(sr(w[c]),Array.prototype.splice.call(w,c,1),w.length==0&&(delete r.g[o],r.h--)))):r&&(r=bi(r))&&(o=r.g[o.toString()],r=-1,o&&(r=Ei(o,c,l,E)),(c=-1<r?o[r]:null)&&Ai(c))}function Ai(r){if(typeof r!="number"&&r&&!r.da){var o=r.src;if(o&&o[hn])vi(o.i,r);else{var c=r.type,l=r.proxy;o.removeEventListener?o.removeEventListener(c,l,r.capture):o.detachEvent?o.detachEvent(Ia(c),l):o.addListener&&o.removeListener&&o.removeListener(l),(c=bi(o))?(vi(c,r),c.h==0&&(c.src=null,o[Ti]=null)):sr(r)}}}function Ia(r){return r in wi?wi[r]:wi[r]="on"+r}function Cp(r,o){if(r.da)r=!0;else{o=new ln(o,this);var c=r.listener,l=r.ha||r.src;r.fa&&Ai(r),r=c.call(l,o)}return r}function bi(r){return r=r[Ti],r instanceof or?r:null}var Si="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ri(r){return typeof r=="function"?r:(r[Si]||(r[Si]=function(o){return r.handleEvent(o)}),r[Si])}function ge(){ot.call(this),this.i=new or(this),this.M=this,this.F=null}N(ge,ot),ge.prototype[hn]=!0,ge.prototype.removeEventListener=function(r,o,c,l){ya(this,r,o,c,l)};function Ie(r,o){var c,l=r.F;if(l)for(c=[];l;l=l.F)c.push(l);if(r=r.M,l=o.type||o,typeof o=="string")o=new me(o,r);else if(o instanceof me)o.target=o.target||r;else{var E=o;o=new me(l,r),_(o,E)}if(E=!0,c)for(var w=c.length-1;0<=w;w--){var S=o.g=c[w];E=ar(S,l,!0,o)&&E}if(S=o.g=r,E=ar(S,l,!0,o)&&E,E=ar(S,l,!1,o)&&E,c)for(w=0;w<c.length;w++)S=o.g=c[w],E=ar(S,l,!1,o)&&E}ge.prototype.N=function(){if(ge.aa.N.call(this),this.i){var r=this.i,o;for(o in r.g){for(var c=r.g[o],l=0;l<c.length;l++)sr(c[l]);delete r.g[o],r.h--}}this.F=null},ge.prototype.K=function(r,o,c,l){return this.i.add(String(r),o,!1,c,l)},ge.prototype.L=function(r,o,c,l){return this.i.add(String(r),o,!0,c,l)};function ar(r,o,c,l){if(o=r.i.g[String(o)],!o)return!0;o=o.concat();for(var E=!0,w=0;w<o.length;++w){var S=o[w];if(S&&!S.da&&S.capture==c){var $=S.listener,he=S.ha||S.src;S.fa&&vi(r.i,S),E=$.call(he,l)!==!1&&E}}return E&&!l.defaultPrevented}function va(r,o,c){if(typeof r=="function")c&&(r=b(r,c));else if(r&&typeof r.handleEvent=="function")r=b(r.handleEvent,r);else throw Error("Invalid listener argument");return 2147483647<Number(o)?-1:h.setTimeout(r,o||0)}function Ea(r){r.g=va(()=>{r.g=null,r.i&&(r.i=!1,Ea(r))},r.l);let o=r.h;r.h=null,r.m.apply(null,o)}class kp extends ot{constructor(o,c){super(),this.m=o,this.l=c,this.h=null,this.i=!1,this.g=null}j(o){this.h=arguments,this.g?this.i=!0:Ea(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function dn(r){ot.call(this),this.h=r,this.g={}}N(dn,ot);var Ta=[];function wa(r){le(r.g,function(o,c){this.g.hasOwnProperty(c)&&Ai(o)},r),r.g={}}dn.prototype.N=function(){dn.aa.N.call(this),wa(this)},dn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Pi=h.JSON.stringify,Np=h.JSON.parse,Op=class{stringify(r){return h.JSON.stringify(r,void 0)}parse(r){return h.JSON.parse(r,void 0)}};function Ci(){}Ci.prototype.h=null;function Aa(r){return r.h||(r.h=r.i())}function ba(){}var fn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ki(){me.call(this,"d")}N(ki,me);function Ni(){me.call(this,"c")}N(Ni,me);var Tt={},Sa=null;function cr(){return Sa=Sa||new ge}Tt.La="serverreachability";function Ra(r){me.call(this,Tt.La,r)}N(Ra,me);function pn(r){let o=cr();Ie(o,new Ra(o))}Tt.STAT_EVENT="statevent";function Pa(r,o){me.call(this,Tt.STAT_EVENT,r),this.stat=o}N(Pa,me);function ve(r){let o=cr();Ie(o,new Pa(o,r))}Tt.Ma="timingevent";function Ca(r,o){me.call(this,Tt.Ma,r),this.size=o}N(Ca,me);function mn(r,o){if(typeof r!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){r()},o)}function gn(){this.g=!0}gn.prototype.xa=function(){this.g=!1};function Dp(r,o,c,l,E,w){r.info(function(){if(r.g)if(w)for(var S="",$=w.split("&"),he=0;he<$.length;he++){var F=$[he].split("=");if(1<F.length){var _e=F[0];F=F[1];var ye=_e.split("_");S=2<=ye.length&&ye[1]=="type"?S+(_e+"="+F+"&"):S+(_e+"=redacted&")}}else S=null;else S=w;return"XMLHTTP REQ ("+l+") [attempt "+E+"]: "+o+`
`+c+`
`+S})}function xp(r,o,c,l,E,w,S){r.info(function(){return"XMLHTTP RESP ("+l+") [ attempt "+E+"]: "+o+`
`+c+`
`+w+" "+S})}function Ft(r,o,c,l){r.info(function(){return"XMLHTTP TEXT ("+o+"): "+Lp(r,c)+(l?" "+l:"")})}function Vp(r,o){r.info(function(){return"TIMEOUT: "+o})}gn.prototype.info=function(){};function Lp(r,o){if(!r.g)return o;if(!o)return null;try{var c=JSON.parse(o);if(c){for(r=0;r<c.length;r++)if(Array.isArray(c[r])){var l=c[r];if(!(2>l.length)){var E=l[1];if(Array.isArray(E)&&!(1>E.length)){var w=E[0];if(w!="noop"&&w!="stop"&&w!="close")for(var S=1;S<E.length;S++)E[S]=""}}}}return Pi(c)}catch{return o}}var ur={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ka={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Oi;function lr(){}N(lr,Ci),lr.prototype.g=function(){return new XMLHttpRequest},lr.prototype.i=function(){return{}},Oi=new lr;function at(r,o,c,l){this.j=r,this.i=o,this.l=c,this.R=l||1,this.U=new dn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Na}function Na(){this.i=null,this.g="",this.h=!1}var Oa={},Di={};function xi(r,o,c){r.L=1,r.v=pr(He(o)),r.m=c,r.P=!0,Da(r,null)}function Da(r,o){r.F=Date.now(),hr(r),r.A=He(r.v);var c=r.A,l=r.R;Array.isArray(l)||(l=[String(l)]),Wa(c.i,"t",l),r.C=0,c=r.j.J,r.h=new Na,r.g=hc(r.j,c?o:null,!r.m),0<r.O&&(r.M=new kp(b(r.Y,r,r.g),r.O)),o=r.U,c=r.g,l=r.ca;var E="readystatechange";Array.isArray(E)||(E&&(Ta[0]=E.toString()),E=Ta);for(var w=0;w<E.length;w++){var S=ma(c,E[w],l||o.handleEvent,!1,o.h||o);if(!S)break;o.g[S.key]=S}o=r.H?f(r.H):{},r.m?(r.u||(r.u="POST"),o["Content-Type"]="application/x-www-form-urlencoded",r.g.ea(r.A,r.u,r.m,o)):(r.u="GET",r.g.ea(r.A,r.u,null,o)),pn(),Dp(r.i,r.u,r.A,r.l,r.R,r.m)}at.prototype.ca=function(r){r=r.target;let o=this.M;o&&Ye(r)==3?o.j():this.Y(r)},at.prototype.Y=function(r){try{if(r==this.g)e:{let ye=Ye(this.g);var o=this.g.Ba();let Bt=this.g.Z();if(!(3>ye)&&(ye!=3||this.g&&(this.h.h||this.g.oa()||ec(this.g)))){this.J||ye!=4||o==7||(o==8||0>=Bt?pn(3):pn(2)),Vi(this);var c=this.g.Z();this.X=c;t:if(xa(this)){var l=ec(this.g);r="";var E=l.length,w=Ye(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){wt(this),_n(this);var S="";break t}this.h.i=new h.TextDecoder}for(o=0;o<E;o++)this.h.h=!0,r+=this.h.i.decode(l[o],{stream:!(w&&o==E-1)});l.length=0,this.h.g+=r,this.C=0,S=this.h.g}else S=this.g.oa();if(this.o=c==200,xp(this.i,this.u,this.A,this.l,this.R,ye,c),this.o){if(this.T&&!this.K){t:{if(this.g){var $,he=this.g;if(($=he.g?he.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ue($)){var F=$;break t}}F=null}if(c=F)Ft(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Li(this,c);else{this.o=!1,this.s=3,ve(12),wt(this),_n(this);break e}}if(this.P){c=!0;let Le;for(;!this.J&&this.C<S.length;)if(Le=Mp(this,S),Le==Di){ye==4&&(this.s=4,ve(14),c=!1),Ft(this.i,this.l,null,"[Incomplete Response]");break}else if(Le==Oa){this.s=4,ve(15),Ft(this.i,this.l,S,"[Invalid Chunk]"),c=!1;break}else Ft(this.i,this.l,Le,null),Li(this,Le);if(xa(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ye!=4||S.length!=0||this.h.h||(this.s=1,ve(16),c=!1),this.o=this.o&&c,!c)Ft(this.i,this.l,S,"[Invalid Chunked Response]"),wt(this),_n(this);else if(0<S.length&&!this.W){this.W=!0;var _e=this.j;_e.g==this&&_e.ba&&!_e.M&&(_e.j.info("Great, no buffering proxy detected. Bytes received: "+S.length),qi(_e),_e.M=!0,ve(11))}}else Ft(this.i,this.l,S,null),Li(this,S);ye==4&&wt(this),this.o&&!this.J&&(ye==4?ac(this.j,this):(this.o=!1,hr(this)))}else em(this.g),c==400&&0<S.indexOf("Unknown SID")?(this.s=3,ve(12)):(this.s=0,ve(13)),wt(this),_n(this)}}}catch{}finally{}};function xa(r){return r.g?r.u=="GET"&&r.L!=2&&r.j.Ca:!1}function Mp(r,o){var c=r.C,l=o.indexOf(`
`,c);return l==-1?Di:(c=Number(o.substring(c,l)),isNaN(c)?Oa:(l+=1,l+c>o.length?Di:(o=o.slice(l,l+c),r.C=l+c,o)))}at.prototype.cancel=function(){this.J=!0,wt(this)};function hr(r){r.S=Date.now()+r.I,Va(r,r.I)}function Va(r,o){if(r.B!=null)throw Error("WatchDog timer not null");r.B=mn(b(r.ba,r),o)}function Vi(r){r.B&&(h.clearTimeout(r.B),r.B=null)}at.prototype.ba=function(){this.B=null;let r=Date.now();0<=r-this.S?(Vp(this.i,this.A),this.L!=2&&(pn(),ve(17)),wt(this),this.s=2,_n(this)):Va(this,this.S-r)};function _n(r){r.j.G==0||r.J||ac(r.j,r)}function wt(r){Vi(r);var o=r.M;o&&typeof o.ma=="function"&&o.ma(),r.M=null,wa(r.U),r.g&&(o=r.g,r.g=null,o.abort(),o.ma())}function Li(r,o){try{var c=r.j;if(c.G!=0&&(c.g==r||Mi(c.h,r))){if(!r.K&&Mi(c.h,r)&&c.G==3){try{var l=c.Da.g.parse(o)}catch{l=null}if(Array.isArray(l)&&l.length==3){var E=l;if(E[0]==0){e:if(!c.u){if(c.g)if(c.g.F+3e3<r.F)Ir(c),_r(c);else break e;Bi(c),ve(18)}}else c.za=E[1],0<c.za-c.T&&37500>E[2]&&c.F&&c.v==0&&!c.C&&(c.C=mn(b(c.Za,c),6e3));if(1>=Fa(c.h)&&c.ca){try{c.ca()}catch{}c.ca=void 0}}else bt(c,11)}else if((r.K||c.g==r)&&Ir(c),!ue(o))for(E=c.Da.g.parse(o),o=0;o<E.length;o++){let F=E[o];if(c.T=F[0],F=F[1],c.G==2)if(F[0]=="c"){c.K=F[1],c.ia=F[2];let _e=F[3];_e!=null&&(c.la=_e,c.j.info("VER="+c.la));let ye=F[4];ye!=null&&(c.Aa=ye,c.j.info("SVER="+c.Aa));let Bt=F[5];Bt!=null&&typeof Bt=="number"&&0<Bt&&(l=1.5*Bt,c.L=l,c.j.info("backChannelRequestTimeoutMs_="+l)),l=c;let Le=r.g;if(Le){let Er=Le.g?Le.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Er){var w=l.h;w.g||Er.indexOf("spdy")==-1&&Er.indexOf("quic")==-1&&Er.indexOf("h2")==-1||(w.j=w.l,w.g=new Set,w.h&&(Fi(w,w.h),w.h=null))}if(l.D){let ji=Le.g?Le.g.getResponseHeader("X-HTTP-Session-Id"):null;ji&&(l.ya=ji,j(l.I,l.D,ji))}}c.G=3,c.l&&c.l.ua(),c.ba&&(c.R=Date.now()-r.F,c.j.info("Handshake RTT: "+c.R+"ms")),l=c;var S=r;if(l.qa=lc(l,l.J?l.ia:null,l.W),S.K){Ua(l.h,S);var $=S,he=l.L;he&&($.I=he),$.B&&(Vi($),hr($)),l.g=S}else sc(l);0<c.i.length&&yr(c)}else F[0]!="stop"&&F[0]!="close"||bt(c,7);else c.G==3&&(F[0]=="stop"||F[0]=="close"?F[0]=="stop"?bt(c,7):$i(c):F[0]!="noop"&&c.l&&c.l.ta(F),c.v=0)}}pn(4)}catch{}}var Fp=class{constructor(r,o){this.g=r,this.map=o}};function La(r){this.l=r||10,h.PerformanceNavigationTiming?(r=h.performance.getEntriesByType("navigation"),r=0<r.length&&(r[0].nextHopProtocol=="hq"||r[0].nextHopProtocol=="h2")):r=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=r?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ma(r){return r.h?!0:r.g?r.g.size>=r.j:!1}function Fa(r){return r.h?1:r.g?r.g.size:0}function Mi(r,o){return r.h?r.h==o:r.g?r.g.has(o):!1}function Fi(r,o){r.g?r.g.add(o):r.h=o}function Ua(r,o){r.h&&r.h==o?r.h=null:r.g&&r.g.has(o)&&r.g.delete(o)}La.prototype.cancel=function(){if(this.i=$a(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let r of this.g.values())r.cancel();this.g.clear()}};function $a(r){if(r.h!=null)return r.i.concat(r.h.D);if(r.g!=null&&r.g.size!==0){let o=r.i;for(let c of r.g.values())o=o.concat(c.D);return o}return V(r.i)}function Up(r){if(r.V&&typeof r.V=="function")return r.V();if(typeof Map<"u"&&r instanceof Map||typeof Set<"u"&&r instanceof Set)return Array.from(r.values());if(typeof r=="string")return r.split("");if(d(r)){for(var o=[],c=r.length,l=0;l<c;l++)o.push(r[l]);return o}o=[],c=0;for(l in r)o[c++]=r[l];return o}function $p(r){if(r.na&&typeof r.na=="function")return r.na();if(!r.V||typeof r.V!="function"){if(typeof Map<"u"&&r instanceof Map)return Array.from(r.keys());if(!(typeof Set<"u"&&r instanceof Set)){if(d(r)||typeof r=="string"){var o=[];r=r.length;for(var c=0;c<r;c++)o.push(c);return o}o=[],c=0;for(let l in r)o[c++]=l;return o}}}function Ba(r,o){if(r.forEach&&typeof r.forEach=="function")r.forEach(o,void 0);else if(d(r)||typeof r=="string")Array.prototype.forEach.call(r,o,void 0);else for(var c=$p(r),l=Up(r),E=l.length,w=0;w<E;w++)o.call(void 0,l[w],c&&c[w],r)}var qa=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Bp(r,o){if(r){r=r.split("&");for(var c=0;c<r.length;c++){var l=r[c].indexOf("="),E=null;if(0<=l){var w=r[c].substring(0,l);E=r[c].substring(l+1)}else w=r[c];o(w,E?decodeURIComponent(E.replace(/\+/g," ")):"")}}}function At(r){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,r instanceof At){this.h=r.h,dr(this,r.j),this.o=r.o,this.g=r.g,fr(this,r.s),this.l=r.l;var o=r.i,c=new vn;c.i=o.i,o.g&&(c.g=new Map(o.g),c.h=o.h),ja(this,c),this.m=r.m}else r&&(o=String(r).match(qa))?(this.h=!1,dr(this,o[1]||"",!0),this.o=yn(o[2]||""),this.g=yn(o[3]||"",!0),fr(this,o[4]),this.l=yn(o[5]||"",!0),ja(this,o[6]||"",!0),this.m=yn(o[7]||"")):(this.h=!1,this.i=new vn(null,this.h))}At.prototype.toString=function(){var r=[],o=this.j;o&&r.push(In(o,Ga,!0),":");var c=this.g;return(c||o=="file")&&(r.push("//"),(o=this.o)&&r.push(In(o,Ga,!0),"@"),r.push(encodeURIComponent(String(c)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c=this.s,c!=null&&r.push(":",String(c))),(c=this.l)&&(this.g&&c.charAt(0)!="/"&&r.push("/"),r.push(In(c,c.charAt(0)=="/"?Gp:jp,!0))),(c=this.i.toString())&&r.push("?",c),(c=this.m)&&r.push("#",In(c,Kp)),r.join("")};function He(r){return new At(r)}function dr(r,o,c){r.j=c?yn(o,!0):o,r.j&&(r.j=r.j.replace(/:$/,""))}function fr(r,o){if(o){if(o=Number(o),isNaN(o)||0>o)throw Error("Bad port number "+o);r.s=o}else r.s=null}function ja(r,o,c){o instanceof vn?(r.i=o,Wp(r.i,r.h)):(c||(o=In(o,zp)),r.i=new vn(o,r.h))}function j(r,o,c){r.i.set(o,c)}function pr(r){return j(r,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),r}function yn(r,o){return r?o?decodeURI(r.replace(/%25/g,"%2525")):decodeURIComponent(r):""}function In(r,o,c){return typeof r=="string"?(r=encodeURI(r).replace(o,qp),c&&(r=r.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),r):null}function qp(r){return r=r.charCodeAt(0),"%"+(r>>4&15).toString(16)+(r&15).toString(16)}var Ga=/[#\/\?@]/g,jp=/[#\?:]/g,Gp=/[#\?]/g,zp=/[#\?@]/g,Kp=/#/g;function vn(r,o){this.h=this.g=null,this.i=r||null,this.j=!!o}function ct(r){r.g||(r.g=new Map,r.h=0,r.i&&Bp(r.i,function(o,c){r.add(decodeURIComponent(o.replace(/\+/g," ")),c)}))}t=vn.prototype,t.add=function(r,o){ct(this),this.i=null,r=Ut(this,r);var c=this.g.get(r);return c||this.g.set(r,c=[]),c.push(o),this.h+=1,this};function za(r,o){ct(r),o=Ut(r,o),r.g.has(o)&&(r.i=null,r.h-=r.g.get(o).length,r.g.delete(o))}function Ka(r,o){return ct(r),o=Ut(r,o),r.g.has(o)}t.forEach=function(r,o){ct(this),this.g.forEach(function(c,l){c.forEach(function(E){r.call(o,E,l,this)},this)},this)},t.na=function(){ct(this);let r=Array.from(this.g.values()),o=Array.from(this.g.keys()),c=[];for(let l=0;l<o.length;l++){let E=r[l];for(let w=0;w<E.length;w++)c.push(o[l])}return c},t.V=function(r){ct(this);let o=[];if(typeof r=="string")Ka(this,r)&&(o=o.concat(this.g.get(Ut(this,r))));else{r=Array.from(this.g.values());for(let c=0;c<r.length;c++)o=o.concat(r[c])}return o},t.set=function(r,o){return ct(this),this.i=null,r=Ut(this,r),Ka(this,r)&&(this.h-=this.g.get(r).length),this.g.set(r,[o]),this.h+=1,this},t.get=function(r,o){return r?(r=this.V(r),0<r.length?String(r[0]):o):o};function Wa(r,o,c){za(r,o),0<c.length&&(r.i=null,r.g.set(Ut(r,o),V(c)),r.h+=c.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let r=[],o=Array.from(this.g.keys());for(var c=0;c<o.length;c++){var l=o[c];let w=encodeURIComponent(String(l)),S=this.V(l);for(l=0;l<S.length;l++){var E=w;S[l]!==""&&(E+="="+encodeURIComponent(String(S[l]))),r.push(E)}}return this.i=r.join("&")};function Ut(r,o){return o=String(o),r.j&&(o=o.toLowerCase()),o}function Wp(r,o){o&&!r.j&&(ct(r),r.i=null,r.g.forEach(function(c,l){var E=l.toLowerCase();l!=E&&(za(this,l),Wa(this,E,c))},r)),r.j=o}function Hp(r,o){let c=new gn;if(h.Image){let l=new Image;l.onload=C(ut,c,"TestLoadImage: loaded",!0,o,l),l.onerror=C(ut,c,"TestLoadImage: error",!1,o,l),l.onabort=C(ut,c,"TestLoadImage: abort",!1,o,l),l.ontimeout=C(ut,c,"TestLoadImage: timeout",!1,o,l),h.setTimeout(function(){l.ontimeout&&l.ontimeout()},1e4),l.src=r}else o(!1)}function Yp(r,o){let c=new gn,l=new AbortController,E=setTimeout(()=>{l.abort(),ut(c,"TestPingServer: timeout",!1,o)},1e4);fetch(r,{signal:l.signal}).then(w=>{clearTimeout(E),w.ok?ut(c,"TestPingServer: ok",!0,o):ut(c,"TestPingServer: server error",!1,o)}).catch(()=>{clearTimeout(E),ut(c,"TestPingServer: error",!1,o)})}function ut(r,o,c,l,E){try{E&&(E.onload=null,E.onerror=null,E.onabort=null,E.ontimeout=null),l(c)}catch{}}function Qp(){this.g=new Op}function Jp(r,o,c){let l=c||"";try{Ba(r,function(E,w){let S=E;I(E)&&(S=Pi(E)),o.push(l+w+"="+encodeURIComponent(S))})}catch(E){throw o.push(l+"type="+encodeURIComponent("_badmap")),E}}function En(r){this.l=r.Ub||null,this.j=r.eb||!1}N(En,Ci),En.prototype.g=function(){return new mr(this.l,this.j)},En.prototype.i=function(r){return function(){return r}}({});function mr(r,o){ge.call(this),this.D=r,this.o=o,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}N(mr,ge),t=mr.prototype,t.open=function(r,o){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=r,this.A=o,this.readyState=1,wn(this)},t.send=function(r){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let o={headers:this.u,method:this.B,credentials:this.m,cache:void 0};r&&(o.body=r),(this.D||h).fetch(new Request(this.A,o)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Tn(this)),this.readyState=0},t.Sa=function(r){if(this.g&&(this.l=r,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=r.headers,this.readyState=2,wn(this)),this.g&&(this.readyState=3,wn(this),this.g)))if(this.responseType==="arraybuffer")r.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in r){if(this.j=r.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ha(this)}else r.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ha(r){r.j.read().then(r.Pa.bind(r)).catch(r.ga.bind(r))}t.Pa=function(r){if(this.g){if(this.o&&r.value)this.response.push(r.value);else if(!this.o){var o=r.value?r.value:new Uint8Array(0);(o=this.v.decode(o,{stream:!r.done}))&&(this.response=this.responseText+=o)}r.done?Tn(this):wn(this),this.readyState==3&&Ha(this)}},t.Ra=function(r){this.g&&(this.response=this.responseText=r,Tn(this))},t.Qa=function(r){this.g&&(this.response=r,Tn(this))},t.ga=function(){this.g&&Tn(this)};function Tn(r){r.readyState=4,r.l=null,r.j=null,r.v=null,wn(r)}t.setRequestHeader=function(r,o){this.u.append(r,o)},t.getResponseHeader=function(r){return this.h&&this.h.get(r.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let r=[],o=this.h.entries();for(var c=o.next();!c.done;)c=c.value,r.push(c[0]+": "+c[1]),c=o.next();return r.join(`\r
`)};function wn(r){r.onreadystatechange&&r.onreadystatechange.call(r)}Object.defineProperty(mr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(r){this.m=r?"include":"same-origin"}});function Ya(r){let o="";return le(r,function(c,l){o+=l,o+=":",o+=c,o+=`\r
`}),o}function Ui(r,o,c){e:{for(l in c){var l=!1;break e}l=!0}l||(c=Ya(c),typeof r=="string"?c!=null&&encodeURIComponent(String(c)):j(r,o,c))}function X(r){ge.call(this),this.headers=new Map,this.o=r||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}N(X,ge);var Xp=/^https?$/i,Zp=["POST","PUT"];t=X.prototype,t.Ha=function(r){this.J=r},t.ea=function(r,o,c,l){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+r);o=o?o.toUpperCase():"GET",this.D=r,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Oi.g(),this.v=this.o?Aa(this.o):Aa(Oi),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(o,String(r),!0),this.B=!1}catch(w){Qa(this,w);return}if(r=c||"",c=new Map(this.headers),l)if(Object.getPrototypeOf(l)===Object.prototype)for(var E in l)c.set(E,l[E]);else if(typeof l.keys=="function"&&typeof l.get=="function")for(let w of l.keys())c.set(w,l.get(w));else throw Error("Unknown input type for opt_headers: "+String(l));l=Array.from(c.keys()).find(w=>w.toLowerCase()=="content-type"),E=h.FormData&&r instanceof h.FormData,!(0<=Array.prototype.indexOf.call(Zp,o,void 0))||l||E||c.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[w,S]of c)this.g.setRequestHeader(w,S);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Za(this),this.u=!0,this.g.send(r),this.u=!1}catch(w){Qa(this,w)}};function Qa(r,o){r.h=!1,r.g&&(r.j=!0,r.g.abort(),r.j=!1),r.l=o,r.m=5,Ja(r),gr(r)}function Ja(r){r.A||(r.A=!0,Ie(r,"complete"),Ie(r,"error"))}t.abort=function(r){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=r||7,Ie(this,"complete"),Ie(this,"abort"),gr(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),gr(this,!0)),X.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Xa(this):this.bb())},t.bb=function(){Xa(this)};function Xa(r){if(r.h&&typeof u<"u"&&(!r.v[1]||Ye(r)!=4||r.Z()!=2)){if(r.u&&Ye(r)==4)va(r.Ea,0,r);else if(Ie(r,"readystatechange"),Ye(r)==4){r.h=!1;try{let S=r.Z();e:switch(S){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var o=!0;break e;default:o=!1}var c;if(!(c=o)){var l;if(l=S===0){var E=String(r.D).match(qa)[1]||null;!E&&h.self&&h.self.location&&(E=h.self.location.protocol.slice(0,-1)),l=!Xp.test(E?E.toLowerCase():"")}c=l}if(c)Ie(r,"complete"),Ie(r,"success");else{r.m=6;try{var w=2<Ye(r)?r.g.statusText:""}catch{w=""}r.l=w+" ["+r.Z()+"]",Ja(r)}}finally{gr(r)}}}}function gr(r,o){if(r.g){Za(r);let c=r.g,l=r.v[0]?()=>{}:null;r.g=null,r.v=null,o||Ie(r,"ready");try{c.onreadystatechange=l}catch{}}}function Za(r){r.I&&(h.clearTimeout(r.I),r.I=null)}t.isActive=function(){return!!this.g};function Ye(r){return r.g?r.g.readyState:0}t.Z=function(){try{return 2<Ye(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(r){if(this.g){var o=this.g.responseText;return r&&o.indexOf(r)==0&&(o=o.substring(r.length)),Np(o)}};function ec(r){try{if(!r.g)return null;if("response"in r.g)return r.g.response;switch(r.H){case"":case"text":return r.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in r.g)return r.g.mozResponseArrayBuffer}return null}catch{return null}}function em(r){let o={};r=(r.g&&2<=Ye(r)&&r.g.getAllResponseHeaders()||"").split(`\r
`);for(let l=0;l<r.length;l++){if(ue(r[l]))continue;var c=y(r[l]);let E=c[0];if(c=c[1],typeof c!="string")continue;c=c.trim();let w=o[E]||[];o[E]=w,w.push(c)}v(o,function(l){return l.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function An(r,o,c){return c&&c.internalChannelParams&&c.internalChannelParams[r]||o}function tc(r){this.Aa=0,this.i=[],this.j=new gn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=An("failFast",!1,r),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=An("baseRetryDelayMs",5e3,r),this.cb=An("retryDelaySeedMs",1e4,r),this.Wa=An("forwardChannelMaxRetries",2,r),this.wa=An("forwardChannelRequestTimeoutMs",2e4,r),this.pa=r&&r.xmlHttpFactory||void 0,this.Xa=r&&r.Tb||void 0,this.Ca=r&&r.useFetchStreams||!1,this.L=void 0,this.J=r&&r.supportsCrossDomainXhr||!1,this.K="",this.h=new La(r&&r.concurrentRequestLimit),this.Da=new Qp,this.P=r&&r.fastHandshake||!1,this.O=r&&r.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=r&&r.Rb||!1,r&&r.xa&&this.j.xa(),r&&r.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&r&&r.detectBufferingProxy||!1,this.ja=void 0,r&&r.longPollingTimeout&&0<r.longPollingTimeout&&(this.ja=r.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=tc.prototype,t.la=8,t.G=1,t.connect=function(r,o,c,l){ve(0),this.W=r,this.H=o||{},c&&l!==void 0&&(this.H.OSID=c,this.H.OAID=l),this.F=this.X,this.I=lc(this,null,this.W),yr(this)};function $i(r){if(nc(r),r.G==3){var o=r.U++,c=He(r.I);if(j(c,"SID",r.K),j(c,"RID",o),j(c,"TYPE","terminate"),bn(r,c),o=new at(r,r.j,o),o.L=2,o.v=pr(He(c)),c=!1,h.navigator&&h.navigator.sendBeacon)try{c=h.navigator.sendBeacon(o.v.toString(),"")}catch{}!c&&h.Image&&(new Image().src=o.v,c=!0),c||(o.g=hc(o.j,null),o.g.ea(o.v)),o.F=Date.now(),hr(o)}uc(r)}function _r(r){r.g&&(qi(r),r.g.cancel(),r.g=null)}function nc(r){_r(r),r.u&&(h.clearTimeout(r.u),r.u=null),Ir(r),r.h.cancel(),r.s&&(typeof r.s=="number"&&h.clearTimeout(r.s),r.s=null)}function yr(r){if(!Ma(r.h)&&!r.s){r.s=!0;var o=r.Ga;cn||pa(),un||(cn(),un=!0),Ii.add(o,r),r.B=0}}function tm(r,o){return Fa(r.h)>=r.h.j-(r.s?1:0)?!1:r.s?(r.i=o.D.concat(r.i),!0):r.G==1||r.G==2||r.B>=(r.Va?0:r.Wa)?!1:(r.s=mn(b(r.Ga,r,o),cc(r,r.B)),r.B++,!0)}t.Ga=function(r){if(this.s)if(this.s=null,this.G==1){if(!r){this.U=Math.floor(1e5*Math.random()),r=this.U++;let E=new at(this,this.j,r),w=this.o;if(this.S&&(w?(w=f(w),_(w,this.S)):w=this.S),this.m!==null||this.O||(E.H=w,w=null),this.P)e:{for(var o=0,c=0;c<this.i.length;c++){t:{var l=this.i[c];if("__data__"in l.map&&(l=l.map.__data__,typeof l=="string")){l=l.length;break t}l=void 0}if(l===void 0)break;if(o+=l,4096<o){o=c;break e}if(o===4096||c===this.i.length-1){o=c+1;break e}}o=1e3}else o=1e3;o=ic(this,E,o),c=He(this.I),j(c,"RID",r),j(c,"CVER",22),this.D&&j(c,"X-HTTP-Session-Id",this.D),bn(this,c),w&&(this.O?o="headers="+encodeURIComponent(String(Ya(w)))+"&"+o:this.m&&Ui(c,this.m,w)),Fi(this.h,E),this.Ua&&j(c,"TYPE","init"),this.P?(j(c,"$req",o),j(c,"SID","null"),E.T=!0,xi(E,c,null)):xi(E,c,o),this.G=2}}else this.G==3&&(r?rc(this,r):this.i.length==0||Ma(this.h)||rc(this))};function rc(r,o){var c;o?c=o.l:c=r.U++;let l=He(r.I);j(l,"SID",r.K),j(l,"RID",c),j(l,"AID",r.T),bn(r,l),r.m&&r.o&&Ui(l,r.m,r.o),c=new at(r,r.j,c,r.B+1),r.m===null&&(c.H=r.o),o&&(r.i=o.D.concat(r.i)),o=ic(r,c,1e3),c.I=Math.round(.5*r.wa)+Math.round(.5*r.wa*Math.random()),Fi(r.h,c),xi(c,l,o)}function bn(r,o){r.H&&le(r.H,function(c,l){j(o,l,c)}),r.l&&Ba({},function(c,l){j(o,l,c)})}function ic(r,o,c){c=Math.min(r.i.length,c);var l=r.l?b(r.l.Na,r.l,r):null;e:{var E=r.i;let w=-1;for(;;){let S=["count="+c];w==-1?0<c?(w=E[0].g,S.push("ofs="+w)):w=0:S.push("ofs="+w);let $=!0;for(let he=0;he<c;he++){let F=E[he].g,_e=E[he].map;if(F-=w,0>F)w=Math.max(0,E[he].g-100),$=!1;else try{Jp(_e,S,"req"+F+"_")}catch{l&&l(_e)}}if($){l=S.join("&");break e}}}return r=r.i.splice(0,c),o.D=r,l}function sc(r){if(!r.g&&!r.u){r.Y=1;var o=r.Fa;cn||pa(),un||(cn(),un=!0),Ii.add(o,r),r.v=0}}function Bi(r){return r.g||r.u||3<=r.v?!1:(r.Y++,r.u=mn(b(r.Fa,r),cc(r,r.v)),r.v++,!0)}t.Fa=function(){if(this.u=null,oc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var r=2*this.R;this.j.info("BP detection timer enabled: "+r),this.A=mn(b(this.ab,this),r)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ve(10),_r(this),oc(this))};function qi(r){r.A!=null&&(h.clearTimeout(r.A),r.A=null)}function oc(r){r.g=new at(r,r.j,"rpc",r.Y),r.m===null&&(r.g.H=r.o),r.g.O=0;var o=He(r.qa);j(o,"RID","rpc"),j(o,"SID",r.K),j(o,"AID",r.T),j(o,"CI",r.F?"0":"1"),!r.F&&r.ja&&j(o,"TO",r.ja),j(o,"TYPE","xmlhttp"),bn(r,o),r.m&&r.o&&Ui(o,r.m,r.o),r.L&&(r.g.I=r.L);var c=r.g;r=r.ia,c.L=1,c.v=pr(He(o)),c.m=null,c.P=!0,Da(c,r)}t.Za=function(){this.C!=null&&(this.C=null,_r(this),Bi(this),ve(19))};function Ir(r){r.C!=null&&(h.clearTimeout(r.C),r.C=null)}function ac(r,o){var c=null;if(r.g==o){Ir(r),qi(r),r.g=null;var l=2}else if(Mi(r.h,o))c=o.D,Ua(r.h,o),l=1;else return;if(r.G!=0){if(o.o)if(l==1){c=o.m?o.m.length:0,o=Date.now()-o.F;var E=r.B;l=cr(),Ie(l,new Ca(l,c)),yr(r)}else sc(r);else if(E=o.s,E==3||E==0&&0<o.X||!(l==1&&tm(r,o)||l==2&&Bi(r)))switch(c&&0<c.length&&(o=r.h,o.i=o.i.concat(c)),E){case 1:bt(r,5);break;case 4:bt(r,10);break;case 3:bt(r,6);break;default:bt(r,2)}}}function cc(r,o){let c=r.Ta+Math.floor(Math.random()*r.cb);return r.isActive()||(c*=2),c*o}function bt(r,o){if(r.j.info("Error code "+o),o==2){var c=b(r.fb,r),l=r.Xa;let E=!l;l=new At(l||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||dr(l,"https"),pr(l),E?Hp(l.toString(),c):Yp(l.toString(),c)}else ve(2);r.G=0,r.l&&r.l.sa(o),uc(r),nc(r)}t.fb=function(r){r?(this.j.info("Successfully pinged google.com"),ve(2)):(this.j.info("Failed to ping google.com"),ve(1))};function uc(r){if(r.G=0,r.ka=[],r.l){let o=$a(r.h);(o.length!=0||r.i.length!=0)&&(k(r.ka,o),k(r.ka,r.i),r.h.i.length=0,V(r.i),r.i.length=0),r.l.ra()}}function lc(r,o,c){var l=c instanceof At?He(c):new At(c);if(l.g!="")o&&(l.g=o+"."+l.g),fr(l,l.s);else{var E=h.location;l=E.protocol,o=o?o+"."+E.hostname:E.hostname,E=+E.port;var w=new At(null);l&&dr(w,l),o&&(w.g=o),E&&fr(w,E),c&&(w.l=c),l=w}return c=r.D,o=r.ya,c&&o&&j(l,c,o),j(l,"VER",r.la),bn(r,l),l}function hc(r,o,c){if(o&&!r.J)throw Error("Can't create secondary domain capable XhrIo object.");return o=r.Ca&&!r.pa?new X(new En({eb:c})):new X(r.pa),o.Ha(r.J),o}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function dc(){}t=dc.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function vr(){}vr.prototype.g=function(r,o){return new Pe(r,o)};function Pe(r,o){ge.call(this),this.g=new tc(o),this.l=r,this.h=o&&o.messageUrlParams||null,r=o&&o.messageHeaders||null,o&&o.clientProtocolHeaderRequired&&(r?r["X-Client-Protocol"]="webchannel":r={"X-Client-Protocol":"webchannel"}),this.g.o=r,r=o&&o.initMessageHeaders||null,o&&o.messageContentType&&(r?r["X-WebChannel-Content-Type"]=o.messageContentType:r={"X-WebChannel-Content-Type":o.messageContentType}),o&&o.va&&(r?r["X-WebChannel-Client-Profile"]=o.va:r={"X-WebChannel-Client-Profile":o.va}),this.g.S=r,(r=o&&o.Sb)&&!ue(r)&&(this.g.m=r),this.v=o&&o.supportsCrossDomainXhr||!1,this.u=o&&o.sendRawJson||!1,(o=o&&o.httpSessionIdParam)&&!ue(o)&&(this.g.D=o,r=this.h,r!==null&&o in r&&(r=this.h,o in r&&delete r[o])),this.j=new $t(this)}N(Pe,ge),Pe.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Pe.prototype.close=function(){$i(this.g)},Pe.prototype.o=function(r){var o=this.g;if(typeof r=="string"){var c={};c.__data__=r,r=c}else this.u&&(c={},c.__data__=Pi(r),r=c);o.i.push(new Fp(o.Ya++,r)),o.G==3&&yr(o)},Pe.prototype.N=function(){this.g.l=null,delete this.j,$i(this.g),delete this.g,Pe.aa.N.call(this)};function fc(r){ki.call(this),r.__headers__&&(this.headers=r.__headers__,this.statusCode=r.__status__,delete r.__headers__,delete r.__status__);var o=r.__sm__;if(o){e:{for(let c in o){r=c;break e}r=void 0}(this.i=r)&&(r=this.i,o=o!==null&&r in o?o[r]:void 0),this.data=o}else this.data=r}N(fc,ki);function pc(){Ni.call(this),this.status=1}N(pc,Ni);function $t(r){this.g=r}N($t,dc),$t.prototype.ua=function(){Ie(this.g,"a")},$t.prototype.ta=function(r){Ie(this.g,new fc(r))},$t.prototype.sa=function(r){Ie(this.g,new pc)},$t.prototype.ra=function(){Ie(this.g,"b")},vr.prototype.createWebChannel=vr.prototype.g,Pe.prototype.send=Pe.prototype.o,Pe.prototype.open=Pe.prototype.m,Pe.prototype.close=Pe.prototype.close,Pd=et.createWebChannelTransport=function(){return new vr},Rd=et.getStatEventTarget=function(){return cr()},Sd=et.Event=Tt,bd=et.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ur.NO_ERROR=0,ur.TIMEOUT=8,ur.HTTP_ERROR=6,Ad=et.ErrorCode=ur,ka.COMPLETE="complete",wd=et.EventType=ka,ba.EventType=fn,fn.OPEN="a",fn.CLOSE="b",fn.ERROR="c",fn.MESSAGE="d",ge.prototype.listen=ge.prototype.K,Td=et.WebChannel=ba,bI=et.FetchXmlHttpFactory=En,X.prototype.listenOnce=X.prototype.L,X.prototype.getLastError=X.prototype.Ka,X.prototype.getLastErrorCode=X.prototype.Ba,X.prototype.getStatus=X.prototype.Z,X.prototype.getResponseJson=X.prototype.Oa,X.prototype.getResponseText=X.prototype.oa,X.prototype.send=X.prototype.ea,X.prototype.setWithCredentials=X.prototype.Ha,Ed=et.XhrIo=X}).apply(typeof ni<"u"?ni:typeof self<"u"?self:typeof window<"u"?window:{});var Cd="@firebase/firestore",kd="4.8.0";var pe=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};pe.UNAUTHENTICATED=new pe(null),pe.GOOGLE_CREDENTIALS=new pe("google-credentials-uid"),pe.FIRST_PARTY=new pe("first-party-uid"),pe.MOCK_USER=new pe("mock-user");var Yn="11.10.0";var tn=new De("@firebase/firestore");function Ue(t,...e){if(tn.logLevel<=Qe.DEBUG){let n=e.map(Ro);tn.debug(`Firestore (${Yn}): ${t}`,...n)}}function jd(t,...e){if(tn.logLevel<=Qe.ERROR){let n=e.map(Ro);tn.error(`Firestore (${Yn}): ${t}`,...n)}}function SI(t,...e){if(tn.logLevel<=Qe.WARN){let n=e.map(Ro);tn.warn(`Firestore (${Yn}): ${t}`,...n)}}function Ro(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function Se(t,e,n){let i="Unexpected state";typeof e=="string"?i=e:n=e,Gd(t,i,n)}function Gd(t,e,n){let i=`FIRESTORE (${Yn}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw jd(i),new Error(i)}function xt(t,e,n,i){let s="Unexpected state";typeof n=="string"?s=n:i=n,t||Gd(e,s,i)}var M={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},x=class extends Te{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Vt=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var ri=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},ao=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(pe.UNAUTHENTICATED))}shutdown(){}},co=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},uo=class{constructor(e){this.t=e,this.currentUser=pe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){xt(this.o===void 0,42304);let i=this.i,s=d=>this.i!==i?(i=this.i,n(d)):Promise.resolve(),a=new Vt;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Vt,e.enqueueRetryable(()=>s(this.currentUser))};let u=()=>{let d=a;e.enqueueRetryable(()=>g(this,null,function*(){yield d.promise,yield s(this.currentUser)}))},h=d=>{Ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(d=>h(d)),setTimeout(()=>{if(!this.auth){let d=this.t.getImmediate({optional:!0});d?h(d):(Ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Vt)}},0),u()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(Ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(xt(typeof i.accessToken=="string",31837,{l:i}),new ri(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return xt(e===null||typeof e=="string",2055,{h:e}),new pe(e)}},lo=class{constructor(e,n,i){this.P=e,this.T=n,this.I=i,this.type="FirstParty",this.user=pe.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},ho=class{constructor(e,n,i){this.P=e,this.T=n,this.I=i}getToken(){return Promise.resolve(new lo(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(pe.FIRST_PARTY))}shutdown(){}invalidateToken(){}},ii=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},fo=class{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,fe(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){xt(this.o===void 0,3512);let i=a=>{a.error!=null&&Ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);let u=a.token!==this.m;return this.m=a.token,Ue("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>i(a))};let s=a=>{Ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>s(a)),setTimeout(()=>{if(!this.appCheck){let a=this.V.getImmediate({optional:!0});a?s(a):Ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new ii(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(xt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new ii(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function RI(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}function PI(){return new TextEncoder}var po=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516),i="";for(;i.length<20;){let s=RI(40);for(let a=0;a<s.length;++a)i.length<20&&s[a]<n&&(i+=e.charAt(s[a]%62))}return i}};function Ve(t,e){return t<e?-1:t>e?1:0}function CI(t,e){let n=0;for(;n<t.length&&n<e.length;){let i=t.codePointAt(n),s=e.codePointAt(n);if(i!==s){if(i<128&&s<128)return Ve(i,s);{let a=PI(),u=kI(a.encode(Nd(t,n)),a.encode(Nd(e,n)));return u!==0?u:Ve(i,s)}}n+=i>65535?2:1}return Ve(t.length,e.length)}function Nd(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function kI(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return Ve(t[n],e[n]);return Ve(t.length,e.length)}var Od="__name__",si=class t{constructor(e,n,i){n===void 0?n=0:n>e.length&&Se(637,{offset:n,range:e.length}),i===void 0?i=e.length-n:i>e.length-n&&Se(1746,{length:i,range:e.length-n}),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let i=Math.min(e.length,n.length);for(let s=0;s<i;s++){let a=t.compareSegments(e.get(s),n.get(s));if(a!==0)return a}return Ve(e.length,n.length)}static compareSegments(e,n){let i=t.isNumericId(e),s=t.isNumericId(n);return i&&!s?-1:!i&&s?1:i&&s?t.extractNumericId(e).compare(t.extractNumericId(n)):CI(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ti.fromString(e.substring(4,e.length-2))}},tt=class t extends si{construct(e,n,i){return new t(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let i of e){if(i.indexOf("//")>=0)throw new x(M.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(s=>s.length>0))}return new t(n)}static emptyPath(){return new t([])}},NI=/^[_a-zA-Z][_a-zA-Z0-9]*$/,mo=class t extends si{construct(e,n,i){return new t(e,n,i)}static isValidIdentifier(e){return NI.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Od}static keyField(){return new t([Od])}static fromServerFormat(e){let n=[],i="",s=0,a=()=>{if(i.length===0)throw new x(M.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""},u=!1;for(;s<e.length;){let h=e[s];if(h==="\\"){if(s+1===e.length)throw new x(M.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let d=e[s+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new x(M.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=d,s+=2}else h==="`"?(u=!u,s++):h!=="."||u?(i+=h,s++):(a(),s++)}if(a(),u)throw new x(M.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var nt=class t{constructor(e){this.path=e}static fromPath(e){return new t(tt.fromString(e))}static fromName(e){return new t(tt.fromString(e).popFirst(5))}static empty(){return new t(tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&tt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return tt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new tt(e.slice()))}};function OI(t,e,n,i){if(e===!0&&i===!0)throw new x(M.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function DI(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function xI(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(i){return i.constructor?i.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Se(12329,{type:typeof t})}function VI(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new x(M.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=xI(t);throw new x(M.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function ae(t,e){let n={typeString:t};return e&&(n.value=e),n}function Qn(t,e){if(!DI(t))throw new x(M.INVALID_ARGUMENT,"JSON must be an object");let n;for(let i in e)if(e[i]){let s=e[i].typeString,a="value"in e[i]?{value:e[i].value}:void 0;if(!(i in t)){n=`JSON missing required field: '${i}'`;break}let u=t[i];if(s&&typeof u!==s){n=`JSON field '${i}' must be a ${s}.`;break}if(a!==void 0&&u!==a.value){n=`Expected '${i}' field to equal '${a.value}'`;break}}if(n)throw new x(M.INVALID_ARGUMENT,n);return!0}var Dd=-62135596800,xd=1e6,jn=class t{static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*xd);return new t(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new x(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new x(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Dd)throw new x(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new x(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/xd}_compareTo(e){return this.seconds===e.seconds?Ve(this.nanoseconds,e.nanoseconds):Ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:t._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Qn(e,t._jsonSchema))return new t(e.seconds,e.nanoseconds)}valueOf(){let e=this.seconds-Dd;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};jn._jsonSchemaVersion="firestore/timestamp/1.0",jn._jsonSchema={type:ae("string",jn._jsonSchemaVersion),seconds:ae("number"),nanoseconds:ae("number")};var go=class{constructor(e,n,i,s){this.indexId=e,this.collectionGroup=n,this.fields=i,this.indexState=s}};go.UNKNOWN_ID=-1;function LI(t){return t.name==="IndexedDbTransactionError"}function MI(t){return t===0&&1/t==-1/0}var FI="remoteDocuments",zd="owner";var Kd="mutationQueues";var Wd="mutations";var Hd="documentMutations",UI="remoteDocumentsV14";var Yd="remoteDocumentGlobal";var Qd="targets";var Jd="targetDocuments";var Xd="targetGlobal",Zd="collectionParents";var ef="clientMetadata";var tf="bundles";var nf="namedQueries";var $I="indexConfiguration";var BI="indexState";var qI="indexEntries";var rf="documentOverlays";var jI="globals";var GI=[Kd,Wd,Hd,FI,Qd,zd,Xd,Jd,ef,Yd,Zd,tf,nf],Eb=[...GI,rf],zI=[Kd,Wd,Hd,UI,Qd,zd,Xd,Jd,ef,Yd,Zd,tf,nf,rf],KI=zI,WI=[...KI,$I,BI,qI];var Tb=[...WI,jI];var nn=class t{constructor(e,n){this.comparator=e,this.root=n||ze.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ze.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ze.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){let s=this.comparator(e,i.key);if(s===0)return n+i.left.size;s<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){let e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Jt(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Jt(this.root,e,this.comparator,!1)}getReverseIterator(){return new Jt(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Jt(this.root,e,this.comparator,!0)}},Jt=class{constructor(e,n,i,s){this.isReverse=s,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?i(e.key,n):1,n&&s&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},ze=class t{constructor(e,n,i,s,a){this.key=e,this.value=n,this.color=i??t.RED,this.left=s??t.EMPTY,this.right=a??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,s,a){return new t(e??this.key,n??this.value,i??this.color,s??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let s=this,a=i(e,s.key);return s=a<0?s.copy(null,null,null,s.left.insert(e,n,i),null):a===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,i)),s.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return t.EMPTY;i=s.right.min(),s=s.copy(i.key,i.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Se(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Se(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw Se(27949);return e+(this.isRed()?0:1)}};ze.EMPTY=null,ze.RED=!0,ze.BLACK=!1;ze.EMPTY=new class{constructor(){this.size=0}get key(){throw Se(57766)}get value(){throw Se(16141)}get color(){throw Se(16727)}get left(){throw Se(29726)}get right(){throw Se(36894)}copy(e,n,i,s,a){return this}insert(e,n,i){return new ze(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var oi=class t{constructor(e){this.comparator=e,this.data=new nn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){let i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){let s=i.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new ai(this.data.getIterator())}getIteratorFrom(e){return new ai(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){let s=n.getNext().key,a=i.getNext().key;if(this.comparator(s,a)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},ai=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var _o=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var vt=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new _o("Invalid base64 string: "+a):a}}(e);return new t(n)}static fromUint8Array(e){let n=function(s){let a="";for(let u=0;u<s.length;++u)a+=String.fromCharCode(s[u]);return a}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let i=new Uint8Array(n.length);for(let s=0;s<n.length;s++)i[s]=n.charCodeAt(s);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};vt.EMPTY_BYTE_STRING=new vt("");var HI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function YI(t){if(xt(!!t,39018),typeof t=="string"){let e=0,n=HI.exec(t);if(xt(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}let i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Gn(t.seconds),nanos:Gn(t.nanos)}}function Gn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function QI(t){return typeof t=="string"?vt.fromBase64String(t):vt.fromUint8Array(t)}var yo="(default)",Io=class t{constructor(e,n){this.projectId=e,this.database=n||yo}static empty(){return new t("","")}get isDefaultDatabase(){return this.database===yo}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var sf="__type__",JI="__max__";var of="__vector__",af="value";function XI(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[sf])===null||n===void 0?void 0:n.stringValue)===of}function ZI(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===JI}var Ab={mapValue:{fields:{[sf]:{stringValue:of},[af]:{arrayValue:{}}}}};var vo=class{constructor(e,n=null,i=[],s=[],a=null,u="F",h=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=s,this.limit=a,this.limitType=u,this.startAt=h,this.endAt=d,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}};function ev(t){return new vo(t)}var bb=new nn(nt.comparator);var Sb=new nn(nt.comparator);var Rb=new nn(nt.comparator),Pb=new oi(nt.comparator);var Cb=new oi(Ve);var Vd,L;(L=Vd||(Vd={}))[L.OK=0]="OK",L[L.CANCELLED=1]="CANCELLED",L[L.UNKNOWN=2]="UNKNOWN",L[L.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",L[L.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",L[L.NOT_FOUND=5]="NOT_FOUND",L[L.ALREADY_EXISTS=6]="ALREADY_EXISTS",L[L.PERMISSION_DENIED=7]="PERMISSION_DENIED",L[L.UNAUTHENTICATED=16]="UNAUTHENTICATED",L[L.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",L[L.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",L[L.ABORTED=10]="ABORTED",L[L.OUT_OF_RANGE=11]="OUT_OF_RANGE",L[L.UNIMPLEMENTED=12]="UNIMPLEMENTED",L[L.INTERNAL=13]="INTERNAL",L[L.UNAVAILABLE=14]="UNAVAILABLE",L[L.DATA_LOSS=15]="DATA_LOSS";var kb=new ti([4294967295,4294967295],0);var ci=class{constructor(){}bt(e,n){this.Dt(e,n),n.vt()}Dt(e,n){if("nullValue"in e)this.Ct(n,5);else if("booleanValue"in e)this.Ct(n,10),n.Ft(e.booleanValue?1:0);else if("integerValue"in e)this.Ct(n,15),n.Ft(Gn(e.integerValue));else if("doubleValue"in e){let i=Gn(e.doubleValue);isNaN(i)?this.Ct(n,13):(this.Ct(n,15),MI(i)?n.Ft(0):n.Ft(i))}else if("timestampValue"in e){let i=e.timestampValue;this.Ct(n,20),typeof i=="string"&&(i=YI(i)),n.Mt(`${i.seconds||""}`),n.Ft(i.nanos||0)}else if("stringValue"in e)this.xt(e.stringValue,n),this.Ot(n);else if("bytesValue"in e)this.Ct(n,30),n.Nt(QI(e.bytesValue)),this.Ot(n);else if("referenceValue"in e)this.Bt(e.referenceValue,n);else if("geoPointValue"in e){let i=e.geoPointValue;this.Ct(n,45),n.Ft(i.latitude||0),n.Ft(i.longitude||0)}else"mapValue"in e?ZI(e)?this.Ct(n,Number.MAX_SAFE_INTEGER):XI(e)?this.Lt(e.mapValue,n):(this.kt(e.mapValue,n),this.Ot(n)):"arrayValue"in e?(this.qt(e.arrayValue,n),this.Ot(n)):Se(19022,{Qt:e})}xt(e,n){this.Ct(n,25),this.$t(e,n)}$t(e,n){n.Mt(e)}kt(e,n){let i=e.fields||{};this.Ct(n,55);for(let s of Object.keys(i))this.xt(s,n),this.Dt(i[s],n)}Lt(e,n){var i,s;let a=e.fields||{};this.Ct(n,53);let u=af,h=((s=(i=a[u].arrayValue)===null||i===void 0?void 0:i.values)===null||s===void 0?void 0:s.length)||0;this.Ct(n,15),n.Ft(Gn(h)),this.xt(u,n),this.Dt(a[u],n)}qt(e,n){let i=e.values||[];this.Ct(n,50);for(let s of i)this.Dt(s,n)}Bt(e,n){this.Ct(n,37),nt.fromName(e).path.forEach(i=>{this.Ct(n,60),this.$t(i,n)})}Ct(e,n){e.Ft(n)}Ot(e){e.Ft(2)}};ci.Ut=new ci;var Nb=new Uint8Array(0);var cf=41943040,Ge=class t{static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}};Ge.DEFAULT_COLLECTION_PERCENTILE=10,Ge.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ge.DEFAULT=new Ge(cf,Ge.DEFAULT_COLLECTION_PERCENTILE,Ge.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ge.DISABLED=new Ge(-1,0,0);var tv=1048576;function oo(){return typeof document<"u"?document:null}var Eo=class{constructor(e,n,i=1e3,s=1.5,a=6e4){this.Fi=e,this.timerId=n,this.d_=i,this.E_=s,this.A_=a,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();let n=Math.floor(this.R_+this.p_()),i=Math.max(0,Date.now()-this.m_),s=Math.max(0,n-i);s>0&&Ue("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,s,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}};var To=class t{constructor(e,n,i,s,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=s,this.removalCallback=a,this.deferred=new Vt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,s,a){let u=Date.now()+i,h=new t(e,n,u,s,a);return h.start(i),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new x(M.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};var Ld,Md;(Md=Ld||(Ld={})).Fa="default",Md.Cache="cache";function nv(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var Fd=new Map;var uf="firestore.googleapis.com",Ud=!0,ui=class{constructor(e){var n,i;if(e.host===void 0){if(e.ssl!==void 0)throw new x(M.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=uf,this.ssl=Ud}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:Ud;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=cf;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<tv)throw new x(M.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}OI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=nv((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new x(M.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new x(M.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new x(M.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,s){return i.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},li=class{constructor(e,n,i,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ui({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new x(M.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new x(M.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ui(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new ao;switch(i.type){case"firstParty":return new ho(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new x(M.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return g(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let i=Fd.get(n);i&&(Ue("ComponentProvider","Removing Datastore"),Fd.delete(n),i.terminate())}(this),Promise.resolve()}};function lf(t,e,n,i={}){var s;t=VI(t,li);let a=Be(e),u=t._getSettings(),h=Object.assign(Object.assign({},u),{emulatorOptions:t._getEmulatorOptions()}),d=`${e}:${n}`;a&&(ft(`https://${d}`),pt("Firestore",!0)),u.host!==uf&&u.host!==d&&SI("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let I=Object.assign(Object.assign({},u),{host:d,ssl:a,emulatorOptions:i});if(!qe(I,h)&&(t._setSettings(I),i.mockUserToken)){let A,R;if(typeof i.mockUserToken=="string")A=i.mockUserToken,R=pe.MOCK_USER;else{A=br(i.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);let b=i.mockUserToken.sub||i.mockUserToken.user_id;if(!b)throw new x(M.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");R=new pe(b)}t._authCredentials=new co(new ri(A,R))}}var wo=class t{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},Lt=class t{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ao(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}toJSON(){return{type:t._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,i){if(Qn(n,t._jsonSchema))return new t(e,i||null,new nt(tt.fromString(n.referencePath)))}};Lt._jsonSchemaVersion="firestore/documentReference/1.0",Lt._jsonSchema={type:ae("string",Lt._jsonSchemaVersion),referencePath:ae("string")};var Ao=class t extends wo{constructor(e,n,i){super(e,n,ev(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Lt(this.firestore,null,new nt(e))}withConverter(e){return new t(this.firestore,e,this._path)}};var $d="AsyncQueue",hi=class{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new Eo(this,"async_queue_retry"),this.oc=()=>{let i=oo();i&&Ue($d,"Visibility state changed to "+i.visibilityState),this.F_.y_()},this._c=e;let n=oo();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;let n=oo();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});let n=new Vt;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}cc(){return g(this,null,function*(){if(this.Zu.length!==0){try{yield this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!LI(e))throw e;Ue($d,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}})}uc(e){let n=this._c.then(()=>(this.nc=!0,e().catch(i=>{throw this.tc=i,this.nc=!1,jd("INTERNAL UNHANDLED ERROR: ",Bd(i)),i}).then(i=>(this.nc=!1,i))));return this._c=n,n}enqueueAfterDelay(e,n,i){this.ac(),this.sc.indexOf(e)>-1&&(n=0);let s=To.createAndSchedule(this,e,n,i,a=>this.lc(a));return this.ec.push(s),s}ac(){this.tc&&Se(47125,{hc:Bd(this.tc)})}verifyOperationInProgress(){}Pc(){return g(this,null,function*(){let e;do e=this._c,yield e;while(e!==this._c)})}Tc(e){for(let n of this.ec)if(n.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(let n of this.ec)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){let n=this.ec.indexOf(e);this.ec.splice(n,1)}};function Bd(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}var bo=class extends li{constructor(e,n,i,s){super(e,n,i,s),this.type="firestore",this._queue=new hi,this._persistenceKey=s?.name||"[DEFAULT]"}_terminate(){return g(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new hi(e),this._firestoreClient=void 0,yield e}})}};function hf(t,e){let n=typeof t=="object"?t:ie(),i=typeof t=="string"?t:e||yo,s=re(n,"firestore").getImmediate({identifier:i});if(!s._initialized){let a=Gt("firestore");a&&lf(s,...a)}return s}var zn=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(vt.fromBase64String(e))}catch(n){throw new x(M.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(vt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:t._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Qn(e,t._jsonSchema))return t.fromBase64String(e.bytes)}};zn._jsonSchemaVersion="firestore/bytes/1.0",zn._jsonSchema={type:ae("string",zn._jsonSchemaVersion),bytes:ae("string")};var di=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new x(M.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new mo(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Kn=class t{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new x(M.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new x(M.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ve(this._lat,e._lat)||Ve(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:t._jsonSchemaVersion}}static fromJSON(e){if(Qn(e,t._jsonSchema))return new t(e.latitude,e.longitude)}};Kn._jsonSchemaVersion="firestore/geoPoint/1.0",Kn._jsonSchema={type:ae("string",Kn._jsonSchemaVersion),latitude:ae("number"),longitude:ae("number")};var Wn=class t{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,s){if(i.length!==s.length)return!1;for(let a=0;a<i.length;++a)if(i[a]!==s[a])return!1;return!0}(this._values,e._values)}toJSON(){return{type:t._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Qn(e,t._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new t(e.vectorValues);throw new x(M.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}};Wn._jsonSchemaVersion="firestore/vectorValue/1.0",Wn._jsonSchema={type:ae("string",Wn._jsonSchemaVersion),vectorValues:ae("object")};var rv=new RegExp("[~\\*/\\[\\]]");function iv(t,e,n){if(e.search(rv)>=0)throw qd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new di(...e.split("."))._internalPath}catch{throw qd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function qd(t,e,n,i,s){let a=i&&!i.isEmpty(),u=s!==void 0,h=`Function ${e}() called with invalid data`;n&&(h+=" (via `toFirestore()`)"),h+=". ";let d="";return(a||u)&&(d+=" (found",a&&(d+=` in field ${i}`),u&&(d+=` in document ${s}`),d+=")"),new x(M.INVALID_ARGUMENT,h+t+d)}var fi=class{constructor(e,n,i,s,a){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=s,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Lt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new So(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(df("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},So=class extends fi{data(){return super.data()}};function df(t,e){return typeof e=="string"?iv(t,e):e instanceof di?e._internalPath:e._delegate._internalPath}var Xt=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Zt=class t extends fi{constructor(e,n,i,s,a,u){super(e,n,i,s,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new en(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let i=this._document.data.field(df("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new x(M.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e=this._document,n={};return n.type=t._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}};Zt._jsonSchemaVersion="firestore/documentSnapshot/1.0",Zt._jsonSchema={type:ae("string",Zt._jsonSchemaVersion),bundleSource:ae("string","DocumentSnapshot"),bundleName:ae("string"),bundle:ae("string")};var en=class extends Zt{data(e={}){return super.data(e)}},Hn=class t{constructor(e,n,i,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Xt(s.hasPendingWrites,s.fromCache),this.query=i}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new en(this._firestore,this._userDataWriter,i.key,i,new Xt(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new x(M.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,a){if(s._snapshot.oldDocs.isEmpty()){let u=0;return s._snapshot.docChanges.map(h=>{let d=new en(s._firestore,s._userDataWriter,h.doc.key,h.doc,new Xt(s._snapshot.mutatedKeys.has(h.doc.key),s._snapshot.fromCache),s.query.converter);return h.doc,{type:"added",doc:d,oldIndex:-1,newIndex:u++}})}{let u=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(h=>a||h.type!==3).map(h=>{let d=new en(s._firestore,s._userDataWriter,h.doc.key,h.doc,new Xt(s._snapshot.mutatedKeys.has(h.doc.key),s._snapshot.fromCache),s.query.converter),I=-1,A=-1;return h.type!==0&&(I=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),A=u.indexOf(h.doc.key)),{type:sv(h.type),doc:d,oldIndex:I,newIndex:A}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new x(M.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e={};e.type=t._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=po.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let n=[],i=[],s=[];return this.docs.forEach(a=>{a._document!==null&&(n.push(a._document),i.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),s.push(a.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function sv(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Se(61501,{type:t})}}Hn._jsonSchemaVersion="firestore/querySnapshot/1.0",Hn._jsonSchema={type:ae("string",Hn._jsonSchemaVersion),bundleSource:ae("string","QuerySnapshot"),bundleName:ae("string"),bundle:ae("string")};(function(e,n=!0){(function(s){Yn=s})(xe),ne(new te("firestore",(i,{instanceIdentifier:s,options:a})=>{let u=i.getProvider("app").getImmediate(),h=new bo(new uo(i.getProvider("auth-internal")),new fo(u,i.getProvider("app-check-internal")),function(I,A){if(!Object.prototype.hasOwnProperty.apply(I.options,["projectId"]))throw new x(M.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Io(I.options.projectId,A)}(u,s),u);return a=Object.assign({useFetchStreams:n},a),h._setSettings(a),h},"PUBLIC").setMultipleInstances(!0)),P(Cd,kd,e),P(Cd,kd,"esm2017")})();var Jn=class{constructor(e){return e}},ff="firestore",Po=class{constructor(){return oe(ff)}};var Co=new Z("angularfire2.firestore-instances");function ov(t,e){let n=se(ff,t,e);return n&&new Jn(n)}function av(t){return(e,n)=>{let i=e.runOutsideAngular(()=>t(n));return new Jn(i)}}var cv={provide:Po,deps:[[new D,Co]]},uv={provide:Jn,useFactory:ov,deps:[[new D,Co],K]};function pf(t,...e){return P("angularfire",z.full,"fst"),ee([uv,cv,{provide:Co,useFactory:av(t),multi:!0,deps:[U,G,Q,J,[new D,Ze],[new D,Ce],...e]}])}var mf=q(hf,!0);var yf="functions";var ko=class{constructor(e,n,i,s){this.app=e,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,fe(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.auth=n.getImmediate({optional:!0}),this.messaging=i.getImmediate({optional:!0}),this.auth||n.get().then(a=>this.auth=a,()=>{}),this.messaging||i.get().then(a=>this.messaging=a,()=>{}),this.appCheck||s?.get().then(a=>this.appCheck=a,()=>{})}getAuthToken(){return g(this,null,function*(){if(this.auth)try{let e=yield this.auth.getToken();return e?.accessToken}catch{return}})}getMessagingToken(){return g(this,null,function*(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return yield this.messaging.getToken()}catch{return}})}getAppCheckToken(e){return g(this,null,function*(){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){let n=e?yield this.appCheck.getLimitedUseToken():yield this.appCheck.getToken();return n.error?null:n.token}return null})}getContext(e){return g(this,null,function*(){let n=yield this.getAuthToken(),i=yield this.getMessagingToken(),s=yield this.getAppCheckToken(e);return{authToken:n,messagingToken:i,appCheckToken:s}})}};var No="us-central1";var Oo=class{constructor(e,n,i,s,a=No,u=(...h)=>fetch(...h)){this.app=e,this.fetchImpl=u,this.emulatorOrigin=null,this.contextProvider=new ko(e,n,i,s),this.cancelAllRequests=new Promise(h=>{this.deleteService=()=>Promise.resolve(h())});try{let h=new URL(a);this.customDomain=h.origin+(h.pathname==="/"?"":h.pathname),this.region=No}catch{this.customDomain=null,this.region=a}}_delete(){return this.deleteService()}_url(e){let n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${n}.cloudfunctions.net/${e}`}};function lv(t,e,n){let i=Be(e);t.emulatorOrigin=`http${i?"s":""}://${e}:${n}`,i&&(ft(t.emulatorOrigin),pt("Functions",!0))}var gf="@firebase/functions",_f="0.12.9";var hv="auth-internal",dv="app-check-internal",fv="messaging-internal";function pv(t){let e=(n,{instanceIdentifier:i})=>{let s=n.getProvider("app").getImmediate(),a=n.getProvider(hv),u=n.getProvider(fv),h=n.getProvider(dv);return new Oo(s,a,u,h,i)};ne(new te(yf,e,"PUBLIC").setMultipleInstances(!0)),P(gf,_f,t),P(gf,_f,"esm2017")}function If(t=ie(),e=No){let i=re(B(t),yf).getImmediate({identifier:e}),s=Gt("functions");return s&&vf(i,...s),i}function vf(t,e,n){lv(B(t),e,n)}pv();var Xn=class{constructor(e){return e}},Ef="functions",Do=class{constructor(){return oe(Ef)}};var xo=new Z("angularfire2.functions-instances");function mv(t,e){let n=se(Ef,t,e);return n&&new Xn(n)}function gv(t){return(e,n)=>{let i=e.runOutsideAngular(()=>t(n));return new Xn(i)}}var _v={provide:Do,deps:[[new D,xo]]},yv={provide:Xn,useFactory:mv,deps:[[new D,xo],K]};function Tf(t,...e){return P("angularfire",z.full,"fn"),ee([yv,_v,{provide:xo,useFactory:gv(t),multi:!0,deps:[U,G,Q,J,[new D,Ze],[new D,Ce],...e]}])}var wf=q(If,!0);var Iv="/firebase-messaging-sw.js",vv="/firebase-cloud-messaging-push-scope",kf="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Ev="https://fcmregistrations.googleapis.com/v1",Nf="google.c.a.c_id",Tv="google.c.a.c_l",wv="google.c.a.ts",Av="google.c.a.e",Af=1e4;var pi=function(t){return t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked",t}(pi||{});function rt(t){let e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function bv(t){let e="=".repeat((4-t.length%4)%4),n=(t+e).replace(/\-/g,"+").replace(/_/g,"/"),i=atob(n),s=new Uint8Array(i.length);for(let a=0;a<i.length;++a)s[a]=i.charCodeAt(a);return s}var Vo="fcm_token_details_db",Sv=5,bf="fcm_token_object_Store";function Rv(t){return g(this,null,function*(){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(a=>a.name).includes(Vo))return null;let e=null;return(yield Zi(Vo,Sv,{upgrade:(i,s,a,u)=>g(null,null,function*(){var h;if(s<2||!i.objectStoreNames.contains(bf))return;let d=u.objectStore(bf),I=yield d.index("fcmSenderId").get(t);if(yield d.clear(),!!I){if(s===2){let A=I;if(!A.auth||!A.p256dh||!A.endpoint)return;e={token:A.fcmToken,createTime:(h=A.createTime)!==null&&h!==void 0?h:Date.now(),subscriptionOptions:{auth:A.auth,p256dh:A.p256dh,endpoint:A.endpoint,swScope:A.swScope,vapidKey:typeof A.vapidKey=="string"?A.vapidKey:rt(A.vapidKey)}}}else if(s===3){let A=I;e={token:A.fcmToken,createTime:A.createTime,subscriptionOptions:{auth:rt(A.auth),p256dh:rt(A.p256dh),endpoint:A.endpoint,swScope:A.swScope,vapidKey:rt(A.vapidKey)}}}else if(s===4){let A=I;e={token:A.fcmToken,createTime:A.createTime,subscriptionOptions:{auth:rt(A.auth),p256dh:rt(A.p256dh),endpoint:A.endpoint,swScope:A.swScope,vapidKey:rt(A.vapidKey)}}}}})})).close(),yield Sr(Vo),yield Sr("fcm_vapid_details_db"),yield Sr("undefined"),Pv(e)?e:null})}function Pv(t){if(!t||!t.subscriptionOptions)return!1;let{subscriptionOptions:e}=t;return typeof t.createTime=="number"&&t.createTime>0&&typeof t.token=="string"&&t.token.length>0&&typeof e.auth=="string"&&e.auth.length>0&&typeof e.p256dh=="string"&&e.p256dh.length>0&&typeof e.endpoint=="string"&&e.endpoint.length>0&&typeof e.swScope=="string"&&e.swScope.length>0&&typeof e.vapidKey=="string"&&e.vapidKey.length>0}var Cv="firebase-messaging-database",kv=1,Zn="firebase-messaging-store",Lo=null;function Of(){return Lo||(Lo=Zi(Cv,kv,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Zn)}}})),Lo}function Nv(t){return g(this,null,function*(){let e=Df(t),i=yield(yield Of()).transaction(Zn).objectStore(Zn).get(e);if(i)return i;{let s=yield Rv(t.appConfig.senderId);if(s)return yield Uo(t,s),s}})}function Uo(t,e){return g(this,null,function*(){let n=Df(t),s=(yield Of()).transaction(Zn,"readwrite");return yield s.objectStore(Zn).put(e,n),yield s.done,e})}function Df({appConfig:t}){return t.appId}var Ov={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},Ae=new Oe("messaging","Messaging",Ov);function Dv(t,e){return g(this,null,function*(){let n=yield Bo(t),i=xf(e),s={method:"POST",headers:n,body:JSON.stringify(i)},a;try{a=yield(yield fetch($o(t.appConfig),s)).json()}catch(u){throw Ae.create("token-subscribe-failed",{errorInfo:u?.toString()})}if(a.error){let u=a.error.message;throw Ae.create("token-subscribe-failed",{errorInfo:u})}if(!a.token)throw Ae.create("token-subscribe-no-token");return a.token})}function xv(t,e){return g(this,null,function*(){let n=yield Bo(t),i=xf(e.subscriptionOptions),s={method:"PATCH",headers:n,body:JSON.stringify(i)},a;try{a=yield(yield fetch(`${$o(t.appConfig)}/${e.token}`,s)).json()}catch(u){throw Ae.create("token-update-failed",{errorInfo:u?.toString()})}if(a.error){let u=a.error.message;throw Ae.create("token-update-failed",{errorInfo:u})}if(!a.token)throw Ae.create("token-update-no-token");return a.token})}function Vv(t,e){return g(this,null,function*(){let i={method:"DELETE",headers:yield Bo(t)};try{let a=yield(yield fetch(`${$o(t.appConfig)}/${e}`,i)).json();if(a.error){let u=a.error.message;throw Ae.create("token-unsubscribe-failed",{errorInfo:u})}}catch(s){throw Ae.create("token-unsubscribe-failed",{errorInfo:s?.toString()})}})}function $o({projectId:t}){return`${Ev}/projects/${t}/registrations`}function Bo(n){return g(this,arguments,function*({appConfig:t,installations:e}){let i=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${i}`})})}function xf({p256dh:t,auth:e,endpoint:n,vapidKey:i}){let s={web:{endpoint:n,auth:e,p256dh:t}};return i!==kf&&(s.web.applicationPubKey=i),s}var Lv=7*24*60*60*1e3;function Mv(t){return g(this,null,function*(){let e=yield Uv(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:rt(e.getKey("auth")),p256dh:rt(e.getKey("p256dh"))},i=yield Nv(t.firebaseDependencies);if(i){if($v(i.subscriptionOptions,n))return Date.now()>=i.createTime+Lv?Fv(t,{token:i.token,createTime:Date.now(),subscriptionOptions:n}):i.token;try{yield Vv(t.firebaseDependencies,i.token)}catch(s){console.warn(s)}return Sf(t.firebaseDependencies,n)}else return Sf(t.firebaseDependencies,n)})}function Fv(t,e){return g(this,null,function*(){try{let n=yield xv(t.firebaseDependencies,e),i=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return yield Uo(t.firebaseDependencies,i),n}catch(n){throw n}})}function Sf(t,e){return g(this,null,function*(){let i={token:yield Dv(t,e),createTime:Date.now(),subscriptionOptions:e};return yield Uo(t,i),i.token})}function Uv(t,e){return g(this,null,function*(){let n=yield t.pushManager.getSubscription();return n||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:bv(e)})})}function $v(t,e){let n=e.vapidKey===t.vapidKey,i=e.endpoint===t.endpoint,s=e.auth===t.auth,a=e.p256dh===t.p256dh;return n&&i&&s&&a}function Rf(t){let e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return Bv(e,t),qv(e,t),jv(e,t),e}function Bv(t,e){if(!e.notification)return;t.notification={};let n=e.notification.title;n&&(t.notification.title=n);let i=e.notification.body;i&&(t.notification.body=i);let s=e.notification.image;s&&(t.notification.image=s);let a=e.notification.icon;a&&(t.notification.icon=a)}function qv(t,e){e.data&&(t.data=e.data)}function jv(t,e){var n,i,s,a,u;if(!e.fcmOptions&&!(!((n=e.notification)===null||n===void 0)&&n.click_action))return;t.fcmOptions={};let h=(s=(i=e.fcmOptions)===null||i===void 0?void 0:i.link)!==null&&s!==void 0?s:(a=e.notification)===null||a===void 0?void 0:a.click_action;h&&(t.fcmOptions.link=h);let d=(u=e.fcmOptions)===null||u===void 0?void 0:u.analytics_label;d&&(t.fcmOptions.analyticsLabel=d)}function Gv(t){return typeof t=="object"&&!!t&&Nf in t}zv("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");function zv(t,e){let n=[];for(let i=0;i<t.length;i++)n.push(t.charAt(i)),i<e.length&&n.push(e.charAt(i));return n.join("")}function Kv(t){if(!t||!t.options)throw Mo("App Configuration Object");if(!t.name)throw Mo("App Name");let e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(let i of e)if(!n[i])throw Mo(i);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}function Mo(t){return Ae.create("missing-app-config-values",{valueName:t})}var Fo=class{constructor(e,n,i){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;let s=Kv(e);this.firebaseDependencies={app:e,appConfig:s,installations:n,analyticsProvider:i}}_delete(){return Promise.resolve()}};function Wv(t){return g(this,null,function*(){try{t.swRegistration=yield navigator.serviceWorker.register(Iv,{scope:vv}),t.swRegistration.update().catch(()=>{}),yield Hv(t.swRegistration)}catch(e){throw Ae.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})}function Hv(t){return g(this,null,function*(){return new Promise((e,n)=>{let i=setTimeout(()=>n(new Error(`Service worker not registered after ${Af} ms`)),Af),s=t.installing||t.waiting;t.active?(clearTimeout(i),e()):s?s.onstatechange=a=>{var u;((u=a.target)===null||u===void 0?void 0:u.state)==="activated"&&(s.onstatechange=null,clearTimeout(i),e())}:(clearTimeout(i),n(new Error("No incoming service worker found.")))})})}function Yv(t,e){return g(this,null,function*(){if(!e&&!t.swRegistration&&(yield Wv(t)),!(!e&&t.swRegistration)){if(!(e instanceof ServiceWorkerRegistration))throw Ae.create("invalid-sw-registration");t.swRegistration=e}})}function Qv(t,e){return g(this,null,function*(){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=kf)})}function Jv(t,e){return g(this,null,function*(){if(!navigator)throw Ae.create("only-available-in-window");if(Notification.permission==="default"&&(yield Notification.requestPermission()),Notification.permission!=="granted")throw Ae.create("permission-blocked");return yield Qv(t,e?.vapidKey),yield Yv(t,e?.serviceWorkerRegistration),Mv(t)})}function Xv(t,e,n){return g(this,null,function*(){let i=Zv(e);(yield t.firebaseDependencies.analyticsProvider.get()).logEvent(i,{message_id:n[Nf],message_name:n[Tv],message_time:n[wv],message_device_time:Math.floor(Date.now()/1e3)})})}function Zv(t){switch(t){case pi.NOTIFICATION_CLICKED:return"notification_open";case pi.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function eE(t,e){return g(this,null,function*(){let n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===pi.PUSH_RECEIVED&&(typeof t.onMessageHandler=="function"?t.onMessageHandler(Rf(n)):t.onMessageHandler.next(Rf(n)));let i=n.data;Gv(i)&&i[Av]==="1"&&(yield Xv(t,n.messageType,i))})}var Pf="@firebase/messaging",Cf="0.12.22";var tE=t=>{let e=new Fo(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>eE(e,n)),e},nE=t=>{let e=t.getProvider("messaging").getImmediate();return{getToken:i=>Jv(e,i)}};function rE(){ne(new te("messaging",tE,"PUBLIC")),ne(new te("messaging-internal",nE,"PRIVATE")),P(Pf,Cf),P(Pf,Cf,"esm2017")}function Vf(){return g(this,null,function*(){try{yield zt()}catch{return!1}return typeof window<"u"&&Fe()&&On()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})}function Lf(t=ie()){return Vf().then(e=>{if(!e)throw Ae.create("unsupported-browser")},e=>{throw Ae.create("indexed-db-unsupported")}),re(B(t),"messaging").getImmediate()}rE();var er=class{constructor(e){return e}},Mf="messaging",qo=class{constructor(){return oe(Mf)}};var jo=new Z("angularfire2.messaging-instances");function iE(t,e,n){if(ht(n))return null;let i=se(Mf,t,e);return i&&new er(i)}function sE(t){return(e,n,i)=>{if(ht(i))return null;let s=e.runOutsideAngular(()=>t(n));return new er(s)}}var oE={provide:qo,deps:[[new D,jo]]},aE={provide:er,useFactory:iE,deps:[[new D,jo],K,de]};function Ff(t,...e){return P("angularfire",z.full,"fcm"),ee([aE,oE,{provide:jo,useFactory:sE(t),multi:!0,deps:[U,G,de,Q,J,...e]}])}var Uf=q(Lf,!0);var tr=class{constructor(e){return e}},$f="performance",Go=class{constructor(){return oe($f)}};var zo=new Z("angularfire2.performance-instances");function cE(t,e,n){if(!jt(n))return null;let i=se($f,t,e);return i&&new tr(i)}function uE(t){return(e,n,i)=>{if(!jt(n))return null;let s=e.runOutsideAngular(()=>t(i));return new tr(s)}}var lE={provide:Go,deps:[[new D,zo]]},hE={provide:tr,useFactory:cE,deps:[[new D,zo],K,de]};function Bf(t,...e){return P("angularfire",z.full,"perf"),ee([hE,lE,{provide:zo,useFactory:uE(t),multi:!0,deps:[U,de,G,Q,J,...e]}])}var qf=q(Pl,!0);var Hf="firebasestorage.googleapis.com",dE="storageBucket",fE=2*60*1e3,pE=10*60*1e3;var Ke=class t extends Te{constructor(e,n,i=0){super(Ko(e),`Firebase Storage: ${n} (${Ko(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,t.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Ko(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}},st=function(t){return t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment",t}(st||{});function Ko(t){return"storage/"+t}function mE(){let t="An unknown error occurred, please check the error payload for server response.";return new Ke(st.UNKNOWN,t)}function gE(){return new Ke(st.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function _E(){return new Ke(st.CANCELED,"User canceled the upload/download.")}function yE(t){return new Ke(st.INVALID_URL,"Invalid URL '"+t+"'.")}function IE(t){return new Ke(st.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function jf(t){return new Ke(st.INVALID_ARGUMENT,t)}function Yf(){return new Ke(st.APP_DELETED,"The Firebase app was deleted.")}function vE(t){return new Ke(st.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}var it=class t{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){let e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let i;try{i=t.makeFromUrl(e,n)}catch{return new t(e,"")}if(i.path==="")return i;throw IE(e)}static makeFromUrl(e,n){let i=null,s="([A-Za-z0-9.\\-_]+)";function a(Y){Y.path.charAt(Y.path.length-1)==="/"&&(Y.path_=Y.path_.slice(0,-1))}let u="(/(.*))?$",h=new RegExp("^gs://"+s+u,"i"),d={bucket:1,path:3};function I(Y){Y.path_=decodeURIComponent(Y.path)}let A="v[A-Za-z0-9_]+",R=n.replace(/[.]/g,"\\."),b="(/([^?#]*).*)?$",C=new RegExp(`^https?://${R}/${A}/b/${s}/o${b}`,"i"),N={bucket:1,path:3},V=n===Hf?"(?:storage.googleapis.com|storage.cloud.google.com)":n,k="([^?#]*)",W=new RegExp(`^https?://${V}/${s}/${k}`,"i"),H=[{regex:h,indices:d,postModify:a},{regex:C,indices:N,postModify:I},{regex:W,indices:{bucket:1,path:2},postModify:I}];for(let Y=0;Y<H.length;Y++){let Ne=H[Y],le=Ne.regex.exec(e);if(le){let v=le[Ne.indices.bucket],f=le[Ne.indices.path];f||(f=""),i=new t(v,f),Ne.postModify(i);break}}if(i==null)throw yE(e);return i}},Wo=class{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}};function EE(t,e,n){let i=1,s=null,a=null,u=!1,h=0;function d(){return h===2}let I=!1;function A(...k){I||(I=!0,e.apply(null,k))}function R(k){s=setTimeout(()=>{s=null,t(C,d())},k)}function b(){a&&clearTimeout(a)}function C(k,...W){if(I){b();return}if(k){b(),A.call(null,k,...W);return}if(d()||u){b(),A.call(null,k,...W);return}i<64&&(i*=2);let H;h===1?(h=2,H=0):H=(i+Math.random())*1e3,R(H)}let N=!1;function V(k){N||(N=!0,b(),!I&&(s!==null?(k||(h=2),clearTimeout(s),R(0)):k||(h=1)))}return R(0),a=setTimeout(()=>{u=!0,V(!0)},n),V}function TE(t){t(!1)}function wE(t){return t!==void 0}function Gf(t,e,n,i){if(i<e)throw jf(`Invalid value for '${t}'. Expected ${e} or greater.`);if(i>n)throw jf(`Invalid value for '${t}'. Expected ${n} or less.`)}function AE(t){let e=encodeURIComponent,n="?";for(let i in t)if(t.hasOwnProperty(i)){let s=e(i)+"="+e(t[i]);n=n+s+"&"}return n=n.slice(0,-1),n}var Ho=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}(Ho||{});function bE(t,e){let n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return n||s||a}var Yo=class{constructor(e,n,i,s,a,u,h,d,I,A,R,b=!0,C=!1){this.url_=e,this.method_=n,this.headers_=i,this.body_=s,this.successCodes_=a,this.additionalRetryCodes_=u,this.callback_=h,this.errorCallback_=d,this.timeout_=I,this.progressCallback_=A,this.connectionFactory_=R,this.retry=b,this.isUsingEmulator=C,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((N,V)=>{this.resolve_=N,this.reject_=V,this.start_()})}start_(){let e=(i,s)=>{if(s){i(!1,new rn(!1,null,!0));return}let a=this.connectionFactory_();this.pendingConnection_=a;let u=h=>{let d=h.loaded,I=h.lengthComputable?h.total:-1;this.progressCallback_!==null&&this.progressCallback_(d,I)};this.progressCallback_!==null&&a.addUploadProgressListener(u),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(u),this.pendingConnection_=null;let h=a.getErrorCode()===Ho.NO_ERROR,d=a.getStatus();if(!h||bE(d,this.additionalRetryCodes_)&&this.retry){let A=a.getErrorCode()===Ho.ABORT;i(!1,new rn(!1,null,A));return}let I=this.successCodes_.indexOf(d)!==-1;i(!0,new rn(I,a))})},n=(i,s)=>{let a=this.resolve_,u=this.reject_,h=s.connection;if(s.wasSuccessCode)try{let d=this.callback_(h,h.getResponse());wE(d)?a(d):a()}catch(d){u(d)}else if(h!==null){let d=mE();d.serverResponse=h.getErrorText(),this.errorCallback_?u(this.errorCallback_(h,d)):u(d)}else if(s.canceled){let d=this.appDelete_?Yf():_E();u(d)}else{let d=gE();u(d)}};this.canceled_?n(!1,new rn(!1,null,!0)):this.backoffId_=EE(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&TE(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}},rn=class{constructor(e,n,i){this.wasSuccessCode=e,this.connection=n,this.canceled=!!i}};function SE(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function RE(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function PE(t,e){e&&(t["X-Firebase-GMPID"]=e)}function CE(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function kE(t,e,n,i,s,a,u=!0,h=!1){let d=AE(t.urlParams),I=t.url+d,A=Object.assign({},t.headers);return PE(A,e),SE(A,n),RE(A,a),CE(A,i),new Yo(I,t.method,A,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,u,h)}function NE(t){if(t.length===0)return null;let e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function OE(t){let e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}var HR=256*1024;var Qo=class t{constructor(e,n){this._service=e,n instanceof it?this._location=n:this._location=it.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new t(e,n)}get root(){let e=new it(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return OE(this._location.path)}get storage(){return this._service}get parent(){let e=NE(this._location.path);if(e===null)return null;let n=new it(this._location.bucket,e);return new t(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw vE(e)}};function zf(t,e){let n=e?.[dE];return n==null?null:it.makeFromBucketSpec(n,t)}function DE(t,e,n,i={}){t.host=`${e}:${n}`;let s=Be(e);s&&(ft(`https://${t.host}/b`),pt("Storage",!0)),t._isUsingEmulator=!0,t._protocol=s?"https":"http";let{mockUserToken:a}=i;a&&(t._overrideAuthToken=typeof a=="string"?a:br(a,t.app.options.projectId))}var Jo=class{constructor(e,n,i,s,a,u=!1){this.app=e,this._authProvider=n,this._appCheckProvider=i,this._url=s,this._firebaseVersion=a,this._isUsingEmulator=u,this._bucket=null,this._host=Hf,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=fE,this._maxUploadRetryTime=pE,this._requests=new Set,s!=null?this._bucket=it.makeFromBucketSpec(s,this._host):this._bucket=zf(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=it.makeFromBucketSpec(this._url,e):this._bucket=zf(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Gf("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Gf("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){return g(this,null,function*(){if(this._overrideAuthToken)return this._overrideAuthToken;let e=this._authProvider.getImmediate({optional:!0});if(e){let n=yield e.getToken();if(n!==null)return n.accessToken}return null})}_getAppCheckToken(){return g(this,null,function*(){if(fe(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let e=this._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Qo(this,e)}_makeRequest(e,n,i,s,a=!0){if(this._deleted)return new Wo(Yf());{let u=kE(e,this._appId,i,s,n,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}makeRequestWithTokens(e,n){return g(this,null,function*(){let[i,s]=yield Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,i,s).getPromise()})}},Kf="@firebase/storage",Wf="0.13.14";var Qf="storage";function Jf(t=ie(),e){t=B(t);let i=re(t,Qf).getImmediate({identifier:e}),s=Gt("storage");return s&&Xf(i,...s),i}function Xf(t,e,n,i={}){DE(t,e,n,i)}function xE(t,{instanceIdentifier:e}){let n=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new Jo(n,i,s,e,xe)}function VE(){ne(new te(Qf,xE,"PUBLIC").setMultipleInstances(!0)),P(Kf,Wf,""),P(Kf,Wf,"esm2017")}VE();var nr=class{constructor(e){return e}},Zf="storage",Xo=class{constructor(){return oe(Zf)}};var Zo=new Z("angularfire2.storage-instances");function LE(t,e){let n=se(Zf,t,e);return n&&new nr(n)}function ME(t){return(e,n)=>{let i=e.runOutsideAngular(()=>t(n));return new nr(i)}}var FE={provide:Xo,deps:[[new D,Zo]]},UE={provide:nr,useFactory:LE,deps:[[new D,Zo],K]};function ep(t,...e){return P("angularfire",z.full,"gcs"),ee([UE,FE,{provide:Zo,useFactory:ME(t),multi:!0,deps:[U,G,Q,J,[new D,Ze],[new D,Ce],...e]}])}var tp=q(Jf,!0);var ea="@firebase/remote-config",np="0.6.5";var ip="remote-config",rp=100;var $E={"already-initialized":"Remote Config already initialized","registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser","custom-signal-max-allowed-signals":"Setting more than {$maxSignals} custom signals is not supported."},Re=new Oe("remoteconfig","Remote Config",$E);function sp(t=ie(),e={}){var n,i;t=B(t);let s=re(t,ip);if(s.isInitialized()){let u=s.getOptions();if(qe(u,e))return s.getImmediate();throw Re.create("already-initialized")}s.initialize({options:e});let a=s.getImmediate();return e.initialFetchResponse&&(a._initializePromise=Promise.all([a._storage.setLastSuccessfulFetchResponse(e.initialFetchResponse),a._storage.setActiveConfigEtag(((n=e.initialFetchResponse)===null||n===void 0?void 0:n.eTag)||""),a._storageCache.setLastSuccessfulFetchTimestampMillis(Date.now()),a._storageCache.setLastFetchStatus("success"),a._storageCache.setActiveConfig(((i=e.initialFetchResponse)===null||i===void 0?void 0:i.config)||{})]).then(),a._isInitializationComplete=!0),a}function op(t){let e=B(t);return e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0})),e._initializePromise}var ta=class{constructor(e,n,i,s){this.client=e,this.storage=n,this.storageCache=i,this.logger=s}isCachedDataFresh(e,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;let i=Date.now()-n,s=i<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${i}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${s}.`),s}fetch(e){return g(this,null,function*(){let[n,i]=yield Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()]);if(i&&this.isCachedDataFresh(e.cacheMaxAgeMillis,n))return i;e.eTag=i&&i.eTag;let s=yield this.client.fetch(e),a=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return s.status===200&&a.push(this.storage.setLastSuccessfulFetchResponse(s)),yield Promise.all(a),s})}};function BE(t=navigator){return t.languages&&t.languages[0]||t.language}var na=class{constructor(e,n,i,s,a,u){this.firebaseInstallations=e,this.sdkVersion=n,this.namespace=i,this.projectId=s,this.apiKey=a,this.appId=u}fetch(e){return g(this,null,function*(){let[n,i]=yield Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()]),a=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${this.projectId}/namespaces/${this.namespace}:fetch?key=${this.apiKey}`,u={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},h={sdk_version:this.sdkVersion,app_instance_id:n,app_instance_id_token:i,app_id:this.appId,language_code:BE(),custom_signals:e.customSignals},d={method:"POST",headers:u,body:JSON.stringify(h)},I=fetch(a,d),A=new Promise((k,W)=>{e.signal.addEventListener(()=>{let ue=new Error("The operation was aborted.");ue.name="AbortError",W(ue)})}),R;try{yield Promise.race([I,A]),R=yield I}catch(k){let W="fetch-client-network";throw k?.name==="AbortError"&&(W="fetch-timeout"),Re.create(W,{originalErrorMessage:k?.message})}let b=R.status,C=R.headers.get("ETag")||void 0,N,V;if(R.status===200){let k;try{k=yield R.json()}catch(W){throw Re.create("fetch-client-parse",{originalErrorMessage:W?.message})}N=k.entries,V=k.state}if(V==="INSTANCE_STATE_UNSPECIFIED"?b=500:V==="NO_CHANGE"?b=304:(V==="NO_TEMPLATE"||V==="EMPTY_CONFIG")&&(N={}),b!==304&&b!==200)throw Re.create("fetch-status",{httpStatus:b});return{status:b,eTag:C,config:N}})}};function qE(t,e){return new Promise((n,i)=>{let s=Math.max(e-Date.now(),0),a=setTimeout(n,s);t.addEventListener(()=>{clearTimeout(a),i(Re.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function jE(t){if(!(t instanceof Te)||!t.customData)return!1;let e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}var ra=class{constructor(e,n){this.client=e,this.storage=n}fetch(e){return g(this,null,function*(){let n=(yield this.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return this.attemptFetch(e,n)})}attemptFetch(s,a){return g(this,arguments,function*(e,{throttleEndTimeMillis:n,backoffCount:i}){yield qE(e.signal,n);try{let u=yield this.client.fetch(e);return yield this.storage.deleteThrottleMetadata(),u}catch(u){if(!jE(u))throw u;let h={throttleEndTimeMillis:Date.now()+St(i),backoffCount:i+1};return yield this.storage.setThrottleMetadata(h),this.attemptFetch(e,h)}})}};var GE=60*1e3,zE=12*60*60*1e3,ia=class{get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}constructor(e,n,i,s,a){this.app=e,this._client=n,this._storageCache=i,this._storage=s,this._logger=a,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:GE,minimumFetchIntervalMillis:zE},this.defaultConfig={}}};function mi(t,e){let n=t.target.error||void 0;return Re.create(e,{originalErrorMessage:n&&n?.message})}var Et="app_namespace_store",KE="firebase_remote_config",WE=1;function HE(){return new Promise((t,e)=>{try{let n=indexedDB.open(KE,WE);n.onerror=i=>{e(mi(i,"storage-open"))},n.onsuccess=i=>{t(i.target.result)},n.onupgradeneeded=i=>{let s=i.target.result;switch(i.oldVersion){case 0:s.createObjectStore(Et,{keyPath:"compositeKey"})}}}catch(n){e(Re.create("storage-open",{originalErrorMessage:n?.message}))}})}var gi=class{getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}getCustomSignals(){return this.get("custom_signals")}},sa=class extends gi{constructor(e,n,i,s=HE()){super(),this.appId=e,this.appName=n,this.namespace=i,this.openDbPromise=s}setCustomSignals(e){return g(this,null,function*(){let i=(yield this.openDbPromise).transaction([Et],"readwrite"),s=yield this.getWithTransaction("custom_signals",i),a=ap(e,s||{});return yield this.setWithTransaction("custom_signals",a,i),a})}getWithTransaction(e,n){return g(this,null,function*(){return new Promise((i,s)=>{let a=n.objectStore(Et),u=this.createCompositeKey(e);try{let h=a.get(u);h.onerror=d=>{s(mi(d,"storage-get"))},h.onsuccess=d=>{let I=d.target.result;i(I?I.value:void 0)}}catch(h){s(Re.create("storage-get",{originalErrorMessage:h?.message}))}})})}setWithTransaction(e,n,i){return g(this,null,function*(){return new Promise((s,a)=>{let u=i.objectStore(Et),h=this.createCompositeKey(e);try{let d=u.put({compositeKey:h,value:n});d.onerror=I=>{a(mi(I,"storage-set"))},d.onsuccess=()=>{s()}}catch(d){a(Re.create("storage-set",{originalErrorMessage:d?.message}))}})})}get(e){return g(this,null,function*(){let i=(yield this.openDbPromise).transaction([Et],"readonly");return this.getWithTransaction(e,i)})}set(e,n){return g(this,null,function*(){let s=(yield this.openDbPromise).transaction([Et],"readwrite");return this.setWithTransaction(e,n,s)})}delete(e){return g(this,null,function*(){let n=yield this.openDbPromise;return new Promise((i,s)=>{let u=n.transaction([Et],"readwrite").objectStore(Et),h=this.createCompositeKey(e);try{let d=u.delete(h);d.onerror=I=>{s(mi(I,"storage-delete"))},d.onsuccess=()=>{i()}}catch(d){s(Re.create("storage-delete",{originalErrorMessage:d?.message}))}})})}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}},oa=class extends gi{constructor(){super(...arguments),this.storage={}}get(e){return g(this,null,function*(){return Promise.resolve(this.storage[e])})}set(e,n){return g(this,null,function*(){return this.storage[e]=n,Promise.resolve(void 0)})}delete(e){return g(this,null,function*(){return this.storage[e]=void 0,Promise.resolve()})}setCustomSignals(e){return g(this,null,function*(){let n=this.storage.custom_signals||{};return this.storage.custom_signals=ap(e,n),Promise.resolve(this.storage.custom_signals)})}};function ap(t,e){let n=Object.assign(Object.assign({},e),t),i=Object.fromEntries(Object.entries(n).filter(([s,a])=>a!==null).map(([s,a])=>typeof a=="number"?[s,a.toString()]:[s,a]));if(Object.keys(i).length>rp)throw Re.create("custom-signal-max-allowed-signals",{maxSignals:rp});return i}var aa=class{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}getCustomSignals(){return this.customSignals}loadFromStorage(){return g(this,null,function*(){let e=this.storage.getLastFetchStatus(),n=this.storage.getLastSuccessfulFetchTimestampMillis(),i=this.storage.getActiveConfig(),s=this.storage.getCustomSignals(),a=yield e;a&&(this.lastFetchStatus=a);let u=yield n;u&&(this.lastSuccessfulFetchTimestampMillis=u);let h=yield i;h&&(this.activeConfig=h);let d=yield s;d&&(this.customSignals=d)})}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}setCustomSignals(e){return g(this,null,function*(){this.customSignals=yield this.storage.setCustomSignals(e)})}};function YE(){ne(new te(ip,t,"PUBLIC").setMultipleInstances(!0)),P(ea,np),P(ea,np,"esm2017");function t(e,{options:n}){let i=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate(),{projectId:a,apiKey:u,appId:h}=i.options;if(!a)throw Re.create("registration-project-id");if(!u)throw Re.create("registration-api-key");if(!h)throw Re.create("registration-app-id");let d=n?.templateId||"firebase",I=Fe()?new sa(h,i.name,d):new oa,A=new aa(I),R=new De(ea);R.logLevel=Qe.ERROR;let b=new na(s,xe,d,a,u,h),C=new ra(b,I),N=new ta(C,I,A,R),V=new ia(i,N,A,I,R);return op(V),V}}YE();var rr=class{constructor(e){return e}},cp="remote-config",ca=class{constructor(){return oe(cp)}};var ua=new Z("angularfire2.remote-config-instances");function QE(t,e,n){if(ht(n))return null;let i=se(cp,t,e);return i&&new rr(i)}function JE(t){return(e,n,i)=>{if(ht(i))return null;let s=e.runOutsideAngular(()=>t(n));return new rr(s)}}var XE={provide:ca,deps:[[new D,ua]]},ZE={provide:rr,useFactory:QE,deps:[[new D,ua],K,de]};function up(t,...e){return P("angularfire",z.full,"rc"),ee([ZE,XE,{provide:ua,useFactory:JE(t),multi:!0,deps:[U,G,de,Q,J,...e]}])}var lp=q(sp,!0);var hp="@firebase/ai",dp="1.4.1";var sn="AI",fp="us-central1";var tP=180*1e3;var la=function(t){return t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t}(la||{});var pp={VERTEX_AI:"VERTEX_AI",GOOGLE_AI:"GOOGLE_AI"};var _i=class{constructor(e){this.backendType=e}},yi=class extends _i{constructor(){super(pp.GOOGLE_AI)}},on=class extends _i{constructor(e=fp){super(pp.VERTEX_AI),e?this.location=e:this.location=fp}};var ha=class{constructor(e,n,i,s){this.app=e,this.backend=n;let a=s?.getImmediate({optional:!0}),u=i?.getImmediate({optional:!0});this.auth=u||null,this.appCheck=a||null,n instanceof on?this.location=n.location:this.location=""}_delete(){return Promise.resolve()}};var Mt=class t extends Te{constructor(e,n,i){let s=sn,a=`${s}/${e}`,u=`${s}: ${n} (${a})`;super(e,u),this.code=e,this.customErrorData=i,Error.captureStackTrace&&Error.captureStackTrace(this,t),Object.setPrototypeOf(this,t.prototype),this.toString=()=>u}};function eT(t){if(t instanceof yi)return`${sn}/googleai`;if(t instanceof on)return`${sn}/vertexai/${t.location}`;throw new Mt("error",`Invalid backend: ${JSON.stringify(t.backendType)}`)}function tT(t){let e=t.split("/");if(e[0]!==sn)throw new Mt("error",`Invalid instance identifier, unknown prefix '${e[0]}'`);switch(e[1]){case"vertexai":let i=e[2];if(!i)throw new Mt("error",`Invalid instance identifier, unknown location '${t}'`);return new on(i);case"googleai":return new yi;default:throw new Mt("error",`Invalid instance identifier string: '${t}'`)}}var nP=new De("@firebase/vertexai");var rP=[la.RECITATION,la.SAFETY];function mp(t=ie(),e){t=B(t);let n=re(t,sn),i=new on(e?.location),s=eT(i);return n.getImmediate({identifier:s})}function nT(){ne(new te(sn,(t,{instanceIdentifier:e})=>{if(!e)throw new Mt("error","AIService instance identifier is undefined.");let n=tT(e),i=t.getProvider("app").getImmediate(),s=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal");return new ha(i,n,s,a)},"PUBLIC").setMultipleInstances(!0)),P(hp,dp),P(hp,dp,"esm2017")}nT();var ir=class{constructor(e){return e}},gp="vertexai",da=class{constructor(){return oe(gp)}};var fa=new Z("angularfire2.vertexai-instances");function rT(t,e){let n=se(gp,t,e);return n&&new ir(n)}function iT(t){return(e,n)=>{let i=e.runOutsideAngular(()=>t(n));return new ir(i)}}var sT={provide:da,deps:[[new D,fa]]},oT={provide:ir,useFactory:rT,deps:[[new D,fa],K]};function _p(t,...e){return P("angularfire",z.full,"vertexai"),ee([oT,sT,{provide:fa,useFactory:iT(t),multi:!0,deps:[U,G,Q,J,[new D,Ce],...e]}])}var yp=q(mp,!0);var aT={abbr:"zh-CN",ng:Zu,zorro:Ku,date:el,delon:Qu},cT={st:{modal:{size:"lg"}},pageHeader:{homeI18n:"home"},lodop:{license:"A59B099A586B3851E0F0D7FDBF37B603",licenseA:"C94CEE276DB2187AE6B65D56B3FC2848"},auth:{login_url:"/passport/login"}},uT={},Ip=[qc(),jc(),$c({scrollPositionRestoration:"top"})];dt.useHash&&Ip.push(Bc());var vp=[kc(Nc([...dt.interceptorFns??[],il,al])),zu(),Uc(Dl,...Ip),Ju({config:cT,defaultLang:aT,i18nClass:tl,icons:[...Ol,...Nl]}),zc(uT),sl(),ll(...ml),hl(...pl),dl({widgets:fl}),cl(),...dt.providers||[]];dt.api?.refreshTokenEnabled&&dt.api.refreshTokenType==="auth-refresh"&&vp.push(ol());var Ep={providers:[...vp,Ll(()=>Ml({projectId:"lin-in",appId:"1:387803341154:web:ff4088f6444c0c27a78c3b",storageBucket:"lin-in.firebasestorage.app",apiKey:"AIzaSyCX4rENtBHJAxypxNpx5YrFU-gHZl3L2-s",authDomain:"lin-in.firebaseapp.com",messagingSenderId:"387803341154",measurementId:"G-XJV1NM348D"})),Yh(()=>Jh()),_d(()=>pd()),gd,io,rh(()=>{let t=new Or("6Ld5gYgrAAAAAKVLmZSwqvTKsPAdOShDp6hNiBad");return ih(void 0,{provider:t,isTokenAutoRefreshEnabled:!0})}),pf(()=>mf()),Tf(()=>wf()),Ff(()=>Uf()),Bf(()=>qf()),ep(()=>tp()),up(()=>lp()),_p(()=>yp())]};Cc(Pr,Ep).catch(t=>console.error(t));
