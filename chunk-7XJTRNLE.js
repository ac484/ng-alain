import{a as j,b as W}from"./chunk-4GTW4BKH.js";import"./chunk-YJYBIEM3.js";import{d as F}from"./chunk-LG6P7A4I.js";import{a as A,c as B,d as b,e as K,f as L,i as $,j as I}from"./chunk-Q4FUTNQD.js";import"./chunk-5B4H2EJS.js";import"./chunk-7R5GSIAV.js";import"./chunk-ZK2E3MTA.js";import{$h as w,Ib as _,Ii as R,Jb as t,Jc as g,Ji as P,Kb as i,Lb as d,Sb as z,Vb as a,Yb as f,Za as C,_h as D,ai as v,cb as h,gc as k,hi as M,ib as y,ji as S,ki as V,lc as o,nc as N,ob as x,xa as u,ya as s,zd as T}from"./chunk-ZQZI5TTF.js";import"./chunk-57BLH6QZ.js";function G(E,n){if(E&1){let r=z();t(0,"span",17),a("contextmenu",function(l){let c=u(r).$implicit,m=f();return s(m.onRightClick(l,c))}),o(1),i()}if(E&2){let r=n.$implicit;f();let e=k(13);_("nzDropdownMenu",e),C(),N(" ",r.title," ")}}var p=class p{constructor(n){this.message=n;this.treeData=[{title:"\u6839\u7BC0\u9EDE 1",key:"0-0",children:[{title:"\u5B50\u7BC0\u9EDE 1-1",key:"0-0-0",children:[{title:"\u8449\u5B50\u7BC0\u9EDE 1-1-1",key:"0-0-0-0",isLeaf:!0},{title:"\u8449\u5B50\u7BC0\u9EDE 1-1-2",key:"0-0-0-1",isLeaf:!0}]},{title:"\u5B50\u7BC0\u9EDE 1-2",key:"0-0-1",children:[{title:"\u8449\u5B50\u7BC0\u9EDE 1-2-1",key:"0-0-1-0",isLeaf:!0}]}]},{title:"\u6839\u7BC0\u9EDE 2",key:"0-1",children:[{title:"\u5B50\u7BC0\u9EDE 2-1",key:"0-1-0",children:[{title:"\u8449\u5B50\u7BC0\u9EDE 2-1-1",key:"0-1-0-0",isLeaf:!0}]}]}];this.expandedKeys=["0-0","0-0-0","0-0-1","0-1","0-1-0"];this.selectedKeys=[];this.currentNode=null}onExpandChange(n){this.expandedKeys=n.keys}onNodeClick(n){console.log("\u7BC0\u9EDE\u9EDE\u64CA:",n),this.selectedKeys=[n.node.key]}onContextMenu(n){console.log("\u53F3\u9375\u9078\u55AE:",n)}onRightClick(n,r){n.preventDefault(),this.currentNode=r,console.log("\u53F3\u9375\u9EDE\u64CA\u7BC0\u9EDE:",r)}addChild(){this.currentNode&&this.message.success(`\u70BA\u7BC0\u9EDE "${this.currentNode.title}" \u65B0\u589E\u5B50\u7BC0\u9EDE`)}addSibling(){this.currentNode&&this.message.success(`\u70BA\u7BC0\u9EDE "${this.currentNode.title}" \u65B0\u589E\u5144\u5F1F\u7BC0\u9EDE`)}editNode(){this.currentNode&&this.message.info(`\u7DE8\u8F2F\u7BC0\u9EDE "${this.currentNode.title}"`)}copyNode(){this.currentNode&&this.message.success(`\u8907\u88FD\u7BC0\u9EDE "${this.currentNode.title}"`)}deleteNode(){this.currentNode&&this.message.warning(`\u522A\u9664\u7BC0\u9EDE "${this.currentNode.title}"`)}expandAll(){this.expandedKeys=this.getAllKeys(this.treeData),this.message.info("\u5DF2\u5C55\u958B\u5168\u90E8\u7BC0\u9EDE")}collapseAll(){this.expandedKeys=[],this.message.info("\u5DF2\u6536\u5408\u5168\u90E8\u7BC0\u9EDE")}resetTree(){this.treeData=[{title:"\u6839\u7BC0\u9EDE 1",key:"0-0",children:[{title:"\u5B50\u7BC0\u9EDE 1-1",key:"0-0-0",children:[{title:"\u8449\u5B50\u7BC0\u9EDE 1-1-1",key:"0-0-0-0",isLeaf:!0},{title:"\u8449\u5B50\u7BC0\u9EDE 1-1-2",key:"0-0-0-1",isLeaf:!0}]},{title:"\u5B50\u7BC0\u9EDE 1-2",key:"0-0-1",children:[{title:"\u8449\u5B50\u7BC0\u9EDE 1-2-1",key:"0-0-1-0",isLeaf:!0}]}]},{title:"\u6839\u7BC0\u9EDE 2",key:"0-1",children:[{title:"\u5B50\u7BC0\u9EDE 2-1",key:"0-1-0",children:[{title:"\u8449\u5B50\u7BC0\u9EDE 2-1-1",key:"0-1-0-0",isLeaf:!0}]}]}],this.expandedKeys=["0-0","0-0-0","0-0-1","0-1","0-1-0"],this.message.success("\u6A39\u72C0\u7D50\u69CB\u5DF2\u91CD\u7F6E")}getAllKeys(n){let r=[];return n.forEach(e=>{r.push(e.key),e.children&&r.push(...this.getAllKeys(e.children))}),r}};p.\u0275fac=function(r){return new(r||p)(h(F))},p.\u0275cmp=y({type:p,selectors:[["app-tree-context"]],decls:44,vars:6,consts:[["nzTreeTemplate",""],["contextMenu","nzDropdownMenu"],["title","\u6A39\u72C0\u53F3\u9375\u9078\u55AE\u529F\u80FD"],[2,"margin-bottom","16px"],["nz-button","","nzType","primary",3,"click"],["nz-button","","nzType","default",3,"click"],[3,"nzExpandChange","nzClick","nzContextMenu","nzData","nzBlockNode","nzShowLine","nzShowIcon","nzExpandedKeys","nzSelectedKeys"],["nz-menu",""],["nz-menu-item","",3,"click"],["nz-icon","","nzType","plus"],["nz-icon","","nzType","plus-circle"],["nz-menu-divider",""],["nz-icon","","nzType","edit"],["nz-icon","","nzType","copy"],["nz-menu-item","","nzDanger","",3,"click"],["nz-icon","","nzType","delete"],[2,"margin-top","16px","padding","16px","background-color","#f5f5f5","border-radius","4px"],["nz-dropdown","",2,"display","inline-block","width","100%",3,"contextmenu","nzDropdownMenu"]],template:function(r,e){if(r&1){let l=z();t(0,"nz-card",2)(1,"div",3)(2,"nz-space")(3,"button",4),a("click",function(){return u(l),s(e.expandAll())}),o(4,"\u5C55\u958B\u5168\u90E8"),i(),t(5,"button",5),a("click",function(){return u(l),s(e.collapseAll())}),o(6,"\u6536\u5408\u5168\u90E8"),i(),t(7,"button",5),a("click",function(){return u(l),s(e.resetTree())}),o(8,"\u91CD\u7F6E"),i()()(),t(9,"nz-tree",6),a("nzExpandChange",function(m){return u(l),s(e.onExpandChange(m))})("nzClick",function(m){return u(l),s(e.onNodeClick(m))})("nzContextMenu",function(m){return u(l),s(e.onContextMenu(m))}),x(10,G,2,2,"ng-template",null,0,g),i(),t(12,"nz-dropdown-menu",null,1)(14,"ul",7)(15,"li",8),a("click",function(){return u(l),s(e.addChild())}),d(16,"span",9),o(17," \u65B0\u589E\u5B50\u7BC0\u9EDE "),i(),t(18,"li",8),a("click",function(){return u(l),s(e.addSibling())}),d(19,"span",10),o(20," \u65B0\u589E\u5144\u5F1F\u7BC0\u9EDE "),i(),d(21,"li",11),t(22,"li",8),a("click",function(){return u(l),s(e.editNode())}),d(23,"span",12),o(24," \u7DE8\u8F2F\u7BC0\u9EDE "),i(),t(25,"li",8),a("click",function(){return u(l),s(e.copyNode())}),d(26,"span",13),o(27," \u8907\u88FD\u7BC0\u9EDE "),i(),d(28,"li",11),t(29,"li",14),a("click",function(){return u(l),s(e.deleteNode())}),d(30,"span",15),o(31," \u522A\u9664\u7BC0\u9EDE "),i()()(),t(32,"div",16)(33,"h4"),o(34,"\u53F3\u9375\u9078\u55AE\u8AAA\u660E\uFF1A"),i(),t(35,"ul")(36,"li"),o(37,"\u5728\u7BC0\u9EDE\u4E0A\u6309\u53F3\u9375\u6703\u986F\u793A\u4E0A\u4E0B\u6587\u9078\u55AE"),i(),t(38,"li"),o(39,"\u652F\u63F4\u65B0\u589E\u5B50\u7BC0\u9EDE\u548C\u5144\u5F1F\u7BC0\u9EDE"),i(),t(40,"li"),o(41,"\u53EF\u4EE5\u7DE8\u8F2F\u3001\u8907\u88FD\u3001\u522A\u9664\u7BC0\u9EDE"),i(),t(42,"li"),o(43,"\u9078\u55AE\u6703\u6839\u64DA\u7BC0\u9EDE\u985E\u578B\u986F\u793A\u4E0D\u540C\u9078\u9805"),i()()()()}r&2&&(C(9),_("nzData",e.treeData)("nzBlockNode",!0)("nzShowLine",!0)("nzShowIcon",!0)("nzExpandedKeys",e.expandedKeys)("nzSelectedKeys",e.selectedKeys))},dependencies:[T,P,R,W,j,V,S,v,M,w,D,I,B,A,b,L,$,K],encapsulation:2});var q=p;export{q as TreeContextComponent};
