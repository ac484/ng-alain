import{a as re}from"./chunk-4JU3SBOI.js";import{a as ie,b as oe}from"./chunk-LVG2LAOY.js";import"./chunk-J6AG6JAU.js";import{b as L,d as W,f as R}from"./chunk-FI2MKTH7.js";import"./chunk-UCF3NJQY.js";import"./chunk-VAGS5EVQ.js";import"./chunk-CKYVJWE2.js";import{a as te}from"./chunk-RUD7LQCH.js";import"./chunk-JPGT6HBL.js";import"./chunk-45BKQ37Q.js";import"./chunk-LFVXFGPE.js";import"./chunk-66HWRA4I.js";import{f as Y,g as Z,h as ee,k as ne}from"./chunk-RGYXGWNO.js";import{a as J,c as K,i as Q,j as U,k as X}from"./chunk-I3YMRPXC.js";import"./chunk-VIGI73B6.js";import"./chunk-O3DGGP5O.js";import{d as j,g as G,m as H,z as q}from"./chunk-7GKVL75V.js";import"./chunk-X5G25CLX.js";import"./chunk-PAIB6VMN.js";import"./chunk-YMEC4OFG.js";import"./chunk-ZFIXZIYB.js";import"./chunk-W6Z6A3Q5.js";import"./chunk-FJXMRBDK.js";import"./chunk-5V3RUN7K.js";import"./chunk-2DZ25YRQ.js";import"./chunk-PR6SM3R4.js";import"./chunk-5NB44RP4.js";import"./chunk-M2FMHT2I.js";import"./chunk-BA2SIH6H.js";import"./chunk-AEDV7UUM.js";import{Ad as k,Cd as O,Dd as F,Gc as b,Jd as B,Lc as N,Mc as v,Nb as z,Ob as l,Oh as A,Pb as a,Pc as w,Ph as $,Qb as C,Ub as P,Vb as h,Xb as T,_b as u,bb as c,bc as f,gb as M,lc as g,nb as V,qc as d,rc as D,sc as E,tb as x,vc as y,wc as I,xa as m,xc as S,ya as s}from"./chunk-GM6XQ5SX.js";import"./chunk-57BLH6QZ.js";var ae=()=>[];function pe(p,t){p&1&&C(0,"nz-icon",9)}function ce(p,t){if(p&1){let e=T();P(0),l(1,"nz-icon",13),u("click",function(){m(e);let i=f().$implicit,o=f();return s(o.openFolder(i))}),a(),l(2,"span",14),d(3),a(),l(4,"span",15),d(5),N(6,"lowercase"),a(),h()}if(p&2){let e=f(),n=e.$implicit,i=e.origin;c(),z("nzType",n.isExpanded?"folder-open":"folder"),c(2),D(n.title),c(2),E("created by ",v(6,3,i.author))}}function me(p,t){if(p&1&&(C(0,"nz-icon",16),l(1,"span",17),d(2),a(),l(3,"span",18),d(4),N(5,"lowercase"),a()),p&2){let e=f(),n=e.$implicit,i=e.origin;c(2),D(n.title),c(2),E("modified by ",v(5,2,i.author))}}function se(p,t){if(p&1){let e=T();l(0,"span",10)(1,"span",11),u("contextmenu",function(i){m(e);let o=f(),r=g(11);return s(o.contextMenu(i,r))}),x(2,ce,7,5,"ng-container",12)(3,me,6,4,"ng-template",null,3,w),a()()}if(p&2){let e=t.$implicit,n=g(4);c(2),z("ngIf",!e.isLeaf)("ngIfElse",n)}}var _=class _{constructor(t,e){this.nzContextMenuService=t;this.firestore=e;this.searchValue="";let n=R(this.firestore,"tree-nodes");this.treeData$=W(n,{idField:"key"})}openFolder(t){if(t instanceof te)t.isExpanded=!t.isExpanded;else{let e=t.node;e&&(e.isExpanded=!e.isExpanded)}}activeNode(t){this.activatedNode=t.node}onDrop(t){console.log("\u62D6\u66F3\u5B8C\u6210:",t)}contextMenu(t,e){this.nzContextMenuService.create(t,e)}selectDropdown(t){alert(t)}};_.\u0275fac=function(e){return new(e||_)(M(X),M(L))},_.\u0275cmp=V({type:_,selectors:[["app-tree-panel"]],decls:17,vars:8,consts:[["suffixIcon",""],["nzTreeTemplate",""],["menu","nzDropdownMenu"],["fileIcon",""],[3,"nzSuffix"],["type","text","nz-input","","placeholder","\u641C\u5C0B\u7BC0\u9EDE",3,"ngModelChange","ngModel"],["nzBlockNode","","nzDraggable","","nzVirtualHeight","300px",3,"nzClick","nzDblClick","nzOnDrop","nzData","nzSearchValue","nzTreeTemplate"],["nz-menu",""],["nz-menu-item","",3,"click"],["nzType","search"],[1,"custom-node"],[3,"contextmenu"],[4,"ngIf","ngIfElse"],[3,"click","nzType"],[1,"folder-name"],[1,"folder-desc"],["nzType","file"],[1,"file-name"],[1,"file-desc"]],template:function(e,n){if(e&1){let i=T();C(0,"app-firebase-crud"),l(1,"nz-input-group",4)(2,"input",5),S("ngModelChange",function(r){return m(i),I(n.searchValue,r)||(n.searchValue=r),s(r)}),a()(),x(3,pe,1,0,"ng-template",null,0,w),C(5,"br"),l(6,"nz-tree",6),N(7,"async"),u("nzClick",function(r){return m(i),s(n.activeNode(r))})("nzDblClick",function(r){return m(i),s(n.openFolder(r))})("nzOnDrop",function(r){return m(i),s(n.onDrop(r))}),a(),x(8,se,5,2,"ng-template",null,1,w),l(10,"nz-dropdown-menu",null,2)(12,"ul",7)(13,"li",8),u("click",function(){return m(i),s(n.selectDropdown("Action 1"))}),d(14,"Action 1"),a(),l(15,"li",8),u("click",function(){return m(i),s(n.selectDropdown("Action 2"))}),d(16,"Action 2"),a()()()}if(e&2){let i=g(4),o=g(9);c(),z("nzSuffix",i),c(),y("ngModel",n.searchValue),c(4),z("nzData",v(7,5,n.treeData$)??b(7,ae))("nzSearchValue",n.searchValue)("nzTreeTemplate",o)}},dependencies:[B,k,q,j,G,H,oe,ie,U,K,J,Q,$,A,ne,Y,ee,Z,re,O,F],styles:["nz-tree[_ngcontent-%COMP%]{overflow:hidden;margin:0 -24px;padding:0 24px}.custom-node[_ngcontent-%COMP%]{cursor:pointer;line-height:24px;margin-left:4px;display:inline-block}.file-name[_ngcontent-%COMP%], .folder-name[_ngcontent-%COMP%]{margin-left:4px}.file-desc[_ngcontent-%COMP%], .folder-desc[_ngcontent-%COMP%]{padding:0 8px;display:inline-block;background:#87ceff;color:#fff;position:relative;left:12px}"]});var le=_;export{le as TreePanelComponent};
