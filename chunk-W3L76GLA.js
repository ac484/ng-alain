import{b as Zt,d as Jt,e as Kt,f as te,g as ut,h as ee,i as U,o as ne}from"./chunk-EN5AFRUQ.js";import"./chunk-ERNLQ6N4.js";import"./chunk-VAGS5EVQ.js";import{d as Xt,f as j,k as Wt}from"./chunk-XGBD26OG.js";import{b as ye,e as Te}from"./chunk-DASMK4QW.js";import"./chunk-O2PB7OSS.js";import{f as be,k as ve}from"./chunk-4VST3FZU.js";import{c as de,f as fe,h as ze,j as ge,k as he,l as Ce,n as _e}from"./chunk-H3J7ELB2.js";import"./chunk-EJKOIAYO.js";import"./chunk-KBNNDNJV.js";import"./chunk-HZSZRH6S.js";import"./chunk-GFX7JDKS.js";import"./chunk-YLV3GK25.js";import"./chunk-H4GAAKOU.js";import"./chunk-5NDUH4BM.js";import"./chunk-7INLARAR.js";import"./chunk-3LZSSZ2Q.js";import{d as oe,e as P,g as re,h as ae,n as le,o as ce,q as se,t as pe,x as ue,z as me}from"./chunk-4AYNG3KP.js";import"./chunk-3SU3GSZ3.js";import"./chunk-4SZXT3LZ.js";import"./chunk-ZDNPLYMC.js";import"./chunk-KR7JNVYJ.js";import{t as pt}from"./chunk-7LB7LNHT.js";import"./chunk-3FZ46UDR.js";import{d as ie}from"./chunk-QRKJYL4P.js";import"./chunk-JE6KLO7C.js";import"./chunk-W5FC2PZ7.js";import"./chunk-TPNYXQ4U.js";import{h as L,q as Y,s as $,t as X}from"./chunk-5PLKKHJ2.js";import{Nc as k,Oc as V,Pc as Ut,a as Q,aa as st,e as jt,ea as Yt,f as Lt,ga as $t,o as q}from"./chunk-Z6UJEHZN.js";import{q as ct,w as qt}from"./chunk-KF7OGFLI.js";import{Aa as z,Ac as wt,Ba as g,Cc as F,Dc as N,Dd as at,Ec as M,Fa as St,Fb as y,Fc as ot,Ga as tt,Gb as Nt,Hc as Ot,Hd as lt,Ic as T,Kc as G,Lb as _,Mc as kt,Nc as m,Ob as nt,Oc as I,Pb as Mt,Pc as Vt,R as bt,Ra as xt,_b as S,ac as x,b as ht,dd as Pt,fc as p,g as Ct,ga as vt,gc as r,gd as Ht,hc as a,ic as u,id as Rt,kd as b,mc as It,nb as Ft,nc as Bt,oa as yt,oc as it,pa as Tt,pc as D,pd as A,q as _t,qd as Gt,r as K,rd as At,sa as Dt,sb as c,ta as C,ud as Qt,vc as h,vd as v,yb as et,yc as d,yd as rt,zc as Et}from"./chunk-IDL4MXQM.js";import{g as J,i as O}from"./chunk-57BLH6QZ.js";function Ee(e,i){}function we(e,i){if(e&1&&(r(0,"div",2),_(1,Ee,0,0,"ng-template",4),a()),e&2){let t=d(2);c(),p("ngTemplateOutlet",t.nzIcon)}}function Oe(e,i){if(e&1&&(It(0),m(1),Bt()),e&2){let t=d(3);c(),Vt(" ",t.nzDescription," ")}}function ke(e,i){if(e&1&&(r(0,"div",3),_(1,Oe,2,1,"ng-container",5),a()),e&2){let t=d(2);c(),p("nzStringTemplateOutlet",t.nzDescription)}}function Ve(e,i){if(e&1&&(S(0,we,2,1,"div",2),S(1,ke,2,1,"div",3)),e&2){let t=d();x(t.nzIcon?0:-1),c(),x(t.nzDescription&&t.nzShape==="square"?1:-1)}}function Pe(e,i){e&1&&(r(0,"div",2),u(1,"nz-icon",6),a())}function He(e,i){if(e&1){let t=D();r(0,"a",2),h("click",function(){z(t);let o=d();return g(o.nzOnClick.emit(!0))}),u(1,"nz-float-button-content",3),a()}if(e&2){let t=d();G("ant-float-btn-default",t.nzType==="default"),p("target",t.nzTarget)("href",t.nzHref,Ft)("nzType",t.nzType),c(),p("nzIcon",t.nzIcon)("nzDescription",t.nzDescription)("nzShape",t.nzShape)}}function Re(e,i){if(e&1){let t=D();r(0,"button",4),h("click",function(){z(t);let o=d();return g(o.nzOnClick.emit(!0))}),u(1,"nz-float-button-content",3),a()}if(e&2){let t=d();G("ant-float-btn-default",t.nzType==="default"),p("nzType",t.nzType),c(),p("nzIcon",t.nzIcon)("nzDescription",t.nzDescription)("nzShape",t.nzShape)}}var Ge=["backTop"];function Ae(e,i){e&1&&u(0,"nz-icon",3)}var Qe=["*"];function qe(e,i){e&1&&it(0)}function je(e,i){if(e&1&&_(0,qe,1,0,"ng-container",2),e&2){d();let t=T(3);p("ngTemplateOutlet",t)}}function Le(e,i){e&1&&it(0)}function Ye(e,i){if(e&1&&(r(0,"div",3),_(1,Le,1,0,"ng-container",2),a()),e&2){d(2);let t=T(3);p("@fadeMotion",void 0),c(),p("ngTemplateOutlet",t)}}function $e(e,i){if(e&1){let t=D();S(0,Ye,2,2,"div",3),r(1,"nz-float-button",4),h("nzOnClick",function(){z(t);let o=d();return g(o.open()?o.clickCloseMenu():o.clickOpenMenu())})("mouseover",function(){z(t);let o=d();return g(o.hoverOpenMenu())}),a()}if(e&2){let t=d(),n=T(5);x(t.open()?0:-1),c(),p("nzType",t.nzType())("nzIcon",t.open()?n:t.nzIcon())("nzShape",t.nzShape())("nzDescription",t.open()?null:t.nzDescription())}}function Xe(e,i){e&1&&wt(0)}function Ue(e,i){e&1&&u(0,"nz-icon",5)}var De=(()=>{class e{nzIcon=null;nzDescription=null;nzShape="circle";static \u0275fac=function(n){return new(n||e)};static \u0275cmp=y({type:e,selectors:[["nz-float-button-content"]],inputs:{nzIcon:"nzIcon",nzDescription:"nzDescription",nzShape:"nzShape"},exportAs:["nzFloatButtonContent"],decls:4,vars:1,consts:[[1,"ant-float-btn-body"],[1,"ant-float-btn-content"],[1,"ant-float-btn-icon"],[1,"ant-float-btn-description"],[3,"ngTemplateOutlet"],[4,"nzStringTemplateOutlet"],["nzType","file-text","nzTheme","outline"]],template:function(n,o){n&1&&(r(0,"div",0)(1,"div",1),S(2,Ve,2,2)(3,Pe,2,0,"div",2),a()()),n&2&&(c(2),x(o.nzDescription||o.nzIcon?2:3))},dependencies:[V,k,ct,Ut],encapsulation:2,changeDetection:0})}return e})(),B=(()=>{class e{directionality=C(q);cdr=C(at);destroyRef=C(tt);nzHref=null;nzTarget=null;nzType="default";nzShape="circle";nzIcon=null;nzDescription=null;nzOnClick=new nt;dir="ltr";constructor(){this.dir=this.directionality.value}ngOnInit(){this.directionality.change?.pipe(Q(this.destroyRef)).subscribe(t=>{this.dir=t,this.cdr.detectChanges()}),this.dir=this.directionality.value}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=y({type:e,selectors:[["nz-float-button"]],hostAttrs:[1,"ant-float-btn"],hostVars:6,hostBindings:function(n,o){n&2&&G("ant-float-btn-circle",o.nzShape==="circle")("ant-float-btn-square",o.nzShape==="square")("ant-float-btn-rtl",o.dir==="rtl")},inputs:{nzHref:"nzHref",nzTarget:"nzTarget",nzType:"nzType",nzShape:"nzShape",nzIcon:"nzIcon",nzDescription:"nzDescription"},outputs:{nzOnClick:"nzOnClick"},exportAs:["nzFloatButton"],decls:2,vars:1,consts:[["nz-button","",1,"ant-float-btn-inner",3,"target","href","nzType","ant-float-btn-default"],["nz-button","",1,"ant-float-btn-inner",3,"nzType","ant-float-btn-default"],["nz-button","",1,"ant-float-btn-inner",3,"click","target","href","nzType"],[3,"nzIcon","nzDescription","nzShape"],["nz-button","",1,"ant-float-btn-inner",3,"click","nzType"]],template:function(n,o){n&1&&S(0,He,2,8,"a",0)(1,Re,2,6,"button",1),n&2&&x(o.nzHref?0:1)},dependencies:[X,$,L,Y,De],encapsulation:2,changeDetection:0})}return e})(),We="backTop",Ze=Lt({passive:!0}),mt=(()=>{var n;let e,i=[],t=[];return n=class{nzConfigService=C(Yt);scrollSrv=C(ie);platform=C(jt);ngZone=C(Mt);cdr=C(at);directionality=C(q);destroyRef=C(tt);_nzModuleName=We;scrollListenerDestroy$=new Ct;target=null;visible=!1;dir="ltr";nzHref=null;nzType="default";nzShape="circle";nzIcon=null;nzDescription=null;nzTemplate;nzVisibilityHeight=K(this,i,400);nzTarget=K(this,t);nzDuration=450;nzOnClick=new nt;set backTop(l){l&&(this.backTopClickSubscription.unsubscribe(),this.backTopClickSubscription=st(l.nativeElement,"click").pipe(Q(this.destroyRef)).subscribe(()=>{this.scrollSrv.scrollTo(this.getTarget(),0,{duration:this.nzDuration}),this.nzOnClick.observers.length&&this.ngZone.run(()=>this.nzOnClick.emit(!0))}))}doc=C(St);backTopClickSubscription=ht.EMPTY;constructor(){this.destroyRef.onDestroy(()=>{this.scrollListenerDestroy$.next(),this.scrollListenerDestroy$.complete()})}ngOnInit(){this.registerScrollEvent(),this.dir=this.directionality.value,this.directionality.change?.pipe(Q(this.destroyRef)).subscribe(l=>{this.dir=l,this.cdr.detectChanges()})}getTarget(){return this.target||window}handleScroll(){this.visible!==this.scrollSrv.getScroll(this.getTarget())>this.nzVisibilityHeight&&(this.visible=!this.visible,this.cdr.detectChanges())}registerScrollEvent(){this.platform.isBrowser&&(this.scrollListenerDestroy$.next(),this.handleScroll(),st(this.getTarget(),"scroll",Ze).pipe(bt(50),vt(this.scrollListenerDestroy$)).subscribe(()=>this.handleScroll()))}detectChanges(){this.cdr.detectChanges()}ngOnChanges(l){let{nzTarget:s}=l;s&&(this.target=typeof this.nzTarget=="string"?this.doc.querySelector(this.nzTarget):this.nzTarget,this.registerScrollEvent())}},(()=>{let l=typeof Symbol=="function"&&Symbol.metadata?Object.create(null):void 0;e=[$t()],_t(null,null,e,{kind:"field",name:"nzVisibilityHeight",static:!1,private:!1,access:{has:s=>"nzVisibilityHeight"in s,get:s=>s.nzVisibilityHeight,set:(s,f)=>{s.nzVisibilityHeight=f}},metadata:l},i,t),l&&Object.defineProperty(n,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:l})})(),J(n,"\u0275fac",function(s){return new(s||n)}),J(n,"\u0275cmp",y({type:n,selectors:[["nz-float-button-top"]],viewQuery:function(s,f){if(s&1&&F(Ge,5),s&2){let w;N(w=M())&&(f.backTop=w.first)}},hostAttrs:[1,"ant-float-btn","ant-float-btn-top"],hostVars:8,hostBindings:function(s,f){s&2&&G("ant-float-btn-circle",f.nzShape==="circle")("ant-float-btn-hidden",!f.visible)("ant-float-btn-square",f.nzShape==="square")("ant-float-btn-rtl",f.dir==="rtl")},inputs:{nzHref:"nzHref",nzType:"nzType",nzShape:"nzShape",nzIcon:"nzIcon",nzDescription:"nzDescription",nzTemplate:"nzTemplate",nzVisibilityHeight:[2,"nzVisibilityHeight","nzVisibilityHeight",lt],nzTarget:"nzTarget",nzDuration:[2,"nzDuration","nzDuration",lt]},outputs:{nzOnClick:"nzOnClick"},exportAs:["nzFloatButtonTop"],features:[xt],decls:5,vars:6,consts:[["backTop",""],["top",""],[3,"nzIcon","nzDescription","nzHref","nzType","nzShape"],["nzType","vertical-align-top","nzTheme","outline"]],template:function(s,f){if(s&1&&(r(0,"div",null,0),u(2,"nz-float-button",2),_(3,Ae,1,0,"ng-template",null,1,b),a()),s&2){let w=T(4);p("@fadeMotion",void 0),c(2),p("nzIcon",f.nzIcon||w)("nzDescription",f.nzDescription)("nzHref",f.nzHref)("nzType",f.nzType)("nzShape",f.nzShape)}},dependencies:[B,V,k],encapsulation:2,data:{animation:[pt]},changeDetection:0})),n})(),ft=(()=>{class e{nzFloatButtonComponents=rt(B);nzFloatButtonTopComponents=rt(mt);nzHref=v(null);nzTarget=v(null);nzType=v("default");nzIcon=v(null);nzDescription=v(null);nzShape=v("circle");nzTrigger=v(null);nzOpen=v(null);nzPlacement=v("top");nzOnOpenChange=Qt();dir=C(q).valueSignal;open=At(()=>!!this.nzOpen());isMenuMode=A(()=>!!this.nzTrigger()&&["click","hover"].includes(this.nzTrigger()));isControlledMode=A(()=>this.nzOpen()!==null);class=A(()=>{let t=this.nzShape(),n=this.dir(),o=["ant-float-btn-group",this.generateClass(t)];return this.isMenuMode()?o.push(this.generateClass(this.nzPlacement())):o.push(this.generateClass(`${t}-shadow`)),n==="rtl"&&o.push(this.generateClass(n)),o});constructor(){Gt(()=>{this.nzFloatButtonComponents()&&this.nzFloatButtonComponents().forEach(t=>{t.nzShape=this.nzShape()}),this.nzFloatButtonTopComponents()&&this.nzFloatButtonTopComponents().forEach(t=>{t.nzShape=this.nzShape(),t.detectChanges()})})}clickOpenMenu(){this.handleEvent("click",!0)}hoverOpenMenu(){this.handleEvent("hover",!0)}clickCloseMenu(){this.handleEvent("click",!1)}hoverCloseMenu(){this.handleEvent("hover",!1)}handleEvent(t,n){this.nzTrigger()!==t||this.isControlledMode()||this.open()===n||(this.open.set(n),this.nzOnOpenChange.emit(n))}generateClass(t){return`ant-float-btn-group-${t}`}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=y({type:e,selectors:[["nz-float-button-group"]],contentQueries:function(n,o,l){n&1&&(ot(l,o.nzFloatButtonComponents,B,4),ot(l,o.nzFloatButtonTopComponents,mt,4)),n&2&&Ot(2)},hostVars:2,hostBindings:function(n,o){n&1&&h("mouseleave",function(){return o.hoverCloseMenu()}),n&2&&kt(o.class())},inputs:{nzHref:[1,"nzHref"],nzTarget:[1,"nzTarget"],nzType:[1,"nzType"],nzIcon:[1,"nzIcon"],nzDescription:[1,"nzDescription"],nzShape:[1,"nzShape"],nzTrigger:[1,"nzTrigger"],nzOpen:[1,"nzOpen"],nzPlacement:[1,"nzPlacement"]},outputs:{nzOnOpenChange:"nzOnOpenChange"},exportAs:["nzFloatButtonGroup"],ngContentSelectors:Qe,decls:6,vars:1,consts:[["menu",""],["close",""],[4,"ngTemplateOutlet"],[1,"ant-float-btn-group-wrap"],[1,"ant-float-btn-group-trigger",3,"nzOnClick","mouseover","nzType","nzIcon","nzShape","nzDescription"],["nzType","close","nzTheme","outline"]],template:function(n,o){n&1&&(Et(),S(0,je,1,1,"ng-container")(1,$e,2,5),_(2,Xe,1,0,"ng-template",null,0,b)(4,Ue,1,0,"ng-template",null,1,b)),n&2&&x(o.isMenuMode()?1:0)},dependencies:[B,V,k,ct],encapsulation:2,data:{animation:[pt]},changeDetection:0})}return e})(),Se=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275mod=Nt({type:e});static \u0275inj=Tt({imports:[B,ft,mt,De]})}return e})();var tn=["upIcon"],en=["downIcon"],nn=["leftIcon"],on=["rightIcon"],rn=(e,i)=>({x:e,y:i});function an(e,i){e&1&&u(0,"nz-icon",10)}function ln(e,i){e&1&&u(0,"nz-icon",11)}function cn(e,i){e&1&&u(0,"nz-icon",12)}function sn(e,i){e&1&&u(0,"nz-icon",13)}function pn(e,i){e&1&&u(0,"nz-icon",14)}function un(e,i){e&1&&u(0,"nz-icon",15)}function mn(e,i){e&1&&u(0,"nz-icon",16)}var H=class H{constructor(){this.dragX=0;this.dragY=0;this.smartPlacement="top";this.currentX=0;this.currentY=0}get currentIcon(){return{top:this.upIcon,bottom:this.downIcon,left:this.leftIcon,right:this.rightIcon}[this.smartPlacement]}onDragMove(i){let t=i.source.element.nativeElement.getBoundingClientRect();this.currentX=t.left,this.currentY=t.top,this.smartPlacement=this.calculateSmartPlacement(this.currentX,this.currentY)}onDragEnd(i){this.dragX=i.source.getFreeDragPosition().x,this.dragY=i.source.getFreeDragPosition().y,this.smartPlacement=this.calculateSmartPlacement(this.currentX,this.currentY)}calculateSmartPlacement(i,t){let n=window.innerWidth,o=window.innerHeight,l=56,s=i+l/2,f=t+l/2,w=n/2,Fe=o/2,zt=s-w,gt=f-Fe;return Math.abs(zt)>Math.abs(gt)?zt>0?"left":"right":gt>0?"top":"bottom"}openChange(i){console.log("\u6D6E\u52D5\u6309\u9215\u7D44\u72C0\u614B:",i?"\u5C55\u958B":"\u6536\u5408")}onAction(i){console.log(`\u57F7\u884C ${i} \u52D5\u4F5C`)}};H.\u0275fac=function(t){return new(t||H)},H.\u0275cmp=y({type:H,selectors:[["app-fab"]],viewQuery:function(t,n){if(t&1&&(F(tn,7),F(en,7),F(nn,7),F(on,7)),t&2){let o;N(o=M())&&(n.upIcon=o.first),N(o=M())&&(n.downIcon=o.first),N(o=M())&&(n.leftIcon=o.first),N(o=M())&&(n.rightIcon=o.first)}},decls:19,vars:9,consts:[["upIcon",""],["downIcon",""],["leftIcon",""],["rightIcon",""],["commentIcon",""],["shareIcon",""],["settingIcon",""],["cdkDrag","",1,"fab-drag-anchor",3,"cdkDragEnded","cdkDragMoved","cdkDragFreeDragPosition"],["nzType","primary","nzTrigger","click",3,"nzOnOpenChange","nzIcon","nzPlacement"],[3,"click","nzIcon"],["nzType","up","nzTheme","outline"],["nzType","down","nzTheme","outline"],["nzType","left","nzTheme","outline"],["nzType","right","nzTheme","outline"],["nzType","comment","nzTheme","outline"],["nzType","share-alt","nzTheme","outline"],["nzType","setting","nzTheme","outline"]],template:function(t,n){if(t&1){let o=D();r(0,"div",7),h("cdkDragEnded",function(s){return z(o),g(n.onDragEnd(s))})("cdkDragMoved",function(s){return z(o),g(n.onDragMove(s))}),r(1,"nz-float-button-group",8),h("nzOnOpenChange",function(s){return z(o),g(n.openChange(s))}),r(2,"nz-float-button",9),h("click",function(){return z(o),g(n.onAction("comment"))}),a(),r(3,"nz-float-button",9),h("click",function(){return z(o),g(n.onAction("share"))}),a(),r(4,"nz-float-button",9),h("click",function(){return z(o),g(n.onAction("setting"))}),a()(),_(5,an,1,0,"ng-template",null,0,b)(7,ln,1,0,"ng-template",null,1,b)(9,cn,1,0,"ng-template",null,2,b)(11,sn,1,0,"ng-template",null,3,b)(13,pn,1,0,"ng-template",null,4,b)(15,un,1,0,"ng-template",null,5,b)(17,mn,1,0,"ng-template",null,6,b),a()}if(t&2){let o=T(14),l=T(16),s=T(18);p("cdkDragFreeDragPosition",Pt(6,rn,n.dragX,n.dragY)),c(),p("nzIcon",n.currentIcon)("nzPlacement",n.smartPlacement),c(),p("nzIcon",o),c(),p("nzIcon",l),c(),p("nzIcon",s)}},dependencies:[Se,B,ft,V,k,j,Xt],styles:[".fab-drag-anchor[_ngcontent-%COMP%]{position:fixed;z-index:1000;right:32px;bottom:32px;cursor:grab;-webkit-user-select:none;user-select:none}.fab-drag-anchor[_ngcontent-%COMP%]:active{cursor:grabbing}nz-float-button-group[_ngcontent-%COMP%]{position:absolute}"]});var W=H;var E=class E{constructor(i){this.firestore=i}getAll(i){let t=ut(this.firestore,i);return Jt(t,{idField:"key"})}getById(i,t){let n=U(this.firestore,i,t);return Kt(n,{idField:"key"})}add(i,t){return O(this,null,function*(){let n=ut(this.firestore,i);return(yield te(n,t)).id})}update(i,t,n){return O(this,null,function*(){let o=U(this.firestore,i,t);yield ne(o,n)})}delete(i,t){return O(this,null,function*(){let n=U(this.firestore,i,t);yield ee(n)})}listen(i){return this.getAll(i)}};E.\u0275fac=function(t){return new(t||E)(Dt(Zt))},E.\u0275prov=yt({token:E,factory:E.\u0275fac,providedIn:"root"});var Z=E;function fn(e,i){if(e&1){let t=D();r(0,"div",5)(1,"form",6),h("ngSubmit",function(){z(t);let o=d();return g(o.submit())}),r(2,"div",7)(3,"div",8)(4,"label"),m(5,"\u5E8F\u865F"),a()(),r(6,"div",9),u(7,"input",10),a()(),r(8,"div",7)(9,"div",8)(10,"label"),m(11,"\u696D\u4E3B"),a()(),r(12,"div",9),u(13,"input",11),a()(),r(14,"div",7)(15,"div",8)(16,"label"),m(17,"\u5408\u7D04\u540D\u7A31"),a()(),r(18,"div",9),u(19,"input",12),a()(),r(20,"div",7)(21,"div",8)(22,"label"),m(23,"\u5408\u7D04\u6848\u865F\u8B58\u5225\u78BC"),a()(),r(24,"div",9),u(25,"input",13),a()(),r(26,"div",7)(27,"div",8)(28,"label"),m(29,"\u5408\u7D04\u8CBB\u7528\u8B58\u5225\u78BC"),a()(),r(30,"div",9),u(31,"input",14),a()(),r(32,"div",7)(33,"div",8)(34,"label"),m(35,"\u5408\u7D04\u91D1\u984D"),a()(),r(36,"div",9),u(37,"input",15),a()(),r(38,"div",16)(39,"button",17),m(40,"\u65B0\u589E\u5408\u7D04"),a(),r(41,"button",18),h("click",function(){z(t);let o=d();return g(o.toggleForm())}),m(42,"\u53D6\u6D88"),a()()()()}if(e&2){let t=d();c(),p("formGroup",t.form),c(38),p("nzLoading",t.isSubmitting)("disabled",t.form.invalid)}}function zn(e,i){if(e&1&&(r(0,"tr")(1,"td"),m(2),a(),r(3,"td"),m(4),a(),r(5,"td"),m(6),a(),r(7,"td"),m(8),a(),r(9,"td"),m(10),a(),r(11,"td"),m(12),Ht(13,"number"),a()()),e&2){let t=i.$implicit;c(2),I(t.contractSerial),c(2),I(t.client),c(2),I(t.contractName),c(2),I(t.contractCode),c(2),I(t.feeCode),c(2),I(Rt(13,6,t.amount,"1.0-0"))}}var R=class R{constructor(i,t){this.fb=i;this.hubCrud=t;this.listOfData=[];this.isSubmitting=!1;this.showForm=!1;this.form=this.fb.group({contractSerial:["",[P.required]],client:["",[P.required]],contractName:["",[P.required]],contractCode:[""],feeCode:[""],amount:[0,[P.required,P.min(1)]]}),this.hubCrud.listen("contracts").subscribe(n=>{this.listOfData=n})}toggleForm(){this.showForm=!this.showForm,this.showForm&&this.form.reset()}submit(){return O(this,null,function*(){if(!this.form.invalid){this.isSubmitting=!0;try{yield this.hubCrud.add("contracts",this.form.value),this.showForm=!1,this.form.reset()}finally{this.isSubmitting=!1}}})}};R.\u0275fac=function(t){return new(t||R)(et(ue),et(Z))},R.\u0275cmp=y({type:R,selectors:[["hub-contract"]],decls:20,vars:3,consts:[["nzTable",""],["class","fab-form",4,"ngIf"],["nzTableLayout","fixed",3,"nzData"],["nzWidth","100px"],[4,"ngFor","ngForOf"],[1,"fab-form"],["nz-form","",3,"ngSubmit","formGroup"],["nz-form-item",""],["nz-form-label",""],["nz-form-control",""],["nz-input","","formControlName","contractSerial"],["nz-input","","formControlName","client"],["nz-input","","formControlName","contractName"],["nz-input","","formControlName","contractCode"],["nz-input","","formControlName","feeCode"],["nz-input","","type","number","formControlName","amount"],[2,"text-align","right","margin-top","8px"],["nz-button","","nzType","primary","htmlType","submit",3,"nzLoading","disabled"],["nz-button","","type","button",2,"margin-left","8px",3,"click"]],template:function(t,n){t&1&&(u(0,"app-fab"),_(1,fn,43,3,"div",1),r(2,"nz-table",2,0)(4,"thead")(5,"tr")(6,"th",3),m(7,"\u5E8F\u865F"),a(),r(8,"th"),m(9,"\u696D\u4E3B"),a(),r(10,"th"),m(11,"\u5408\u7D04\u540D\u7A31"),a(),r(12,"th"),m(13,"\u5408\u7D04\u6848\u865F\u8B58\u5225\u78BC"),a(),r(14,"th"),m(15,"\u5408\u7D04\u8CBB\u7528\u8B58\u5225\u78BC"),a(),r(16,"th"),m(17,"\u5408\u7D04\u91D1\u984D"),a()()(),r(18,"tbody"),_(19,zn,14,9,"tr",4),a()()),t&2&&(c(),p("ngIf",n.showForm),c(),p("nzData",n.listOfData),c(17),p("ngForOf",n.listOfData))},dependencies:[W,_e,ge,de,fe,Ce,ze,he,ve,be,X,$,L,Y,Wt,Te,ye,me,le,oe,ce,re,ae,se,pe,j,qt],styles:[".fab-form[_ngcontent-%COMP%]{position:fixed;width:260px;background:#fff;box-shadow:0 2px 16px #0000002e;border-radius:8px;padding:12px 12px 8px;z-index:1100}.fab-form[_ngcontent-%COMP%]   .nz-form-item[_ngcontent-%COMP%]{margin-bottom:8px}.fab-form[_ngcontent-%COMP%]   input[nz-input][_ngcontent-%COMP%]{font-size:13px;padding:2px 8px;height:28px}.fab-form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:12px;margin-bottom:2px}.fab-form[_ngcontent-%COMP%]   button[nz-button][_ngcontent-%COMP%]{height:28px;font-size:13px;padding:0 10px}"],changeDetection:0});var xe=R;export{xe as HubContractComponent};
