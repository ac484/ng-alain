import{d as E}from"./chunk-3BRCAVEI.js";import{a as P,b as V,d as H,e as O,f as L,g as W,h as J}from"./chunk-Z7WXXQUY.js";import{c as _,h as k}from"./chunk-RPA27FBE.js";import{f as R,g as w,l as q,m as G,n as j}from"./chunk-P7UYZ3AD.js";import{D as T,F as I,P as x,j as A,k as a,m as B,n as h,t as y,w as g,z as M}from"./chunk-ATEC24AJ.js";import{Ja as e,Oa as c,Qa as d,Rb as i,Th as F,Uc as C,_h as D,ai as N,bi as b,ec as f,gd as v,mb as t,nb as r,ob as n,pb as u,tj as K,uj as Q,xd as S,zb as s}from"./chunk-2RGJ5SZT.js";import"./chunk-57BLH6QZ.js";var X=()=>({minRows:3,maxRows:5}),p=class p{constructor(o,m,l,z){this.fb=o;this.router=m;this.message=l;this.http=z;this.contractForm=this.fb.group({title:["",[a.required]],client:["",[a.required]],amount:[null,[a.required,a.min(0)]],startDate:[null,[a.required]],endDate:[null,[a.required]],description:[""]})}onSubmit(){if(this.contractForm.valid){let o=this.contractForm.value;this.http.post("/contract",o).subscribe(m=>{this.message.success("\u5408\u7D04\u5275\u5EFA\u6210\u529F"),this.router.navigate(["/contract/list"])})}else Object.values(this.contractForm.controls).forEach(o=>{o.invalid&&o.markAsTouched()})}onCancel(){this.router.navigate(["/contract/list"])}};p.\u0275fac=function(m){return new(m||p)(c(T),c(S),c(E),c(v))},p.\u0275cmp=d({type:p,selectors:[["app-contract-create"]],decls:38,vars:20,consts:[["title","\u5275\u5EFA\u5408\u7D04"],["nz-form","",3,"ngSubmit","formGroup"],["nzRequired","",3,"nzSpan"],["nzErrorTip","\u8ACB\u8F38\u5165\u5408\u7D04\u6A19\u984C",3,"nzSpan"],["nz-input","","formControlName","title","placeholder","\u8ACB\u8F38\u5165\u5408\u7D04\u6A19\u984C"],["nzErrorTip","\u8ACB\u8F38\u5165\u5BA2\u6236\u540D\u7A31",3,"nzSpan"],["nz-input","","formControlName","client","placeholder","\u8ACB\u8F38\u5165\u5BA2\u6236\u540D\u7A31"],["nzErrorTip","\u8ACB\u8F38\u5165\u5408\u7D04\u91D1\u984D",3,"nzSpan"],["formControlName","amount","placeholder","\u8ACB\u8F38\u5165\u5408\u7D04\u91D1\u984D",2,"width","100%",3,"nzMin","nzStep"],["nzErrorTip","\u8ACB\u9078\u64C7\u958B\u59CB\u65E5\u671F",3,"nzSpan"],["formControlName","startDate","placeholder","\u8ACB\u9078\u64C7\u958B\u59CB\u65E5\u671F",2,"width","100%"],["nzErrorTip","\u8ACB\u9078\u64C7\u7D50\u675F\u65E5\u671F",3,"nzSpan"],["formControlName","endDate","placeholder","\u8ACB\u9078\u64C7\u7D50\u675F\u65E5\u671F",2,"width","100%"],[3,"nzSpan"],["nz-input","","formControlName","description","placeholder","\u8ACB\u8F38\u5165\u5408\u7D04\u63CF\u8FF0",3,"nzAutosize"],[3,"nzOffset","nzSpan"],["nz-button","","nzType","primary","type","submit",3,"disabled"],["nz-button","",2,"margin-left","8px",3,"click"]],template:function(m,l){m&1&&(r(0,"nz-card",0)(1,"form",1),s("ngSubmit",function(){return l.onSubmit()}),r(2,"nz-form-item")(3,"nz-form-label",2),i(4,"\u5408\u7D04\u6A19\u984C"),n(),r(5,"nz-form-control",3),u(6,"input",4),n()(),r(7,"nz-form-item")(8,"nz-form-label",2),i(9,"\u5BA2\u6236\u540D\u7A31"),n(),r(10,"nz-form-control",5),u(11,"input",6),n()(),r(12,"nz-form-item")(13,"nz-form-label",2),i(14,"\u5408\u7D04\u91D1\u984D"),n(),r(15,"nz-form-control",7),u(16,"nz-input-number",8),n()(),r(17,"nz-form-item")(18,"nz-form-label",2),i(19,"\u958B\u59CB\u65E5\u671F"),n(),r(20,"nz-form-control",9),u(21,"nz-date-picker",10),n()(),r(22,"nz-form-item")(23,"nz-form-label",2),i(24,"\u7D50\u675F\u65E5\u671F"),n(),r(25,"nz-form-control",11),u(26,"nz-date-picker",12),n()(),r(27,"nz-form-item")(28,"nz-form-label",13),i(29,"\u5408\u7D04\u63CF\u8FF0"),n(),r(30,"nz-form-control",13),u(31,"textarea",14),n()(),r(32,"nz-form-item")(33,"nz-form-control",15)(34,"button",16),i(35," \u5275\u5EFA\u5408\u7D04 "),n(),r(36,"button",17),s("click",function(){return l.onCancel()}),i(37," \u53D6\u6D88 "),n()()()()()),m&2&&(e(),t("formGroup",l.contractForm),e(2),t("nzSpan",4),e(2),t("nzSpan",20),e(3),t("nzSpan",4),e(2),t("nzSpan",20),e(3),t("nzSpan",4),e(2),t("nzSpan",20),e(),t("nzMin",0)("nzStep",1e3),e(2),t("nzSpan",4),e(2),t("nzSpan",20),e(3),t("nzSpan",4),e(2),t("nzSpan",20),e(3),t("nzSpan",4),e(2),t("nzSpan",20),e(),t("nzAutosize",f(19,X)),e(2),t("nzOffset",4)("nzSpan",20),e(),t("disabled",!l.contractForm.valid))},dependencies:[C,I,y,A,B,h,g,M,J,V,P,O,H,W,L,q,w,R,k,_,j,G,x,b,N,F,D,Q,K],encapsulation:2});var U=p;export{U as ContractCreateComponent};
