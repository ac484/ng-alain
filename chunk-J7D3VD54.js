import{a as T,b as _}from"./chunk-6FI7DYLM.js";import"./chunk-TPXSHHLV.js";import"./chunk-C2HCOPWJ.js";import"./chunk-56AQBIND.js";import{d as D}from"./chunk-H3MVXF6Y.js";import"./chunk-KGBLNL4W.js";import"./chunk-YPCOOE2I.js";import{a as g,b as f,d as y,e as z}from"./chunk-VUOAWYEM.js";import"./chunk-JMK7RZ2K.js";import"./chunk-QOKX5S6E.js";import"./chunk-Z3TQLLST.js";import"./chunk-VD65XSUD.js";import"./chunk-UALD565W.js";import{$b as a,Ld as h,Ob as u,Pb as r,Qb as o,cb as d,hb as m,ob as c,rc as l}from"./chunk-REO3NWNY.js";import"./chunk-57BLH6QZ.js";var i=class i{constructor(n){this.message=n;this.defaultTreeData=[{title:"\u6839\u7BC0\u9EDE 1",key:"0-0",children:[{title:"\u5B50\u7BC0\u9EDE 1-1",key:"0-0-0",children:[{title:"\u4EFB\u52D9 A",key:"0-0-0-0",isLeaf:!0},{title:"\u4EFB\u52D9 B",key:"0-0-0-1",isLeaf:!0}]},{title:"\u5B50\u7BC0\u9EDE 1-2",key:"0-0-1",children:[{title:"\u4EFB\u52D9 C",key:"0-0-1-0",isLeaf:!0}]}]},{title:"\u6839\u7BC0\u9EDE 2",key:"0-1",children:[{title:"\u5B50\u7BC0\u9EDE 2-1",key:"0-1-0",children:[{title:"\u4EFB\u52D9 D",key:"0-1-0-0",isLeaf:!0}]}]}];this.treeData=[...this.defaultTreeData];this.expandedKeys=this.getAllKeys(this.treeData)}onExpandChange(n){this.expandedKeys=n.keys||[]}onDrop(n){this.message.success("\u7BC0\u9EDE\u62D6\u66F3\u5B8C\u6210")}expandAll(){this.expandedKeys=this.getAllKeys(this.treeData),this.message.info("\u5DF2\u5C55\u958B\u5168\u90E8\u7BC0\u9EDE")}collapseAll(){this.expandedKeys=[],this.message.info("\u5DF2\u6536\u5408\u5168\u90E8\u7BC0\u9EDE")}resetTree(){this.treeData=[...this.defaultTreeData],this.expandedKeys=this.getAllKeys(this.treeData),this.message.success("\u6A39\u72C0\u7D50\u69CB\u5DF2\u91CD\u7F6E")}getAllKeys(n){let t=[];return n.forEach(e=>{t.push(e.key),e.children&&t.push(...this.getAllKeys(e.children))}),t}};i.\u0275fac=function(t){return new(t||i)(m(D))},i.\u0275cmp=c({type:i,selectors:[["app-tree-drag"]],decls:9,vars:4,consts:[[2,"padding","12px","border-bottom","1px solid #eee"],["nz-button","","nzType","primary",3,"click"],["nz-button","","nzType","default",3,"click"],[2,"padding","16px"],["nzDraggable","",3,"nzExpandChange","nzOnDrop","nzData","nzShowLine","nzShowIcon","nzExpandedKeys"]],template:function(t,e){t&1&&(r(0,"div",0)(1,"button",1),a("click",function(){return e.expandAll()}),l(2,"\u5C55\u958B\u5168\u90E8"),o(),r(3,"button",2),a("click",function(){return e.collapseAll()}),l(4,"\u6536\u5408\u5168\u90E8"),o(),r(5,"button",2),a("click",function(){return e.resetTree()}),l(6,"\u91CD\u7F6E"),o()(),r(7,"div",3)(8,"nz-tree",4),a("nzExpandChange",function(p){return e.onExpandChange(p)})("nzOnDrop",function(p){return e.onDrop(p)}),o()()),t&2&&(d(8),u("nzData",e.treeData)("nzShowLine",!0)("nzShowIcon",!0)("nzExpandedKeys",e.expandedKeys))},dependencies:[h,_,T,z,y,g,f],styles:["[_nghost-%COMP%]{display:block;height:100%}"]});var v=i;export{v as TreeDragComponent};
