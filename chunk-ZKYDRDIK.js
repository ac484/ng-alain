import{P as Nt,t as Mt}from"./chunk-YY2UB76Z.js";import{a as Et,d as Bt}from"./chunk-6CQ6FMXY.js";import{c as Dt,e as Rt,g as At}from"./chunk-PYICGXQ5.js";import{a as Ot}from"./chunk-RYKA7J56.js";import{d as yt,i as St,j as It}from"./chunk-BRKXCE7P.js";import{b as pt,c as ke,i as ft,l as bt,m as fe,n as _t}from"./chunk-FJUFVG4T.js";import{d as vt}from"./chunk-YGHB7AW3.js";import{i as wt,j as kt}from"./chunk-Z2B7QBBP.js";import{c as xt}from"./chunk-4OGGW47F.js";import{$d as L,Aa as y,Ad as we,Da as ot,Eb as ne,Ec as Pe,Fa as Y,Fc as Ie,Gb as z,Ib as T,Ih as oe,J as Ee,Jh as ae,Kb as ve,Kh as K,L as re,Lb as ue,Lh as Z,M as Be,Mb as he,Nb as f,O as Je,Ob as g,Oc as pe,Pa as te,Pb as C,Qb as F,Sa as j,T as Oe,Ta as ze,Tc as We,U as et,Ub as P,Vb as W,Wa as at,Wb as rt,X as tt,Xb as A,Xc as ht,Xe as Ct,Zb as lt,Zc as He,Ze as _e,_b as M,ad as mt,b as ge,bb as u,bc as d,bf as zt,cb as Te,cc as Fe,cf as Tt,dc as xe,df as Q,ec as G,fa as Le,fc as V,fd as q,g as Ae,gc as N,gi as Me,h as qe,hc as D,hd as I,ic as ct,j as Ke,kc as dt,lc as ie,m as Ze,mc as ye,na as nt,nb as O,nc as E,ne as be,oa as it,ob as ce,oc as ut,pa as le,pb as H,q as U,qc as $,r as R,ra as ee,rc as me,sc as Se,ta as h,tb as w,ub as st,ue as Ve,v as Ce,vb as S,ve as gt,wb as de,we as $e,za as x}from"./chunk-VMD4HRQF.js";import{a as je,b as Ge,g as J}from"./chunk-57BLH6QZ.js";function nn(n,l){if(n&1&&(P(0),F(1,"nz-icon",1),W()),n&2){let e=l.$implicit;u(),f("nzType",e)}}var on=["nz-tab-body",""];function an(n,l){}function sn(n,l){if(n&1&&(P(0),F(1,"nz-icon",1),W()),n&2){let e=l.$implicit;u(),f("nzType",e)}}var rn=()=>({minWidth:"46px"}),ln=()=>({visible:!1});function cn(n,l){if(n&1&&(P(0),$(1),W()),n&2){let e=d().$implicit;u(),Se(" ",e.tab.label," ")}}function dn(n,l){if(n&1){let e=A();g(0,"li",7),M("click",function(){let i=x(e).$implicit,o=d(2);return y(o.onSelect(i))})("contextmenu",function(i){let o=x(e).$implicit,s=d(2);return y(s.onContextmenu(o,i))}),w(1,cn,2,1,"ng-container",8),C()}if(n&2){let e=l.$implicit;E("ant-tabs-dropdown-menu-item-disabled",e.disabled),f("nzSelected",e.active)("nzDisabled",e.disabled),u(),f("nzStringTemplateOutlet",e.tab.label)("nzStringTemplateOutletContext",Ie(6,ln))}}function un(n,l){if(n&1&&(g(0,"ul",4),ue(1,dn,2,7,"li",6,ve),C()),n&2){let e=d();u(),he(e.items)}}function hn(n,l){if(n&1){let e=A();g(0,"button",9),M("click",function(){x(e);let i=d();return y(i.addClicked.emit())}),C()}if(n&2){let e=d();f("addIcon",e.addIcon)}}var mn=["navWrap"],pn=["navList"],fn=["*"];function bn(n,l){}function _n(n,l){if(n&1&&(g(0,"div",2),w(1,bn,0,0,"ng-template",8),C()),n&2){let e=d();u(),f("ngTemplateOutlet",e.startExtraContent().templateRef)}}function gn(n,l){if(n&1){let e=A();g(0,"button",9),M("click",function(){x(e);let i=d();return y(i.addClicked.emit())}),C()}if(n&2){let e=d();f("addIcon",e.addIcon),ne("tabindex",-1)}}function Cn(n,l){}function zn(n,l){if(n&1&&(g(0,"div",2),w(1,Cn,0,0,"ng-template",8),C()),n&2){let e=d();u(),f("ngTemplateOutlet",e.endExtraContent().templateRef)}}function Tn(n,l){}function vn(n,l){if(n&1&&(g(0,"div",2),w(1,Tn,0,0,"ng-template",8),C()),n&2){let e=d();u(),f("ngTemplateOutlet",e.extraTemplate)}}var xn=["contentTemplate"],yn=[[["","nz-tab-link",""]],"*"],Sn=["[nz-tab-link]","*"];function In(n,l){n&1&&xe(0)}function wn(n,l){n&1&&xe(0,1)}var kn=()=>({visible:!0});function Mn(n,l){if(n&1&&(P(0),$(1),W()),n&2){let e=d().$implicit;u(),Se(" ",e.label," ")}}function Nn(n,l){if(n&1){let e=A();g(0,"button",10),M("click",function(i){x(e);let o=d().$index,s=d(2);return y(s.onClose(o,i))}),C()}if(n&2){let e=d().$implicit;f("closeIcon",e.nzCloseIcon)}}function Dn(n,l){if(n&1){let e=A();g(0,"div",6),M("click",function(i){let o=x(e),s=o.$implicit,b=o.$index,m=d(2);return y(m.clickNavItem(s,b,i))})("contextmenu",function(i){let o=x(e).$implicit,s=d(2);return y(s.contextmenuNavItem(o,i))}),g(1,"button",7),w(2,Mn,2,1,"ng-container",8),z(3,Nn,1,1,"button",9),C()()}if(n&2){let e=l.$implicit,t=l.$index,i=d(2);ye("margin-right",i.position==="horizontal"?i.nzTabBarGutter:null,"px")("margin-bottom",i.position==="vertical"?i.nzTabBarGutter:null,"px"),E("ant-tabs-tab-active",i.nzSelectedIndex===t)("ant-tabs-tab-disabled",e.nzDisabled),u(),f("id",i.getTabContentId(t))("disabled",e.nzDisabled)("tab",e)("active",i.nzSelectedIndex===t),ne("tabIndex",i.getTabIndex(e,t))("aria-disabled",e.nzDisabled)("aria-selected",i.nzSelectedIndex===t&&!i.nzHideAll)("aria-controls",i.getTabContentId(t)),u(),f("nzStringTemplateOutlet",e.label)("nzStringTemplateOutletContext",Ie(19,kn)),u(),T(e.nzClosable&&i.closable&&!e.nzDisabled?3:-1)}}function Rn(n,l){if(n&1){let e=A();g(0,"nz-tabs-nav",4),M("tabScroll",function(i){x(e);let o=d();return y(o.nzTabListScroll.emit(i))})("selectFocusedIndex",function(i){x(e);let o=d();return y(o.setSelectedIndex(i))})("addClicked",function(){x(e);let i=d();return y(i.onAdd())}),ue(1,Dn,4,20,"div",5,ve),C()}if(n&2){let e=d();ut(e.nzTabBarStyle),f("selectedIndex",e.nzSelectedIndex||0)("inkBarAnimated",e.inkBarAnimated)("addable",e.addable)("addIcon",e.nzAddIcon)("hideBar",e.nzHideAll)("position",e.position)("extraTemplate",e.nzTabBarExtraContent)("extraContents",e.extraContents()),u(),he(e.tabs)}}function An(n,l){}function En(n,l){if(n&1&&w(0,An,0,0,"ng-template",11),n&2){d();let e=ie(4);f("ngTemplateOutlet",e)}}function Bn(n,l){}function On(n,l){if(n&1&&w(0,Bn,0,0,"ng-template",11),n&2){d(2);let e=ie(4);f("ngTemplateOutlet",e)}}function Ln(n,l){if(n&1&&z(0,On,1,1,null,11),n&2){let e=d().$index,t=d(2);T(t.nzSelectedIndex===e?0:-1)}}function Fn(n,l){}function Pn(n,l){if(n&1&&w(0,Fn,0,0,"ng-template",11),n&2){d(2);let e=ie(4);f("ngTemplateOutlet",e)}}function Wn(n,l){if(n&1&&z(0,Pn,1,1,null,11),n&2){let e=d(),t=e.$implicit,i=e.$index,o=d(2);T(o.nzSelectedIndex===i||t.hasBeenActive?0:-1)}}function Hn(n,l){if(n&1&&F(0,"div",12),n&2){let e=d(),t=e.$implicit,i=e.$index,o=d(2);f("id",o.getTabContentId(i))("active",o.nzSelectedIndex===i)("content",t.content)("animated",o.tabPaneAnimated),ne("aria-labelledby",o.getTabContentId(i))}}function Vn(n,l){if(n&1&&(z(0,En,1,1,null,11)(1,Ln,1,1)(2,Wn,1,1),w(3,Hn,1,5,"ng-template",null,0,pe)),n&2){let e=l.$implicit,t=d(2);T(e.nzForceRender?0:t.nzDestroyInactiveTabPane?1:2)}}function $n(n,l){if(n&1&&ue(0,Vn,5,1,null,null,ve),n&2){let e=d();he(e.tabs)}}var Ue=class{index;tab},De=(()=>{class n{addIcon="plus";element=h(j).nativeElement;getElementWidth(){return this.element?.offsetWidth||0}getElementHeight(){return this.element?.offsetHeight||0}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=O({type:n,selectors:[["nz-tab-add-button"],["button","nz-tab-add-button",""]],hostAttrs:["aria-label","Add tab","type","button",1,"ant-tabs-nav-add"],inputs:{addIcon:"addIcon"},decls:1,vars:1,consts:[[4,"nzStringTemplateOutlet"],["nzTheme","outline",3,"nzType"]],template:function(t,i){t&1&&w(0,nn,2,1,"ng-container",0),t&2&&f("nzStringTemplateOutlet",i.addIcon)},dependencies:[Z,K,ae,oe],encapsulation:2})}return n})(),Lt=(()=>{class n{position=He("end",{alias:"nzTabBarExtraContent"});templateRef=h(Te);static \u0275fac=function(t){return new(t||n)};static \u0275dir=H({type:n,selectors:[["","nzTabBarExtraContent","",5,"nz-tabset",5,"nz-tabs"]],inputs:{position:[1,"nzTabBarExtraContent","position"]}})}return n})(),Un=(()=>{class n{content=null;active=!1;animated=!0;static \u0275fac=function(t){return new(t||n)};static \u0275cmp=O({type:n,selectors:[["","nz-tab-body",""]],hostAttrs:[1,"ant-tabs-tabpane"],hostVars:10,hostBindings:function(t,i){t&2&&(lt("@tabSwitchMotion",i.active?"enter":"leave")("@.disabled",!i.animated),ne("tabindex",i.active?0:-1)("aria-hidden",!i.active),ye("overflow-y",i.animated?i.active?null:"none":null),E("ant-tabs-tabpane-active",i.active)("ant-tabs-tabpane-hidden",i.animated?null:!i.active))},inputs:{content:"content",active:"active",animated:"animated"},exportAs:["nzTabBody"],attrs:on,decls:1,vars:1,consts:[[3,"ngTemplateOutlet"]],template:function(t,i){t&1&&w(0,an,0,0,"ng-template",0),t&2&&f("ngTemplateOutlet",i.content)},dependencies:[we],encapsulation:2,data:{animation:[kt]},changeDetection:0})}return n})(),$t=(()=>{class n{closeIcon="close";static \u0275fac=function(t){return new(t||n)};static \u0275cmp=O({type:n,selectors:[["nz-tab-close-button"],["button","nz-tab-close-button",""]],hostAttrs:["aria-label","Close tab","type","button",1,"ant-tabs-tab-remove"],inputs:{closeIcon:"closeIcon"},decls:1,vars:1,consts:[[4,"nzStringTemplateOutlet"],["nzTheme","outline",3,"nzType"]],template:function(t,i){t&1&&w(0,sn,2,1,"ng-container",0),t&2&&f("nzStringTemplateOutlet",i.closeIcon)},dependencies:[Z,K,ae,oe],encapsulation:2})}return n})(),Qn=(()=>{class n{templateRef=h(Te,{host:!0});static \u0275fac=function(t){return new(t||n)};static \u0275dir=H({type:n,selectors:[["ng-template","nzTabLink",""]],exportAs:["nzTabLinkTemplate"]})}return n})(),Ut=(()=>{class n{elementRef=h(j);routerLink=h(_t,{self:!0,optional:!0});static \u0275fac=function(t){return new(t||n)};static \u0275dir=H({type:n,selectors:[["a","nz-tab-link",""]],exportAs:["nzTabLink"]})}return n})(),Qt=(()=>{class n{disabled=!1;tab;active=!1;elementRef=h(j);el=this.elementRef.nativeElement;parentElement=this.el.parentElement;focus(){this.el.focus({preventScroll:!0})}get width(){return this.parentElement.offsetWidth}get height(){return this.parentElement.offsetHeight}get left(){return this.parentElement.offsetLeft}get top(){return this.parentElement.offsetTop}static \u0275fac=function(t){return new(t||n)};static \u0275dir=H({type:n,selectors:[["","nzTabNavItem",""]],inputs:{disabled:[2,"disabled","disabled",I],tab:"tab",active:[2,"active","active",I]}})}return n})(),Qe=(()=>{class n{items=[];addable=!1;addIcon="plus";addClicked=new S;selected=new S;closeAnimationWaitTimeoutId;menuOpened=!1;cdr=h(q);element=h(j).nativeElement;onSelect(e){e.disabled||(e.tab.nzClick.emit(),this.selected.emit(e))}onContextmenu(e,t){e.disabled||e.tab.nzContextmenu.emit(t)}showItems(){clearTimeout(this.closeAnimationWaitTimeoutId),this.menuOpened=!0,this.cdr.markForCheck()}menuVisChange(e){e||(this.closeAnimationWaitTimeoutId=setTimeout(()=>{this.menuOpened=!1,this.cdr.markForCheck()},150))}getElementWidth(){return this.element?.offsetWidth||0}getElementHeight(){return this.element?.offsetHeight||0}ngOnDestroy(){clearTimeout(this.closeAnimationWaitTimeoutId)}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=O({type:n,selectors:[["nz-tab-nav-operation"]],hostAttrs:[1,"ant-tabs-nav-operations"],hostVars:2,hostBindings:function(t,i){t&2&&E("ant-tabs-nav-operations-hidden",i.items.length===0)},inputs:{items:"items",addable:[2,"addable","addable",I],addIcon:"addIcon"},outputs:{addClicked:"addClicked",selected:"selected"},exportAs:["nzTabNavOperation"],decls:7,vars:6,consts:[["dropdownTrigger","nzDropdown"],["menu","nzDropdownMenu"],["nz-dropdown","","type","button","tabindex","-1","aria-hidden","true","nzOverlayClassName","nz-tabs-dropdown",1,"ant-tabs-nav-more",3,"nzVisibleChange","mouseenter","nzDropdownMenu","nzOverlayStyle","nzMatchWidthElement"],["nzType","ellipsis"],["nz-menu",""],["nz-tab-add-button","",3,"addIcon"],["nz-menu-item","",1,"ant-tabs-dropdown-menu-item",3,"ant-tabs-dropdown-menu-item-disabled","nzSelected","nzDisabled"],["nz-menu-item","",1,"ant-tabs-dropdown-menu-item",3,"click","contextmenu","nzSelected","nzDisabled"],[4,"nzStringTemplateOutlet","nzStringTemplateOutletContext"],["nz-tab-add-button","",3,"click","addIcon"]],template:function(t,i){if(t&1){let o=A();g(0,"button",2,0),M("nzVisibleChange",function(b){return x(o),y(i.menuVisChange(b))})("mouseenter",function(){return x(o),y(i.showItems())}),F(2,"nz-icon",3),C(),g(3,"nz-dropdown-menu",null,1),z(5,un,3,0,"ul",4),C(),z(6,hn,1,1,"button",5)}if(t&2){let o=ie(4);f("nzDropdownMenu",o)("nzOverlayStyle",Ie(5,rn))("nzMatchWidthElement",null),u(5),T(i.menuOpened?5:-1),u(),T(i.addable?6:-1)}},dependencies:[ae,oe,Z,K,De,Bt,At,Rt,Dt,Et],encapsulation:2,changeDetection:0})}return n})(),Xn=.1,Ft=.01,Ne=20,Pt=.995**Ne,Yn=(()=>{class n{ngZone=h(de);destroyRef=h(Y);el=h(j).nativeElement;lastWheelDirection=null;lastWheelTimestamp=0;lastTimestamp=0;lastTimeDiff=0;lastMixedWheel=0;lastWheelPrevent=!1;touchPosition=null;lastOffset=null;motion=-1;offsetChange=new S;tabScroll=new S;ngOnInit(){let e=_e(this.el,"wheel"),t=_e(this.el,"touchstart"),i=_e(this.el,"touchmove"),o=_e(this.el,"touchend");this.subscribeWrap("wheel",e,this.onWheel),this.subscribeWrap("touchstart",t,this.onTouchStart),this.subscribeWrap("touchmove",i,this.onTouchMove),this.subscribeWrap("touchend",o,this.onTouchEnd)}subscribeWrap(e,t,i){return t.pipe(L(this.destroyRef)).subscribe(o=>{this.tabScroll.emit({type:e,event:o}),o.defaultPrevented||i(o)})}onTouchEnd=e=>{if(!this.touchPosition)return;let t=this.lastOffset,i=this.lastTimeDiff;if(this.lastOffset=this.touchPosition=null,t){let o=t.x/i,s=t.y/i,b=Math.abs(o),m=Math.abs(s);if(Math.max(b,m)<Xn)return;let p=o,v=s;this.motion=window.setInterval(()=>{if(Math.abs(p)<Ft&&Math.abs(v)<Ft){window.clearInterval(this.motion);return}p*=Pt,v*=Pt,this.onOffset(p*Ne,v*Ne,e)},Ne)}};onTouchMove=e=>{if(!this.touchPosition)return;e.preventDefault();let{screenX:t,screenY:i}=e.touches[0],o=t-this.touchPosition.x,s=i-this.touchPosition.y;this.onOffset(o,s,e);let b=Date.now();this.lastTimeDiff=b-this.lastTimestamp,this.lastTimestamp=b,this.lastOffset={x:o,y:s},this.touchPosition={x:t,y:i}};onTouchStart=e=>{let{screenX:t,screenY:i}=e.touches[0];this.touchPosition={x:t,y:i},window.clearInterval(this.motion)};onWheel=e=>{let{deltaX:t,deltaY:i}=e,o,s=Math.abs(t),b=Math.abs(i);s===b?o=this.lastWheelDirection==="x"?t:i:s>b?(o=t,this.lastWheelDirection="x"):(o=i,this.lastWheelDirection="y");let m=Date.now(),p=Math.abs(o);(m-this.lastWheelTimestamp>100||p-this.lastMixedWheel>10)&&(this.lastWheelPrevent=!1),this.onOffset(-o,-o,e),(e.defaultPrevented||this.lastWheelPrevent)&&(this.lastWheelPrevent=!0),this.lastWheelTimestamp=m,this.lastMixedWheel=p};onOffset(e,t,i){this.offsetChange.observers.length&&this.ngZone.run(()=>{this.offsetChange.emit({x:e,y:t,event:i})})}static \u0275fac=function(t){return new(t||n)};static \u0275dir=H({type:n,selectors:[["","nzTabScrollList",""]],outputs:{offsetChange:"offsetChange",tabScroll:"tabScroll"}})}return n})(),Wt=(()=>{class n{ngZone=h(de);el=h(j).nativeElement;position="horizontal";animated=!0;animationMode=h(at,{optional:!0});get _animated(){return this.animationMode!=="NoopAnimations"&&this.animated}alignToElement(e){this.ngZone.runOutsideAngular(()=>{Me(()=>this.setStyles(e))})}setStyles(e){this.position==="horizontal"?(this.el.style.top="",this.el.style.height="",this.el.style.left=this.getLeftPosition(e),this.el.style.width=this.getElementWidth(e)):(this.el.style.left="",this.el.style.width="",this.el.style.top=this.getTopPosition(e),this.el.style.height=this.getElementHeight(e))}getLeftPosition(e){return e?`${e.offsetLeft||0}px`:"0"}getElementWidth(e){return e?`${e.offsetWidth||0}px`:"0"}getTopPosition(e){return e?`${e.offsetTop||0}px`:"0"}getElementHeight(e){return e?`${e.offsetHeight||0}px`:"0"}static \u0275fac=function(t){return new(t||n)};static \u0275dir=H({type:n,selectors:[["nz-tabs-ink-bar"],["","nz-tabs-ink-bar",""]],hostAttrs:[1,"ant-tabs-ink-bar"],hostVars:2,hostBindings:function(t,i){t&2&&E("ant-tabs-ink-bar-animated",i._animated)},inputs:{position:"position",animated:"animated"}})}return n})(),jn=typeof Me<"u"?Ze:Ke,Ht=150,Xe=(()=>{class n{cdr=h(q);ngZone=h(de);viewportRuler=h(vt);nzResizeObserver=h(Ot);dir=h(be);destroyRef=h(Y);indexFocused=new S;selectFocusedIndex=new S;addClicked=new S;tabScroll=new S;position="horizontal";addable=!1;hideBar=!1;addIcon="plus";inkBarAnimated=!0;extraTemplate;extraContents=He.required();startExtraContent=We(()=>this.extraContents().find(e=>e.position()==="start"));endExtraContent=We(()=>this.extraContents().find(e=>e.position()==="end"));get selectedIndex(){return this._selectedIndex}set selectedIndex(e){let t=$e(e);this._selectedIndex!==t&&(this._selectedIndex=e,this.selectedIndexChanged=!0,this.keyManager&&this.keyManager.updateActiveItem(e))}navWrapRef;navListRef;operationRef;addBtnRef;inkBar;items;get focusIndex(){return this.keyManager?this.keyManager.activeItemIndex:0}set focusIndex(e){!this.isValidIndex(e)||this.focusIndex===e||!this.keyManager||this.keyManager.setActiveItem(e)}get showAddButton(){return this.hiddenItems.length===0&&this.addable}translate=null;transformX=0;transformY=0;pingLeft=!1;pingRight=!1;pingTop=!1;pingBottom=!1;hiddenItems=[];keyManager;_selectedIndex=0;wrapperWidth=0;wrapperHeight=0;scrollListWidth=0;scrollListHeight=0;operationWidth=0;operationHeight=0;addButtonWidth=0;addButtonHeight=0;selectedIndexChanged=!1;lockAnimationTimeoutId;cssTransformTimeWaitingId;constructor(){this.destroyRef.onDestroy(()=>{clearTimeout(this.lockAnimationTimeoutId),clearTimeout(this.cssTransformTimeWaitingId)})}ngAfterViewInit(){let e=this.dir?this.dir.change.asObservable():Ce(null),t=this.viewportRuler.change(150),i=()=>{this.updateScrollListPosition(),this.alignInkBarToSelectedTab()};this.keyManager=new It(this.items).withHorizontalOrientation(this.getLayoutDirection()).withWrap(),this.keyManager.updateActiveItem(this.selectedIndex),Me(i),re(this.nzResizeObserver.observe(this.navWrapRef),this.nzResizeObserver.observe(this.navListRef)).pipe(L(this.destroyRef),Je(16,jn)).subscribe(()=>{i()}),re(e,t,this.items.changes).pipe(L(this.destroyRef)).subscribe(()=>{Promise.resolve().then(i),this.keyManager.withHorizontalOrientation(this.getLayoutDirection())}),this.keyManager.change.pipe(L(this.destroyRef)).subscribe(o=>{this.indexFocused.emit(o),this.scrollToTab(this.keyManager.activeItem)})}ngAfterContentChecked(){this.selectedIndexChanged&&(this.updateScrollListPosition(),this.alignInkBarToSelectedTab(),this.selectedIndexChanged=!1,this.cdr.markForCheck())}onSelectedFromMenu(e){let t=this.items.toArray().findIndex(i=>i===e);t!==-1&&(this.keyManager.updateActiveItem(t),this.focusIndex!==this.selectedIndex&&(this.selectFocusedIndex.emit(this.focusIndex),this.scrollToTab(e)))}onOffsetChange(e){if(this.position==="horizontal"){if(!this.lockAnimationTimeoutId&&(this.transformX>=0&&e.x>0||this.transformX<=this.wrapperWidth-this.scrollListWidth&&e.x<0))return;e.event.preventDefault(),this.transformX=this.clampTransformX(this.transformX+e.x),this.setTransform(this.transformX,0)}else{if(!this.lockAnimationTimeoutId&&(this.transformY>=0&&e.y>0||this.transformY<=this.wrapperHeight-this.scrollListHeight&&e.y<0))return;e.event.preventDefault(),this.transformY=this.clampTransformY(this.transformY+e.y),this.setTransform(0,this.transformY)}this.lockAnimation(),this.setVisibleRange(),this.setPingStatus()}handleKeydown(e){let t=this.navWrapRef.nativeElement.contains(e.target);if(!(xt(e)||!t))switch(e.keyCode){case 37:case 38:case 39:case 40:this.lockAnimation(),this.keyManager.onKeydown(e);break;case 13:case 32:this.focusIndex!==this.selectedIndex&&this.selectFocusedIndex.emit(this.focusIndex);break;default:this.keyManager.onKeydown(e)}}isValidIndex(e){if(!this.items)return!0;let t=this.items?this.items.toArray()[e]:null;return!!t&&!t.disabled}scrollToTab(e){if(!this.items.find(i=>i===e))return;let t=this.items.toArray();if(this.position==="horizontal"){let i=this.transformX;if(this.getLayoutDirection()==="rtl"){let o=t[0].left+t[0].width-e.left-e.width;o<this.transformX?i=o:o+e.width>this.transformX+this.wrapperWidth&&(i=o+e.width-this.wrapperWidth)}else e.left<-this.transformX?i=-e.left:e.left+e.width>-this.transformX+this.wrapperWidth&&(i=-(e.left+e.width-this.wrapperWidth));this.transformX=i,this.transformY=0,this.setTransform(i,0)}else{let i=this.transformY;e.top<-this.transformY?i=-e.top:e.top+e.height>-this.transformY+this.wrapperHeight&&(i=-(e.top+e.height-this.wrapperHeight)),this.transformY=i,this.transformX=0,this.setTransform(0,i)}clearTimeout(this.cssTransformTimeWaitingId),this.cssTransformTimeWaitingId=setTimeout(()=>{this.setVisibleRange()},Ht)}lockAnimation(){this.lockAnimationTimeoutId||this.ngZone.runOutsideAngular(()=>{this.navListRef.nativeElement.style.transition="none",this.lockAnimationTimeoutId=setTimeout(()=>{this.navListRef.nativeElement.style.transition="",this.lockAnimationTimeoutId=void 0},Ht)})}setTransform(e,t){this.navListRef.nativeElement.style.transform=`translate(${e}px, ${t}px)`}clampTransformX(e){let t=this.wrapperWidth-this.scrollListWidth;return this.getLayoutDirection()==="rtl"?Math.max(Math.min(t,e),0):Math.min(Math.max(t,e),0)}clampTransformY(e){return Math.min(Math.max(this.wrapperHeight-this.scrollListHeight,e),0)}updateScrollListPosition(){this.resetSizes(),this.transformX=this.clampTransformX(this.transformX),this.transformY=this.clampTransformY(this.transformY),this.setVisibleRange(),this.setPingStatus(),this.keyManager&&(this.keyManager.updateActiveItem(this.keyManager.activeItemIndex),this.keyManager.activeItem&&this.scrollToTab(this.keyManager.activeItem))}resetSizes(){this.addButtonWidth=this.addBtnRef?this.addBtnRef.getElementWidth():0,this.addButtonHeight=this.addBtnRef?this.addBtnRef.getElementHeight():0,this.operationWidth=this.operationRef.getElementWidth(),this.operationHeight=this.operationRef.getElementHeight(),this.wrapperWidth=this.navWrapRef.nativeElement.offsetWidth||0,this.wrapperHeight=this.navWrapRef.nativeElement.offsetHeight||0,this.scrollListHeight=this.navListRef.nativeElement.offsetHeight||0,this.scrollListWidth=this.navListRef.nativeElement.offsetWidth||0}alignInkBarToSelectedTab(){let e=this.items&&this.items.length?this.items.toArray()[this.selectedIndex]:null,t=e?e.elementRef.nativeElement:null;t&&this.inkBar.alignToElement(t.parentElement)}setPingStatus(){let e={top:!1,right:!1,bottom:!1,left:!1},t=this.navWrapRef.nativeElement;this.position==="horizontal"?this.getLayoutDirection()==="rtl"?(e.right=this.transformX>0,e.left=this.transformX+this.wrapperWidth<this.scrollListWidth):(e.left=this.transformX<0,e.right=-this.transformX+this.wrapperWidth<this.scrollListWidth):(e.top=this.transformY<0,e.bottom=-this.transformY+this.wrapperHeight<this.scrollListHeight),Object.keys(e).forEach(i=>{let o=`ant-tabs-nav-wrap-ping-${i}`;e[i]?t.classList.add(o):t.classList.remove(o)})}setVisibleRange(){let e,t,i,o,s,b,m=this.items.toArray(),p={width:0,height:0,left:0,top:0,right:0},v=_=>{let B,Re=m[_]||p;return t==="right"?B=m[0].left+m[0].width-m[_].left-m[_].width:B=Re[t],B};this.position==="horizontal"?(e="width",o=this.wrapperWidth,s=this.scrollListWidth-(this.hiddenItems.length?this.operationWidth:0),b=this.addButtonWidth,i=Math.abs(this.transformX),this.getLayoutDirection()==="rtl"?(t="right",this.pingRight=this.transformX>0,this.pingLeft=this.transformX+this.wrapperWidth<this.scrollListWidth):(this.pingLeft=this.transformX<0,this.pingRight=-this.transformX+this.wrapperWidth<this.scrollListWidth,t="left")):(e="height",o=this.wrapperHeight,s=this.scrollListHeight-(this.hiddenItems.length?this.operationHeight:0),b=this.addButtonHeight,t="top",i=-this.transformY,this.pingTop=this.transformY<0,this.pingBottom=-this.transformY+this.wrapperHeight<this.scrollListHeight);let X=o;if(s+b>o&&(X=o-b),!m.length){this.hiddenItems=[],this.cdr.markForCheck();return}let k=m.length,Ye=k;for(let _=0;_<k;_+=1){let B=v(_),Re=m[_]||p;if(B+Re[e]>i+X){Ye=_-1;break}}let r=0;for(let _=k-1;_>=0;_-=1)if(v(_)<i){r=_+1;break}let a=m.slice(0,r),c=m.slice(Ye+1);this.hiddenItems=[...a,...c],this.cdr.markForCheck()}getLayoutDirection(){return this.dir&&this.dir.value==="rtl"?"rtl":"ltr"}ngOnChanges(e){let{position:t}=e;t&&!t.isFirstChange()&&(this.alignInkBarToSelectedTab(),this.lockAnimation(),this.updateScrollListPosition())}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=O({type:n,selectors:[["nz-tabs-nav"]],contentQueries:function(t,i,o){if(t&1&&G(o,Qt,5),t&2){let s;N(s=D())&&(i.items=s)}},viewQuery:function(t,i){if(t&1&&(V(mn,7),V(pn,7),V(Qe,7),V(De,5),V(Wt,7)),t&2){let o;N(o=D())&&(i.navWrapRef=o.first),N(o=D())&&(i.navListRef=o.first),N(o=D())&&(i.operationRef=o.first),N(o=D())&&(i.addBtnRef=o.first),N(o=D())&&(i.inkBar=o.first)}},hostAttrs:[1,"ant-tabs-nav"],hostBindings:function(t,i){t&1&&M("keydown",function(s){return i.handleKeydown(s)})},inputs:{position:"position",addable:[2,"addable","addable",I],hideBar:[2,"hideBar","hideBar",I],addIcon:"addIcon",inkBarAnimated:"inkBarAnimated",extraTemplate:"extraTemplate",extraContents:[1,"extraContents"],selectedIndex:"selectedIndex"},outputs:{indexFocused:"indexFocused",selectFocusedIndex:"selectFocusedIndex",addClicked:"addClicked",tabScroll:"tabScroll"},exportAs:["nzTabsNav"],features:[te],ngContentSelectors:fn,decls:11,vars:17,consts:[["navWrap",""],["navList",""],[1,"ant-tabs-extra-content"],[1,"ant-tabs-nav-wrap"],["nzTabScrollList","","role","tablist",1,"ant-tabs-nav-list",3,"offsetChange","tabScroll"],["role","tab","nz-tab-add-button","",3,"addIcon"],["nz-tabs-ink-bar","",3,"hidden","position","animated"],[3,"addClicked","selected","addIcon","addable","items"],[3,"ngTemplateOutlet"],["role","tab","nz-tab-add-button","",3,"click","addIcon"]],template:function(t,i){if(t&1){let o=A();Fe(),z(0,_n,2,1,"div",2),g(1,"div",3,0)(3,"div",4,1),M("offsetChange",function(b){return x(o),y(i.onOffsetChange(b))})("tabScroll",function(b){return x(o),y(i.tabScroll.emit(b))}),xe(5),z(6,gn,1,2,"button",5),F(7,"div",6),C()(),g(8,"nz-tab-nav-operation",7),M("addClicked",function(){return x(o),y(i.addClicked.emit())})("selected",function(b){return x(o),y(i.onSelectedFromMenu(b))}),C(),z(9,zn,2,1,"div",2)(10,vn,2,1,"div",2)}t&2&&(T(i.startExtraContent()?0:-1),u(),E("ant-tabs-nav-wrap-ping-left",i.pingLeft)("ant-tabs-nav-wrap-ping-right",i.pingRight)("ant-tabs-nav-wrap-ping-top",i.pingTop)("ant-tabs-nav-wrap-ping-bottom",i.pingBottom),u(5),T(i.showAddButton?6:-1),u(),f("hidden",i.hideBar)("position",i.position)("animated",i.inkBarAnimated),u(),f("addIcon",i.addIcon)("addable",i.addable)("items",i.hiddenItems),u(),T(i.endExtraContent()?9:i.extraTemplate?10:-1))},dependencies:[Yn,De,Wt,Qe,we],encapsulation:2,changeDetection:0})}return n})(),Gn=(()=>{class n{static \u0275fac=function(t){return new(t||n)};static \u0275dir=H({type:n,selectors:[["","nz-tab",""]],exportAs:["nzTab"]})}return n})(),Xt=new ee("NZ_TAB_SET"),qn=(()=>{class n{nzTitle="";nzClosable=!1;nzCloseIcon="close";nzDisabled=!1;nzForceRender=!1;nzSelect=new S;nzDeselect=new S;nzClick=new S;nzContextmenu=new S;nzTabLinkTemplateDirective;template=null;linkDirective;contentTemplate;isActive=!1;hasBeenActive=!1;position=null;origin=null;closestTabSet=h(Xt);stateChanges=new Ae;get content(){return this.template||this.contentTemplate}get label(){return this.nzTitle||this.nzTabLinkTemplateDirective?.templateRef}ngOnChanges(e){let{nzTitle:t,nzDisabled:i,nzForceRender:o}=e;(t||i||o)&&this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete()}setActive(e){this.isActive=e,e&&(this.hasBeenActive=!0)}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=O({type:n,selectors:[["nz-tab"]],contentQueries:function(t,i,o){if(t&1&&(G(o,Qn,5),G(o,Gn,5,Te),G(o,Ut,5)),t&2){let s;N(s=D())&&(i.nzTabLinkTemplateDirective=s.first),N(s=D())&&(i.template=s.first),N(s=D())&&(i.linkDirective=s.first)}},viewQuery:function(t,i){if(t&1&&V(xn,7),t&2){let o;N(o=D())&&(i.contentTemplate=o.first)}},inputs:{nzTitle:"nzTitle",nzClosable:[2,"nzClosable","nzClosable",I],nzCloseIcon:"nzCloseIcon",nzDisabled:[2,"nzDisabled","nzDisabled",I],nzForceRender:[2,"nzForceRender","nzForceRender",I]},outputs:{nzSelect:"nzSelect",nzDeselect:"nzDeselect",nzClick:"nzClick",nzContextmenu:"nzContextmenu"},exportAs:["nzTab"],features:[te],ngContentSelectors:Sn,decls:4,vars:0,consts:[["tabLinkTemplate",""],["contentTemplate",""]],template:function(t,i){t&1&&(Fe(yn),st(0,In,1,0,"ng-template",null,0,pe)(2,wn,1,0,"ng-template",null,1,pe))},encapsulation:2,changeDetection:0})}return n})(),Kn="tabs",Zn=0,Jn=(()=>{var k;let n,l=[],e=[],t,i=[],o=[],s,b=[],m=[],p,v=[],X=[];return k=class{_nzModuleName=Kn;nzConfigService=h(zt);ngZone=h(de);cdr=h(q);directionality=h(be);destroyRef=h(Y);get nzSelectedIndex(){return this.selectedIndex}set nzSelectedIndex(r){this.indexToSelect=$e(r,null)}nzTabPosition="top";nzTabBarExtraContent;nzCanDeactivate=null;nzAddIcon="plus";nzTabBarStyle=null;nzType=R(this,l,"line");nzSize=(R(this,e),R(this,i,"default"));nzAnimated=(R(this,o),R(this,b,!0));nzTabBarGutter=(R(this,m),R(this,v,void 0));nzHideAdd=(R(this,X),!1);nzCentered=!1;nzHideAll=!1;nzLinkRouter=!1;nzLinkExact=!0;nzDestroyInactiveTabPane=!1;nzSelectChange=new S(!0);nzSelectedIndexChange=new S;nzTabListScroll=new S;nzClose=new S;nzAdd=new S;get position(){return["top","bottom"].indexOf(this.nzTabPosition)===-1?"vertical":"horizontal"}get addable(){return this.nzType==="editable-card"&&!this.nzHideAdd}get closable(){return this.nzType==="editable-card"}get line(){return this.nzType==="line"}get inkBarAnimated(){return this.line&&(typeof this.nzAnimated=="boolean"?this.nzAnimated:this.nzAnimated.inkBar)}get tabPaneAnimated(){return typeof this.nzAnimated=="boolean"?this.nzAnimated:this.nzAnimated.tabPane}allTabs=new ze;tabLinks=new ze;tabNavBarRef;tabs=new ze;extraContents=mt(Lt);dir="ltr";tabSetId;indexToSelect=0;selectedIndex=null;tabLabelSubscription=ge.EMPTY;canDeactivateSubscription=ge.EMPTY;router=h(fe,{optional:!0});constructor(){this.tabSetId=Zn++,h(ht)==="nz-tabset"&&gt(`${Ve} <nz-tabset> is deprecated, please use <nz-tabs> instead.`),this.destroyRef.onDestroy(()=>{this.tabs.destroy(),this.tabLabelSubscription.unsubscribe(),this.canDeactivateSubscription.unsubscribe()})}ngOnInit(){this.dir=this.directionality.value,this.directionality.change?.pipe(L(this.destroyRef)).subscribe(r=>{this.dir=r,this.cdr.detectChanges()})}ngAfterContentInit(){this.ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>this.setUpRouter())}),this.subscribeToTabLabels(),this.subscribeToAllTabChanges(),this.tabs.changes.pipe(L(this.destroyRef)).subscribe(()=>{if(this.clampTabIndex(this.indexToSelect)===this.selectedIndex){let a=this.tabs.toArray();for(let c=0;c<a.length;c++)if(a[c].isActive){this.indexToSelect=this.selectedIndex=c;break}}this.subscribeToTabLabels(),this.cdr.markForCheck()})}ngAfterContentChecked(){let r=this.indexToSelect=this.clampTabIndex(this.indexToSelect);if(this.selectedIndex!==r){let a=this.selectedIndex==null;a||this.nzSelectChange.emit(this.createChangeEvent(r)),Promise.resolve().then(()=>{this.tabs.forEach((c,_)=>c.setActive(_===r)),a||this.nzSelectedIndexChange.emit(r)})}this.tabs.forEach((a,c)=>{a.position=c-r,this.selectedIndex!=null&&a.position===0&&!a.origin&&(a.origin=r-this.selectedIndex)}),this.selectedIndex!==r&&(this.selectedIndex=r,this.cdr.markForCheck())}onClose(r,a){a.preventDefault(),a.stopPropagation(),this.nzClose.emit({index:r})}onAdd(){this.nzAdd.emit()}clampTabIndex(r){return Math.min(this.tabs.length-1,Math.max(r||0,0))}createChangeEvent(r){let a=new Ue;return a.index=r,this.tabs&&this.tabs.length&&(a.tab=this.tabs.toArray()[r],this.tabs.forEach((c,_)=>{_!==r&&c.nzDeselect.emit()}),a.tab.nzSelect.emit()),a}subscribeToTabLabels(){this.tabLabelSubscription&&this.tabLabelSubscription.unsubscribe(),this.tabLabelSubscription=re(...this.tabs.map(r=>r.stateChanges)).subscribe(()=>this.cdr.markForCheck())}subscribeToAllTabChanges(){this.allTabs.changes.pipe(Le(this.allTabs)).subscribe(r=>{this.tabs.reset(r.filter(a=>a.closestTabSet===this)),this.tabs.notifyOnChanges()})}canDeactivateFun(r,a){return typeof this.nzCanDeactivate=="function"?Ct(this.nzCanDeactivate(r,a)).pipe(tt(),L(this.destroyRef)):Ce(!0)}clickNavItem(r,a,c){r.nzDisabled||(r.nzClick.emit(),this.isRouterLinkClickEvent(a,c)||this.setSelectedIndex(a))}isRouterLinkClickEvent(r,a){let c=a.target;return this.nzLinkRouter?!!this.tabs.toArray()[r]?.linkDirective?.elementRef.nativeElement.contains(c):!1}contextmenuNavItem(r,a){r.nzDisabled||r.nzContextmenu.emit(a)}setSelectedIndex(r){this.canDeactivateSubscription.unsubscribe(),this.canDeactivateSubscription=this.canDeactivateFun(this.selectedIndex,r).subscribe(a=>{a&&(this.nzSelectedIndex=r,this.tabNavBarRef.focusIndex=r,this.cdr.markForCheck())})}getTabIndex(r,a){return r.nzDisabled?null:this.selectedIndex===a?0:-1}getTabContentId(r){return`nz-tabs-${this.tabSetId}-tab-${r}`}setUpRouter(){if(this.nzLinkRouter){if(!this.router)throw new Error(`${Ve} you should import 'RouterModule' if you want to use 'nzLinkRouter'!`);re(this.router.events.pipe(Be(r=>r instanceof ke)),this.tabLinks.changes).pipe(Le(!0),et(0),L(this.destroyRef)).subscribe(()=>{this.updateRouterActive(),this.cdr.markForCheck()})}}updateRouterActive(){if(this.router?.navigated){let r=this.findShouldActiveTabIndex();r!==this.selectedIndex&&this.setSelectedIndex(r),Promise.resolve().then(()=>this.nzHideAll=r===-1)}}findShouldActiveTabIndex(){let r=this.tabs.toArray(),a=this.isLinkActive(this.router);return r.findIndex(c=>{let _=c.linkDirective;return _?a(_.routerLink):!1})}isLinkActive(r){return a=>a?!!r?.isActive(a.urlTree||"",{paths:this.nzLinkExact?"exact":"subset",queryParams:this.nzLinkExact?"exact":"subset",fragment:"ignored",matrixParams:"ignored"}):!1}},(()=>{let r=typeof Symbol=="function"&&Symbol.metadata?Object.create(null):void 0;n=[Q()],t=[Q()],s=[Q()],p=[Q()],U(null,null,n,{kind:"field",name:"nzType",static:!1,private:!1,access:{has:a=>"nzType"in a,get:a=>a.nzType,set:(a,c)=>{a.nzType=c}},metadata:r},l,e),U(null,null,t,{kind:"field",name:"nzSize",static:!1,private:!1,access:{has:a=>"nzSize"in a,get:a=>a.nzSize,set:(a,c)=>{a.nzSize=c}},metadata:r},i,o),U(null,null,s,{kind:"field",name:"nzAnimated",static:!1,private:!1,access:{has:a=>"nzAnimated"in a,get:a=>a.nzAnimated,set:(a,c)=>{a.nzAnimated=c}},metadata:r},b,m),U(null,null,p,{kind:"field",name:"nzTabBarGutter",static:!1,private:!1,access:{has:a=>"nzTabBarGutter"in a,get:a=>a.nzTabBarGutter,set:(a,c)=>{a.nzTabBarGutter=c}},metadata:r},v,X),r&&Object.defineProperty(k,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:r})})(),J(k,"\u0275fac",function(a){return new(a||k)}),J(k,"\u0275cmp",O({type:k,selectors:[["nz-tabs"],["nz-tabset"]],contentQueries:function(a,c,_){if(a&1&&(ct(_,c.extraContents,Lt,4),G(_,qn,5),G(_,Ut,5)),a&2){dt();let B;N(B=D())&&(c.allTabs=B),N(B=D())&&(c.tabLinks=B)}},viewQuery:function(a,c){if(a&1&&V(Xe,5),a&2){let _;N(_=D())&&(c.tabNavBarRef=_.first)}},hostAttrs:[1,"ant-tabs"],hostVars:24,hostBindings:function(a,c){a&2&&E("ant-tabs-card",c.nzType==="card"||c.nzType==="editable-card")("ant-tabs-editable",c.nzType==="editable-card")("ant-tabs-editable-card",c.nzType==="editable-card")("ant-tabs-centered",c.nzCentered)("ant-tabs-rtl",c.dir==="rtl")("ant-tabs-top",c.nzTabPosition==="top")("ant-tabs-bottom",c.nzTabPosition==="bottom")("ant-tabs-left",c.nzTabPosition==="left")("ant-tabs-right",c.nzTabPosition==="right")("ant-tabs-default",c.nzSize==="default")("ant-tabs-small",c.nzSize==="small")("ant-tabs-large",c.nzSize==="large")},inputs:{nzSelectedIndex:"nzSelectedIndex",nzTabPosition:"nzTabPosition",nzTabBarExtraContent:"nzTabBarExtraContent",nzCanDeactivate:"nzCanDeactivate",nzAddIcon:"nzAddIcon",nzTabBarStyle:"nzTabBarStyle",nzType:"nzType",nzSize:"nzSize",nzAnimated:"nzAnimated",nzTabBarGutter:"nzTabBarGutter",nzHideAdd:[2,"nzHideAdd","nzHideAdd",I],nzCentered:[2,"nzCentered","nzCentered",I],nzHideAll:[2,"nzHideAll","nzHideAll",I],nzLinkRouter:[2,"nzLinkRouter","nzLinkRouter",I],nzLinkExact:[2,"nzLinkExact","nzLinkExact",I],nzDestroyInactiveTabPane:[2,"nzDestroyInactiveTabPane","nzDestroyInactiveTabPane",I]},outputs:{nzSelectChange:"nzSelectChange",nzSelectedIndexChange:"nzSelectedIndexChange",nzTabListScroll:"nzTabListScroll",nzClose:"nzClose",nzAdd:"nzAdd"},exportAs:["nzTabs"],features:[Pe([{provide:Xt,useExisting:nt(()=>k)}])],decls:4,vars:12,consts:[["tabpaneTmpl",""],[3,"style","selectedIndex","inkBarAnimated","addable","addIcon","hideBar","position","extraTemplate","extraContents"],[1,"ant-tabs-content-holder"],[1,"ant-tabs-content"],[3,"tabScroll","selectFocusedIndex","addClicked","selectedIndex","inkBarAnimated","addable","addIcon","hideBar","position","extraTemplate","extraContents"],[1,"ant-tabs-tab",3,"margin-right","margin-bottom","ant-tabs-tab-active","ant-tabs-tab-disabled"],[1,"ant-tabs-tab",3,"click","contextmenu"],["type","button","role","tab","nzTabNavItem","","cdkMonitorElementFocus","",1,"ant-tabs-tab-btn",3,"id","disabled","tab","active"],[4,"nzStringTemplateOutlet","nzStringTemplateOutletContext"],["type","button","nz-tab-close-button","",3,"closeIcon"],["type","button","nz-tab-close-button","",3,"click","closeIcon"],[3,"ngTemplateOutlet"],["role","tabpanel","nz-tab-body","",3,"id","active","content","animated"]],template:function(a,c){a&1&&(z(0,Rn,3,10,"nz-tabs-nav",1),g(1,"div",2)(2,"div",3),z(3,$n,2,0),C()()),a&2&&(T(c.tabs.length||c.addable?0:-1),u(2),E("ant-tabs-content-top",c.nzTabPosition==="top")("ant-tabs-content-bottom",c.nzTabPosition==="bottom")("ant-tabs-content-left",c.nzTabPosition==="left")("ant-tabs-content-right",c.nzTabPosition==="right")("ant-tabs-content-animated",c.tabPaneAnimated),u(),T(c.nzHideAll?-1:3))},dependencies:[Xe,we,Qt,St,yt,Z,K,$t,Un],encapsulation:2})),k})();var to=(()=>{class n{static \u0275fac=function(t){return new(t||n)};static \u0275mod=ce({type:n});static \u0275inj=le({imports:[Jn,Xe,Qe,De,$t]})}return n})();var se=function(n){return n[n.Menu=0]="Menu",n[n.MenuForce=1]="MenuForce",n[n.URL=2]="URL",n}(se||{}),ei=new ee("REUSE_TAB_CACHED_MANAGER");var ti=new ee("REUSE_TAB_STORAGE_KEY"),ni=new ee("REUSE_TAB_STORAGE_STATE");var Ro=(()=>{class n{injector=h(ot);menuService=h(Mt);cached=h(ei);stateKey=h(ti);stateSrv=h(ni);_inited=!1;_max=10;_keepingScroll=!1;_cachedChange=new qe(null);_router$;removeUrlBuffer=null;positionBuffer={};componentRef;debug=!1;routeParamMatchMode="strict";mode=se.Menu;excludes=[];storageState=!1;get snapshot(){return this.injector.get(ft).snapshot}get inited(){return this._inited}get curUrl(){return this.getUrl(this.snapshot)}set max(e){this._max=Math.min(Math.max(e,2),100);for(let t=this.cached.list.length;t>this._max;t--)this.cached.list.pop()}set keepingScroll(e){this._keepingScroll=e,this.initScroll()}get keepingScroll(){return this._keepingScroll}keepingScrollContainer;get items(){return this.cached.list}get count(){return this.cached.list.length}get change(){return this._cachedChange.asObservable()}set title(e){let t=this.curUrl;typeof e=="string"&&(e={text:e}),this.cached.title[t]=e,this.di("update current tag title: ",e),this._cachedChange.next({active:"title",url:t,title:e,list:this.cached.list})}index(e){return this.cached.list.findIndex(t=>t.url===e)}exists(e){return this.index(e)!==-1}get(e){return e&&this.cached.list.find(t=>t.url===e)||null}remove(e,t){let i=typeof e=="string"?this.index(e):e,o=i!==-1?this.cached.list[i]:null;return!o||!t&&!o.closable?!1:(this.destroy(o._handle),this.cached.list.splice(i,1),delete this.cached.title[e],!0)}close(e,t=!1){return this.removeUrlBuffer=e,this.remove(e,t),this._cachedChange.next({active:"close",url:e,list:this.cached.list}),this.di("close tag",e),!0}closeRight(e,t=!1){let i=this.index(e);for(let o=this.count-1;o>i;o--)this.remove(o,t);return this.removeUrlBuffer=null,this._cachedChange.next({active:"closeRight",url:e,list:this.cached.list}),this.di("close right tages",e),!0}clear(e=!1){this.cached.list.forEach(t=>{!e&&t.closable&&this.destroy(t._handle)}),this.cached.list=this.cached.list.filter(t=>!e&&!t.closable),this.removeUrlBuffer=null,this._cachedChange.next({active:"clear",list:this.cached.list}),this.di("clear all catch")}move(e,t){let i=this.cached.list.findIndex(s=>s.url===e);if(i===-1)return;let o=this.cached.list.slice();o.splice(t<0?o.length+t:t,0,o.splice(i,1)[0]),this.cached.list=o,this._cachedChange.next({active:"move",url:e,position:t,list:this.cached.list})}replace(e){let t=this.curUrl;this.injector.get(fe).navigateByUrl(e).then(()=>{this.exists(t)?this.close(t,!0):this.removeUrlBuffer=t})}getTitle(e,t){if(this.cached.title[e])return this.cached.title[e];if(t&&t.data&&(t.data.titleI18n||t.data.title))return{text:t.data.title,i18n:t.data.titleI18n};let i=this.getMenu(e);return i?{text:i.text,i18n:i.i18n}:{text:e}}clearTitleCached(){this.cached.title={}}set closable(e){let t=this.curUrl;this.cached.closable[t]=e,this.di("update current tag closable: ",e),this._cachedChange.next({active:"closable",closable:e,list:this.cached.list})}getClosable(e,t){if(typeof this.cached.closable[e]<"u")return this.cached.closable[e];if(t&&t.data&&typeof t.data.reuseClosable=="boolean")return t.data.reuseClosable;let i=this.mode!==se.URL?this.getMenu(e):null;return i&&typeof i.reuseClosable=="boolean"?i.reuseClosable:!0}clearClosableCached(){this.cached.closable={}}getTruthRoute(e){let t=e;for(;t.firstChild;)t=t.firstChild;return t}getUrl(e){let t=this.getTruthRoute(e),i=[];for(;t;)i.push(t.url.join("/")),t=t.parent;return`/${i.filter(s=>s).reverse().join("/")}`}can(e){let t=this.getUrl(e);if(t===this.removeUrlBuffer)return!1;if(e.data&&typeof e.data.reuse=="boolean")return e.data.reuse;if(this.mode!==se.URL){let i=this.getMenu(t);if(!i)return!1;if(this.mode===se.Menu){if(i.reuse===!1)return!1}else if(!i.reuse||i.reuse!==!0)return!1;return!0}return!this.isExclude(t)}isExclude(e){return this.excludes.findIndex(t=>t.test(e))!==-1}refresh(e){this._cachedChange.next({active:"refresh",data:e})}destroy(e){e&&e.componentRef&&e.componentRef.destroy&&e.componentRef.destroy()}di(...e){}constructor(){this.cached==null&&(this.cached={list:[],title:{},closable:{}})}init(){this.initScroll(),this._inited=!0,this.loadState()}loadState(){this.storageState&&(this.cached.list=this.stateSrv.get(this.stateKey).map(e=>Ge(je({},e),{title:{text:e.title},url:e.url,position:e.position})),this._cachedChange.next({active:"loadState"}))}getMenu(e){let t=this.menuService.getPathByUrl(e);return!t||t.length===0?null:t.pop()}runHook(e,t,i="init"){if(typeof t=="number"&&(t=this.cached.list[t]._handle?.componentRef),t==null||!t.instance)return;let o=t.instance,s=o[e];typeof s=="function"&&(e==="_onReuseInit"?s.call(o,i):s.call(o))}hasInValidRoute(e){return!e.routeConfig||!!e.routeConfig.loadChildren||!!e.routeConfig.children}shouldDetach(e){return this.hasInValidRoute(e)?!1:(this.di("#shouldDetach",this.can(e),this.getUrl(e)),this.can(e))}saveCache(e,t,i){let o=this.getTruthRoute(e),s=this.getUrl(e),b=this.index(s),m={title:this.getTitle(s,o),url:s,closable:this.getClosable(s,e),_snapshot:e,_handle:t};if(b<0){if(this.items.splice(i??this.items.length,0,m),this.count>this._max){let p=this.items.findIndex(v=>v.url!==s&&v.closable);if(p!==-1){let v=this.items[p];this.remove(p,!1),Ee(1).pipe(Oe(1)).subscribe(()=>this._cachedChange.next({active:"close",url:v.url,list:this.cached.list}))}}}else this.items[b]=m}store(e,t){let i=this.getUrl(e);t!=null&&this.saveCache(e,t);let o=this.cached.list,s={title:this.getTitle(i,e),closable:this.getClosable(i,e),position:this.getKeepingScroll(i,e)?this.positionBuffer[i]:null,url:i,_snapshot:e,_handle:t},b=this.index(i),m=o[b]?._handle?.componentRef;t==null&&m!=null&&Ee(100).pipe(Oe(1)).subscribe(()=>this.runHook("_onReuseInit",m)),o[b]=s,this.removeUrlBuffer=null,this.di("#store","[override]",i),t&&t.componentRef&&this.runHook("_onReuseDestroy",t.componentRef),this._cachedChange.next({active:"override",item:s,list:o})}shouldAttach(e){if(this.hasInValidRoute(e))return!1;let t=this.getUrl(e),i=this.get(t),o=!!(i&&i._handle);return this.di("#shouldAttach",o,t),o||this._cachedChange.next({active:"add",url:t,list:this.cached.list}),o}retrieve(e){if(this.hasInValidRoute(e))return null;let t=this.getUrl(e),i=this.get(t),o=i&&i._handle||null;return this.di("#retrieve",t,o),o}shouldReuseRoute(e,t){let i=e.routeConfig===t.routeConfig;if(!i)return!1;let o=e.routeConfig&&e.routeConfig.path||"";return o.length>0&&~o.indexOf(":")&&(this.routeParamMatchMode==="strict"?i=this.getUrl(e)===this.getUrl(t):i=o===(t.routeConfig&&t.routeConfig.path||"")),this.di("====================="),this.di("#shouldReuseRoute",i,`${this.getUrl(t)}=>${this.getUrl(e)}`,e,t),i}getKeepingScroll(e,t){if(t&&t.data&&typeof t.data.keepingScroll=="boolean")return t.data.keepingScroll;let i=this.mode!==se.URL?this.getMenu(e):null;return i&&typeof i.keepingScroll=="boolean"?i.keepingScroll:this.keepingScroll}get isDisabledInRouter(){return this.injector.get(bt,{}).scrollPositionRestoration==="disabled"}get ss(){return this.injector.get(Nt)}initScroll(){this._router$&&this._router$.unsubscribe(),this._router$=this.injector.get(fe).events.subscribe(e=>{if(e instanceof pt){let t=this.curUrl;this.getKeepingScroll(t,this.getTruthRoute(this.snapshot))?this.positionBuffer[t]=this.ss.getScrollPosition(this.keepingScrollContainer):delete this.positionBuffer[t]}else if(e instanceof ke){let t=this.curUrl,i=this.get(t);i&&i.position&&this.getKeepingScroll(t,this.getTruthRoute(this.snapshot))&&(this.isDisabledInRouter?this.ss.scrollToPosition(this.keepingScrollContainer,i.position):setTimeout(()=>this.ss.scrollToPosition(this.keepingScrollContainer,i.position),1))}})}ngOnDestroy(){let{_cachedChange:e,_router$:t}=this;this.clear(),this.cached.list=[],e.complete(),t&&t.unsubscribe()}static \u0275fac=function(t){return new(t||n)};static \u0275prov=it({token:n,factory:n.\u0275fac})}return n})();function ii(n,l){n&1&&rt(0)}function oi(n,l){if(n&1&&w(0,ii,1,0,"ng-container",7),n&2){let e=d(3);f("nzStringTemplateOutlet",e.nzIcon)}}function ai(n,l){if(n&1&&F(0,"nz-icon",6),n&2){let e=d(3);f("nzType",e.nzIconType||e.inferredIconType)("nzTheme",e.iconTheme)}}function si(n,l){if(n&1&&(g(0,"div",2),z(1,oi,1,1,"ng-container")(2,ai,1,2,"nz-icon",6),C()),n&2){let e=d(2);u(),T(e.nzIcon?1:2)}}function ri(n,l){if(n&1&&(P(0),$(1),W()),n&2){let e=d(4);u(),me(e.nzMessage)}}function li(n,l){if(n&1&&(g(0,"span",8),w(1,ri,2,1,"ng-container",7),C()),n&2){let e=d(3);u(),f("nzStringTemplateOutlet",e.nzMessage)}}function ci(n,l){if(n&1&&(P(0),$(1),W()),n&2){let e=d(4);u(),me(e.nzDescription)}}function di(n,l){if(n&1&&(g(0,"span",9),w(1,ci,2,1,"ng-container",7),C()),n&2){let e=d(3);u(),f("nzStringTemplateOutlet",e.nzDescription)}}function ui(n,l){if(n&1&&(g(0,"div",3),z(1,li,2,1,"span",8),z(2,di,2,1,"span",9),C()),n&2){let e=d(2);u(),T(e.nzMessage?1:-1),u(),T(e.nzDescription?2:-1)}}function hi(n,l){if(n&1&&(P(0),$(1),W()),n&2){let e=d(3);u(),me(e.nzAction)}}function mi(n,l){if(n&1&&(g(0,"div",4),w(1,hi,2,1,"ng-container",7),C()),n&2){let e=d(2);u(),f("nzStringTemplateOutlet",e.nzAction)}}function pi(n,l){if(n&1&&(P(0),g(1,"span",12),$(2),C(),W()),n&2){let e=d(4);u(2),me(e.nzCloseText)}}function fi(n,l){if(n&1&&w(0,pi,3,1,"ng-container",7),n&2){let e=d(3);f("nzStringTemplateOutlet",e.nzCloseText)}}function bi(n,l){n&1&&F(0,"nz-icon",11)}function _i(n,l){if(n&1){let e=A();g(0,"button",10),M("click",function(){x(e);let i=d(2);return y(i.closeAlert())}),z(1,fi,1,1,"ng-container")(2,bi,1,0,"nz-icon",11),C()}if(n&2){let e=d(2);u(),T(e.nzCloseText?1:2)}}function gi(n,l){if(n&1){let e=A();g(0,"div",1),M("@slideAlertMotion.done",function(){x(e);let i=d();return y(i.onFadeAnimationDone())}),z(1,si,3,1,"div",2),z(2,ui,3,2,"div",3),z(3,mi,2,1,"div",4),z(4,_i,3,1,"button",5),C()}if(n&2){let e=d();E("ant-alert-rtl",e.dir==="rtl")("ant-alert-success",e.nzType==="success")("ant-alert-info",e.nzType==="info")("ant-alert-warning",e.nzType==="warning")("ant-alert-error",e.nzType==="error")("ant-alert-no-icon",!e.nzShowIcon)("ant-alert-banner",e.nzBanner)("ant-alert-closable",e.nzCloseable)("ant-alert-with-description",!!e.nzDescription),f("@.disabled",e.nzNoAnimation)("@slideAlertMotion",void 0),u(),T(e.nzShowIcon?1:-1),u(),T(e.nzMessage||e.nzDescription?2:-1),u(),T(e.nzAction?3:-1),u(),T(e.nzCloseable||e.nzCloseText?4:-1)}}var Yt="alert",Ci=(()=>{var s;let n,l=[],e=[],t,i=[],o=[];return s=class{cdr=h(q);directionality=h(be);destroyRef=h(Y);_nzModuleName=Yt;nzAction=null;nzCloseText=null;nzIconType=null;nzMessage=null;nzDescription=null;nzType="info";nzCloseable=R(this,l,!1);nzShowIcon=(R(this,e),R(this,i,!1));nzBanner=(R(this,o),!1);nzNoAnimation=!1;nzIcon=null;nzOnClose=new S;closed=!1;iconTheme="fill";inferredIconType="info-circle";dir="ltr";isTypeSet=!1;isShowIconSet=!1;constructor(){Tt(Yt,()=>this.cdr.markForCheck())}ngOnInit(){this.directionality.change?.pipe(L(this.destroyRef)).subscribe(m=>{this.dir=m,this.cdr.detectChanges()}),this.dir=this.directionality.value}closeAlert(){this.closed=!0}onFadeAnimationDone(){this.closed&&this.nzOnClose.emit(!0)}ngOnChanges(m){let{nzShowIcon:p,nzDescription:v,nzType:X,nzBanner:k}=m;if(p&&(this.isShowIconSet=!0),X)switch(this.isTypeSet=!0,this.nzType){case"error":this.inferredIconType="close-circle";break;case"success":this.inferredIconType="check-circle";break;case"info":this.inferredIconType="info-circle";break;case"warning":this.inferredIconType="exclamation-circle";break}v&&(this.iconTheme=this.nzDescription?"outline":"fill"),k&&(this.isTypeSet||(this.nzType="warning"),this.isShowIconSet||(this.nzShowIcon=!0))}},(()=>{let m=typeof Symbol=="function"&&Symbol.metadata?Object.create(null):void 0;n=[Q()],t=[Q()],U(null,null,n,{kind:"field",name:"nzCloseable",static:!1,private:!1,access:{has:p=>"nzCloseable"in p,get:p=>p.nzCloseable,set:(p,v)=>{p.nzCloseable=v}},metadata:m},l,e),U(null,null,t,{kind:"field",name:"nzShowIcon",static:!1,private:!1,access:{has:p=>"nzShowIcon"in p,get:p=>p.nzShowIcon,set:(p,v)=>{p.nzShowIcon=v}},metadata:m},i,o),m&&Object.defineProperty(s,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:m})})(),J(s,"\u0275fac",function(p){return new(p||s)}),J(s,"\u0275cmp",O({type:s,selectors:[["nz-alert"]],inputs:{nzAction:"nzAction",nzCloseText:"nzCloseText",nzIconType:"nzIconType",nzMessage:"nzMessage",nzDescription:"nzDescription",nzType:"nzType",nzCloseable:[2,"nzCloseable","nzCloseable",I],nzShowIcon:[2,"nzShowIcon","nzShowIcon",I],nzBanner:[2,"nzBanner","nzBanner",I],nzNoAnimation:[2,"nzNoAnimation","nzNoAnimation",I],nzIcon:"nzIcon"},outputs:{nzOnClose:"nzOnClose"},exportAs:["nzAlert"],features:[te],decls:1,vars:1,consts:[[1,"ant-alert",3,"ant-alert-rtl","ant-alert-success","ant-alert-info","ant-alert-warning","ant-alert-error","ant-alert-no-icon","ant-alert-banner","ant-alert-closable","ant-alert-with-description"],[1,"ant-alert"],[1,"ant-alert-icon"],[1,"ant-alert-content"],[1,"ant-alert-action"],["type","button","tabindex","0",1,"ant-alert-close-icon"],[3,"nzType","nzTheme"],[4,"nzStringTemplateOutlet"],[1,"ant-alert-message"],[1,"ant-alert-description"],["type","button","tabindex","0",1,"ant-alert-close-icon",3,"click"],["nzType","close"],[1,"ant-alert-close-text"]],template:function(p,v){p&1&&z(0,gi,5,24,"div",0),p&2&&T(v.closed?-1:0)},dependencies:[ae,oe,Z,K],encapsulation:2,data:{animation:[wt]},changeDetection:0})),s})(),Go=(()=>{class n{static \u0275fac=function(t){return new(t||n)};static \u0275mod=ce({type:n});static \u0275inj=le({imports:[Ci]})}return n})();export{Gn as a,qn as b,Jn as c,to as d,Ro as e,Ci as f,Go as g};
