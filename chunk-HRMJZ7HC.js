import{a as se}from"./chunk-O3QGEURG.js";import{B as oe,E as re,F as ce,O as pe,f as X}from"./chunk-3NIPPYFG.js";import"./chunk-7DGAILAN.js";import"./chunk-T7KOHHK2.js";import{f as ae,g as me}from"./chunk-PLG4CJNN.js";import"./chunk-W2YKWTW6.js";import"./chunk-CY6EXYGR.js";import{e as ne,f as ie}from"./chunk-YJMONC3A.js";import"./chunk-56KVT4S4.js";import"./chunk-RO5CAZDG.js";import"./chunk-I3H5DCHT.js";import"./chunk-IA67MZC2.js";import{i as W,n as Z,t as U}from"./chunk-XRAWGIG7.js";import{h as ee,q as te,s as T,t as E}from"./chunk-557TQC7D.js";import{o as J}from"./chunk-EIQVRW2S.js";import{Ab as H,Ha as N,Ib as S,Kb as w,Lb as j,Md as Y,Nb as B,Ob as V,Pb as m,Qb as p,Rb as s,Sb as l,Wc as D,Xc as K,Ya as z,Zb as _,ac as v,ad as d,bd as Q,db as c,dc as y,ec as O,fc as F,fe as G,lc as P,mc as A,oa as I,oc as $,pb as a,pc as q,qb as L,sa as r,sc as h,uc as b,ya as C,za as x}from"./chunk-A26OGSUO.js";import"./chunk-57BLH6QZ.js";var ue=["conTpl"],ge=["*"];function fe(t,i){if(t&1&&l(0,"h1",4),t&2){let e=y();m("innerHTML",e._title(),z)}}function ve(t,i){if(t&1&&(p(0,"button",8),h(1),s()),t&2){let e=y();m("routerLink",e.backRouterLink())("nzType","primary"),c(),b(" ",e.locale().backToHome," ")}}var R=(()=>{class t{dom=r(G);cogSrv=r(X);conTpl=Q.required("conTpl");locale=r(re).valueSignal("exception");dir=r(J).valueSignal;hasCon=N(!1);typeDict;typeItem=N(null);type=d(404);img=d();title=d();desc=d();backRouterLink=d("/");_img=D(()=>{let e=this.typeItem()?.img??this.img();return e==null?null:this.dom.bypassSecurityTrustStyle(`url('${e}')`)});_title=D(()=>{let e=this.typeItem()?.title??this.title();return e==null?null:this.dom.bypassSecurityTrustHtml(e)});_desc=D(()=>{let e=this.typeItem()?.desc??this.desc()??this.locale()[this.type()];return e==null?null:this.dom.bypassSecurityTrustHtml(e)});constructor(){this.cogSrv.attach(this,"exception",{typeDict:{403:{img:"https://gw.alipayobjects.com/zos/rmsportal/wZcnGqRDyhPOEYFcZDnb.svg",title:"403"},404:{img:"https://gw.alipayobjects.com/zos/rmsportal/KpnpchXsobRgLElEozzI.svg",title:"404"},500:{img:"https://gw.alipayobjects.com/zos/rmsportal/RVRUAYdCGeYNBWoKiIwB.svg",title:"500"}}}),K(()=>{let e=this.type();this.typeItem.set(this.typeDict?.[e])}),H(()=>{this.checkContent()})}checkContent(){this.hasCon.set(!pe(this.conTpl().nativeElement))}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=a({type:t,selectors:[["exception"]],viewQuery:function(n,o){n&1&&P(o.conTpl,ue,5),n&2&&A()},hostVars:4,hostBindings:function(n,o){n&2&&q("exception",!0)("exception-rtl",o.dir()==="rtl")},inputs:{type:[1,"type"],img:[1,"img"],title:[1,"title"],desc:[1,"desc"],backRouterLink:[1,"backRouterLink"]},exportAs:["exception"],ngContentSelectors:ge,decls:10,vars:5,consts:[["conTpl",""],[1,"exception__img-block"],[1,"exception__img"],[1,"exception__cont"],[1,"exception__cont-title",3,"innerHTML"],[1,"exception__cont-desc",3,"innerHTML"],[1,"exception__cont-actions"],[3,"cdkObserveContent"],["nz-button","",3,"routerLink","nzType"]],template:function(n,o){if(n&1){let M=_();O(),p(0,"div",1),l(1,"div",2),s(),p(2,"div",3),S(3,fe,1,1,"h1",4),l(4,"div",5),p(5,"div",6)(6,"div",7,0),v("cdkObserveContent",function(){return C(M),x(o.checkContent())}),F(8),s(),S(9,ve,2,3,"button",8),s()()}n&2&&(c(),$("background-image",o._img()),c(2),w(o._title()?3:-1),c(),m("innerHTML",o._desc(),z),c(5),w(o.hasCon()?-1:9))},dependencies:[ne,T,Z],encapsulation:2,changeDetection:0})}return t})(),ye=[R],de=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=L({type:t});static \u0275inj=I({imports:[Y,ie,U,ce,E,ye]})}return t})();var u=class u{constructor(){this.route=r(W)}get type(){return this.route.snapshot.data.type}};u.\u0275fac=function(e){return new(e||u)},u.\u0275cmp=a({type:u,selectors:[["app-exception"]],decls:1,vars:1,consts:[[2,"min-height","500px","height","80%",3,"type"]],template:function(e,n){e&1&&l(0,"exception",0),e&2&&m("type",n.type)},dependencies:[de,R],encapsulation:2,changeDetection:0});var g=u;function xe(t,i){if(t&1){let e=_();p(0,"button",3),v("click",function(){let o=C(e).$implicit,M=y();return x(M.go(o))}),h(1),s()}if(t&2){let e=i.$implicit;c(),b("\u89E6\u53D1",e)}}var f=class f{constructor(){this.http=r(oe);this.tokenService=r(se);this.types=[401,403,404,500]}go(i){this.http.get(`/api/${i}`).subscribe()}refresh(){this.tokenService.set({token:"invalid-token"}),this.http.post("https://localhost:5001/auth").subscribe({next:i=>console.warn("\u6210\u529F",i),error:i=>{console.log("\u6700\u540E\u7ED3\u679C\u5931\u8D25",i)}})}};f.\u0275fac=function(e){return new(e||f)},f.\u0275cmp=a({type:f,selectors:[["exception-trigger"]],decls:6,vars:0,consts:[[1,"pt-lg"],["nz-button","","nzDanger",""],["nz-button","","nzType","link",3,"click"],["nz-button","","nzDanger","",3,"click"]],template:function(e,n){e&1&&(p(0,"div",0)(1,"nz-card"),B(2,xe,2,1,"button",1,j),p(4,"button",2),v("click",function(){return n.refresh()}),h(5,"\u89E6\u53D1\u5237\u65B0Token"),s()()()),e&2&&(c(2),V(n.types))},dependencies:[me,ae,E,T,ee,te],encapsulation:2});var k=f;var nt=[{path:"403",component:g,data:{type:403}},{path:"404",component:g,data:{type:404}},{path:"500",component:g,data:{type:500}},{path:"trigger",component:k}];export{nt as routes};
