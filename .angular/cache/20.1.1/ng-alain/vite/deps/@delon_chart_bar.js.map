{
  "version": 3,
  "sources": ["../../../../../../node_modules/@delon/chart/fesm2022/bar.mjs"],
  "sourcesContent": ["import * as i0 from '@angular/core';\nimport { EventEmitter, booleanAttribute, numberAttribute, Output, Input, ViewEncapsulation, ChangeDetectionStrategy, Component, NgModule } from '@angular/core';\nimport { fromEvent, takeUntil, filter, debounceTime } from 'rxjs';\nimport { G2BaseComponent } from '@delon/chart/core';\nimport { NzStringTemplateOutletDirective, NzOutletModule } from 'ng-zorro-antd/core/outlet';\nimport { NzSkeletonComponent, NzSkeletonModule } from 'ng-zorro-antd/skeleton';\nimport { CommonModule } from '@angular/common';\nfunction G2BarComponent_ng_container_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"h4\", 2);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r0.title);\n  }\n}\nfunction G2BarComponent_Conditional_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"nz-skeleton\");\n  }\n}\nconst TITLE_HEIGHT = 41;\nclass G2BarComponent extends G2BaseComponent {\n  // #region fields\n  title;\n  color = 'rgba(24, 144, 255, 0.85)';\n  height = 0;\n  padding = 'auto';\n  data = [];\n  autoLabel = true;\n  interaction = 'none';\n  clickItem = new EventEmitter();\n  // #endregion\n  getHeight() {\n    return this.title ? this.height - TITLE_HEIGHT : this.height;\n  }\n  install() {\n    const {\n      node,\n      padding,\n      interaction,\n      theme\n    } = this;\n    const container = node.nativeElement;\n    const chart = this._chart = new this.winG2.Chart({\n      container,\n      autoFit: true,\n      height: this.getHeight(),\n      padding,\n      theme\n    });\n    this.updatelabel();\n    chart.axis('y', {\n      title: null,\n      line: null,\n      tickLine: null\n    });\n    chart.scale({\n      x: {\n        type: 'cat'\n      },\n      y: {\n        min: 0\n      }\n    });\n    chart.tooltip({\n      showTitle: false\n    });\n    if (interaction !== 'none') {\n      chart.interaction(interaction);\n    }\n    chart.legend(false);\n    chart.interval().position('x*y').color('x*y', (x, y) => {\n      const colorItem = this.data.find(w => w.x === x && w.y === y);\n      return colorItem && colorItem.color ? colorItem.color : this.color;\n    }).tooltip('x*y', (x, y) => ({\n      name: x,\n      value: y\n    }));\n    chart.on(`interval:click`, ev => {\n      this.ngZone.run(() => this.clickItem.emit({\n        item: ev.data?.data,\n        ev\n      }));\n    });\n    this.ready.next(chart);\n    this.changeData();\n    chart.render();\n    this.installResizeEvent();\n  }\n  changeData() {\n    const {\n      _chart,\n      data\n    } = this;\n    if (!_chart || !Array.isArray(data) || data.length <= 0) return;\n    _chart.changeData(data);\n  }\n  updatelabel() {\n    const {\n      node,\n      data,\n      _chart\n    } = this;\n    const canvasWidth = node.nativeElement.clientWidth;\n    const minWidth = data.length * 30;\n    _chart.axis('x', canvasWidth > minWidth).render();\n  }\n  installResizeEvent() {\n    if (!this.autoLabel || this.resize$) return;\n    this.resize$ = fromEvent(window, 'resize').pipe(takeUntil(this.destroy$), filter(() => !!this._chart), debounceTime(200)).subscribe(() => this.ngZone.runOutsideAngular(() => this.updatelabel()));\n  }\n  static ɵfac = /* @__PURE__ */(() => {\n    let ɵG2BarComponent_BaseFactory;\n    return function G2BarComponent_Factory(__ngFactoryType__) {\n      return (ɵG2BarComponent_BaseFactory || (ɵG2BarComponent_BaseFactory = i0.ɵɵgetInheritedFactory(G2BarComponent)))(__ngFactoryType__ || G2BarComponent);\n    };\n  })();\n  static ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: G2BarComponent,\n    selectors: [[\"g2-bar\"]],\n    hostVars: 2,\n    hostBindings: function G2BarComponent_HostBindings(rf, ctx) {\n      if (rf & 2) {\n        i0.ɵɵstyleProp(\"height\", ctx.height, \"px\");\n      }\n    },\n    inputs: {\n      title: \"title\",\n      color: \"color\",\n      height: [2, \"height\", \"height\", numberAttribute],\n      padding: \"padding\",\n      data: \"data\",\n      autoLabel: [2, \"autoLabel\", \"autoLabel\", booleanAttribute],\n      interaction: \"interaction\"\n    },\n    outputs: {\n      clickItem: \"clickItem\"\n    },\n    exportAs: [\"g2Bar\"],\n    features: [i0.ɵɵInheritDefinitionFeature],\n    decls: 4,\n    vars: 2,\n    consts: [[\"container\", \"\"], [4, \"nzStringTemplateOutlet\"], [2, \"margin-bottom\", \"20px\"]],\n    template: function G2BarComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, G2BarComponent_ng_container_0_Template, 3, 1, \"ng-container\", 1);\n        i0.ɵɵconditionalCreate(1, G2BarComponent_Conditional_1_Template, 1, 0, \"nz-skeleton\");\n        i0.ɵɵelement(2, \"div\", null, 0);\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"nzStringTemplateOutlet\", ctx.title);\n        i0.ɵɵadvance();\n        i0.ɵɵconditional(!ctx.loaded ? 1 : -1);\n      }\n    },\n    dependencies: [NzStringTemplateOutletDirective, NzSkeletonComponent],\n    encapsulation: 2,\n    changeDetection: 0\n  });\n}\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(G2BarComponent, [{\n    type: Component,\n    args: [{\n      selector: 'g2-bar',\n      exportAs: 'g2Bar',\n      template: `\n    <ng-container *nzStringTemplateOutlet=\"title\">\n      <h4 style=\"margin-bottom: 20px;\">{{ title }}</h4>\n    </ng-container>\n    @if (!loaded) {\n      <nz-skeleton />\n    }\n    <div #container></div>\n  `,\n      host: {\n        '[style.height.px]': 'height'\n      },\n      changeDetection: ChangeDetectionStrategy.OnPush,\n      encapsulation: ViewEncapsulation.None,\n      imports: [NzStringTemplateOutletDirective, NzSkeletonComponent]\n    }]\n  }], null, {\n    title: [{\n      type: Input\n    }],\n    color: [{\n      type: Input\n    }],\n    height: [{\n      type: Input,\n      args: [{\n        transform: numberAttribute\n      }]\n    }],\n    padding: [{\n      type: Input\n    }],\n    data: [{\n      type: Input\n    }],\n    autoLabel: [{\n      type: Input,\n      args: [{\n        transform: booleanAttribute\n      }]\n    }],\n    interaction: [{\n      type: Input\n    }],\n    clickItem: [{\n      type: Output\n    }]\n  });\n})();\nconst COMPONENTS = [G2BarComponent];\nclass G2BarModule {\n  static ɵfac = function G2BarModule_Factory(__ngFactoryType__) {\n    return new (__ngFactoryType__ || G2BarModule)();\n  };\n  static ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: G2BarModule,\n    imports: [CommonModule, NzOutletModule, NzSkeletonModule, G2BarComponent],\n    exports: [G2BarComponent]\n  });\n  static ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    imports: [CommonModule, NzOutletModule, NzSkeletonModule, COMPONENTS]\n  });\n}\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(G2BarModule, [{\n    type: NgModule,\n    args: [{\n      imports: [CommonModule, NzOutletModule, NzSkeletonModule, ...COMPONENTS],\n      exports: COMPONENTS\n    }]\n  }], null, null);\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { G2BarComponent, G2BarModule };\n"],
  "mappings": "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",
  "names": []
}
