import {
  NzAlertComponent
} from "./chunk-TVNNI2DY.js";
import {
  NzMessageService
} from "./chunk-HCEGIQOO.js";
import {
  NzSwitchComponent,
  NzSwitchModule
} from "./chunk-FHN73A4J.js";
import {
  NzInputNumberComponent
} from "./chunk-7W2NXYCL.js";
import {
  NzInputDirective
} from "./chunk-3Q5ZW3A4.js";
import {
  NzDividerComponent,
  NzDividerModule
} from "./chunk-A6D3NUXQ.js";
import {
  ZoneOutside
} from "./chunk-RPM77CK6.js";
import {
  NzTabComponent,
  NzTabsComponent,
  NzTabsModule
} from "./chunk-B2ST2VOR.js";
import "./chunk-6Y4KUKOA.js";
import "./chunk-IIASACYA.js";
import "./chunk-OIOY4I4G.js";
import "./chunk-XPEPFKNH.js";
import "./chunk-JCLL7S6Q.js";
import {
  NzTooltipDirective
} from "./chunk-4P4HHPBT.js";
import {
  copy
} from "./chunk-KZXCIQZH.js";
import {
  SettingsService
} from "./chunk-WLPEXMS5.js";
import "./chunk-V4XBV55A.js";
import {
  NzDrawerComponent,
  NzDrawerContentDirective,
  NzDrawerModule
} from "./chunk-ZTNECFVY.js";
import "./chunk-VCVGLQF3.js";
import "./chunk-HGGVII4K.js";
import "./chunk-C2DAT26Y.js";
import {
  NzButtonComponent
} from "./chunk-MKB5HFAJ.js";
import "./chunk-KEGEU5UL.js";
import "./chunk-FBEQODFK.js";
import "./chunk-HXEEJHXJ.js";
import "./chunk-QYDDKLT3.js";
import "./chunk-LE4RSIF3.js";
import "./chunk-SQJ77OAJ.js";
import "./chunk-QZQ7SHKY.js";
import "./chunk-BHH4M3PU.js";
import "./chunk-2BDLX2FQ.js";
import "./chunk-C6MTXAAB.js";
import "./chunk-U5VATZ4Q.js";
import "./chunk-EGGX2FJX.js";
import "./chunk-76DJI4FU.js";
import "./chunk-MIQKVNBS.js";
import "./chunk-RH5RXJTD.js";
import "./chunk-Y5G3O3B7.js";
import "./chunk-ES4WNO3Q.js";
import {
  LazyService,
  deepCopy
} from "./chunk-XMKNXNVX.js";
import {
  NzIconDirective
} from "./chunk-GP3H6RZA.js";
import "./chunk-OAOHUKFD.js";
import "./chunk-BQ76GOFF.js";
import "./chunk-LSG4V6ID.js";
import "./chunk-KG76OIXO.js";
import "./chunk-J25EALHE.js";
import "./chunk-FZ3LGF3I.js";
import "./chunk-LTANXE67.js";
import {
  DefaultValueAccessor,
  FormsModule,
  NgControlStatus,
  NgModel
} from "./chunk-ZWI5T7AR.js";
import "./chunk-36PX2JTV.js";
import "./chunk-BVIJPY5U.js";
import "./chunk-ZO4CS3CJ.js";
import "./chunk-I75K2H66.js";
import "./chunk-CQHDL44S.js";
import "./chunk-NDRILP3E.js";
import "./chunk-2WJ2IEY4.js";
import "./chunk-4NJAG2UW.js";
import "./chunk-IH6YTMYU.js";
import "./chunk-D4QSWQD6.js";
import "./chunk-NFHVISCS.js";
import {
  Directionality
} from "./chunk-TBGMZLZ3.js";
import "./chunk-GIT7CFOZ.js";
import "./chunk-GUTSRBNM.js";
import "./chunk-FTJJFYDV.js";
import {
  ChangeDetectionStrategy,
  ChangeDetectorRef,
  Component,
  Input,
  NgModule,
  NgZone,
  booleanAttribute,
  isDevMode,
  setClassMetadata,
  ɵɵadvance,
  ɵɵclassProp,
  ɵɵconditional,
  ɵɵconditionalCreate,
  ɵɵdefineComponent,
  ɵɵdefineNgModule,
  ɵɵelement,
  ɵɵelementEnd,
  ɵɵelementStart,
  ɵɵgetCurrentView,
  ɵɵlistener,
  ɵɵnextContext,
  ɵɵproperty,
  ɵɵpureFunction0,
  ɵɵpureFunction1,
  ɵɵrepeater,
  ɵɵrepeaterCreate,
  ɵɵrepeaterTrackByIndex,
  ɵɵstyleMap,
  ɵɵtemplate,
  ɵɵtext,
  ɵɵtextInterpolate,
  ɵɵtextInterpolate1,
  ɵɵtwoWayBindingSet,
  ɵɵtwoWayListener,
  ɵɵtwoWayProperty
} from "./chunk-NQBXVTYU.js";
import {
  DOCUMENT,
  inject,
  ɵɵdefineInjector,
  ɵɵresetView,
  ɵɵrestoreView
} from "./chunk-QZDSTGXI.js";
import "./chunk-KMLKBNXJ.js";
import "./chunk-Q4VD2BBX.js";
import {
  __decorate
} from "./chunk-EBAU53KC.js";
import {
  __async
} from "./chunk-7CE4I3X6.js";

// node_modules/@delon/theme/fesm2022/setting-drawer.mjs
var _c0 = () => ({
  standalone: true
});
function SettingDrawerItemComponent_Case_4_Template(rf, ctx) {
  if (rf & 1) {
    const _r1 = ɵɵgetCurrentView();
    ɵɵelementStart(0, "input", 6);
    ɵɵtwoWayListener("ngModelChange", function SettingDrawerItemComponent_Case_4_Template_input_ngModelChange_0_listener($event) {
      ɵɵrestoreView(_r1);
      const ctx_r1 = ɵɵnextContext();
      ɵɵtwoWayBindingSet(ctx_r1.i.value, $event) || (ctx_r1.i.value = $event);
      return ɵɵresetView($event);
    });
    ɵɵelementEnd();
  }
  if (rf & 2) {
    const ctx_r1 = ɵɵnextContext();
    ɵɵtwoWayProperty("ngModel", ctx_r1.i.value);
    ɵɵproperty("ngModelOptions", ɵɵpureFunction0(2, _c0));
  }
}
function SettingDrawerItemComponent_Case_5_Template(rf, ctx) {
  if (rf & 1) {
    const _r3 = ɵɵgetCurrentView();
    ɵɵelementStart(0, "input", 7);
    ɵɵtwoWayListener("ngModelChange", function SettingDrawerItemComponent_Case_5_Template_input_ngModelChange_0_listener($event) {
      ɵɵrestoreView(_r3);
      const ctx_r1 = ɵɵnextContext();
      ɵɵtwoWayBindingSet(ctx_r1.i.value, $event) || (ctx_r1.i.value = $event);
      return ɵɵresetView($event);
    });
    ɵɵelementEnd();
  }
  if (rf & 2) {
    const ctx_r1 = ɵɵnextContext();
    ɵɵtwoWayProperty("ngModel", ctx_r1.i.value);
    ɵɵproperty("ngModelOptions", ɵɵpureFunction0(2, _c0));
  }
}
function SettingDrawerItemComponent_Case_6_Template(rf, ctx) {
  if (rf & 1) {
    const _r4 = ɵɵgetCurrentView();
    ɵɵelementStart(0, "nz-input-number", 8);
    ɵɵtwoWayListener("ngModelChange", function SettingDrawerItemComponent_Case_6_Template_nz_input_number_ngModelChange_0_listener($event) {
      ɵɵrestoreView(_r4);
      const ctx_r1 = ɵɵnextContext();
      ɵɵtwoWayBindingSet(ctx_r1.pxVal, $event) || (ctx_r1.pxVal = $event);
      return ɵɵresetView($event);
    });
    ɵɵlistener("ngModelChange", function SettingDrawerItemComponent_Case_6_Template_nz_input_number_ngModelChange_0_listener($event) {
      ɵɵrestoreView(_r4);
      const ctx_r1 = ɵɵnextContext();
      return ɵɵresetView(ctx_r1.pxChange($event));
    });
    ɵɵelementEnd();
  }
  if (rf & 2) {
    const ctx_r1 = ɵɵnextContext();
    ɵɵtwoWayProperty("ngModel", ctx_r1.pxVal);
    ɵɵproperty("nzMin", ctx_r1.i.min)("nzMax", ctx_r1.i.max)("nzStep", ctx_r1.i.step || 2)("nzFormatter", ctx_r1.format);
  }
}
function SettingDrawerItemComponent_Case_7_Template(rf, ctx) {
  if (rf & 1) {
    const _r5 = ɵɵgetCurrentView();
    ɵɵelementStart(0, "nz-switch", 9);
    ɵɵtwoWayListener("ngModelChange", function SettingDrawerItemComponent_Case_7_Template_nz_switch_ngModelChange_0_listener($event) {
      ɵɵrestoreView(_r5);
      const ctx_r1 = ɵɵnextContext();
      ɵɵtwoWayBindingSet(ctx_r1.i.value, $event) || (ctx_r1.i.value = $event);
      return ɵɵresetView($event);
    });
    ɵɵelementEnd();
  }
  if (rf & 2) {
    const ctx_r1 = ɵɵnextContext();
    ɵɵtwoWayProperty("ngModel", ctx_r1.i.value);
    ɵɵproperty("ngModelOptions", ɵɵpureFunction0(2, _c0));
  }
}
function SettingDrawerItemComponent_Case_8_ng_template_0_Template(rf, ctx) {
}
function SettingDrawerItemComponent_Case_8_Template(rf, ctx) {
  if (rf & 1) {
    ɵɵtemplate(0, SettingDrawerItemComponent_Case_8_ng_template_0_Template, 0, 0, "ng-template", 5);
  }
}
var _c1 = (a0) => ({
  "background-color": a0
});
function SettingDrawerComponent_div_1_For_5_Conditional_1_Template(rf, ctx) {
  if (rf & 1) {
    ɵɵelement(0, "nz-icon", 20);
  }
}
function SettingDrawerComponent_div_1_For_5_Template(rf, ctx) {
  if (rf & 1) {
    const _r2 = ɵɵgetCurrentView();
    ɵɵelementStart(0, "span", 19);
    ɵɵlistener("click", function SettingDrawerComponent_div_1_For_5_Template_span_click_0_listener() {
      const c_r3 = ɵɵrestoreView(_r2).$implicit;
      const ctx_r3 = ɵɵnextContext(2);
      return ɵɵresetView(ctx_r3.changeColor(c_r3.color));
    });
    ɵɵconditionalCreate(1, SettingDrawerComponent_div_1_For_5_Conditional_1_Template, 1, 0, "nz-icon", 20);
    ɵɵelementEnd();
  }
  if (rf & 2) {
    const c_r3 = ctx.$implicit;
    const ctx_r3 = ɵɵnextContext(2);
    ɵɵstyleMap(ɵɵpureFunction1(4, _c1, c_r3.color));
    ɵɵproperty("nzTooltipTitle", c_r3.key);
    ɵɵadvance();
    ɵɵconditional(ctx_r3.color === c_r3.color ? 1 : -1);
  }
}
function SettingDrawerComponent_div_1_Template(rf, ctx) {
  if (rf & 1) {
    const _r1 = ɵɵgetCurrentView();
    ɵɵelementStart(0, "div", 4)(1, "div", 5)(2, "h3", 6);
    ɵɵtext(3, "主题色");
    ɵɵelementEnd();
    ɵɵrepeaterCreate(4, SettingDrawerComponent_div_1_For_5_Template, 2, 6, "span", 7, ɵɵrepeaterTrackByIndex);
    ɵɵelementEnd();
    ɵɵelement(6, "nz-divider");
    ɵɵelementStart(7, "div", 8)(8, "h3", 6);
    ɵɵtext(9, "设置");
    ɵɵelementEnd();
    ɵɵelementStart(10, "nz-tabs")(11, "nz-tab", 9)(12, "div", 8);
    ɵɵelement(13, "setting-drawer-item", 10)(14, "setting-drawer-item", 10)(15, "setting-drawer-item", 10);
    ɵɵelementEnd()();
    ɵɵelementStart(16, "nz-tab", 11);
    ɵɵelement(17, "setting-drawer-item", 10)(18, "setting-drawer-item", 10)(19, "setting-drawer-item", 10)(20, "setting-drawer-item", 10);
    ɵɵelementEnd();
    ɵɵelementStart(21, "nz-tab", 12);
    ɵɵelement(22, "setting-drawer-item", 10)(23, "setting-drawer-item", 10)(24, "setting-drawer-item", 10)(25, "setting-drawer-item", 10);
    ɵɵelementEnd();
    ɵɵelementStart(26, "nz-tab", 13);
    ɵɵelement(27, "setting-drawer-item", 10)(28, "setting-drawer-item", 10)(29, "setting-drawer-item", 10)(30, "setting-drawer-item", 10)(31, "setting-drawer-item", 10)(32, "setting-drawer-item", 10);
    ɵɵelementEnd()()();
    ɵɵelement(33, "nz-divider");
    ɵɵelementStart(34, "div", 8)(35, "div", 14);
    ɵɵtext(36, " 固定头和侧边栏 ");
    ɵɵelementStart(37, "nz-switch", 15);
    ɵɵtwoWayListener("ngModelChange", function SettingDrawerComponent_div_1_Template_nz_switch_ngModelChange_37_listener($event) {
      ɵɵrestoreView(_r1);
      const ctx_r3 = ɵɵnextContext();
      ɵɵtwoWayBindingSet(ctx_r3.layout.fixed, $event) || (ctx_r3.layout.fixed = $event);
      return ɵɵresetView($event);
    });
    ɵɵlistener("ngModelChange", function SettingDrawerComponent_div_1_Template_nz_switch_ngModelChange_37_listener() {
      ɵɵrestoreView(_r1);
      const ctx_r3 = ɵɵnextContext();
      return ɵɵresetView(ctx_r3.setLayout("fixed", ctx_r3.layout.fixed));
    });
    ɵɵelementEnd()();
    ɵɵelementStart(38, "div", 14);
    ɵɵtext(39, " 色弱模式 ");
    ɵɵelementStart(40, "nz-switch", 15);
    ɵɵtwoWayListener("ngModelChange", function SettingDrawerComponent_div_1_Template_nz_switch_ngModelChange_40_listener($event) {
      ɵɵrestoreView(_r1);
      const ctx_r3 = ɵɵnextContext();
      ɵɵtwoWayBindingSet(ctx_r3.layout.colorWeak, $event) || (ctx_r3.layout.colorWeak = $event);
      return ɵɵresetView($event);
    });
    ɵɵlistener("ngModelChange", function SettingDrawerComponent_div_1_Template_nz_switch_ngModelChange_40_listener() {
      ɵɵrestoreView(_r1);
      const ctx_r3 = ɵɵnextContext();
      return ɵɵresetView(ctx_r3.setLayout("colorWeak", ctx_r3.layout.colorWeak));
    });
    ɵɵelementEnd()()();
    ɵɵelement(41, "nz-divider");
    ɵɵelementStart(42, "button", 16);
    ɵɵlistener("click", function SettingDrawerComponent_div_1_Template_button_click_42_listener() {
      ɵɵrestoreView(_r1);
      const ctx_r3 = ɵɵnextContext();
      return ɵɵresetView(ctx_r3.apply());
    });
    ɵɵtext(43, "预览");
    ɵɵelementEnd();
    ɵɵelementStart(44, "button", 17);
    ɵɵlistener("click", function SettingDrawerComponent_div_1_Template_button_click_44_listener() {
      ɵɵrestoreView(_r1);
      const ctx_r3 = ɵɵnextContext();
      return ɵɵresetView(ctx_r3.reset());
    });
    ɵɵtext(45, "重置");
    ɵɵelementEnd();
    ɵɵelementStart(46, "button", 17);
    ɵɵlistener("click", function SettingDrawerComponent_div_1_Template_button_click_46_listener() {
      ɵɵrestoreView(_r1);
      const ctx_r3 = ɵɵnextContext();
      return ɵɵresetView(ctx_r3.copyVar());
    });
    ɵɵtext(47, "拷贝");
    ɵɵelementEnd();
    ɵɵelement(48, "nz-alert", 18);
    ɵɵelementEnd();
  }
  if (rf & 2) {
    const ctx_r3 = ɵɵnextContext();
    ɵɵadvance(4);
    ɵɵrepeater(ctx_r3.colors);
    ɵɵadvance(9);
    ɵɵproperty("data", ctx_r3.data["alain-default-header-hg"]);
    ɵɵadvance();
    ɵɵproperty("data", ctx_r3.data["alain-default-header-bg"]);
    ɵɵadvance();
    ɵɵproperty("data", ctx_r3.data["alain-default-header-padding"]);
    ɵɵadvance(2);
    ɵɵproperty("data", ctx_r3.data["alain-default-aside-wd"]);
    ɵɵadvance();
    ɵɵproperty("data", ctx_r3.data["alain-default-aside-bg"]);
    ɵɵadvance();
    ɵɵproperty("data", ctx_r3.data["alain-default-aside-collapsed-wd"]);
    ɵɵadvance();
    ɵɵproperty("data", ctx_r3.data["alain-default-aside-nav-padding-top-bottom"]);
    ɵɵadvance(2);
    ɵɵproperty("data", ctx_r3.data["alain-default-content-bg"]);
    ɵɵadvance();
    ɵɵproperty("data", ctx_r3.data["alain-default-content-heading-bg"]);
    ɵɵadvance();
    ɵɵproperty("data", ctx_r3.data["alain-default-content-heading-border"]);
    ɵɵadvance();
    ɵɵproperty("data", ctx_r3.data["alain-default-content-padding"]);
    ɵɵadvance(2);
    ɵɵproperty("data", ctx_r3.data["form-state-visual-feedback-enabled"]);
    ɵɵadvance();
    ɵɵproperty("data", ctx_r3.data["preserve-white-spaces-enabled"]);
    ɵɵadvance();
    ɵɵproperty("data", ctx_r3.data["nz-table-img-radius"]);
    ɵɵadvance();
    ɵɵproperty("data", ctx_r3.data["nz-table-img-margin-right"]);
    ɵɵadvance();
    ɵɵproperty("data", ctx_r3.data["nz-table-img-max-width"]);
    ɵɵadvance();
    ɵɵproperty("data", ctx_r3.data["nz-table-img-max-height"]);
    ɵɵadvance(5);
    ɵɵtwoWayProperty("ngModel", ctx_r3.layout.fixed);
    ɵɵadvance(3);
    ɵɵtwoWayProperty("ngModel", ctx_r3.layout.colorWeak);
  }
}
var SettingDrawerItemComponent = class _SettingDrawerItemComponent {
  i = {};
  set data(val) {
    this.i = val;
    if (val.type === "px") {
      this.pxVal = +val.value.replace("px", "");
    }
  }
  pxVal = 0;
  pxChange(val) {
    this.i.value = `${val}px`;
  }
  format = (value) => `${value} px`;
  static ɵfac = function SettingDrawerItemComponent_Factory(__ngFactoryType__) {
    return new (__ngFactoryType__ || _SettingDrawerItemComponent)();
  };
  static ɵcmp = ɵɵdefineComponent({
    type: _SettingDrawerItemComponent,
    selectors: [["setting-drawer-item"]],
    hostVars: 2,
    hostBindings: function SettingDrawerItemComponent_HostBindings(rf, ctx) {
      if (rf & 2) {
        ɵɵclassProp("setting-drawer__body-item", true);
      }
    },
    inputs: {
      data: "data"
    },
    decls: 9,
    vars: 3,
    consts: [[1, "pl-sm", "text-grey"], ["nz-input", "", "type", "color", 2, "width", "88px", 3, "ngModel", "ngModelOptions"], ["nz-input", "", 2, "width", "88px", 3, "ngModel", "ngModelOptions"], [3, "ngModel", "nzMin", "nzMax", "nzStep", "nzFormatter"], ["nzSize", "small", 3, "ngModel", "ngModelOptions"], ["nzDrawerContent", ""], ["nz-input", "", "type", "color", 2, "width", "88px", 3, "ngModelChange", "ngModel", "ngModelOptions"], ["nz-input", "", 2, "width", "88px", 3, "ngModelChange", "ngModel", "ngModelOptions"], [3, "ngModelChange", "ngModel", "nzMin", "nzMax", "nzStep", "nzFormatter"], ["nzSize", "small", 3, "ngModelChange", "ngModel", "ngModelOptions"]],
    template: function SettingDrawerItemComponent_Template(rf, ctx) {
      if (rf & 1) {
        ɵɵelementStart(0, "span");
        ɵɵtext(1);
        ɵɵelementStart(2, "span", 0);
        ɵɵtext(3);
        ɵɵelementEnd()();
        ɵɵconditionalCreate(4, SettingDrawerItemComponent_Case_4_Template, 1, 3, "input", 1)(5, SettingDrawerItemComponent_Case_5_Template, 1, 3, "input", 2)(6, SettingDrawerItemComponent_Case_6_Template, 1, 5, "nz-input-number", 3)(7, SettingDrawerItemComponent_Case_7_Template, 1, 3, "nz-switch", 4)(8, SettingDrawerItemComponent_Case_8_Template, 1, 0, null, 5);
      }
      if (rf & 2) {
        let tmp_2_0;
        ɵɵadvance();
        ɵɵtextInterpolate1(" ", ctx.i.label, " ");
        ɵɵadvance(2);
        ɵɵtextInterpolate(ctx.i.tip);
        ɵɵadvance();
        ɵɵconditional((tmp_2_0 = ctx.i.type) === "color" ? 4 : tmp_2_0 === "input" ? 5 : tmp_2_0 === "px" ? 6 : tmp_2_0 === "switch" ? 7 : 8);
      }
    },
    dependencies: [FormsModule, DefaultValueAccessor, NgControlStatus, NgModel, NzInputDirective, NzInputNumberComponent, NzSwitchComponent, NzDrawerModule, NzDrawerContentDirective],
    encapsulation: 2
  });
};
(() => {
  (typeof ngDevMode === "undefined" || ngDevMode) && setClassMetadata(SettingDrawerItemComponent, [{
    type: Component,
    args: [{
      selector: "setting-drawer-item",
      host: {
        "[class.setting-drawer__body-item]": "true"
      },
      imports: [FormsModule, NzInputDirective, NzInputNumberComponent, NzSwitchComponent, NzDrawerModule],
      template: `<span>
  {{ i.label }}
  <span class="pl-sm text-grey">{{ i.tip }}</span>
</span>
@switch (i.type) {
  @case ('color') {
    <input nz-input type="color" style="width: 88px" [(ngModel)]="i.value" [ngModelOptions]="{ standalone: true }" />
  }
  @case ('input') {
    <input nz-input style="width: 88px" [(ngModel)]="i.value" [ngModelOptions]="{ standalone: true }" />
  }
  @case ('px') {
    <nz-input-number
      [(ngModel)]="pxVal"
      (ngModelChange)="pxChange($event)"
      [nzMin]="i.min"
      [nzMax]="i.max"
      [nzStep]="i.step || 2"
      [nzFormatter]="format"
    />
  }
  @case ('switch') {
    <nz-switch nzSize="small" [(ngModel)]="i.value" [ngModelOptions]="{ standalone: true }" />
  }
  @default {
    <ng-template nzDrawerContent />
  }
}
`
    }]
  }], null, {
    data: [{
      type: Input
    }]
  });
})();
var ALAINDEFAULTVAR = "alain-default-vars";
var DEFAULT_COLORS = [{
  key: "dust",
  color: "#F5222D"
}, {
  key: "volcano",
  color: "#FA541C"
}, {
  key: "sunset",
  color: "#FAAD14"
}, {
  key: "cyan",
  color: "#13C2C2"
}, {
  key: "green",
  color: "#52C41A"
}, {
  key: "daybreak",
  color: "#1890ff"
}, {
  key: "geekblue",
  color: "#2F54EB"
}, {
  key: "purple",
  color: "#722ED1"
}, {
  key: "black",
  color: "#001529"
}];
var DEFAULT_VARS = {
  "primary-color": {
    label: "主颜色",
    type: "color",
    default: "#1890ff"
  },
  "alain-default-header-hg": {
    label: "高",
    type: "px",
    default: "64px",
    max: 300,
    min: 24
  },
  "alain-default-header-bg": {
    label: "背景色",
    type: "color",
    default: "@primary-color",
    tip: "默认同主色系"
  },
  "alain-default-header-padding": {
    label: "顶部左右内边距",
    type: "px",
    default: "16px"
  },
  // 侧边栏
  "alain-default-aside-wd": {
    label: "宽度",
    type: "px",
    default: "200px"
  },
  "alain-default-aside-bg": {
    label: "背景",
    type: "color",
    default: "#ffffff"
  },
  "alain-default-aside-collapsed-wd": {
    label: "收缩宽度",
    type: "px",
    default: "64px"
  },
  "alain-default-aside-nav-padding-top-bottom": {
    label: "项上下内边距",
    type: "px",
    default: "8px",
    step: 8
  },
  // 主菜单
  "alain-default-aside-nav-fs": {
    label: "菜单字号",
    type: "px",
    default: "14px",
    min: 14,
    max: 30
  },
  "alain-default-aside-collapsed-nav-fs": {
    label: "收缩菜单字号",
    type: "px",
    default: "24px",
    min: 24,
    max: 32
  },
  "alain-default-aside-nav-item-height": {
    label: "菜单项高度",
    type: "px",
    default: "38px",
    min: 24,
    max: 64
  },
  "alain-default-aside-nav-text-color": {
    label: "菜单文本颜色",
    type: "color",
    default: "rgba(0, 0, 0, 0.65)",
    rgba: true
  },
  "alain-default-aside-nav-text-hover-color": {
    label: "菜单文本悬停颜色",
    type: "color",
    default: "@primary-color",
    tip: "默认同主色系"
  },
  "alain-default-aside-nav-group-text-color": {
    label: "菜单分组文本颜色",
    type: "color",
    default: "rgba(0, 0, 0, 0.43)",
    rgba: true
  },
  "alain-default-aside-nav-selected-text-color": {
    label: "菜单激活时文本颜色",
    type: "color",
    default: "@primary-color",
    tip: "默认同主色系"
  },
  "alain-default-aside-nav-selected-bg": {
    label: "菜单激活时背景颜色",
    type: "color",
    default: "#fcfcfc"
  },
  // 内容
  "alain-default-content-bg": {
    label: "背景色",
    type: "color",
    default: "#f5f7fa"
  },
  "alain-default-content-heading-bg": {
    label: "标题背景色",
    type: "color",
    default: "#fafbfc"
  },
  "alain-default-content-heading-border": {
    label: "标题底部边框色",
    type: "color",
    default: "#efe3e5"
  },
  "alain-default-content-padding": {
    label: "内边距",
    type: "px",
    default: "24px",
    min: 0,
    max: 128,
    step: 8
  },
  // zorro组件修正
  "form-state-visual-feedback-enabled": {
    label: "开启表单元素的视觉反馈",
    type: "switch",
    default: true
  },
  "preserve-white-spaces-enabled": {
    label: "开启 preserveWhitespaces",
    type: "switch",
    default: true
  },
  "nz-table-img-radius": {
    label: "表格中：图片圆角",
    type: "px",
    default: "4px",
    min: 0,
    max: 128
  },
  "nz-table-img-margin-right": {
    label: "表格中：图片右外边距",
    type: "px",
    default: "4px",
    min: 0,
    max: 128
  },
  "nz-table-img-max-width": {
    label: "表格中：图片最大宽度",
    type: "px",
    default: "32px",
    min: 8,
    max: 128
  },
  "nz-table-img-max-height": {
    label: "表格中：图片最大高度",
    type: "px",
    default: "32px",
    min: 8,
    max: 128
  }
};
var SettingDrawerComponent = class _SettingDrawerComponent {
  cdr = inject(ChangeDetectorRef);
  msg = inject(NzMessageService);
  settingSrv = inject(SettingsService);
  lazy = inject(LazyService);
  ngZone = inject(NgZone);
  doc = inject(DOCUMENT);
  autoApplyColor = true;
  compilingText = "Compiling...";
  devTips = `When the color can't be switched, you need to run it once: npm run color-less`;
  lessJs = "https://cdn.jsdelivr.net/npm/less";
  loadedLess = false;
  dir = inject(Directionality).valueSignal;
  isDev = isDevMode();
  collapse = false;
  get layout() {
    return this.settingSrv.layout;
  }
  data = {};
  color;
  colors = DEFAULT_COLORS;
  constructor() {
    this.color = this.cachedData["@primary-color"] || this.DEFAULT_PRIMARY;
    this.resetData(this.cachedData, false);
  }
  get cachedData() {
    return this.settingSrv.layout[ALAINDEFAULTVAR] || {};
  }
  get DEFAULT_PRIMARY() {
    return DEFAULT_VARS["primary-color"].default;
  }
  ngOnInit() {
    if (this.autoApplyColor && this.color !== this.DEFAULT_PRIMARY) {
      this.changeColor(this.color);
      this.runLess();
    }
  }
  loadLess() {
    return __async(this, null, function* () {
      if (this.loadedLess) {
        return Promise.resolve();
      }
      return this.lazy.loadStyle("./assets/color.less", {
        rel: "stylesheet/less"
      }).then(() => {
        const lessConfigNode = this.doc.createElement("script");
        lessConfigNode.innerHTML = `
          window.less = {
            async: true,
            env: 'production',
            javascriptEnabled: true
          };
        `;
        this.doc.body.appendChild(lessConfigNode);
      }).then(() => this.lazy.loadScript(this.lessJs)).then(() => {
        this.loadedLess = true;
      });
    });
  }
  genVars() {
    const {
      data,
      color,
      validKeys
    } = this;
    const vars = {
      [`@primary-color`]: color
    };
    validKeys.filter((key) => key !== "primary-color").forEach((key) => vars[`@${key}`] = data[key].value);
    this.setLayout(ALAINDEFAULTVAR, vars);
    return vars;
  }
  runLess() {
    const {
      ngZone,
      msg,
      cdr
    } = this;
    const msgId = msg.loading(this.compilingText, {
      nzDuration: 0
    }).messageId;
    setTimeout(() => {
      this.loadLess().then(() => {
        window.less.modifyVars(this.genVars()).then(() => {
          msg.success("成功");
          msg.remove(msgId);
          ngZone.run(() => cdr.detectChanges());
        });
      });
    }, 200);
  }
  toggle() {
    this.collapse = !this.collapse;
  }
  changeColor(color) {
    this.color = color;
    Object.keys(DEFAULT_VARS).filter((key) => DEFAULT_VARS[key].default === "@primary-color").forEach((key) => delete this.cachedData[`@${key}`]);
    this.resetData(this.cachedData, false);
  }
  setLayout(name, value) {
    this.settingSrv.setLayout(name, value);
  }
  resetData(nowData, run = true) {
    nowData = nowData || {};
    const data = deepCopy(DEFAULT_VARS);
    Object.keys(data).forEach((key) => {
      const value = nowData[`@${key}`] || data[key].default || "";
      data[key].value = value === `@primary-color` ? this.color : value;
    });
    this.data = data;
    if (run) {
      this.cdr.detectChanges();
      this.runLess();
    }
  }
  get validKeys() {
    return Object.keys(this.data).filter((key) => this.data[key].value !== this.data[key].default);
  }
  apply() {
    this.runLess();
  }
  reset() {
    this.color = this.DEFAULT_PRIMARY;
    this.settingSrv.setLayout(ALAINDEFAULTVAR, {});
    this.resetData({});
  }
  copyVar() {
    const vars = this.genVars();
    const copyContent = Object.keys(vars).map((key) => `${key}: ${vars[key]};`).join("\n");
    copy(copyContent);
    this.msg.success("Copy success");
  }
  static ɵfac = function SettingDrawerComponent_Factory(__ngFactoryType__) {
    return new (__ngFactoryType__ || _SettingDrawerComponent)();
  };
  static ɵcmp = ɵɵdefineComponent({
    type: _SettingDrawerComponent,
    selectors: [["setting-drawer"]],
    hostVars: 4,
    hostBindings: function SettingDrawerComponent_HostBindings(rf, ctx) {
      if (rf & 2) {
        ɵɵclassProp("setting-drawer", true)("setting-drawer-rtl", ctx.dir() === "rtl");
      }
    },
    inputs: {
      autoApplyColor: [2, "autoApplyColor", "autoApplyColor", booleanAttribute],
      compilingText: "compilingText",
      devTips: "devTips",
      lessJs: "lessJs"
    },
    decls: 4,
    vars: 7,
    consts: [[3, "nzOnClose", "nzVisible", "nzPlacement", "nzWidth"], ["class", "setting-drawer__content", 4, "nzDrawerContent"], ["nz-tooltip", "", 1, "setting-drawer__handle", 3, "click", "nzTooltipTitle"], [1, "setting-drawer__handle-icon", 3, "nzType"], [1, "setting-drawer__content"], [1, "setting-drawer__body", "setting-drawer__theme"], [1, "setting-drawer__title"], ["nz-tooltip", "", 1, "setting-drawer__theme-tag", 3, "style", "nzTooltipTitle"], [1, "setting-drawer__body"], ["nzTitle", "顶部"], [3, "data"], ["nzTitle", "侧边栏"], ["nzTitle", "内容"], ["nzTitle", "其它"], [1, "setting-drawer__body-item"], ["nzSize", "small", 3, "ngModelChange", "ngModel"], ["type", "button", "nz-button", "", "nzType", "primary", 3, "click"], ["type", "button", "nz-button", "", 3, "click"], ["nzType", "warning", "nzMessage", "配置栏只在开发环境用于预览，生产环境不会展现，请拷贝后手动修改参数配置文件 src/styles/theme.less", 1, "mt-md"], ["nz-tooltip", "", 1, "setting-drawer__theme-tag", 3, "click", "nzTooltipTitle"], ["nzType", "check"]],
    template: function SettingDrawerComponent_Template(rf, ctx) {
      if (rf & 1) {
        ɵɵelementStart(0, "nz-drawer", 0);
        ɵɵlistener("nzOnClose", function SettingDrawerComponent_Template_nz_drawer_nzOnClose_0_listener() {
          return ctx.toggle();
        });
        ɵɵtemplate(1, SettingDrawerComponent_div_1_Template, 49, 19, "div", 1);
        ɵɵelementEnd();
        ɵɵelementStart(2, "div", 2);
        ɵɵlistener("click", function SettingDrawerComponent_Template_div_click_2_listener() {
          return ctx.toggle();
        });
        ɵɵelement(3, "nz-icon", 3);
        ɵɵelementEnd();
      }
      if (rf & 2) {
        ɵɵproperty("nzVisible", ctx.collapse)("nzPlacement", ctx.dir() === "rtl" ? "left" : "right")("nzWidth", 500);
        ɵɵadvance(2);
        ɵɵclassProp("setting-drawer__handle-opened", ctx.collapse);
        ɵɵproperty("nzTooltipTitle", ctx.isDev ? ctx.devTips : null);
        ɵɵadvance();
        ɵɵproperty("nzType", !ctx.collapse ? "setting" : "close");
      }
    },
    dependencies: [FormsModule, NgControlStatus, NgModel, NzDrawerModule, NzDrawerComponent, NzDrawerContentDirective, NzTooltipDirective, NzIconDirective, NzDividerModule, NzDividerComponent, NzTabsModule, NzTabsComponent, NzTabComponent, SettingDrawerItemComponent, NzSwitchModule, NzSwitchComponent, NzButtonComponent, NzAlertComponent],
    encapsulation: 2,
    changeDetection: 0
  });
};
__decorate([ZoneOutside()], SettingDrawerComponent.prototype, "loadLess", null);
__decorate([ZoneOutside()], SettingDrawerComponent.prototype, "runLess", null);
(() => {
  (typeof ngDevMode === "undefined" || ngDevMode) && setClassMetadata(SettingDrawerComponent, [{
    type: Component,
    args: [{
      selector: "setting-drawer",
      host: {
        "[class.setting-drawer]": "true",
        "[class.setting-drawer-rtl]": `dir() === 'rtl'`
      },
      changeDetection: ChangeDetectionStrategy.OnPush,
      imports: [FormsModule, NzDrawerModule, NzTooltipDirective, NzIconDirective, NzDividerModule, NzTabsModule, SettingDrawerItemComponent, NzSwitchModule, NzButtonComponent, NzAlertComponent],
      template: `<nz-drawer
  [nzVisible]="collapse"
  [nzPlacement]="dir() === 'rtl' ? 'left' : 'right'"
  [nzWidth]="500"
  (nzOnClose)="toggle()"
>
  <div *nzDrawerContent class="setting-drawer__content">
    <div class="setting-drawer__body setting-drawer__theme">
      <h3 class="setting-drawer__title">主题色</h3>
      @for (c of colors; track $index) {
        <span
          [style]="{ 'background-color': c.color }"
          (click)="changeColor(c.color)"
          nz-tooltip
          [nzTooltipTitle]="c.key"
          class="setting-drawer__theme-tag"
        >
          @if (color === c.color) {
            <nz-icon nzType="check" />
          }
        </span>
      }
    </div>
    <nz-divider />
    <div class="setting-drawer__body">
      <h3 class="setting-drawer__title">设置</h3>
      <nz-tabs>
        <nz-tab nzTitle="顶部">
          <div class="setting-drawer__body">
            <setting-drawer-item [data]="data['alain-default-header-hg']" />
            <setting-drawer-item [data]="data['alain-default-header-bg']" />
            <setting-drawer-item [data]="data['alain-default-header-padding']" />
          </div>
        </nz-tab>
        <nz-tab nzTitle="侧边栏">
          <setting-drawer-item [data]="data['alain-default-aside-wd']" />
          <setting-drawer-item [data]="data['alain-default-aside-bg']" />
          <setting-drawer-item [data]="data['alain-default-aside-collapsed-wd']" />
          <setting-drawer-item [data]="data['alain-default-aside-nav-padding-top-bottom']" />
        </nz-tab>
        <nz-tab nzTitle="内容">
          <setting-drawer-item [data]="data['alain-default-content-bg']" />
          <setting-drawer-item [data]="data['alain-default-content-heading-bg']" />
          <setting-drawer-item [data]="data['alain-default-content-heading-border']" />
          <setting-drawer-item [data]="data['alain-default-content-padding']" />
        </nz-tab>
        <nz-tab nzTitle="其它">
          <setting-drawer-item [data]="data['form-state-visual-feedback-enabled']" />
          <setting-drawer-item [data]="data['preserve-white-spaces-enabled']" />
          <setting-drawer-item [data]="data['nz-table-img-radius']" />
          <setting-drawer-item [data]="data['nz-table-img-margin-right']" />
          <setting-drawer-item [data]="data['nz-table-img-max-width']" />
          <setting-drawer-item [data]="data['nz-table-img-max-height']" />
        </nz-tab>
      </nz-tabs>
    </div>
    <nz-divider />
    <div class="setting-drawer__body">
      <div class="setting-drawer__body-item">
        固定头和侧边栏
        <nz-switch nzSize="small" [(ngModel)]="layout.fixed" (ngModelChange)="setLayout('fixed', layout.fixed)" />
      </div>
      <div class="setting-drawer__body-item">
        色弱模式
        <nz-switch
          nzSize="small"
          [(ngModel)]="layout.colorWeak"
          (ngModelChange)="setLayout('colorWeak', layout.colorWeak)"
        />
      </div>
    </div>
    <nz-divider />
    <button (click)="apply()" type="button" nz-button nzType="primary">预览</button>
    <button (click)="reset()" type="button" nz-button>重置</button>
    <button (click)="copyVar()" type="button" nz-button>拷贝</button>
    <nz-alert
      class="mt-md"
      nzType="warning"
      nzMessage="配置栏只在开发环境用于预览，生产环境不会展现，请拷贝后手动修改参数配置文件 src/styles/theme.less"
    />
  </div>
</nz-drawer>
<div
  class="setting-drawer__handle"
  [class.setting-drawer__handle-opened]="collapse"
  (click)="toggle()"
  nz-tooltip
  [nzTooltipTitle]="isDev ? devTips : null"
>
  <nz-icon [nzType]="!collapse ? 'setting' : 'close'" class="setting-drawer__handle-icon" />
</div>
`
    }]
  }], () => [], {
    autoApplyColor: [{
      type: Input,
      args: [{
        transform: booleanAttribute
      }]
    }],
    compilingText: [{
      type: Input
    }],
    devTips: [{
      type: Input
    }],
    lessJs: [{
      type: Input
    }],
    loadLess: [],
    runLess: []
  });
})();
var COMPONENTS = [SettingDrawerItemComponent, SettingDrawerComponent];
var SettingDrawerModule = class _SettingDrawerModule {
  static ɵfac = function SettingDrawerModule_Factory(__ngFactoryType__) {
    return new (__ngFactoryType__ || _SettingDrawerModule)();
  };
  static ɵmod = ɵɵdefineNgModule({
    type: _SettingDrawerModule,
    imports: [SettingDrawerItemComponent, SettingDrawerComponent],
    exports: [SettingDrawerItemComponent, SettingDrawerComponent]
  });
  static ɵinj = ɵɵdefineInjector({
    imports: [COMPONENTS]
  });
};
(() => {
  (typeof ngDevMode === "undefined" || ngDevMode) && setClassMetadata(SettingDrawerModule, [{
    type: NgModule,
    args: [{
      imports: COMPONENTS,
      exports: COMPONENTS
    }]
  }], null, null);
})();
export {
  SettingDrawerComponent,
  SettingDrawerItemComponent,
  SettingDrawerModule
};
//# sourceMappingURL=@delon_theme_setting-drawer.js.map
