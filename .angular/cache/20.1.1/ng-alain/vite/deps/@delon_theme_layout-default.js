import {
  NzMessageService
} from "./chunk-HCEGIQOO.js";
import {
  ZoneOutside
} from "./chunk-RPM77CK6.js";
import {
  NzAvatarModule
} from "./chunk-XIWRGLZF.js";
import {
  NzDropDownModule
} from "./chunk-6Y4KUKOA.js";
import "./chunk-IIASACYA.js";
import {
  WINDOW
} from "./chunk-B3BRWWTU.js";
import {
  NzBadgeComponent,
  NzBadgeModule
} from "./chunk-D4M6RSJC.js";
import "./chunk-XPEPFKNH.js";
import {
  NzTooltipDirective,
  NzTooltipModule
} from "./chunk-4P4HHPBT.js";
import {
  updateHostClass
} from "./chunk-KZXCIQZH.js";
import {
  MenuService,
  SettingsService
} from "./chunk-WLPEXMS5.js";
import "./chunk-V4XBV55A.js";
import "./chunk-ZTNECFVY.js";
import "./chunk-VCVGLQF3.js";
import "./chunk-HGGVII4K.js";
import "./chunk-C2DAT26Y.js";
import "./chunk-MKB5HFAJ.js";
import "./chunk-KEGEU5UL.js";
import "./chunk-FBEQODFK.js";
import "./chunk-HXEEJHXJ.js";
import "./chunk-QYDDKLT3.js";
import {
  BreakpointObserver
} from "./chunk-LE4RSIF3.js";
import "./chunk-SQJ77OAJ.js";
import "./chunk-QZQ7SHKY.js";
import "./chunk-BHH4M3PU.js";
import "./chunk-2BDLX2FQ.js";
import "./chunk-C6MTXAAB.js";
import "./chunk-U5VATZ4Q.js";
import "./chunk-EGGX2FJX.js";
import "./chunk-76DJI4FU.js";
import "./chunk-MIQKVNBS.js";
import "./chunk-RH5RXJTD.js";
import "./chunk-Y5G3O3B7.js";
import "./chunk-ES4WNO3Q.js";
import "./chunk-XMKNXNVX.js";
import {
  NzIconDirective,
  NzIconModule
} from "./chunk-GP3H6RZA.js";
import "./chunk-OAOHUKFD.js";
import "./chunk-BQ76GOFF.js";
import "./chunk-LSG4V6ID.js";
import "./chunk-KG76OIXO.js";
import "./chunk-J25EALHE.js";
import "./chunk-FZ3LGF3I.js";
import "./chunk-LTANXE67.js";
import {
  NavigationCancel,
  NavigationEnd,
  NavigationError,
  RouteConfigLoadEnd,
  RouteConfigLoadStart,
  Router,
  RouterLink,
  RouterModule
} from "./chunk-36PX2JTV.js";
import {
  DomSanitizer
} from "./chunk-BVIJPY5U.js";
import "./chunk-ZO4CS3CJ.js";
import {
  takeUntilDestroyed
} from "./chunk-I75K2H66.js";
import "./chunk-CQHDL44S.js";
import "./chunk-NDRILP3E.js";
import "./chunk-2WJ2IEY4.js";
import "./chunk-4NJAG2UW.js";
import "./chunk-IH6YTMYU.js";
import "./chunk-D4QSWQD6.js";
import "./chunk-NFHVISCS.js";
import {
  Directionality
} from "./chunk-TBGMZLZ3.js";
import "./chunk-GIT7CFOZ.js";
import {
  CommonModule,
  NgTemplateOutlet
} from "./chunk-GUTSRBNM.js";
import "./chunk-FTJJFYDV.js";
import {
  ChangeDetectionStrategy,
  ChangeDetectorRef,
  Component,
  ContentChildren,
  Directive,
  ElementRef,
  EventEmitter,
  Injectable,
  Input,
  NgModule,
  NgZone,
  Output,
  Renderer2,
  ViewChild,
  ViewEncapsulation,
  booleanAttribute,
  numberAttribute,
  setClassMetadata,
  ɵɵadvance,
  ɵɵattribute,
  ɵɵclassMap,
  ɵɵclassProp,
  ɵɵconditional,
  ɵɵconditionalCreate,
  ɵɵcontentQuery,
  ɵɵdefineComponent,
  ɵɵdefineDirective,
  ɵɵdefineNgModule,
  ɵɵelement,
  ɵɵelementContainer,
  ɵɵelementEnd,
  ɵɵelementStart,
  ɵɵgetCurrentView,
  ɵɵinterpolate1,
  ɵɵlistener,
  ɵɵloadQuery,
  ɵɵnextContext,
  ɵɵprojection,
  ɵɵprojectionDef,
  ɵɵproperty,
  ɵɵpureFunction1,
  ɵɵqueryRefresh,
  ɵɵreference,
  ɵɵrepeater,
  ɵɵrepeaterCreate,
  ɵɵrepeaterTrackByIndex,
  ɵɵresolveDocument,
  ɵɵsanitizeHtml,
  ɵɵsanitizeUrl,
  ɵɵstyleProp,
  ɵɵtemplate,
  ɵɵtemplateRefExtractor,
  ɵɵviewQuery
} from "./chunk-NQBXVTYU.js";
import {
  DOCUMENT,
  DestroyRef,
  inject,
  ɵɵdefineInjectable,
  ɵɵdefineInjector,
  ɵɵresetView,
  ɵɵrestoreView
} from "./chunk-QZDSTGXI.js";
import "./chunk-KMLKBNXJ.js";
import "./chunk-Q4VD2BBX.js";
import {
  BehaviorSubject,
  __decorate,
  filter
} from "./chunk-EBAU53KC.js";
import {
  __spreadValues
} from "./chunk-7CE4I3X6.js";

// node_modules/@delon/theme/fesm2022/layout-default.mjs
var _c0 = ["host"];
var _c1 = ["*"];
function LayoutDefaultHeaderItemComponent_ng_template_0_Template(rf, ctx) {
  if (rf & 1) {
    ɵɵprojection(0);
  }
}
var _c2 = (a0) => ({
  $implicit: a0
});
function LayoutDefaultNavComponent_ng_template_0_Conditional_0_Case_0_Template(rf, ctx) {
  if (rf & 1) {
    ɵɵelement(0, "nz-icon", 3);
  }
  if (rf & 2) {
    const i_r1 = ɵɵnextContext(2).$implicit;
    ɵɵproperty("nzType", i_r1.value)("nzTheme", i_r1.theme)("nzSpin", i_r1.spin)("nzTwotoneColor", i_r1.twoToneColor)("nzIconfont", i_r1.iconfont)("nzRotate", i_r1.rotate);
  }
}
function LayoutDefaultNavComponent_ng_template_0_Conditional_0_Case_1_Template(rf, ctx) {
  if (rf & 1) {
    ɵɵelement(0, "nz-icon", 4);
  }
  if (rf & 2) {
    const i_r1 = ɵɵnextContext(2).$implicit;
    ɵɵproperty("nzIconfont", i_r1.iconfont);
  }
}
function LayoutDefaultNavComponent_ng_template_0_Conditional_0_Case_2_Template(rf, ctx) {
  if (rf & 1) {
    ɵɵelement(0, "img", 5);
  }
  if (rf & 2) {
    const i_r1 = ɵɵnextContext(2).$implicit;
    ɵɵproperty("src", i_r1.value, ɵɵsanitizeUrl);
  }
}
function LayoutDefaultNavComponent_ng_template_0_Conditional_0_Case_3_Template(rf, ctx) {
  if (rf & 1) {
    ɵɵelement(0, "span", 6);
  }
  if (rf & 2) {
    const i_r1 = ɵɵnextContext(2).$implicit;
    ɵɵproperty("innerHTML", i_r1.value, ɵɵsanitizeHtml);
  }
}
function LayoutDefaultNavComponent_ng_template_0_Conditional_0_Case_4_Template(rf, ctx) {
  if (rf & 1) {
    ɵɵelement(0, "i");
  }
  if (rf & 2) {
    const i_r1 = ɵɵnextContext(2).$implicit;
    ɵɵclassMap(ɵɵinterpolate1("sidebar-nav__item-icon ", i_r1.value));
  }
}
function LayoutDefaultNavComponent_ng_template_0_Conditional_0_Template(rf, ctx) {
  if (rf & 1) {
    ɵɵconditionalCreate(0, LayoutDefaultNavComponent_ng_template_0_Conditional_0_Case_0_Template, 1, 6, "nz-icon", 3)(1, LayoutDefaultNavComponent_ng_template_0_Conditional_0_Case_1_Template, 1, 1, "nz-icon", 4)(2, LayoutDefaultNavComponent_ng_template_0_Conditional_0_Case_2_Template, 1, 1, "img", 5)(3, LayoutDefaultNavComponent_ng_template_0_Conditional_0_Case_3_Template, 1, 1, "span", 6)(4, LayoutDefaultNavComponent_ng_template_0_Conditional_0_Case_4_Template, 1, 3, "i", 7);
  }
  if (rf & 2) {
    let tmp_5_0;
    const i_r1 = ɵɵnextContext().$implicit;
    ɵɵconditional((tmp_5_0 = i_r1.type) === "icon" ? 0 : tmp_5_0 === "iconfont" ? 1 : tmp_5_0 === "img" ? 2 : tmp_5_0 === "svg" ? 3 : 4);
  }
}
function LayoutDefaultNavComponent_ng_template_0_Template(rf, ctx) {
  if (rf & 1) {
    ɵɵconditionalCreate(0, LayoutDefaultNavComponent_ng_template_0_Conditional_0_Template, 5, 1);
  }
  if (rf & 2) {
    const i_r1 = ctx.$implicit;
    ɵɵconditional(i_r1 ? 0 : -1);
  }
}
function LayoutDefaultNavComponent_ng_template_2_For_1_Conditional_0_Conditional_0_Template(rf, ctx) {
  if (rf & 1) {
    ɵɵelement(0, "li", 8);
  }
}
function LayoutDefaultNavComponent_ng_template_2_For_1_Conditional_0_Conditional_1_Conditional_1_Conditional_1_Conditional_0_ng_template_1_Template(rf, ctx) {
}
function LayoutDefaultNavComponent_ng_template_2_For_1_Conditional_0_Conditional_1_Conditional_1_Conditional_1_Conditional_0_Template(rf, ctx) {
  if (rf & 1) {
    ɵɵelementStart(0, "span", 16);
    ɵɵtemplate(1, LayoutDefaultNavComponent_ng_template_2_For_1_Conditional_0_Conditional_1_Conditional_1_Conditional_1_Conditional_0_ng_template_1_Template, 0, 0, "ng-template", 17);
    ɵɵelementEnd();
  }
  if (rf & 2) {
    const i_r3 = ɵɵnextContext(5).$implicit;
    ɵɵnextContext(2);
    const icon_r5 = ɵɵreference(1);
    ɵɵproperty("nzTooltipTitle", i_r3.text);
    ɵɵadvance();
    ɵɵproperty("ngTemplateOutlet", icon_r5)("ngTemplateOutletContext", ɵɵpureFunction1(3, _c2, i_r3.icon));
  }
}
function LayoutDefaultNavComponent_ng_template_2_For_1_Conditional_0_Conditional_1_Conditional_1_Conditional_1_Conditional_1_ng_template_0_Template(rf, ctx) {
}
function LayoutDefaultNavComponent_ng_template_2_For_1_Conditional_0_Conditional_1_Conditional_1_Conditional_1_Conditional_1_Template(rf, ctx) {
  if (rf & 1) {
    ɵɵtemplate(0, LayoutDefaultNavComponent_ng_template_2_For_1_Conditional_0_Conditional_1_Conditional_1_Conditional_1_Conditional_1_ng_template_0_Template, 0, 0, "ng-template", 17);
  }
  if (rf & 2) {
    const i_r3 = ɵɵnextContext(5).$implicit;
    ɵɵnextContext(2);
    const icon_r5 = ɵɵreference(1);
    ɵɵproperty("ngTemplateOutlet", icon_r5)("ngTemplateOutletContext", ɵɵpureFunction1(2, _c2, i_r3.icon));
  }
}
function LayoutDefaultNavComponent_ng_template_2_For_1_Conditional_0_Conditional_1_Conditional_1_Conditional_1_Template(rf, ctx) {
  if (rf & 1) {
    ɵɵconditionalCreate(0, LayoutDefaultNavComponent_ng_template_2_For_1_Conditional_0_Conditional_1_Conditional_1_Conditional_1_Conditional_0_Template, 2, 5, "span", 16)(1, LayoutDefaultNavComponent_ng_template_2_For_1_Conditional_0_Conditional_1_Conditional_1_Conditional_1_Conditional_1_Template, 1, 4, null, 17);
  }
  if (rf & 2) {
    const ctx_r3 = ɵɵnextContext(6);
    ɵɵconditional(ctx_r3.collapsed ? 0 : 1);
  }
}
function LayoutDefaultNavComponent_ng_template_2_For_1_Conditional_0_Conditional_1_Conditional_1_Template(rf, ctx) {
  if (rf & 1) {
    const _r2 = ɵɵgetCurrentView();
    ɵɵelementStart(0, "a", 14);
    ɵɵlistener("click", function LayoutDefaultNavComponent_ng_template_2_For_1_Conditional_0_Conditional_1_Conditional_1_Template_a_click_0_listener() {
      ɵɵrestoreView(_r2);
      const i_r3 = ɵɵnextContext(3).$implicit;
      const ctx_r3 = ɵɵnextContext(2);
      return ɵɵresetView(ctx_r3.to(i_r3));
    })("mouseenter", function LayoutDefaultNavComponent_ng_template_2_For_1_Conditional_0_Conditional_1_Conditional_1_Template_a_mouseenter_0_listener() {
      ɵɵrestoreView(_r2);
      const ctx_r3 = ɵɵnextContext(5);
      return ɵɵresetView(ctx_r3.closeSubMenu());
    });
    ɵɵconditionalCreate(1, LayoutDefaultNavComponent_ng_template_2_For_1_Conditional_0_Conditional_1_Conditional_1_Conditional_1_Template, 2, 1);
    ɵɵelement(2, "span", 15);
    ɵɵelementEnd();
  }
  if (rf & 2) {
    const i_r3 = ɵɵnextContext(3).$implicit;
    ɵɵclassProp("sidebar-nav__item-disabled", i_r3.disabled);
    ɵɵattribute("data-id", i_r3._id);
    ɵɵadvance();
    ɵɵconditional(i_r3._needIcon ? 1 : -1);
    ɵɵadvance();
    ɵɵproperty("innerHTML", i_r3._text, ɵɵsanitizeHtml);
    ɵɵattribute("title", i_r3.text);
  }
}
function LayoutDefaultNavComponent_ng_template_2_For_1_Conditional_0_Conditional_1_Conditional_2_ng_template_1_Template(rf, ctx) {
}
function LayoutDefaultNavComponent_ng_template_2_For_1_Conditional_0_Conditional_1_Conditional_2_Template(rf, ctx) {
  if (rf & 1) {
    const _r6 = ɵɵgetCurrentView();
    ɵɵelementStart(0, "a", 14);
    ɵɵlistener("click", function LayoutDefaultNavComponent_ng_template_2_For_1_Conditional_0_Conditional_1_Conditional_2_Template_a_click_0_listener() {
      ɵɵrestoreView(_r6);
      const i_r3 = ɵɵnextContext(3).$implicit;
      const ctx_r3 = ɵɵnextContext(2);
      return ɵɵresetView(ctx_r3.toggleOpen(i_r3));
    })("mouseenter", function LayoutDefaultNavComponent_ng_template_2_For_1_Conditional_0_Conditional_1_Conditional_2_Template_a_mouseenter_0_listener($event) {
      ɵɵrestoreView(_r6);
      const i_r3 = ɵɵnextContext(3).$implicit;
      const ctx_r3 = ɵɵnextContext(2);
      return ɵɵresetView(ctx_r3.showSubMenu($event, i_r3));
    });
    ɵɵtemplate(1, LayoutDefaultNavComponent_ng_template_2_For_1_Conditional_0_Conditional_1_Conditional_2_ng_template_1_Template, 0, 0, "ng-template", 17);
    ɵɵelement(2, "span", 15)(3, "i", 18);
    ɵɵelementEnd();
  }
  if (rf & 2) {
    const i_r3 = ɵɵnextContext(3).$implicit;
    ɵɵnextContext(2);
    const icon_r5 = ɵɵreference(1);
    ɵɵadvance();
    ɵɵproperty("ngTemplateOutlet", icon_r5)("ngTemplateOutletContext", ɵɵpureFunction1(4, _c2, i_r3.icon));
    ɵɵadvance();
    ɵɵproperty("innerHTML", i_r3._text, ɵɵsanitizeHtml);
    ɵɵattribute("title", i_r3.text);
  }
}
function LayoutDefaultNavComponent_ng_template_2_For_1_Conditional_0_Conditional_1_Conditional_3_Template(rf, ctx) {
  if (rf & 1) {
    ɵɵelement(0, "nz-badge", 13);
  }
  if (rf & 2) {
    const i_r3 = ɵɵnextContext(3).$implicit;
    ɵɵproperty("nzCount", i_r3.badge)("nzDot", i_r3.badgeDot)("nzOverflowCount", i_r3.badgeOverflowCount ? i_r3.badgeOverflowCount : 9);
  }
}
function LayoutDefaultNavComponent_ng_template_2_For_1_Conditional_0_Conditional_1_Conditional_4_ng_template_1_Template(rf, ctx) {
}
function LayoutDefaultNavComponent_ng_template_2_For_1_Conditional_0_Conditional_1_Conditional_4_Template(rf, ctx) {
  if (rf & 1) {
    ɵɵelementStart(0, "ul");
    ɵɵtemplate(1, LayoutDefaultNavComponent_ng_template_2_For_1_Conditional_0_Conditional_1_Conditional_4_ng_template_1_Template, 0, 0, "ng-template", 17);
    ɵɵelementEnd();
  }
  if (rf & 2) {
    const i_r3 = ɵɵnextContext(3).$implicit;
    ɵɵnextContext(2);
    const tree_r7 = ɵɵreference(3);
    ɵɵclassMap(ɵɵinterpolate1("sidebar-nav sidebar-nav__sub sidebar-nav__depth", i_r3._depth));
    ɵɵadvance();
    ɵɵproperty("ngTemplateOutlet", tree_r7)("ngTemplateOutletContext", ɵɵpureFunction1(5, _c2, i_r3.children));
  }
}
function LayoutDefaultNavComponent_ng_template_2_For_1_Conditional_0_Conditional_1_Template(rf, ctx) {
  if (rf & 1) {
    ɵɵelementStart(0, "li", 10);
    ɵɵconditionalCreate(1, LayoutDefaultNavComponent_ng_template_2_For_1_Conditional_0_Conditional_1_Conditional_1_Template, 3, 6, "a", 11);
    ɵɵconditionalCreate(2, LayoutDefaultNavComponent_ng_template_2_For_1_Conditional_0_Conditional_1_Conditional_2_Template, 4, 6, "a", 12);
    ɵɵconditionalCreate(3, LayoutDefaultNavComponent_ng_template_2_For_1_Conditional_0_Conditional_1_Conditional_3_Template, 1, 3, "nz-badge", 13);
    ɵɵconditionalCreate(4, LayoutDefaultNavComponent_ng_template_2_For_1_Conditional_0_Conditional_1_Conditional_4_Template, 2, 7, "ul", 7);
    ɵɵelementEnd();
  }
  if (rf & 2) {
    const i_r3 = ɵɵnextContext(2).$implicit;
    ɵɵclassProp("sidebar-nav__selected", i_r3._selected)("sidebar-nav__open", i_r3.open);
    ɵɵadvance();
    ɵɵconditional(i_r3.children.length === 0 ? 1 : -1);
    ɵɵadvance();
    ɵɵconditional(i_r3.children.length > 0 ? 2 : -1);
    ɵɵadvance();
    ɵɵconditional(i_r3.badge ? 3 : -1);
    ɵɵadvance();
    ɵɵconditional(i_r3.children.length > 0 ? 4 : -1);
  }
}
function LayoutDefaultNavComponent_ng_template_2_For_1_Conditional_0_Template(rf, ctx) {
  if (rf & 1) {
    ɵɵconditionalCreate(0, LayoutDefaultNavComponent_ng_template_2_For_1_Conditional_0_Conditional_0_Template, 1, 0, "li", 8)(1, LayoutDefaultNavComponent_ng_template_2_For_1_Conditional_0_Conditional_1_Template, 5, 8, "li", 9);
  }
  if (rf & 2) {
    const i_r3 = ɵɵnextContext().$implicit;
    ɵɵconditional(i_r3.render_type === "divider" ? 0 : 1);
  }
}
function LayoutDefaultNavComponent_ng_template_2_For_1_Template(rf, ctx) {
  if (rf & 1) {
    ɵɵconditionalCreate(0, LayoutDefaultNavComponent_ng_template_2_For_1_Conditional_0_Template, 2, 1);
  }
  if (rf & 2) {
    const i_r3 = ctx.$implicit;
    ɵɵconditional(i_r3._hidden !== true ? 0 : -1);
  }
}
function LayoutDefaultNavComponent_ng_template_2_Template(rf, ctx) {
  if (rf & 1) {
    ɵɵrepeaterCreate(0, LayoutDefaultNavComponent_ng_template_2_For_1_Template, 1, 1, null, null, ɵɵrepeaterTrackByIndex);
  }
  if (rf & 2) {
    const ls_r8 = ctx.$implicit;
    ɵɵrepeater(ls_r8);
  }
}
function LayoutDefaultNavComponent_For_6_Conditional_0_Template(rf, ctx) {
  if (rf & 1) {
    ɵɵelementStart(0, "li", 19);
    ɵɵelement(1, "span", 20);
    ɵɵelementEnd();
  }
  if (rf & 2) {
    const group_r9 = ɵɵnextContext().$implicit;
    ɵɵadvance();
    ɵɵproperty("innerHTML", group_r9._text, ɵɵsanitizeHtml);
  }
}
function LayoutDefaultNavComponent_For_6_ng_template_1_Template(rf, ctx) {
}
function LayoutDefaultNavComponent_For_6_Template(rf, ctx) {
  if (rf & 1) {
    ɵɵconditionalCreate(0, LayoutDefaultNavComponent_For_6_Conditional_0_Template, 2, 1, "li", 19);
    ɵɵtemplate(1, LayoutDefaultNavComponent_For_6_ng_template_1_Template, 0, 0, "ng-template", 17);
  }
  if (rf & 2) {
    const group_r9 = ctx.$implicit;
    ɵɵnextContext();
    const tree_r7 = ɵɵreference(3);
    ɵɵconditional(group_r9.group ? 0 : -1);
    ɵɵadvance();
    ɵɵproperty("ngTemplateOutlet", tree_r7)("ngTemplateOutletContext", ɵɵpureFunction1(3, _c2, group_r9.children));
  }
}
function LayoutDefaultHeaderComponent_ng_template_0_For_1_ng_container_1_Template(rf, ctx) {
  if (rf & 1) {
    ɵɵelementContainer(0);
  }
}
function LayoutDefaultHeaderComponent_ng_template_0_For_1_Template(rf, ctx) {
  if (rf & 1) {
    ɵɵelementStart(0, "li");
    ɵɵtemplate(1, LayoutDefaultHeaderComponent_ng_template_0_For_1_ng_container_1_Template, 1, 0, "ng-container", 8);
    ɵɵelementEnd();
  }
  if (rf & 2) {
    const i_r1 = ctx.$implicit;
    ɵɵclassProp("hidden-mobile", i_r1.hidden === "mobile")("hidden-pc", i_r1.hidden === "pc");
    ɵɵadvance();
    ɵɵproperty("ngTemplateOutlet", i_r1.host);
  }
}
function LayoutDefaultHeaderComponent_ng_template_0_Template(rf, ctx) {
  if (rf & 1) {
    ɵɵrepeaterCreate(0, LayoutDefaultHeaderComponent_ng_template_0_For_1_Template, 2, 5, "li", 7, ɵɵrepeaterTrackByIndex);
  }
  if (rf & 2) {
    const ls_r2 = ctx.$implicit;
    ɵɵrepeater(ls_r2);
  }
}
function LayoutDefaultHeaderComponent_Conditional_3_ng_container_0_Template(rf, ctx) {
  if (rf & 1) {
    ɵɵelementContainer(0);
  }
}
function LayoutDefaultHeaderComponent_Conditional_3_Template(rf, ctx) {
  if (rf & 1) {
    ɵɵtemplate(0, LayoutDefaultHeaderComponent_Conditional_3_ng_container_0_Template, 1, 0, "ng-container", 8);
  }
  if (rf & 2) {
    const ctx_r2 = ɵɵnextContext();
    ɵɵproperty("ngTemplateOutlet", ctx_r2.opt.logo);
  }
}
function LayoutDefaultHeaderComponent_Conditional_4_Template(rf, ctx) {
  if (rf & 1) {
    ɵɵelementStart(0, "a", 2);
    ɵɵelement(1, "img", 9)(2, "img", 10);
    ɵɵelementEnd();
  }
  if (rf & 2) {
    const ctx_r2 = ɵɵnextContext();
    ɵɵproperty("routerLink", ctx_r2.opt.logoLink);
    ɵɵadvance();
    ɵɵattribute("src", ctx_r2.opt.logoExpanded, ɵɵsanitizeUrl)("alt", ctx_r2.app.name);
    ɵɵadvance();
    ɵɵattribute("src", ctx_r2.opt.logoCollapsed, ɵɵsanitizeUrl)("alt", ctx_r2.app.name);
  }
}
function LayoutDefaultHeaderComponent_Conditional_7_Template(rf, ctx) {
  if (rf & 1) {
    const _r4 = ɵɵgetCurrentView();
    ɵɵelementStart(0, "li")(1, "div", 11);
    ɵɵlistener("click", function LayoutDefaultHeaderComponent_Conditional_7_Template_div_click_1_listener() {
      ɵɵrestoreView(_r4);
      const ctx_r2 = ɵɵnextContext();
      return ɵɵresetView(ctx_r2.toggleCollapsed());
    });
    ɵɵelement(2, "nz-icon", 12);
    ɵɵelementEnd()();
  }
  if (rf & 2) {
    const ctx_r2 = ɵɵnextContext();
    ɵɵadvance(2);
    ɵɵproperty("nzType", ctx_r2.collapsedIcon);
  }
}
function LayoutDefaultHeaderComponent_ng_template_8_Template(rf, ctx) {
}
function LayoutDefaultHeaderComponent_Conditional_9_ng_container_1_Template(rf, ctx) {
  if (rf & 1) {
    ɵɵelementContainer(0);
  }
}
function LayoutDefaultHeaderComponent_Conditional_9_Template(rf, ctx) {
  if (rf & 1) {
    ɵɵelementStart(0, "div", 6);
    ɵɵtemplate(1, LayoutDefaultHeaderComponent_Conditional_9_ng_container_1_Template, 1, 0, "ng-container", 8);
    ɵɵelementEnd();
  }
  if (rf & 2) {
    const ctx_r2 = ɵɵnextContext();
    ɵɵadvance();
    ɵɵproperty("ngTemplateOutlet", ctx_r2.middle[0].host);
  }
}
function LayoutDefaultHeaderComponent_ng_template_11_Template(rf, ctx) {
}
function LayoutDefaultComponent_Conditional_0_Template(rf, ctx) {
  if (rf & 1) {
    ɵɵelement(0, "div", 0);
  }
}
function LayoutDefaultComponent_Conditional_1_Template(rf, ctx) {
  if (rf & 1) {
    ɵɵelement(0, "layout-default-header", 1);
  }
  if (rf & 2) {
    const ctx_r0 = ɵɵnextContext();
    ɵɵproperty("items", ctx_r0.headerItems);
  }
}
function LayoutDefaultComponent_Conditional_2_ng_container_3_Template(rf, ctx) {
  if (rf & 1) {
    ɵɵelementContainer(0);
  }
}
function LayoutDefaultComponent_Conditional_2_ng_container_4_Template(rf, ctx) {
  if (rf & 1) {
    ɵɵelementContainer(0);
  }
}
function LayoutDefaultComponent_Conditional_2_Conditional_5_Template(rf, ctx) {
  if (rf & 1) {
    ɵɵelement(0, "layout-default-nav");
  }
}
function LayoutDefaultComponent_Conditional_2_Conditional_6_Conditional_1_ng_container_0_Template(rf, ctx) {
  if (rf & 1) {
    ɵɵelementContainer(0);
  }
}
function LayoutDefaultComponent_Conditional_2_Conditional_6_Conditional_1_Template(rf, ctx) {
  if (rf & 1) {
    ɵɵtemplate(0, LayoutDefaultComponent_Conditional_2_Conditional_6_Conditional_1_ng_container_0_Template, 1, 0, "ng-container", 4);
  }
  if (rf & 2) {
    const ctx_r0 = ɵɵnextContext(3);
    ɵɵproperty("ngTemplateOutlet", ctx_r0.asideBottom);
  }
}
function LayoutDefaultComponent_Conditional_2_Conditional_6_Conditional_2_Template(rf, ctx) {
  if (rf & 1) {
    const _r2 = ɵɵgetCurrentView();
    ɵɵelementStart(0, "div", 9);
    ɵɵlistener("click", function LayoutDefaultComponent_Conditional_2_Conditional_6_Conditional_2_Template_div_click_0_listener() {
      ɵɵrestoreView(_r2);
      const ctx_r0 = ɵɵnextContext(3);
      return ɵɵresetView(ctx_r0.toggleCollapsed());
    });
    ɵɵelement(1, "nz-icon", 10);
    ɵɵelementEnd();
  }
  if (rf & 2) {
    const ctx_r0 = ɵɵnextContext(3);
    ɵɵadvance();
    ɵɵproperty("nzType", ctx_r0.collapsedIcon);
  }
}
function LayoutDefaultComponent_Conditional_2_Conditional_6_Template(rf, ctx) {
  if (rf & 1) {
    ɵɵelementStart(0, "div", 7);
    ɵɵconditionalCreate(1, LayoutDefaultComponent_Conditional_2_Conditional_6_Conditional_1_Template, 1, 1, "ng-container")(2, LayoutDefaultComponent_Conditional_2_Conditional_6_Conditional_2_Template, 2, 1, "div", 8);
    ɵɵelementEnd();
  }
  if (rf & 2) {
    const ctx_r0 = ɵɵnextContext(2);
    ɵɵadvance();
    ɵɵconditional(ctx_r0.asideBottom ? 1 : 2);
  }
}
function LayoutDefaultComponent_Conditional_2_Template(rf, ctx) {
  if (rf & 1) {
    ɵɵelementStart(0, "div", 2)(1, "div", 5)(2, "div", 6);
    ɵɵtemplate(3, LayoutDefaultComponent_Conditional_2_ng_container_3_Template, 1, 0, "ng-container", 4)(4, LayoutDefaultComponent_Conditional_2_ng_container_4_Template, 1, 0, "ng-container", 4);
    ɵɵconditionalCreate(5, LayoutDefaultComponent_Conditional_2_Conditional_5_Template, 1, 0, "layout-default-nav");
    ɵɵelementEnd();
    ɵɵconditionalCreate(6, LayoutDefaultComponent_Conditional_2_Conditional_6_Template, 3, 1, "div", 7);
    ɵɵelementEnd()();
  }
  if (rf & 2) {
    const ctx_r0 = ɵɵnextContext();
    ɵɵadvance(3);
    ɵɵproperty("ngTemplateOutlet", ctx_r0.asideUser);
    ɵɵadvance();
    ɵɵproperty("ngTemplateOutlet", ctx_r0.nav);
    ɵɵadvance();
    ɵɵconditional(!ctx_r0.nav ? 5 : -1);
    ɵɵadvance();
    ɵɵconditional(ctx_r0.opt.showSiderCollapse ? 6 : -1);
  }
}
function LayoutDefaultComponent_ng_container_4_Template(rf, ctx) {
  if (rf & 1) {
    ɵɵelementContainer(0);
  }
}
var LayoutDefaultHeaderItemComponent = class _LayoutDefaultHeaderItemComponent {
  host;
  hidden = "none";
  direction = "right";
  static ɵfac = function LayoutDefaultHeaderItemComponent_Factory(__ngFactoryType__) {
    return new (__ngFactoryType__ || _LayoutDefaultHeaderItemComponent)();
  };
  static ɵcmp = ɵɵdefineComponent({
    type: _LayoutDefaultHeaderItemComponent,
    selectors: [["layout-default-header-item"]],
    viewQuery: function LayoutDefaultHeaderItemComponent_Query(rf, ctx) {
      if (rf & 1) {
        ɵɵviewQuery(_c0, 7);
      }
      if (rf & 2) {
        let _t;
        ɵɵqueryRefresh(_t = ɵɵloadQuery()) && (ctx.host = _t.first);
      }
    },
    inputs: {
      hidden: "hidden",
      direction: "direction"
    },
    standalone: false,
    ngContentSelectors: _c1,
    decls: 2,
    vars: 0,
    consts: [["host", ""]],
    template: function LayoutDefaultHeaderItemComponent_Template(rf, ctx) {
      if (rf & 1) {
        ɵɵprojectionDef();
        ɵɵtemplate(0, LayoutDefaultHeaderItemComponent_ng_template_0_Template, 1, 0, "ng-template", null, 0, ɵɵtemplateRefExtractor);
      }
    },
    encapsulation: 2
  });
};
(() => {
  (typeof ngDevMode === "undefined" || ngDevMode) && setClassMetadata(LayoutDefaultHeaderItemComponent, [{
    type: Component,
    args: [{
      selector: "layout-default-header-item",
      template: `
    <ng-template #host>
      <ng-content />
    </ng-template>
  `,
      // eslint-disable-next-line @angular-eslint/prefer-standalone
      standalone: false
    }]
  }], null, {
    host: [{
      type: ViewChild,
      args: ["host", {
        static: true
      }]
    }],
    hidden: [{
      type: Input
    }],
    direction: [{
      type: Input
    }]
  });
})();
var DEFAULT = {
  logoExpanded: `./assets/logo-full.svg`,
  logoCollapsed: `./assets/logo.svg`,
  logoLink: `/`,
  showHeaderCollapse: true,
  showSiderCollapse: false,
  hideAside: false,
  hideHeader: false
};
var LayoutDefaultService = class _LayoutDefaultService {
  settings = inject(SettingsService);
  bm = inject(BreakpointObserver);
  _options$ = new BehaviorSubject(DEFAULT);
  _options = DEFAULT;
  get options() {
    return this._options;
  }
  get options$() {
    return this._options$.asObservable();
  }
  get collapsedIcon() {
    const collapsed = this.settings.layout.collapsed;
    let type = collapsed ? "unfold" : "fold";
    if (this.settings.layout.direction === "rtl") {
      type = collapsed ? "fold" : "unfold";
    }
    return `menu-${type}`;
  }
  constructor() {
    const mobileMedia = "only screen and (max-width: 767.99px)";
    this.bm.observe(mobileMedia).pipe(takeUntilDestroyed()).subscribe((state) => this.checkMedia(state.matches));
    this.checkMedia(this.bm.isMatched(mobileMedia));
  }
  checkMedia(value) {
    this.settings.setLayout("collapsed", value);
  }
  notify() {
    this._options$.next(this._options);
  }
  /**
   * Set layout configuration
   *
   * 设置布局配置
   */
  setOptions(options) {
    this._options = __spreadValues(__spreadValues({}, DEFAULT), options);
    this.notify();
  }
  /**
   * Toggle the collapsed state of the sidebar menu bar
   *
   * 切换侧边栏菜单栏折叠状态
   */
  toggleCollapsed(status) {
    this.settings.setLayout("collapsed", status != null ? status : !this.settings.layout.collapsed);
    this.notify();
  }
  static ɵfac = function LayoutDefaultService_Factory(__ngFactoryType__) {
    return new (__ngFactoryType__ || _LayoutDefaultService)();
  };
  static ɵprov = ɵɵdefineInjectable({
    token: _LayoutDefaultService,
    factory: _LayoutDefaultService.ɵfac,
    providedIn: "root"
  });
};
(() => {
  (typeof ngDevMode === "undefined" || ngDevMode) && setClassMetadata(LayoutDefaultService, [{
    type: Injectable,
    args: [{
      providedIn: "root"
    }]
  }], () => [], null);
})();
var SHOWCLS = "sidebar-nav__floating-show";
var FLOATINGCLS = "sidebar-nav__floating";
var LayoutDefaultNavComponent = class _LayoutDefaultNavComponent {
  doc = inject(DOCUMENT);
  win = inject(WINDOW);
  router = inject(Router);
  render = inject(Renderer2);
  menuSrv = inject(MenuService);
  settings = inject(SettingsService);
  cdr = inject(ChangeDetectorRef);
  ngZone = inject(NgZone);
  sanitizer = inject(DomSanitizer);
  bodyEl;
  destroy$ = inject(DestroyRef);
  floatingEl;
  dir = inject(Directionality).valueSignal;
  list = [];
  disabledAcl = false;
  autoCloseUnderPad = true;
  recursivePath = true;
  hideEmptyChildren = true;
  set openStrictly(value) {
    this.menuSrv.openStrictly = value;
  }
  maxLevelIcon = 3;
  select = new EventEmitter();
  get collapsed() {
    return this.settings.layout.collapsed;
  }
  getLinkNode(node) {
    node = node.nodeName === "A" ? node : node.parentNode;
    return node.nodeName !== "A" ? null : node;
  }
  floatingClickHandle(e) {
    e.stopPropagation();
    const linkNode = this.getLinkNode(e.target);
    if (linkNode == null) {
      return false;
    }
    const id = +linkNode.dataset.id;
    if (isNaN(id)) {
      return false;
    }
    let item;
    this.menuSrv.visit(this.list, (i) => {
      if (!item && i._id === id) {
        item = i;
      }
    });
    this.to(item);
    this.hideAll();
    e.preventDefault();
    return false;
  }
  clearFloating() {
    if (!this.floatingEl) return;
    this.floatingEl.removeEventListener("click", this.floatingClickHandle.bind(this));
    this.floatingEl.parentNode?.removeChild(this.floatingEl);
  }
  genFloating() {
    this.clearFloating();
    this.floatingEl = this.render.createElement("div");
    this.floatingEl.classList.add(`${FLOATINGCLS}-container`);
    this.floatingEl.addEventListener("click", this.floatingClickHandle.bind(this), false);
    this.bodyEl.appendChild(this.floatingEl);
  }
  genSubNode(linkNode, item) {
    const id = `_sidebar-nav-${item._id}`;
    const childNode = item.badge ? linkNode.nextElementSibling.nextElementSibling : linkNode.nextElementSibling;
    const node = childNode.cloneNode(true);
    node.id = id;
    node.classList.add(FLOATINGCLS);
    node.addEventListener("mouseleave", () => {
      node.classList.remove(SHOWCLS);
    }, false);
    this.floatingEl.appendChild(node);
    return node;
  }
  hideAll() {
    const allNode = this.floatingEl.querySelectorAll(`.${FLOATINGCLS}`);
    allNode.forEach((node) => node.classList.remove(SHOWCLS));
  }
  // calculate the node position values.
  calPos(linkNode, node) {
    const rect = linkNode.getBoundingClientRect();
    const scrollTop = Math.max(this.doc.documentElement.scrollTop, this.bodyEl.scrollTop);
    const docHeight = Math.max(this.doc.documentElement.clientHeight, this.bodyEl.clientHeight);
    const spacing = 5;
    let offsetHeight = -spacing;
    if (docHeight < rect.top + node.clientHeight) {
      offsetHeight = rect.top + node.clientHeight - docHeight + spacing;
    }
    node.style.top = `${rect.top + scrollTop - offsetHeight}px`;
    if (this.dir() === "rtl") {
      node.style.right = `${rect.width + spacing}px`;
    } else {
      node.style.left = `${rect.right + spacing}px`;
    }
  }
  showSubMenu(e, item) {
    if (this.collapsed !== true) {
      return;
    }
    e.preventDefault();
    const linkNode = e.target;
    this.genFloating();
    const subNode = this.genSubNode(linkNode, item);
    this.hideAll();
    subNode.classList.add(SHOWCLS);
    this.calPos(linkNode, subNode);
  }
  to(item) {
    this.select.emit(item);
    if (item.disabled) return;
    if (item.externalLink) {
      if (item.target === "_blank") {
        this.win.open(item.externalLink);
      } else {
        this.win.location.href = item.externalLink;
      }
      return;
    }
    this.ngZone.run(() => this.router.navigateByUrl(item.link));
  }
  toggleOpen(item) {
    this.menuSrv.toggleOpen(item);
  }
  _click() {
    if (this.isPad && this.collapsed) {
      this.openAside(false);
      this.hideAll();
    }
  }
  closeSubMenu() {
    if (this.collapsed) {
      this.hideAll();
    }
  }
  openByUrl(url) {
    const {
      menuSrv,
      recursivePath
    } = this;
    this.menuSrv.open(menuSrv.find({
      url,
      recursive: recursivePath
    }));
  }
  ngOnInit() {
    const {
      doc,
      router,
      menuSrv,
      settings,
      cdr
    } = this;
    this.bodyEl = doc.querySelector("body");
    menuSrv.change.pipe(takeUntilDestroyed(this.destroy$)).subscribe((data) => {
      menuSrv.visit(data, (i, _p, depth) => {
        i._text = this.sanitizer.bypassSecurityTrustHtml(i.text);
        i._needIcon = depth <= this.maxLevelIcon && !!i.icon;
        if (!i._aclResult) {
          if (this.disabledAcl) {
            i.disabled = true;
          } else {
            i._hidden = true;
          }
        }
        const icon = i.icon;
        if (icon && icon.type === "svg" && typeof icon.value === "string") {
          icon.value = this.sanitizer.bypassSecurityTrustHtml(icon.value);
        }
      });
      if (this.hideEmptyChildren) this.fixHide(data);
      this.list = data.filter((w) => w._hidden !== true);
      cdr.detectChanges();
    });
    router.events.pipe(takeUntilDestroyed(this.destroy$)).subscribe((e) => {
      if (e instanceof NavigationEnd) {
        this.openByUrl(e.urlAfterRedirects);
        this.underPad();
        this.cdr.detectChanges();
      }
    });
    settings.notify.pipe(takeUntilDestroyed(this.destroy$), filter((t) => t.type === "layout" && t.name === "collapsed")).subscribe(() => this.clearFloating());
    this.underPad();
    this.openByUrl(router.url);
    this.ngZone.runOutsideAngular(() => this.genFloating());
  }
  fixHide(ls) {
    const inFn = (list) => {
      for (const item of list) {
        if (item.children && item.children.length > 0) {
          inFn(item.children);
          if (!item._hidden) {
            item._hidden = item.children.every((v) => v._hidden);
          }
        }
      }
    };
    inFn(ls);
  }
  ngOnDestroy() {
    this.clearFloating();
  }
  // #region Under pad
  get isPad() {
    return this.doc.defaultView.innerWidth < 768;
  }
  underPad() {
    if (this.autoCloseUnderPad && this.isPad && !this.collapsed) {
      setTimeout(() => this.openAside(true));
    }
  }
  openAside(status) {
    this.settings.setLayout("collapsed", status);
  }
  static ɵfac = function LayoutDefaultNavComponent_Factory(__ngFactoryType__) {
    return new (__ngFactoryType__ || _LayoutDefaultNavComponent)();
  };
  static ɵcmp = ɵɵdefineComponent({
    type: _LayoutDefaultNavComponent,
    selectors: [["layout-default-nav"]],
    hostVars: 2,
    hostBindings: function LayoutDefaultNavComponent_HostBindings(rf, ctx) {
      if (rf & 1) {
        ɵɵlistener("click", function LayoutDefaultNavComponent_click_HostBindingHandler() {
          return ctx._click();
        })("click", function LayoutDefaultNavComponent_click_HostBindingHandler() {
          return ctx.closeSubMenu();
        }, ɵɵresolveDocument);
      }
      if (rf & 2) {
        ɵɵclassProp("d-block", true);
      }
    },
    inputs: {
      disabledAcl: [2, "disabledAcl", "disabledAcl", booleanAttribute],
      autoCloseUnderPad: [2, "autoCloseUnderPad", "autoCloseUnderPad", booleanAttribute],
      recursivePath: [2, "recursivePath", "recursivePath", booleanAttribute],
      hideEmptyChildren: [2, "hideEmptyChildren", "hideEmptyChildren", booleanAttribute],
      openStrictly: [2, "openStrictly", "openStrictly", booleanAttribute],
      maxLevelIcon: [2, "maxLevelIcon", "maxLevelIcon", numberAttribute]
    },
    outputs: {
      select: "select"
    },
    standalone: false,
    decls: 7,
    vars: 0,
    consts: [["icon", ""], ["tree", ""], [1, "sidebar-nav"], [1, "sidebar-nav__item-icon", 3, "nzType", "nzTheme", "nzSpin", "nzTwotoneColor", "nzIconfont", "nzRotate"], [1, "sidebar-nav__item-icon", 3, "nzIconfont"], [1, "sidebar-nav__item-icon", "sidebar-nav__item-img", 3, "src"], [1, "sidebar-nav__item-icon", "sidebar-nav__item-svg", 3, "innerHTML"], [3, "class"], [1, "sidebar-nav__divider"], [1, "sidebar-nav__item", 3, "sidebar-nav__selected", "sidebar-nav__open"], [1, "sidebar-nav__item"], [1, "sidebar-nav__item-link", 3, "sidebar-nav__item-disabled"], [1, "sidebar-nav__item-link"], ["nzStandalone", "", 3, "nzCount", "nzDot", "nzOverflowCount"], [1, "sidebar-nav__item-link", 3, "click", "mouseenter"], [1, "sidebar-nav__item-text", 3, "innerHTML"], ["nz-tooltip", "", "nzTooltipPlacement", "right", 3, "nzTooltipTitle"], [3, "ngTemplateOutlet", "ngTemplateOutletContext"], [1, "sidebar-nav__sub-arrow"], [1, "sidebar-nav__item", "sidebar-nav__group-title"], [3, "innerHTML"]],
    template: function LayoutDefaultNavComponent_Template(rf, ctx) {
      if (rf & 1) {
        ɵɵtemplate(0, LayoutDefaultNavComponent_ng_template_0_Template, 1, 1, "ng-template", null, 0, ɵɵtemplateRefExtractor)(2, LayoutDefaultNavComponent_ng_template_2_Template, 2, 0, "ng-template", null, 1, ɵɵtemplateRefExtractor);
        ɵɵelementStart(4, "ul", 2);
        ɵɵrepeaterCreate(5, LayoutDefaultNavComponent_For_6_Template, 2, 5, null, null, ɵɵrepeaterTrackByIndex);
        ɵɵelementEnd();
      }
      if (rf & 2) {
        ɵɵadvance(5);
        ɵɵrepeater(ctx.list);
      }
    },
    dependencies: [NgTemplateOutlet, NzTooltipDirective, NzIconDirective, NzBadgeComponent],
    encapsulation: 2,
    changeDetection: 0
  });
};
__decorate([ZoneOutside()], LayoutDefaultNavComponent.prototype, "showSubMenu", null);
(() => {
  (typeof ngDevMode === "undefined" || ngDevMode) && setClassMetadata(LayoutDefaultNavComponent, [{
    type: Component,
    args: [{
      selector: "layout-default-nav",
      host: {
        "(click)": "_click()",
        "(document:click)": "closeSubMenu()",
        "[class.d-block]": `true`
      },
      changeDetection: ChangeDetectionStrategy.OnPush,
      encapsulation: ViewEncapsulation.None,
      standalone: false,
      template: `<ng-template #icon let-i>
  @if (i) {
    @switch (i.type) {
      @case ('icon') {
        <nz-icon
          class="sidebar-nav__item-icon"
          [nzType]="i.value"
          [nzTheme]="i.theme"
          [nzSpin]="i.spin"
          [nzTwotoneColor]="i.twoToneColor"
          [nzIconfont]="i.iconfont"
          [nzRotate]="i.rotate"
        />
      }
      @case ('iconfont') {
        <nz-icon class="sidebar-nav__item-icon" [nzIconfont]="i.iconfont" />
      }
      @case ('img') {
        <img [src]="i.value" class="sidebar-nav__item-icon sidebar-nav__item-img" />
      }
      @case ('svg') {
        <span class="sidebar-nav__item-icon sidebar-nav__item-svg" [innerHTML]="i.value"></span>
      }
      @default {
        <i class="sidebar-nav__item-icon {{ i.value }}"></i>
      }
    }
  }
</ng-template>
<ng-template #tree let-ls>
  @for (i of ls; track $index) {
    @if (i._hidden !== true) {
      @if (i.render_type === 'divider') {
        <li class="sidebar-nav__divider"></li>
      }@else {
        <li class="sidebar-nav__item" [class.sidebar-nav__selected]="i._selected" [class.sidebar-nav__open]="i.open">
          <!-- link -->
          @if (i.children.length === 0) {
            <a
              (click)="to(i)"
              [attr.data-id]="i._id"
              class="sidebar-nav__item-link"
              [class.sidebar-nav__item-disabled]="i.disabled"
              (mouseenter)="closeSubMenu()"
            >
              @if (i._needIcon) {
                @if (collapsed) {
                  <span nz-tooltip nzTooltipPlacement="right" [nzTooltipTitle]="i.text">
                    <ng-template [ngTemplateOutlet]="icon" [ngTemplateOutletContext]="{ $implicit: i.icon }" />
                  </span>
                } @else {
                  <ng-template [ngTemplateOutlet]="icon" [ngTemplateOutletContext]="{ $implicit: i.icon }" />
                }
              }
              <span class="sidebar-nav__item-text" [innerHTML]="i._text" [attr.title]="i.text"></span>
            </a>
          }
          <!-- has children link -->
          @if (i.children.length > 0) {
            <a (click)="toggleOpen(i)" (mouseenter)="showSubMenu($event, i)" class="sidebar-nav__item-link">
              <ng-template [ngTemplateOutlet]="icon" [ngTemplateOutletContext]="{ $implicit: i.icon }" />
              <span class="sidebar-nav__item-text" [innerHTML]="i._text" [attr.title]="i.text"></span>
              <i class="sidebar-nav__sub-arrow"></i>
            </a>
          }
          <!-- badge -->
          @if (i.badge) {
            <nz-badge
              [nzCount]="i.badge"
              [nzDot]="i.badgeDot"
              nzStandalone
              [nzOverflowCount]="i.badgeOverflowCount ? i.badgeOverflowCount : 9"
            />
          }
          @if (i.children.length > 0) {
            <ul class="sidebar-nav sidebar-nav__sub sidebar-nav__depth{{ i._depth }}">
              <ng-template [ngTemplateOutlet]="tree" [ngTemplateOutletContext]="{ $implicit: i.children }" />
            </ul>
          }
        </li>
      }
    }
  }
</ng-template>
<ul class="sidebar-nav">
  @for (group of list; track $index) {
    @if (group.group) {
      <li class="sidebar-nav__item sidebar-nav__group-title">
        <span [innerHTML]="group._text"></span>
      </li>
    }
    <ng-template [ngTemplateOutlet]="tree" [ngTemplateOutletContext]="{ $implicit: group.children }" />
  }
</ul>
`
    }]
  }], null, {
    disabledAcl: [{
      type: Input,
      args: [{
        transform: booleanAttribute
      }]
    }],
    autoCloseUnderPad: [{
      type: Input,
      args: [{
        transform: booleanAttribute
      }]
    }],
    recursivePath: [{
      type: Input,
      args: [{
        transform: booleanAttribute
      }]
    }],
    hideEmptyChildren: [{
      type: Input,
      args: [{
        transform: booleanAttribute
      }]
    }],
    openStrictly: [{
      type: Input,
      args: [{
        transform: booleanAttribute
      }]
    }],
    maxLevelIcon: [{
      type: Input,
      args: [{
        transform: numberAttribute
      }]
    }],
    select: [{
      type: Output
    }],
    showSubMenu: []
  });
})();
var LayoutDefaultHeaderComponent = class _LayoutDefaultHeaderComponent {
  settings = inject(SettingsService);
  srv = inject(LayoutDefaultService);
  cdr = inject(ChangeDetectorRef);
  destroy$ = inject(DestroyRef);
  items;
  left = [];
  middle = [];
  right = [];
  get opt() {
    return this.srv.options;
  }
  get app() {
    return this.settings.app;
  }
  get collapsed() {
    return this.settings.layout.collapsed;
  }
  get collapsedIcon() {
    return this.srv.collapsedIcon;
  }
  refresh() {
    const arr = this.items.toArray();
    this.left = arr.filter((i) => i.direction === "left");
    this.middle = arr.filter((i) => i.direction === "middle");
    this.right = arr.filter((i) => i.direction === "right");
    this.cdr.detectChanges();
  }
  ngAfterViewInit() {
    this.items.changes.pipe(takeUntilDestroyed(this.destroy$)).subscribe(() => this.refresh());
    this.srv.options$.pipe(takeUntilDestroyed(this.destroy$)).subscribe(() => this.cdr.detectChanges());
    this.refresh();
  }
  toggleCollapsed() {
    this.srv.toggleCollapsed();
  }
  static ɵfac = function LayoutDefaultHeaderComponent_Factory(__ngFactoryType__) {
    return new (__ngFactoryType__ || _LayoutDefaultHeaderComponent)();
  };
  static ɵcmp = ɵɵdefineComponent({
    type: _LayoutDefaultHeaderComponent,
    selectors: [["layout-default-header"]],
    hostVars: 2,
    hostBindings: function LayoutDefaultHeaderComponent_HostBindings(rf, ctx) {
      if (rf & 2) {
        ɵɵclassProp("alain-default__header", true);
      }
    },
    inputs: {
      items: "items"
    },
    standalone: false,
    decls: 12,
    vars: 13,
    consts: [["render", ""], [1, "alain-default__header-logo"], [1, "alain-default__header-logo-link", 3, "routerLink"], [1, "alain-default__nav-wrap"], [1, "alain-default__nav"], [3, "ngTemplateOutlet", "ngTemplateOutletContext"], [1, "alain-default__nav", "alain-default__nav-middle"], [3, "hidden-mobile", "hidden-pc"], [4, "ngTemplateOutlet"], [1, "alain-default__header-logo-expanded"], [1, "alain-default__header-logo-collapsed"], [1, "alain-default__nav-item", "alain-default__nav-item--collapse", 3, "click"], [3, "nzType"]],
    template: function LayoutDefaultHeaderComponent_Template(rf, ctx) {
      if (rf & 1) {
        ɵɵtemplate(0, LayoutDefaultHeaderComponent_ng_template_0_Template, 2, 0, "ng-template", null, 0, ɵɵtemplateRefExtractor);
        ɵɵelementStart(2, "div", 1);
        ɵɵconditionalCreate(3, LayoutDefaultHeaderComponent_Conditional_3_Template, 1, 1, "ng-container")(4, LayoutDefaultHeaderComponent_Conditional_4_Template, 3, 5, "a", 2);
        ɵɵelementEnd();
        ɵɵelementStart(5, "div", 3)(6, "ul", 4);
        ɵɵconditionalCreate(7, LayoutDefaultHeaderComponent_Conditional_7_Template, 3, 1, "li");
        ɵɵtemplate(8, LayoutDefaultHeaderComponent_ng_template_8_Template, 0, 0, "ng-template", 5);
        ɵɵelementEnd();
        ɵɵconditionalCreate(9, LayoutDefaultHeaderComponent_Conditional_9_Template, 2, 1, "div", 6);
        ɵɵelementStart(10, "ul", 4);
        ɵɵtemplate(11, LayoutDefaultHeaderComponent_ng_template_11_Template, 0, 0, "ng-template", 5);
        ɵɵelementEnd()();
      }
      if (rf & 2) {
        const render_r5 = ɵɵreference(1);
        ɵɵadvance(2);
        ɵɵstyleProp("width", ctx.opt.logoFixWidth, "px");
        ɵɵadvance();
        ɵɵconditional(ctx.opt.logo ? 3 : 4);
        ɵɵadvance(4);
        ɵɵconditional(!ctx.opt.hideAside && ctx.opt.showHeaderCollapse ? 7 : -1);
        ɵɵadvance();
        ɵɵproperty("ngTemplateOutlet", render_r5)("ngTemplateOutletContext", ɵɵpureFunction1(9, _c2, ctx.left));
        ɵɵadvance();
        ɵɵconditional(ctx.middle.length > 0 ? 9 : -1);
        ɵɵadvance(2);
        ɵɵproperty("ngTemplateOutlet", render_r5)("ngTemplateOutletContext", ɵɵpureFunction1(11, _c2, ctx.right));
      }
    },
    dependencies: [NgTemplateOutlet, RouterLink, NzIconDirective],
    encapsulation: 2,
    changeDetection: 0
  });
};
(() => {
  (typeof ngDevMode === "undefined" || ngDevMode) && setClassMetadata(LayoutDefaultHeaderComponent, [{
    type: Component,
    args: [{
      selector: "layout-default-header",
      template: `
    <ng-template #render let-ls>
      @for (i of ls; track $index) {
        <li [class.hidden-mobile]="i.hidden === 'mobile'" [class.hidden-pc]="i.hidden === 'pc'">
          <ng-container *ngTemplateOutlet="i.host" />
        </li>
      }
    </ng-template>
    <div class="alain-default__header-logo" [style.width.px]="opt.logoFixWidth">
      @if (opt.logo) {
        <ng-container *ngTemplateOutlet="opt.logo" />
      } @else {
        <a [routerLink]="opt.logoLink" class="alain-default__header-logo-link">
          <img class="alain-default__header-logo-expanded" [attr.src]="opt.logoExpanded" [attr.alt]="app.name" />
          <img class="alain-default__header-logo-collapsed" [attr.src]="opt.logoCollapsed" [attr.alt]="app.name" />
        </a>
      }
    </div>
    <div class="alain-default__nav-wrap">
      <ul class="alain-default__nav">
        @if (!opt.hideAside && opt.showHeaderCollapse) {
          <li>
            <div class="alain-default__nav-item alain-default__nav-item--collapse" (click)="toggleCollapsed()">
              <nz-icon [nzType]="collapsedIcon" />
            </div>
          </li>
        }
        <ng-template [ngTemplateOutlet]="render" [ngTemplateOutletContext]="{ $implicit: left }" />
      </ul>
      @if (middle.length > 0) {
        <div class="alain-default__nav alain-default__nav-middle">
          <ng-container *ngTemplateOutlet="middle[0].host" />
        </div>
      }
      <ul class="alain-default__nav">
        <ng-template [ngTemplateOutlet]="render" [ngTemplateOutletContext]="{ $implicit: right }" />
      </ul>
    </div>
  `,
      host: {
        "[class.alain-default__header]": `true`
      },
      changeDetection: ChangeDetectionStrategy.OnPush,
      // eslint-disable-next-line @angular-eslint/prefer-standalone
      standalone: false
    }]
  }], null, {
    items: [{
      type: Input
    }]
  });
})();
var LayoutDefaultComponent = class _LayoutDefaultComponent {
  headerItems;
  get opt() {
    return this.srv.options;
  }
  set options(value) {
    this.srv.setOptions(value);
  }
  asideUser = null;
  asideBottom = null;
  nav = null;
  content = null;
  customError;
  fetchingStrictly = false;
  fetching = false;
  isFetching = false;
  get showFetching() {
    if (this.fetchingStrictly) return this.fetching;
    return this.isFetching;
  }
  get collapsed() {
    return this.settings.layout.collapsed;
  }
  get collapsedIcon() {
    return this.srv.collapsedIcon;
  }
  toggleCollapsed() {
    this.srv.toggleCollapsed();
  }
  router = inject(Router);
  msgSrv = inject(NzMessageService);
  settings = inject(SettingsService);
  el = inject(ElementRef);
  renderer = inject(Renderer2);
  doc = inject(DOCUMENT);
  srv = inject(LayoutDefaultService);
  constructor() {
    this.router.events.pipe(takeUntilDestroyed(), filter(() => !this.fetchingStrictly)).subscribe((ev) => this.processEv(ev));
    this.srv.options$.pipe(takeUntilDestroyed()).subscribe(() => this.setClass());
    this.settings.notify.pipe(takeUntilDestroyed()).subscribe(() => this.setClass());
  }
  processEv(ev) {
    if (!this.isFetching && ev instanceof RouteConfigLoadStart) {
      this.isFetching = true;
    }
    if (ev instanceof NavigationError || ev instanceof NavigationCancel) {
      this.isFetching = false;
      const err = this.customError === null ? null : this.customError ?? `Could not load ${ev.url} route`;
      if (err && ev instanceof NavigationError) {
        this.msgSrv.error(err, {
          nzDuration: 1e3 * 3
        });
      }
      return;
    }
    if (!(ev instanceof NavigationEnd || ev instanceof RouteConfigLoadEnd)) {
      return;
    }
    if (this.isFetching) {
      setTimeout(() => {
        this.isFetching = false;
      }, 100);
    }
  }
  setClass() {
    const {
      el,
      doc,
      renderer,
      settings
    } = this;
    const layout = settings.layout;
    updateHostClass(el.nativeElement, renderer, {
      ["alain-default"]: true,
      [`alain-default__fixed`]: layout.fixed,
      [`alain-default__collapsed`]: layout.collapsed,
      [`alain-default__hide-aside`]: this.opt.hideAside,
      [`alain-default__hide-header`]: this.opt.hideHeader
    });
    doc.body.classList[layout.colorWeak ? "add" : "remove"]("color-weak");
  }
  static ɵfac = function LayoutDefaultComponent_Factory(__ngFactoryType__) {
    return new (__ngFactoryType__ || _LayoutDefaultComponent)();
  };
  static ɵcmp = ɵɵdefineComponent({
    type: _LayoutDefaultComponent,
    selectors: [["layout-default"]],
    contentQueries: function LayoutDefaultComponent_ContentQueries(rf, ctx, dirIndex) {
      if (rf & 1) {
        ɵɵcontentQuery(dirIndex, LayoutDefaultHeaderItemComponent, 4);
      }
      if (rf & 2) {
        let _t;
        ɵɵqueryRefresh(_t = ɵɵloadQuery()) && (ctx.headerItems = _t);
      }
    },
    inputs: {
      options: "options",
      asideUser: "asideUser",
      asideBottom: "asideBottom",
      nav: "nav",
      content: "content",
      customError: "customError",
      fetchingStrictly: [2, "fetchingStrictly", "fetchingStrictly", booleanAttribute],
      fetching: [2, "fetching", "fetching", booleanAttribute]
    },
    exportAs: ["layoutDefault"],
    standalone: false,
    ngContentSelectors: _c1,
    decls: 6,
    vars: 4,
    consts: [[1, "alain-default__progress-bar"], [3, "items"], [1, "alain-default__aside"], [1, "alain-default__content"], [4, "ngTemplateOutlet"], [1, "alain-default__aside-wrap"], [1, "alain-default__aside-inner"], [1, "alain-default__aside-link"], [1, "alain-default__aside-link-collapsed"], [1, "alain-default__aside-link-collapsed", 3, "click"], [3, "nzType"]],
    template: function LayoutDefaultComponent_Template(rf, ctx) {
      if (rf & 1) {
        ɵɵprojectionDef();
        ɵɵconditionalCreate(0, LayoutDefaultComponent_Conditional_0_Template, 1, 0, "div", 0);
        ɵɵconditionalCreate(1, LayoutDefaultComponent_Conditional_1_Template, 1, 1, "layout-default-header", 1);
        ɵɵconditionalCreate(2, LayoutDefaultComponent_Conditional_2_Template, 7, 4, "div", 2);
        ɵɵelementStart(3, "section", 3);
        ɵɵtemplate(4, LayoutDefaultComponent_ng_container_4_Template, 1, 0, "ng-container", 4);
        ɵɵprojection(5);
        ɵɵelementEnd();
      }
      if (rf & 2) {
        ɵɵconditional(ctx.showFetching ? 0 : -1);
        ɵɵadvance();
        ɵɵconditional(!ctx.opt.hideHeader ? 1 : -1);
        ɵɵadvance();
        ɵɵconditional(!ctx.opt.hideAside ? 2 : -1);
        ɵɵadvance(2);
        ɵɵproperty("ngTemplateOutlet", ctx.content);
      }
    },
    dependencies: [NgTemplateOutlet, NzIconDirective, LayoutDefaultNavComponent, LayoutDefaultHeaderComponent],
    encapsulation: 2
  });
};
(() => {
  (typeof ngDevMode === "undefined" || ngDevMode) && setClassMetadata(LayoutDefaultComponent, [{
    type: Component,
    args: [{
      selector: "layout-default",
      exportAs: "layoutDefault",
      template: `
    @if (showFetching) {
      <div class="alain-default__progress-bar"></div>
    }
    @if (!opt.hideHeader) {
      <layout-default-header [items]="headerItems" />
    }
    @if (!opt.hideAside) {
      <div class="alain-default__aside">
        <div class="alain-default__aside-wrap">
          <div class="alain-default__aside-inner">
            <ng-container *ngTemplateOutlet="asideUser" />
            <ng-container *ngTemplateOutlet="nav" />
            @if (!nav) {
              <layout-default-nav />
            }
          </div>
          @if (opt.showSiderCollapse) {
            <div class="alain-default__aside-link">
              @if (asideBottom) {
                <ng-container *ngTemplateOutlet="asideBottom" />
              } @else {
                <div class="alain-default__aside-link-collapsed" (click)="toggleCollapsed()">
                  <nz-icon [nzType]="collapsedIcon" />
                </div>
              }
            </div>
          }
        </div>
      </div>
    }
    <section class="alain-default__content">
      <ng-container *ngTemplateOutlet="content" />
      <ng-content />
    </section>
  `,
      // eslint-disable-next-line @angular-eslint/prefer-standalone
      standalone: false
    }]
  }], () => [], {
    headerItems: [{
      type: ContentChildren,
      args: [LayoutDefaultHeaderItemComponent, {
        descendants: false
      }]
    }],
    options: [{
      type: Input
    }],
    asideUser: [{
      type: Input
    }],
    asideBottom: [{
      type: Input
    }],
    nav: [{
      type: Input
    }],
    content: [{
      type: Input
    }],
    customError: [{
      type: Input
    }],
    fetchingStrictly: [{
      type: Input,
      args: [{
        transform: booleanAttribute
      }]
    }],
    fetching: [{
      type: Input,
      args: [{
        transform: booleanAttribute
      }]
    }]
  });
})();
var LayoutDefaultHeaderItemTriggerDirective = class _LayoutDefaultHeaderItemTriggerDirective {
  static ɵfac = function LayoutDefaultHeaderItemTriggerDirective_Factory(__ngFactoryType__) {
    return new (__ngFactoryType__ || _LayoutDefaultHeaderItemTriggerDirective)();
  };
  static ɵdir = ɵɵdefineDirective({
    type: _LayoutDefaultHeaderItemTriggerDirective,
    selectors: [["", "layout-default-header-item-trigger", ""]],
    hostVars: 2,
    hostBindings: function LayoutDefaultHeaderItemTriggerDirective_HostBindings(rf, ctx) {
      if (rf & 2) {
        ɵɵclassProp("alain-default__nav-item", true);
      }
    },
    standalone: false
  });
};
(() => {
  (typeof ngDevMode === "undefined" || ngDevMode) && setClassMetadata(LayoutDefaultHeaderItemTriggerDirective, [{
    type: Directive,
    args: [{
      selector: "[layout-default-header-item-trigger]",
      host: {
        "[class.alain-default__nav-item]": `true`
      },
      // eslint-disable-next-line @angular-eslint/prefer-standalone
      standalone: false
    }]
  }], null, null);
})();
var LayoutDefaultTopMenuItemComponent = class _LayoutDefaultTopMenuItemComponent {
  selected = false;
  disabled = false;
  static ɵfac = function LayoutDefaultTopMenuItemComponent_Factory(__ngFactoryType__) {
    return new (__ngFactoryType__ || _LayoutDefaultTopMenuItemComponent)();
  };
  static ɵcmp = ɵɵdefineComponent({
    type: _LayoutDefaultTopMenuItemComponent,
    selectors: [["layout-default-top-menu-item"]],
    hostVars: 8,
    hostBindings: function LayoutDefaultTopMenuItemComponent_HostBindings(rf, ctx) {
      if (rf & 2) {
        ɵɵclassProp("alain-default__nav-item", true)("alain-default__top-menu-item", true)("alain-default__top-menu-item-selected", ctx.selected)("alain-default__top-menu-item-disabled", ctx.disabled);
      }
    },
    inputs: {
      selected: [2, "selected", "selected", booleanAttribute],
      disabled: [2, "disabled", "disabled", booleanAttribute]
    },
    standalone: false,
    ngContentSelectors: _c1,
    decls: 1,
    vars: 0,
    template: function LayoutDefaultTopMenuItemComponent_Template(rf, ctx) {
      if (rf & 1) {
        ɵɵprojectionDef();
        ɵɵprojection(0);
      }
    },
    encapsulation: 2,
    changeDetection: 0
  });
};
(() => {
  (typeof ngDevMode === "undefined" || ngDevMode) && setClassMetadata(LayoutDefaultTopMenuItemComponent, [{
    type: Component,
    args: [{
      selector: "layout-default-top-menu-item",
      template: `<ng-content />`,
      host: {
        "[class.alain-default__nav-item]": `true`,
        "[class.alain-default__top-menu-item]": `true`,
        "[class.alain-default__top-menu-item-selected]": `selected`,
        "[class.alain-default__top-menu-item-disabled]": `disabled`
      },
      changeDetection: ChangeDetectionStrategy.OnPush,
      encapsulation: ViewEncapsulation.None,
      // eslint-disable-next-line @angular-eslint/prefer-standalone
      standalone: false
    }]
  }], null, {
    selected: [{
      type: Input,
      args: [{
        transform: booleanAttribute
      }]
    }],
    disabled: [{
      type: Input,
      args: [{
        transform: booleanAttribute
      }]
    }]
  });
})();
var COMPONENTS = [LayoutDefaultComponent, LayoutDefaultNavComponent, LayoutDefaultHeaderComponent, LayoutDefaultHeaderItemComponent, LayoutDefaultHeaderItemTriggerDirective, LayoutDefaultTopMenuItemComponent];
var LayoutDefaultModule = class _LayoutDefaultModule {
  static ɵfac = function LayoutDefaultModule_Factory(__ngFactoryType__) {
    return new (__ngFactoryType__ || _LayoutDefaultModule)();
  };
  static ɵmod = ɵɵdefineNgModule({
    type: _LayoutDefaultModule,
    declarations: [LayoutDefaultComponent, LayoutDefaultNavComponent, LayoutDefaultHeaderComponent, LayoutDefaultHeaderItemComponent, LayoutDefaultHeaderItemTriggerDirective, LayoutDefaultTopMenuItemComponent],
    imports: [CommonModule, RouterModule, NzTooltipModule, NzIconModule, NzAvatarModule, NzDropDownModule, NzBadgeModule],
    exports: [LayoutDefaultComponent, LayoutDefaultNavComponent, LayoutDefaultHeaderComponent, LayoutDefaultHeaderItemComponent, LayoutDefaultHeaderItemTriggerDirective, LayoutDefaultTopMenuItemComponent]
  });
  static ɵinj = ɵɵdefineInjector({
    imports: [CommonModule, RouterModule, NzTooltipModule, NzIconModule, NzAvatarModule, NzDropDownModule, NzBadgeModule]
  });
};
(() => {
  (typeof ngDevMode === "undefined" || ngDevMode) && setClassMetadata(LayoutDefaultModule, [{
    type: NgModule,
    args: [{
      imports: [CommonModule, RouterModule, NzTooltipModule, NzIconModule, NzAvatarModule, NzDropDownModule, NzBadgeModule],
      declarations: COMPONENTS,
      exports: COMPONENTS
    }]
  }], null, null);
})();
export {
  LayoutDefaultComponent,
  LayoutDefaultHeaderComponent,
  LayoutDefaultHeaderItemComponent,
  LayoutDefaultHeaderItemTriggerDirective,
  LayoutDefaultModule,
  LayoutDefaultNavComponent,
  LayoutDefaultService,
  LayoutDefaultTopMenuItemComponent
};
//# sourceMappingURL=@delon_theme_layout-default.js.map
