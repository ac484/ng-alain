{
  "version": 3,
  "sources": ["../../../../../../node_modules/@delon/theme/fesm2022/theme-btn.mjs"],
  "sourcesContent": ["import { Directionality } from '@angular/cdk/bidi';\nimport { Platform } from '@angular/cdk/platform';\nimport { DOCUMENT, CommonModule } from '@angular/common';\nimport * as i0 from '@angular/core';\nimport { InjectionToken, inject, Renderer2, isDevMode, EventEmitter, Output, Input, ChangeDetectionStrategy, Component, NgModule } from '@angular/core';\nimport { AlainConfigService } from '@delon/util/config';\nimport { NzDropDownDirective, NzDropdownMenuComponent, NzDropDownModule } from 'ng-zorro-antd/dropdown';\nimport { NzMenuDirective, NzMenuItemComponent } from 'ng-zorro-antd/menu';\nimport { NzTooltipDirective, NzTooltipModule } from 'ng-zorro-antd/tooltip';\nfunction ThemeBtnComponent_For_9_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"li\", 8);\n    i0.ɵɵlistener(\"click\", function ThemeBtnComponent_For_9_Template_li_click_0_listener() {\n      const i_r2 = i0.ɵɵrestoreView(_r1).$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.onThemeChange(i_r2.key));\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const i_r2 = ctx.$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(i_r2.text);\n  }\n}\nconst ALAIN_THEME_BTN_KEYS = new InjectionToken('ALAIN_THEME_BTN_KEYS');\nclass ThemeBtnComponent {\n  doc = inject(DOCUMENT);\n  platform = inject(Platform);\n  renderer = inject(Renderer2);\n  configSrv = inject(AlainConfigService);\n  theme = 'default';\n  isDev = isDevMode();\n  types = [{\n    key: 'default',\n    text: 'Default Theme'\n  }, {\n    key: 'dark',\n    text: 'Dark Theme'\n  }, {\n    key: 'compact',\n    text: 'Compact Theme'\n  }];\n  devTips = `When the dark.css file can't be found, you need to run it once: npm run theme`;\n  deployUrl = '';\n  themeChange = new EventEmitter();\n  dir = inject(Directionality).valueSignal;\n  key = inject(ALAIN_THEME_BTN_KEYS, {\n    optional: true\n  }) ?? 'site-theme';\n  ngOnInit() {\n    this.initTheme();\n  }\n  initTheme() {\n    if (!this.platform.isBrowser) {\n      return;\n    }\n    this.theme = localStorage.getItem(this.key) || 'default';\n    this.updateChartTheme();\n    this.onThemeChange(this.theme);\n  }\n  updateChartTheme() {\n    this.configSrv.set('chart', {\n      theme: this.theme === 'dark' ? 'dark' : ''\n    });\n  }\n  onThemeChange(theme) {\n    if (!this.platform.isBrowser) {\n      return;\n    }\n    this.theme = theme;\n    this.themeChange.emit(theme);\n    this.renderer.setAttribute(this.doc.body, 'data-theme', theme);\n    const dom = this.doc.getElementById(this.key);\n    if (dom) {\n      dom.remove();\n    }\n    localStorage.removeItem(this.key);\n    if (theme !== 'default') {\n      const el = this.doc.createElement('link');\n      el.type = 'text/css';\n      el.rel = 'stylesheet';\n      el.id = this.key;\n      el.href = `${this.deployUrl}assets/style.${theme}.css`;\n      localStorage.setItem(this.key, theme);\n      this.doc.body.append(el);\n    }\n    this.updateChartTheme();\n  }\n  ngOnDestroy() {\n    const el = this.doc.getElementById(this.key);\n    if (el != null) {\n      this.doc.body.removeChild(el);\n    }\n  }\n  static ɵfac = function ThemeBtnComponent_Factory(__ngFactoryType__) {\n    return new (__ngFactoryType__ || ThemeBtnComponent)();\n  };\n  static ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: ThemeBtnComponent,\n    selectors: [[\"theme-btn\"]],\n    hostVars: 4,\n    hostBindings: function ThemeBtnComponent_HostBindings(rf, ctx) {\n      if (rf & 2) {\n        i0.ɵɵclassProp(\"theme-btn\", true)(\"theme-btn-rtl\", ctx.dir() === \"rtl\");\n      }\n    },\n    inputs: {\n      types: \"types\",\n      devTips: \"devTips\",\n      deployUrl: \"deployUrl\"\n    },\n    outputs: {\n      themeChange: \"themeChange\"\n    },\n    decls: 10,\n    vars: 2,\n    consts: [[\"menu\", \"nzDropdownMenu\"], [\"nz-dropdown\", \"\", \"nzPlacement\", \"topCenter\", 1, \"ant-avatar\", \"ant-avatar-circle\", \"ant-avatar-icon\", 3, \"nzDropdownMenu\"], [\"nz-tooltip\", \"\", \"role\", \"img\", \"width\", \"21\", \"height\", \"21\", \"viewBox\", \"0 0 21 21\", \"fill\", \"currentColor\", 1, \"anticon\", 3, \"nzTooltipTitle\"], [\"fill-rule\", \"evenodd\"], [\"fill-rule\", \"nonzero\"], [\"d\", \"M7.02 3.635l12.518 12.518a1.863 1.863 0 010 2.635l-1.317 1.318a1.863 1.863 0 01-2.635 0L3.068 7.588A2.795 2.795 0 117.02 3.635zm2.09 14.428a.932.932 0 110 1.864.932.932 0 010-1.864zm-.043-9.747L7.75 9.635l9.154 9.153 1.318-1.317-9.154-9.155zM3.52 12.473c.514 0 .931.417.931.931v.932h.932a.932.932 0 110 1.864h-.932v.931a.932.932 0 01-1.863 0l-.001-.931h-.93a.932.932 0 010-1.864h.93v-.932c0-.514.418-.931.933-.931zm15.374-3.727a1.398 1.398 0 110 2.795 1.398 1.398 0 010-2.795zM4.385 4.953a.932.932 0 000 1.317l2.046 2.047L7.75 7 5.703 4.953a.932.932 0 00-1.318 0zM14.701.36a.932.932 0 01.931.932v.931h.932a.932.932 0 010 1.864h-.933l.001.932a.932.932 0 11-1.863 0l-.001-.932h-.93a.932.932 0 110-1.864h.93v-.931a.932.932 0 01.933-.932z\"], [\"nz-menu\", \"\", \"nzSelectable\", \"\"], [\"nz-menu-item\", \"\"], [\"nz-menu-item\", \"\", 3, \"click\"]],\n    template: function ThemeBtnComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 1);\n        i0.ɵɵnamespaceSVG();\n        i0.ɵɵelementStart(1, \"svg\", 2)(2, \"g\", 3)(3, \"g\", 4);\n        i0.ɵɵelement(4, \"path\", 5);\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵnamespaceHTML();\n        i0.ɵɵelementStart(5, \"nz-dropdown-menu\", null, 0)(7, \"ul\", 6);\n        i0.ɵɵrepeaterCreate(8, ThemeBtnComponent_For_9_Template, 2, 1, \"li\", 7, i0.ɵɵrepeaterTrackByIndex);\n        i0.ɵɵelementEnd()()();\n      }\n      if (rf & 2) {\n        const menu_r4 = i0.ɵɵreference(6);\n        i0.ɵɵproperty(\"nzDropdownMenu\", ctx.types.length > 0 ? menu_r4 : null);\n        i0.ɵɵadvance();\n        i0.ɵɵproperty(\"nzTooltipTitle\", ctx.isDev ? ctx.devTips : null);\n        i0.ɵɵadvance(7);\n        i0.ɵɵrepeater(ctx.types);\n      }\n    },\n    dependencies: [NzDropDownDirective, NzDropdownMenuComponent, NzMenuDirective, NzMenuItemComponent, NzTooltipDirective],\n    encapsulation: 2,\n    changeDetection: 0\n  });\n}\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(ThemeBtnComponent, [{\n    type: Component,\n    args: [{\n      selector: 'theme-btn',\n      host: {\n        '[class.theme-btn]': `true`,\n        '[class.theme-btn-rtl]': `dir() === 'rtl'`\n      },\n      changeDetection: ChangeDetectionStrategy.OnPush,\n      imports: [NzDropDownDirective, NzDropdownMenuComponent, NzMenuDirective, NzMenuItemComponent, NzTooltipDirective],\n      template: \"<div\\n  class=\\\"ant-avatar ant-avatar-circle ant-avatar-icon\\\"\\n  nz-dropdown\\n  nzPlacement=\\\"topCenter\\\"\\n  [nzDropdownMenu]=\\\"types.length > 0 ? menu : null\\\"\\n>\\n  <svg\\n    nz-tooltip\\n    [nzTooltipTitle]=\\\"isDev ? devTips : null\\\"\\n    class=\\\"anticon\\\"\\n    role=\\\"img\\\"\\n    width=\\\"21\\\"\\n    height=\\\"21\\\"\\n    viewBox=\\\"0 0 21 21\\\"\\n    fill=\\\"currentColor\\\"\\n  >\\n    <g fill-rule=\\\"evenodd\\\">\\n      <g fill-rule=\\\"nonzero\\\">\\n        <path\\n          d=\\\"M7.02 3.635l12.518 12.518a1.863 1.863 0 010 2.635l-1.317 1.318a1.863 1.863 0 01-2.635 0L3.068 7.588A2.795 2.795 0 117.02 3.635zm2.09 14.428a.932.932 0 110 1.864.932.932 0 010-1.864zm-.043-9.747L7.75 9.635l9.154 9.153 1.318-1.317-9.154-9.155zM3.52 12.473c.514 0 .931.417.931.931v.932h.932a.932.932 0 110 1.864h-.932v.931a.932.932 0 01-1.863 0l-.001-.931h-.93a.932.932 0 010-1.864h.93v-.932c0-.514.418-.931.933-.931zm15.374-3.727a1.398 1.398 0 110 2.795 1.398 1.398 0 010-2.795zM4.385 4.953a.932.932 0 000 1.317l2.046 2.047L7.75 7 5.703 4.953a.932.932 0 00-1.318 0zM14.701.36a.932.932 0 01.931.932v.931h.932a.932.932 0 010 1.864h-.933l.001.932a.932.932 0 11-1.863 0l-.001-.932h-.93a.932.932 0 110-1.864h.93v-.931a.932.932 0 01.933-.932z\\\"\\n        />\\n      </g>\\n    </g>\\n  </svg>\\n  <nz-dropdown-menu #menu=\\\"nzDropdownMenu\\\">\\n    <ul nz-menu nzSelectable>\\n      @for (i of types; track $index) {\\n        <li nz-menu-item (click)=\\\"onThemeChange(i.key)\\\">{{ i.text }}</li>\\n      }\\n    </ul>\\n  </nz-dropdown-menu>\\n</div>\\n\"\n    }]\n  }], null, {\n    types: [{\n      type: Input\n    }],\n    devTips: [{\n      type: Input\n    }],\n    deployUrl: [{\n      type: Input\n    }],\n    themeChange: [{\n      type: Output\n    }]\n  });\n})();\nconst COMPONENTS = [ThemeBtnComponent];\nclass ThemeBtnModule {\n  static ɵfac = function ThemeBtnModule_Factory(__ngFactoryType__) {\n    return new (__ngFactoryType__ || ThemeBtnModule)();\n  };\n  static ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: ThemeBtnModule,\n    imports: [CommonModule, NzDropDownModule, NzTooltipModule, ThemeBtnComponent],\n    exports: [ThemeBtnComponent]\n  });\n  static ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    imports: [CommonModule, NzDropDownModule, NzTooltipModule, COMPONENTS]\n  });\n}\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(ThemeBtnModule, [{\n    type: NgModule,\n    args: [{\n      imports: [CommonModule, NzDropDownModule, NzTooltipModule, ...COMPONENTS],\n      exports: COMPONENTS\n    }]\n  }], null, null);\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { ALAIN_THEME_BTN_KEYS, ThemeBtnComponent, ThemeBtnModule };\n"],
  "mappings": "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",
  "names": []
}
