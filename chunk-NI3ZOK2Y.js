import{a as _,g as v}from"./chunk-TYPW2VOQ.js";import{B as Z,Ea as I,Hd as P,I as U,Rc as $,Sc as D,V as N,ca as E,fa as M,oa as S,ra as F,ta as m,yd as k}from"./chunk-C2TUN3UK.js";import{a as C}from"./chunk-57BLH6QZ.js";function Q(i,u,r=!1){return(i||"").replace(/\${([^}]+)}/g,(e,t)=>r?_(u,t.split("."),""):(u||{})[t]||"")}function q(i,u){if(!i)return"";let r=C({},typeof u=="string"?{mask:u}:u),e=C({0:{pattern:/\d/,default:"0"},9:{pattern:/\d/},"#":{pattern:/[a-zA-Z0-9]/},U:{pattern:/[a-zA-Z]/,transform:n=>n.toLocaleUpperCase()},L:{pattern:/[a-zA-Z]/,transform:n=>n.toLocaleLowerCase()},"*":{pattern:/.*/,transform:()=>"*"}},r.tokens),t=i.split("");return r.mask.split("").reduce((n,d)=>{let o=e[d];if(!o)return n.push(d),n;let s=t.shift()??"";return o.pattern.test(s)?(typeof o.transform=="function"?n.push(o.transform(s)):n.push(s),n):(o.default&&n.push(o.default),n)},[]).join("")}var h={num:"(([-+]?\\d+\\.\\d+)|([-+]?\\d+)|([-+]?\\.\\d+))(?:[eE]([-+]?\\d+))?",idCard:"(^\\d{15}$)|(^\\d{17}(?:[0-9]|X)$)",mobile:"^(0|\\+?86|17951)?1[0-9]{10}$",url:"(((^https?:(?:\\/\\/)?)(?:[-;:&=\\+\\$,\\w]+@)?[A-Za-z0-9.-]+(?::\\d+)?|(?:www.|[-;:&=\\+\\$,\\w]+@)[A-Za-z0-9.-]+)((?:\\/[\\+~%\\/.\\w-_]*)?\\??(?:[-\\+=&;%@.\\w_]*)#?(?:[\\w]*))?)",ip:"(?:^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$)|(?:^(?:(?:[a-fA-F\\d]{1,4}:){7}(?:[a-fA-F\\d]{1,4}|:)|(?:[a-fA-F\\d]{1,4}:){6}(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}|:[a-fA-F\\d]{1,4}|:)|(?:[a-fA-F\\d]{1,4}:){5}(?::(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}|(?::[a-fA-F\\d]{1,4}){1,2}|:)|(?:[a-fA-F\\d]{1,4}:){4}(?:(?::[a-fA-F\\d]{1,4}){0,1}:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}|(?::[a-fA-F\\d]{1,4}){1,3}|:)|(?:[a-fA-F\\d]{1,4}:){3}(?:(?::[a-fA-F\\d]{1,4}){0,2}:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}|(?::[a-fA-F\\d]{1,4}){1,4}|:)|(?:[a-fA-F\\d]{1,4}:){2}(?:(?::[a-fA-F\\d]{1,4}){0,3}:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}|(?::[a-fA-F\\d]{1,4}){1,5}|:)|(?:[a-fA-F\\d]{1,4}:){1}(?:(?::[a-fA-F\\d]{1,4}){0,4}:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}|(?::[a-fA-F\\d]{1,4}){1,6}|:)|(?::(?:(?::[a-fA-F\\d]{1,4}){0,5}:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}|(?::[a-fA-F\\d]{1,4}){1,7}|:)))(?:%[0-9a-zA-Z]{1,})?$)",color:"(?:#|0x)(?:[a-f0-9]{3}|[a-f0-9]{6})\\b|(?:rgb|hsl)a?\\([^\\)]*\\)",chinese:"[\u4E00-\u9FA5]+"};function p(i,u){return new RegExp(`^${i}$`,u)}var H={num:p(h.num),idCard:p(h.idCard,"i"),mobile:p(h.mobile),url:p(h.url),ip:p(h.ip),color:p(h.color),chinese:p(h.chinese)};var x=[{unit:"Q",value:Math.pow(10,15)},{unit:"T",value:Math.pow(10,12)},{unit:"B",value:Math.pow(10,9)},{unit:"M",value:Math.pow(10,6)},{unit:"K",value:1e3}],J=(()=>{class i{locale=m($);defCurrencyCode=m(D,{optional:!0})??"USD";cogSrv=m(v);c;currencyPipe;constructor(){this.currencyPipe=new P(this.locale,this.defCurrencyCode),this.c=this.cogSrv.merge("utilCurrency",{startingUnit:"yuan",megaUnit:{Q:"\u4EAC",T:"\u5146",B:"\u4EBF",M:"\u4E07",K:"\u5343"},precision:2,ingoreZeroPrecision:!0})}format(r,e){e=C({startingUnit:this.c.startingUnit,precision:this.c.precision,ingoreZeroPrecision:this.c.ingoreZeroPrecision,ngCurrency:this.c.ngCurrency},e);let t=Number(r);if(r==null||isNaN(t))return"";if(e.startingUnit==="cent"&&(t=t/100),e.ngCurrency!=null){let d=e.ngCurrency;return this.currencyPipe.transform(t,d.currencyCode,d.display,d.digitsInfo,d.locale||this.locale)}let n=k(t,this.locale,`.${e.ingoreZeroPrecision?1:e.precision}-${e.precision}`);return e.ingoreZeroPrecision?n.replace(/(?:\.[0]+)$/g,""):n}mega(r,e){e=C({precision:this.c.precision,unitI18n:this.c.megaUnit,startingUnit:this.c.startingUnit},e);let t=Number(r),n={raw:r,value:"",unit:"",unitI18n:""};if(isNaN(t)||t===0)return n.value=r.toString(),n;e.startingUnit==="cent"&&(t=t/100);let d=Math.abs(+t),o=Math.pow(10,e.precision),s=t<0;for(let f of x){let l=d/f.value;if(l=Math.round(l*o)/o,l>=1){d=l,n.unit=f.unit;break}}return n.value=(s?"-":"")+d,n.unitI18n=e.unitI18n[n.unit],n}cny(r,e){if(e=C({inWords:!0,minusSymbol:"\u8D1F",startingUnit:this.c.startingUnit},e),r=Number(r),isNaN(r))return"";e.startingUnit==="cent"&&(r=r/100),r=r.toString();let t,n;[t,n]=r.split(".");let d="";t.startsWith("-")&&(d=e.minusSymbol,t=t.substring(1)),/^-?\d+$/.test(r)&&(n=null),t=(+t).toString();let o=e.inWords,s={num:o?["","\u58F9","\u8D30","\u53C1","\u8086","\u4F0D","\u9646","\u67D2","\u634C","\u7396","\u70B9"]:["","\u4E00","\u4E8C","\u4E09","\u56DB","\u4E94","\u516D","\u4E03","\u516B","\u4E5D","\u70B9"],radice:o?["","\u62FE","\u4F70","\u4EDF","\u4E07","\u62FE","\u4F70","\u4EDF","\u4EBF","\u62FE","\u4F70","\u4EDF","\u4E07\u4EBF","\u62FE","\u4F70","\u4EDF","\u5146","\u62FE","\u4F70","\u4EDF"]:["","\u5341","\u767E","\u5343","\u4E07","\u5341","\u767E","\u5343","\u4EBF","\u5341","\u767E","\u5343","\u4E07\u4EBF","\u5341","\u767E","\u5343","\u5146","\u5341","\u767E","\u5343"],dec:["\u89D2","\u5206","\u5398","\u6BEB"]};o&&(r=(+r).toFixed(5).toString());let f="",l=t.length;if(t==="0"||l===0)f="\u96F6";else{let a="";for(let c=0;c<l;c++){let A=+t[c],y=l-c-1,W=c>1&&A!==0&&t[c-1]==="0"?"\u96F6":"",L=A===0&&y%4!==0||t.substring(c-3,c-3+4)==="0000",O=a,w=s.num[A];a=L?"":s.radice[y],c===0&&w==="\u4E00"&&a==="\u5341"&&(w=""),A>1&&w==="\u4E8C"&&["","\u5341","\u767E"].indexOf(a)===-1&&O!=="\u5341"&&(w="\u4E24"),f+=W+w+a}}let g="",R=n?n.toString().length:0;if(n===null)g=o?"\u6574":"";else if(n==="0")g="\u96F6";else for(let a=0;a<R&&!(o&&a>s.dec.length-1);a++){let c=n[a],A=c==="0"?"\u96F6":"",y=s.num[+c],b=o?s.dec[a]:"";g+=A+y+b}return d+(o?f+(g==="\u96F6"?"\u5143\u6574":`\u5143${g}`):f+(g===""?"":`\u70B9${g}`))}static \u0275fac=function(e){return new(e||i)};static \u0275prov=S({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var ot=new F("WINDOW",{factory:()=>{let{defaultView:i}=m(I);if(!i)throw new Error("Window is not available");return i}}),dt=new F("PAGE_VISIBILITY`",{factory:()=>{let i=m(I);return U(i,"visibilitychange").pipe(M(0),Z(()=>!i.hidden),N(),E())}});function T(i,u){return(r,e,t)=>{let n=t.value;return t.value=function(...d){let s=this[u?.ngZoneName||"ngZone"];if(!s)return n.call(this,...d);let f;return s[i](()=>{f=n.call(this,...d)}),f},t}}function ct(i){return T("runOutsideAngular",i)}export{ot as a,Q as b,q as c,H as d,J as e,ct as f};
