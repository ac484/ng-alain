<div class="alain-default__content-title">
  <h1>
    ACL 访问控制 (整合 Firebase)
    <small
      >注意观察左边的菜单；ACLService提供一个完整的基于角色的访问控制的服务，若需要支持路由守卫，请配合ACLService与Route
      Guard配合简便实现。現在整合了 Firebase 認證。</small
    >
  </h1>
</div>
<div nz-row [nzGutter]="8">
  <div nz-col [nzSpan]="24">
    <nz-card nzTitle="按钮粒度">
      ACL原始数据：{{ data | json }}
      <button nz-button [acl]="'role-a'">role-a</button>
      <button nz-button [acl]="'role-b'" class="ml-sm">role-b</button>
      <button nz-button [acl]="'admin'" class="ml-sm">admin</button>
      <button nz-button [acl]="'user'" class="ml-sm">user</button>
    </nz-card>
  </div>
</div>
<div nz-row [nzGutter]="8">
  <div nz-col [nzSpan]="6">
    <nz-card nzTitle="全量">
      <button nz-button (click)="toggleFull()">
        <span>{{ full ? '离开' : '设置' }}权限</span>
      </button>
      <p class="pt-md">全量类指系统管理员角色，无任何受限。</p>
    </nz-card>
  </div>
  <div nz-col [nzSpan]="6">
    <nz-card nzTitle="角色[role-a]">
      <button nz-button (click)="toggleRoleA()">
        <span>{{ roleA.length > 0 ? '离开' : '设置' }}权限</span>
      </button>
    </nz-card>
  </div>
  <div nz-col [nzSpan]="6">
    <nz-card nzTitle="角色[role-b]">
      <button nz-button (click)="toggleRoleB()">
        <span>{{ roleB.length > 0 ? '离开' : '设置' }}权限</span>
      </button>
    </nz-card>
  </div>
  <div nz-col [nzSpan]="6">
    <nz-card nzTitle="Firebase 用戶權限">
      <button nz-button (click)="loadFirebaseUserRole()">
        <span>載入 Firebase 權限</span>
      </button>
      <p class="pt-md">當前角色: {{ firebaseRole || '未載入' }}</p>
      <button nz-button (click)="updateFirebaseUserRole('admin')" class="mr-sm">
        <span>設為 Admin</span>
      </button>
      <button nz-button (click)="updateFirebaseUserRole('user')">
        <span>設為 User</span>
      </button>
    </nz-card>
  </div>
</div>
