<nz-splitter [nzLayout]="'horizontal'">
  <nz-splitter-panel [nzDefaultSize]="'240px'" [nzMin]="'180px'" [nzMax]="'400px'">
    <nz-card nzTitle="篩選/統計" [nzBodyStyle]="{padding: '12px'}">
      <input nz-input [(ngModel)]="filter" placeholder="搜尋合約/客戶" style="margin-bottom: 12px;" />
      <div style="margin-bottom: 8px;">合約總數：{{ contracts.length }}</div>
      <!-- 可擴充更多統計/篩選條件 -->
      <button nz-button nzType="primary" (click)="createContract()" style="width: 100%;">新增合約</button>
    </nz-card>
  </nz-splitter-panel>
  <nz-splitter-panel>
    <nz-card nzTitle="合約總覽" [nzBodyStyle]="{padding: '0'}">
      <nz-table
        [nzData]="filteredContracts"
        [nzLoading]="loading"
        [nzScroll]="{ x: '1200px', y: '60vh' }"
        [nzShowSizeChanger]="true"
        [nzShowQuickJumper]="true"
        [nzPageSize]="20"
      >
        <thead>
          <tr>
            <th>合約標題</th>
            <th>客戶</th>
            <th>金額</th>
            <th>狀態</th>
            <th>進度</th>
            <th>建立日期</th>
            <th>操作</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let c of filteredContracts">
            <td>{{ c.title }}</td>
            <td>{{ c.client }}</td>
            <td>{{ c.currentAmount | currency: 'TWD' }}</td>
            <td>
              <nz-tag [nzColor]="getStatusColor(c.status)">{{ getStatusText(c.status) }}</nz-tag>
            </td>
            <td>
              <nz-progress [nzPercent]="c.progress" [nzSize]="'small'" [nzShowInfo]="false"></nz-progress>
              {{ c.progress }}%
            </td>
            <td>{{ c.createDate | date: 'yyyy-MM-dd' }}</td>
            <td>
              <button nz-button nzType="link" (click)="viewDetail(c.id)">查看</button>
              <button nz-button nzType="link" (click)="editContract(c.id)">編輯</button>
            </td>
          </tr>
        </tbody>
      </nz-table>
    </nz-card>
  </nz-splitter-panel>
</nz-splitter>
