import{f as Z,k as $}from"./chunk-RSNPD6EB.js";import{b as J,d as G,e as Y,f as R,g as j,i as q,k as K,l as Q,m as U,o as X}from"./chunk-2VRYK5C2.js";import"./chunk-CKQ6FBZR.js";import"./chunk-NMCFBNRY.js";import{i as O,j as B}from"./chunk-F7UE2Z2N.js";import"./chunk-GFX7JDKS.js";import"./chunk-OTGL7XGI.js";import"./chunk-5NDUH4BM.js";import"./chunk-7INLARAR.js";import"./chunk-3LZSSZ2Q.js";import{d as P,g as A,m as W,y as H}from"./chunk-4AYNG3KP.js";import"./chunk-Q6QAL4XK.js";import"./chunk-2HVL4WVD.js";import"./chunk-ZDNPLYMC.js";import"./chunk-KR7JNVYJ.js";import"./chunk-H53TJUCR.js";import"./chunk-QBQXGPEE.js";import"./chunk-QRKJYL4P.js";import"./chunk-JE6KLO7C.js";import"./chunk-W5FC2PZ7.js";import"./chunk-TPNYXQ4U.js";import"./chunk-5PLKKHJ2.js";import{Nc as F,Oc as L}from"./chunk-Z6UJEHZN.js";import"./chunk-KF7OGFLI.js";import{Aa as s,Ba as d,Fb as v,Ic as V,Nc as c,Oc as x,Pc as D,Sc as h,Tc as g,Uc as _,_b as E,ac as I,cc as N,dc as k,ec as M,fc as C,gc as o,hc as l,ic as w,pc as T,sb as m,vc as u,yc as f}from"./chunk-IDL4MXQM.js";import{a as y,b as S}from"./chunk-57BLH6QZ.js";function te(p,r){if(p&1){let t=T();o(0,"tr")(1,"td",15),_("nzExpandChange",function(a){s(t);let i=f().$implicit;return g(i.expand,a)||(i.expand=a),d(a)}),u("nzExpandChange",function(a){s(t);let i=f().$implicit,n=f().$implicit,z=f();return d(z.collapse(z.mapOfExpandedData[n.key],i,a))}),c(2),l(),o(3,"td"),c(4),l(),o(5,"td"),c(6),l()()}if(p&2){let t=f().$implicit;m(),C("nzIndentSize",t.level*20)("nzShowExpand",!!t.children),h("nzExpand",t.expand),m(),D(" ",t.name," "),m(2),x(t.age),m(2),x(t.address)}}function ne(p,r){if(p&1&&E(0,te,7,6,"tr"),p&2){let t=r.$implicit;I(t.parent&&t.parent.expand||!t.parent?0:-1)}}function ie(p,r){if(p&1&&k(0,ne,1,1,null,null,N),p&2){let t=r.$implicit,e=f();M(e.mapOfExpandedData[t.key])}}var b=class b{constructor(){this.listOfMapData=[{key:"1",name:"John Brown sr.",age:60,address:"New York No. 1 Lake Park",children:[{key:"1-1",name:"John Brown",age:42,address:"New York No. 2 Lake Park"},{key:"1-2",name:"John Brown jr.",age:30,address:"New York No. 3 Lake Park",children:[{key:"1-2-1",name:"Jimmy Brown",age:16,address:"New York No. 3 Lake Park"}]},{key:"1-3",name:"Jim Green sr.",age:72,address:"London No. 1 Lake Park",children:[{key:"1-3-1",name:"Jim Green",age:42,address:"London No. 2 Lake Park",children:[{key:"1-3-1-1",name:"Jim Green jr.",age:25,address:"London No. 3 Lake Park"},{key:"1-3-1-2",name:"Jimmy Green sr.",age:18,address:"London No. 4 Lake Park"}]}]}]},{key:"2",name:"Joe Black",age:32,address:"Sidney No. 1 Lake Park"}];this.mapOfExpandedData={};this.nameSearchValue="";this.nameFilterVisible=!1;this.ageSearchValue="";this.ageFilterVisible=!1;this.addressSearchValue="";this.addressFilterVisible=!1}get filteredData(){return this.listOfMapData.filter(r=>this.treeNodeMatchAll(r))}treeNodeMatchAll(r){let t=!this.nameSearchValue||this.treeNodeMatch(r,"name",this.nameSearchValue),e=!this.ageSearchValue||this.treeNodeMatch(r,"age",this.ageSearchValue),a=!this.addressSearchValue||this.treeNodeMatch(r,"address",this.addressSearchValue);return t&&e&&a}treeNodeMatch(r,t,e){return(r[t]?String(r[t]):"").includes(e)?!0:r.children?r.children.some(i=>this.treeNodeMatch(i,t,e)):!1}searchName(){this.nameFilterVisible=!1}resetName(){this.nameSearchValue="",this.searchName()}searchAge(){this.ageFilterVisible=!1}resetAge(){this.ageSearchValue="",this.searchAge()}searchAddress(){this.addressFilterVisible=!1}resetAddress(){this.addressSearchValue="",this.searchAddress()}collapse(r,t,e){if(!e)if(t.children)t.children.forEach(a=>{let i=r.find(n=>n.key===a.key);i.expand=!1,this.collapse(r,i,!1)});else return}convertTreeToList(r){let t=[],e=[],a={};for(t.push(S(y({},r),{level:0,expand:!1}));t.length!==0;){let i=t.pop();if(this.visitNode(i,a,e),i.children)for(let n=i.children.length-1;n>=0;n--)t.push(S(y({},i.children[n]),{level:i.level+1,expand:!1,parent:i}))}return e}visitNode(r,t,e){t[r.key]||(t[r.key]=!0,e.push(r))}ngOnInit(){this.listOfMapData.forEach(r=>{this.mapOfExpandedData[r.key]=this.convertTreeToList(r)})}};b.\u0275fac=function(t){return new(t||b)},b.\u0275cmp=v({type:b,selectors:[["nz-demo-table-expand-children"]],decls:46,vars:13,consts:[["expandTable",""],["nameMenu","nzDropdownMenu"],["ageMenu","nzDropdownMenu"],["addressMenu","nzDropdownMenu"],["nzTableLayout","fixed",3,"nzData"],["nzCustomFilter",""],[3,"nzVisibleChange","nzVisible","nzActive","nzDropdownMenu"],["nzType","search"],[1,"ant-table-filter-dropdown"],[1,"search-box"],["type","text","nz-input","","placeholder","Search name",3,"ngModelChange","ngModel"],["nz-button","","nzSize","small","nzType","primary",1,"search-button",3,"click"],["nz-button","","nzSize","small",3,"click"],["type","text","nz-input","","placeholder","Search age",3,"ngModelChange","ngModel"],["type","text","nz-input","","placeholder","Search address",3,"ngModelChange","ngModel"],[3,"nzExpandChange","nzIndentSize","nzShowExpand","nzExpand"]],template:function(t,e){if(t&1){let a=T();o(0,"nz-table",4,0)(2,"thead")(3,"tr")(4,"th",5),c(5," Name "),o(6,"nz-filter-trigger",6),_("nzVisibleChange",function(n){return s(a),g(e.nameFilterVisible,n)||(e.nameFilterVisible=n),d(n)}),w(7,"nz-icon",7),l()(),o(8,"th",5),c(9," Age "),o(10,"nz-filter-trigger",6),_("nzVisibleChange",function(n){return s(a),g(e.ageFilterVisible,n)||(e.ageFilterVisible=n),d(n)}),w(11,"nz-icon",7),l()(),o(12,"th",5),c(13," Address "),o(14,"nz-filter-trigger",6),_("nzVisibleChange",function(n){return s(a),g(e.addressFilterVisible,n)||(e.addressFilterVisible=n),d(n)}),w(15,"nz-icon",7),l()()()(),o(16,"tbody"),k(17,ie,2,0,null,null,N),l()(),o(19,"nz-dropdown-menu",null,1)(21,"div",8)(22,"div",9)(23,"input",10),_("ngModelChange",function(n){return s(a),g(e.nameSearchValue,n)||(e.nameSearchValue=n),d(n)}),l(),o(24,"button",11),u("click",function(){return s(a),d(e.searchName())}),c(25,"Search"),l(),o(26,"button",12),u("click",function(){return s(a),d(e.resetName())}),c(27,"Reset"),l()()()(),o(28,"nz-dropdown-menu",null,2)(30,"div",8)(31,"div",9)(32,"input",13),_("ngModelChange",function(n){return s(a),g(e.ageSearchValue,n)||(e.ageSearchValue=n),d(n)}),l(),o(33,"button",11),u("click",function(){return s(a),d(e.searchAge())}),c(34,"Search"),l(),o(35,"button",12),u("click",function(){return s(a),d(e.resetAge())}),c(36,"Reset"),l()()()(),o(37,"nz-dropdown-menu",null,3)(39,"div",8)(40,"div",9)(41,"input",14),_("ngModelChange",function(n){return s(a),g(e.addressSearchValue,n)||(e.addressSearchValue=n),d(n)}),l(),o(42,"button",11),u("click",function(){return s(a),d(e.searchAddress())}),c(43,"Search"),l(),o(44,"button",12),u("click",function(){return s(a),d(e.resetAddress())}),c(45,"Reset"),l()()()()}if(t&2){let a=V(1),i=V(20),n=V(29),z=V(38);C("nzData",e.filteredData),m(6),h("nzVisible",e.nameFilterVisible),C("nzActive",e.nameSearchValue.length>0)("nzDropdownMenu",i),m(4),h("nzVisible",e.ageFilterVisible),C("nzActive",e.ageSearchValue.length>0)("nzDropdownMenu",n),m(4),h("nzVisible",e.addressFilterVisible),C("nzActive",e.addressSearchValue.length>0)("nzDropdownMenu",z),m(3),M(a.data),m(6),h("ngModel",e.nameSearchValue),m(9),h("ngModel",e.ageSearchValue),m(9),h("ngModel",e.addressSearchValue)}},dependencies:[X,K,R,G,j,Y,U,q,Q,J,B,O,L,F,$,Z,H,P,A,W],styles:[".search-box[_ngcontent-%COMP%]{padding:8px}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:188px;margin-bottom:8px;display:block}.search-box[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:90px}.search-button[_ngcontent-%COMP%]{margin-right:8px}"]});var ee=b;export{ee as HubContractComponent};
