import{a as bl,b as zl,g as wl}from"./chunk-KKDDITM6.js";import{a as di,b as ui,c as ml,d as zn,e as _l,h as gl}from"./chunk-Z7WXXQUY.js";import{f as bn}from"./chunk-W7WNOZ36.js";import{B as Ns,C as ks,D as vn,F as Ps,M as Os,N as Ms,W as li,b as Ri,f as xe,g as bs,r as Es,w as yn,z as Cn}from"./chunk-ADOM5DE2.js";import{c as il,d as nl,e as rl,f as ol,g as al,h as sl}from"./chunk-RPA27FBE.js";import{c as _t,e as ci,f as ll,g as Rr,h as cl,i as dl,k as ul,l as fl,m as pl,n as hl}from"./chunk-P7UYZ3AD.js";import{a as Us,b as Ks,c as Gs}from"./chunk-NCOKEU53.js";import{a as qs,b as Ws,c as Hs,d as Bs,l as Qs,p as Js}from"./chunk-QSPVGXGB.js";import{A as As,E as Ls,G as Wt,L as Xs,M as Zs,N as Ys,O as el,P as tl,d as Ds,j as Vr,k as Is,m as mt,n as Vs,q as Rs,s as Qe,t as js,z as Fs}from"./chunk-ATEC24AJ.js";import{Aa as Pe,Ae as Mr,Cb as f,Db as oe,Ea as zt,Eb as ae,Ec as Ge,Ed as vs,Fb as $r,Fc as L,Fd as ge,G as ei,Ga as ds,Gb as Ke,Gc as ue,H as Be,Hb as Oe,Ib as Me,Ih as Ie,Ja as h,Jd as oi,Jh as Et,K as ts,Ka as Mi,Kh as rt,L as wr,Lh as Nt,M as is,Mb as le,Na as ve,Nb as it,Nc as Fe,Nd as zs,O as Sr,Ob as Q,Od as ai,Pa as us,Pb as hs,Pd as ws,Qa as U,Qb as nt,Ra as Re,Rb as F,Sa as Lt,Sb as re,Tb as se,Th as kt,Ua as de,Uc as Tt,Vb as St,Vd as Ss,Vi as si,W as ns,Wa as O,Wb as xt,Wi as _n,X as xr,Xb as $t,Y as ti,Ya as wt,Yb as Tr,Za as Di,Zb as Er,_ as rs,_b as Ii,_h as Dr,ac as ms,ai as Ir,b as Xa,ba as os,be as kr,bi as Ts,ca as ii,d as Za,da as Ve,db as je,dc as qt,e as pn,ea as as,ec as ri,ee as Pr,ej as gn,f as Ft,fb as $,g as Ya,ga as w,ha as ss,hb as T,hc as _s,ia as ls,ib as Ue,jb as fs,kb as be,kd as Nr,lb as ze,ld as gs,ma as N,mb as _,na as k,nb as z,nc as De,nd as hn,o as br,ob as v,oj as yl,p as Pi,pb as G,pj as Cl,qa as Oi,qe as Or,ra as cs,sa as ni,t as es,tb as we,td as ys,tj as jr,ub as Se,uj as vl,vb as ps,ve as xs,wb as ee,xd as Vi,xi as mn,y as At,ya as ke,yd as Cs,ye as $s,z as zr,za as ce,zb as K}from"./chunk-2RGJ5SZT.js";import{a as S,b as X,c as Qa,d as x,f as Ja,g as vr,i as Yt}from"./chunk-57BLH6QZ.js";var Ai=x(H=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0});H.regexpCode=H.getEsmExportName=H.getProperty=H.safeStringify=H.stringify=H.strConcat=H.addCodeArg=H.str=H._=H.nil=H._Code=H.Name=H.IDENTIFIER=H._CodeOrName=void 0;var ji=class{};H._CodeOrName=ji;H.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;var Ht=class extends ji{constructor(i){if(super(),!H.IDENTIFIER.test(i))throw new Error("CodeGen: name must be a valid identifier");this.str=i}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}};H.Name=Ht;var Ae=class extends ji{constructor(i){super(),this._items=typeof i=="string"?[i]:i}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;let i=this._items[0];return i===""||i==='""'}get str(){var i;return(i=this._str)!==null&&i!==void 0?i:this._str=this._items.reduce((e,n)=>`${e}${n}`,"")}get names(){var i;return(i=this._names)!==null&&i!==void 0?i:this._names=this._items.reduce((e,n)=>(n instanceof Ht&&(e[n.str]=(e[n.str]||0)+1),e),{})}};H._Code=Ae;H.nil=new Ae("");function Sl(t,...i){let e=[t[0]],n=0;for(;n<i.length;)Ar(e,i[n]),e.push(t[++n]);return new Ae(e)}H._=Sl;var Fr=new Ae("+");function xl(t,...i){let e=[Fi(t[0])],n=0;for(;n<i.length;)e.push(Fr),Ar(e,i[n]),e.push(Fr,Fi(t[++n]));return Vu(e),new Ae(e)}H.str=xl;function Ar(t,i){i instanceof Ae?t.push(...i._items):i instanceof Ht?t.push(i):t.push(Fu(i))}H.addCodeArg=Ar;function Vu(t){let i=1;for(;i<t.length-1;){if(t[i]===Fr){let e=Ru(t[i-1],t[i+1]);if(e!==void 0){t.splice(i-1,3,e);continue}t[i++]="+"}i++}}function Ru(t,i){if(i==='""')return t;if(t==='""')return i;if(typeof t=="string")return i instanceof Ht||t[t.length-1]!=='"'?void 0:typeof i!="string"?`${t.slice(0,-1)}${i}"`:i[0]==='"'?t.slice(0,-1)+i.slice(1):void 0;if(typeof i=="string"&&i[0]==='"'&&!(t instanceof Ht))return`"${t}${i.slice(1)}`}function ju(t,i){return i.emptyStr()?t:t.emptyStr()?i:xl`${t}${i}`}H.strConcat=ju;function Fu(t){return typeof t=="number"||typeof t=="boolean"||t===null?t:Fi(Array.isArray(t)?t.join(","):t)}function Au(t){return new Ae(Fi(t))}H.stringify=Au;function Fi(t){return JSON.stringify(t).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}H.safeStringify=Fi;function Lu(t){return typeof t=="string"&&H.IDENTIFIER.test(t)?new Ae(`.${t}`):Sl`[${t}]`}H.getProperty=Lu;function qu(t){if(typeof t=="string"&&H.IDENTIFIER.test(t))return new Ae(`${t}`);throw new Error(`CodeGen: invalid export name: ${t}, use explicit $id name mapping`)}H.getEsmExportName=qu;function Wu(t){return new Ae(t.toString())}H.regexpCode=Wu});var Wr=x(Te=>{"use strict";Object.defineProperty(Te,"__esModule",{value:!0});Te.ValueScope=Te.ValueScopeName=Te.Scope=Te.varKinds=Te.UsedValueState=void 0;var $e=Ai(),Lr=class extends Error{constructor(i){super(`CodeGen: "code" for ${i} not defined`),this.value=i.value}},wn=function(t){return t[t.Started=0]="Started",t[t.Completed=1]="Completed",t}(wn||(Te.UsedValueState=wn={}));Te.varKinds={const:new $e.Name("const"),let:new $e.Name("let"),var:new $e.Name("var")};var Sn=class{constructor({prefixes:i,parent:e}={}){this._names={},this._prefixes=i,this._parent=e}toName(i){return i instanceof $e.Name?i:this.name(i)}name(i){return new $e.Name(this._newName(i))}_newName(i){let e=this._names[i]||this._nameGroup(i);return`${i}${e.index++}`}_nameGroup(i){var e,n;if(!((n=(e=this._parent)===null||e===void 0?void 0:e._prefixes)===null||n===void 0)&&n.has(i)||this._prefixes&&!this._prefixes.has(i))throw new Error(`CodeGen: prefix "${i}" is not allowed in this scope`);return this._names[i]={prefix:i,index:0}}};Te.Scope=Sn;var xn=class extends $e.Name{constructor(i,e){super(e),this.prefix=i}setValue(i,{property:e,itemIndex:n}){this.value=i,this.scopePath=(0,$e._)`.${new $e.Name(e)}[${n}]`}};Te.ValueScopeName=xn;var Hu=(0,$e._)`\n`,qr=class extends Sn{constructor(i){super(i),this._values={},this._scope=i.scope,this.opts=X(S({},i),{_n:i.lines?Hu:$e.nil})}get(){return this._scope}name(i){return new xn(i,this._newName(i))}value(i,e){var n;if(e.ref===void 0)throw new Error("CodeGen: ref must be passed in value");let r=this.toName(i),{prefix:o}=r,a=(n=e.key)!==null&&n!==void 0?n:e.ref,s=this._values[o];if(s){let d=s.get(a);if(d)return d}else s=this._values[o]=new Map;s.set(a,r);let l=this._scope[o]||(this._scope[o]=[]),c=l.length;return l[c]=e.ref,r.setValue(e,{property:o,itemIndex:c}),r}getValue(i,e){let n=this._values[i];if(n)return n.get(e)}scopeRefs(i,e=this._values){return this._reduceValues(e,n=>{if(n.scopePath===void 0)throw new Error(`CodeGen: name "${n}" has no value`);return(0,$e._)`${i}${n.scopePath}`})}scopeCode(i=this._values,e,n){return this._reduceValues(i,r=>{if(r.value===void 0)throw new Error(`CodeGen: name "${r}" has no value`);return r.value.code},e,n)}_reduceValues(i,e,n={},r){let o=$e.nil;for(let a in i){let s=i[a];if(!s)continue;let l=n[a]=n[a]||new Map;s.forEach(c=>{if(l.has(c))return;l.set(c,wn.Started);let d=e(c);if(d){let u=this.opts.es5?Te.varKinds.var:Te.varKinds.const;o=(0,$e._)`${o}${u} ${c} = ${d};${this.opts._n}`}else if(d=r?.(c))o=(0,$e._)`${o}${d}${this.opts._n}`;else throw new Lr(c);l.set(c,wn.Completed)})}return o}};Te.ValueScope=qr});var R=x(j=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});j.or=j.and=j.not=j.CodeGen=j.operators=j.varKinds=j.ValueScopeName=j.ValueScope=j.Scope=j.Name=j.regexpCode=j.stringify=j.getProperty=j.nil=j.strConcat=j.str=j._=void 0;var q=Ai(),Je=Wr(),Pt=Ai();Object.defineProperty(j,"_",{enumerable:!0,get:function(){return Pt._}});Object.defineProperty(j,"str",{enumerable:!0,get:function(){return Pt.str}});Object.defineProperty(j,"strConcat",{enumerable:!0,get:function(){return Pt.strConcat}});Object.defineProperty(j,"nil",{enumerable:!0,get:function(){return Pt.nil}});Object.defineProperty(j,"getProperty",{enumerable:!0,get:function(){return Pt.getProperty}});Object.defineProperty(j,"stringify",{enumerable:!0,get:function(){return Pt.stringify}});Object.defineProperty(j,"regexpCode",{enumerable:!0,get:function(){return Pt.regexpCode}});Object.defineProperty(j,"Name",{enumerable:!0,get:function(){return Pt.Name}});var kn=Wr();Object.defineProperty(j,"Scope",{enumerable:!0,get:function(){return kn.Scope}});Object.defineProperty(j,"ValueScope",{enumerable:!0,get:function(){return kn.ValueScope}});Object.defineProperty(j,"ValueScopeName",{enumerable:!0,get:function(){return kn.ValueScopeName}});Object.defineProperty(j,"varKinds",{enumerable:!0,get:function(){return kn.varKinds}});j.operators={GT:new q._Code(">"),GTE:new q._Code(">="),LT:new q._Code("<"),LTE:new q._Code("<="),EQ:new q._Code("==="),NEQ:new q._Code("!=="),NOT:new q._Code("!"),OR:new q._Code("||"),AND:new q._Code("&&"),ADD:new q._Code("+")};var gt=class{optimizeNodes(){return this}optimizeNames(i,e){return this}},Hr=class extends gt{constructor(i,e,n){super(),this.varKind=i,this.name=e,this.rhs=n}render({es5:i,_n:e}){let n=i?Je.varKinds.var:this.varKind,r=this.rhs===void 0?"":` = ${this.rhs}`;return`${n} ${this.name}${r};`+e}optimizeNames(i,e){if(i[this.name.str])return this.rhs&&(this.rhs=fi(this.rhs,i,e)),this}get names(){return this.rhs instanceof q._CodeOrName?this.rhs.names:{}}},Tn=class extends gt{constructor(i,e,n){super(),this.lhs=i,this.rhs=e,this.sideEffects=n}render({_n:i}){return`${this.lhs} = ${this.rhs};`+i}optimizeNames(i,e){if(!(this.lhs instanceof q.Name&&!i[this.lhs.str]&&!this.sideEffects))return this.rhs=fi(this.rhs,i,e),this}get names(){let i=this.lhs instanceof q.Name?{}:S({},this.lhs.names);return Nn(i,this.rhs)}},Br=class extends Tn{constructor(i,e,n,r){super(i,n,r),this.op=e}render({_n:i}){return`${this.lhs} ${this.op}= ${this.rhs};`+i}},Ur=class extends gt{constructor(i){super(),this.label=i,this.names={}}render({_n:i}){return`${this.label}:`+i}},Kr=class extends gt{constructor(i){super(),this.label=i,this.names={}}render({_n:i}){return`break${this.label?` ${this.label}`:""};`+i}},Gr=class extends gt{constructor(i){super(),this.error=i}render({_n:i}){return`throw ${this.error};`+i}get names(){return this.error.names}},Qr=class extends gt{constructor(i){super(),this.code=i}render({_n:i}){return`${this.code};`+i}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(i,e){return this.code=fi(this.code,i,e),this}get names(){return this.code instanceof q._CodeOrName?this.code.names:{}}},Li=class extends gt{constructor(i=[]){super(),this.nodes=i}render(i){return this.nodes.reduce((e,n)=>e+n.render(i),"")}optimizeNodes(){let{nodes:i}=this,e=i.length;for(;e--;){let n=i[e].optimizeNodes();Array.isArray(n)?i.splice(e,1,...n):n?i[e]=n:i.splice(e,1)}return i.length>0?this:void 0}optimizeNames(i,e){let{nodes:n}=this,r=n.length;for(;r--;){let o=n[r];o.optimizeNames(i,e)||(Bu(i,o.names),n.splice(r,1))}return n.length>0?this:void 0}get names(){return this.nodes.reduce((i,e)=>Bt(i,e.names),{})}},yt=class extends Li{render(i){return"{"+i._n+super.render(i)+"}"+i._n}},Jr=class extends Li{},Xr=(()=>{class t extends yt{}return t.kind="else",t})(),$n=(()=>{class t extends yt{constructor(e,n){super(n),this.condition=e}render(e){let n=`if(${this.condition})`+super.render(e);return this.else&&(n+="else "+this.else.render(e)),n}optimizeNodes(){super.optimizeNodes();let e=this.condition;if(e===!0)return this.nodes;let n=this.else;if(n){let r=n.optimizeNodes();n=this.else=Array.isArray(r)?new Xr(r):r}if(n)return e===!1?n instanceof t?n:n.nodes:this.nodes.length?this:new t(kl(e),n instanceof t?[n]:n.nodes);if(!(e===!1||!this.nodes.length))return this}optimizeNames(e,n){var r;if(this.else=(r=this.else)===null||r===void 0?void 0:r.optimizeNames(e,n),!!(super.optimizeNames(e,n)||this.else))return this.condition=fi(this.condition,e,n),this}get names(){let e=super.names;return Nn(e,this.condition),this.else&&Bt(e,this.else.names),e}}return t.kind="if",t})(),Pn=(()=>{class t extends yt{}return t.kind="for",t})(),Zr=class extends Pn{constructor(i){super(),this.iteration=i}render(i){return`for(${this.iteration})`+super.render(i)}optimizeNames(i,e){if(super.optimizeNames(i,e))return this.iteration=fi(this.iteration,i,e),this}get names(){return Bt(super.names,this.iteration.names)}},Yr=class extends Pn{constructor(i,e,n,r){super(),this.varKind=i,this.name=e,this.from=n,this.to=r}render(i){let e=i.es5?Je.varKinds.var:this.varKind,{name:n,from:r,to:o}=this;return`for(${e} ${n}=${r}; ${n}<${o}; ${n}++)`+super.render(i)}get names(){let i=Nn(super.names,this.from);return Nn(i,this.to)}},En=class extends Pn{constructor(i,e,n,r){super(),this.loop=i,this.varKind=e,this.name=n,this.iterable=r}render(i){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(i)}optimizeNames(i,e){if(super.optimizeNames(i,e))return this.iterable=fi(this.iterable,i,e),this}get names(){return Bt(super.names,this.iterable.names)}},$l=(()=>{class t extends yt{constructor(e,n,r){super(),this.name=e,this.args=n,this.async=r}render(e){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(e)}}return t.kind="func",t})(),Tl=(()=>{class t extends Li{render(e){return"return "+super.render(e)}}return t.kind="return",t})(),eo=class extends yt{render(i){let e="try"+super.render(i);return this.catch&&(e+=this.catch.render(i)),this.finally&&(e+=this.finally.render(i)),e}optimizeNodes(){var i,e;return super.optimizeNodes(),(i=this.catch)===null||i===void 0||i.optimizeNodes(),(e=this.finally)===null||e===void 0||e.optimizeNodes(),this}optimizeNames(i,e){var n,r;return super.optimizeNames(i,e),(n=this.catch)===null||n===void 0||n.optimizeNames(i,e),(r=this.finally)===null||r===void 0||r.optimizeNames(i,e),this}get names(){let i=super.names;return this.catch&&Bt(i,this.catch.names),this.finally&&Bt(i,this.finally.names),i}},El=(()=>{class t extends yt{constructor(e){super(),this.error=e}render(e){return`catch(${this.error})`+super.render(e)}}return t.kind="catch",t})(),Nl=(()=>{class t extends yt{render(e){return"finally"+super.render(e)}}return t.kind="finally",t})(),to=class{constructor(i,e={}){this._values={},this._blockStarts=[],this._constants={},this.opts=X(S({},e),{_n:e.lines?`
`:""}),this._extScope=i,this._scope=new Je.Scope({parent:i}),this._nodes=[new Jr]}toString(){return this._root.render(this.opts)}name(i){return this._scope.name(i)}scopeName(i){return this._extScope.name(i)}scopeValue(i,e){let n=this._extScope.value(i,e);return(this._values[n.prefix]||(this._values[n.prefix]=new Set)).add(n),n}getScopeValue(i,e){return this._extScope.getValue(i,e)}scopeRefs(i){return this._extScope.scopeRefs(i,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(i,e,n,r){let o=this._scope.toName(e);return n!==void 0&&r&&(this._constants[o.str]=n),this._leafNode(new Hr(i,o,n)),o}const(i,e,n){return this._def(Je.varKinds.const,i,e,n)}let(i,e,n){return this._def(Je.varKinds.let,i,e,n)}var(i,e,n){return this._def(Je.varKinds.var,i,e,n)}assign(i,e,n){return this._leafNode(new Tn(i,e,n))}add(i,e){return this._leafNode(new Br(i,j.operators.ADD,e))}code(i){return typeof i=="function"?i():i!==q.nil&&this._leafNode(new Qr(i)),this}object(...i){let e=["{"];for(let[n,r]of i)e.length>1&&e.push(","),e.push(n),(n!==r||this.opts.es5)&&(e.push(":"),(0,q.addCodeArg)(e,r));return e.push("}"),new q._Code(e)}if(i,e,n){if(this._blockNode(new $n(i)),e&&n)this.code(e).else().code(n).endIf();else if(e)this.code(e).endIf();else if(n)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(i){return this._elseNode(new $n(i))}else(){return this._elseNode(new Xr)}endIf(){return this._endBlockNode($n,Xr)}_for(i,e){return this._blockNode(i),e&&this.code(e).endFor(),this}for(i,e){return this._for(new Zr(i),e)}forRange(i,e,n,r,o=this.opts.es5?Je.varKinds.var:Je.varKinds.let){let a=this._scope.toName(i);return this._for(new Yr(o,a,e,n),()=>r(a))}forOf(i,e,n,r=Je.varKinds.const){let o=this._scope.toName(i);if(this.opts.es5){let a=e instanceof q.Name?e:this.var("_arr",e);return this.forRange("_i",0,(0,q._)`${a}.length`,s=>{this.var(o,(0,q._)`${a}[${s}]`),n(o)})}return this._for(new En("of",r,o,e),()=>n(o))}forIn(i,e,n,r=this.opts.es5?Je.varKinds.var:Je.varKinds.const){if(this.opts.ownProperties)return this.forOf(i,(0,q._)`Object.keys(${e})`,n);let o=this._scope.toName(i);return this._for(new En("in",r,o,e),()=>n(o))}endFor(){return this._endBlockNode(Pn)}label(i){return this._leafNode(new Ur(i))}break(i){return this._leafNode(new Kr(i))}return(i){let e=new Tl;if(this._blockNode(e),this.code(i),e.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(Tl)}try(i,e,n){if(!e&&!n)throw new Error('CodeGen: "try" without "catch" and "finally"');let r=new eo;if(this._blockNode(r),this.code(i),e){let o=this.name("e");this._currNode=r.catch=new El(o),e(o)}return n&&(this._currNode=r.finally=new Nl,this.code(n)),this._endBlockNode(El,Nl)}throw(i){return this._leafNode(new Gr(i))}block(i,e){return this._blockStarts.push(this._nodes.length),i&&this.code(i).endBlock(e),this}endBlock(i){let e=this._blockStarts.pop();if(e===void 0)throw new Error("CodeGen: not in self-balancing block");let n=this._nodes.length-e;if(n<0||i!==void 0&&n!==i)throw new Error(`CodeGen: wrong number of nodes: ${n} vs ${i} expected`);return this._nodes.length=e,this}func(i,e=q.nil,n,r){return this._blockNode(new $l(i,e,n)),r&&this.code(r).endFunc(),this}endFunc(){return this._endBlockNode($l)}optimize(i=1){for(;i-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(i){return this._currNode.nodes.push(i),this}_blockNode(i){this._currNode.nodes.push(i),this._nodes.push(i)}_endBlockNode(i,e){let n=this._currNode;if(n instanceof i||e&&n instanceof e)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${e?`${i.kind}/${e.kind}`:i.kind}"`)}_elseNode(i){let e=this._currNode;if(!(e instanceof $n))throw new Error('CodeGen: "else" without "if"');return this._currNode=e.else=i,this}get _root(){return this._nodes[0]}get _currNode(){let i=this._nodes;return i[i.length-1]}set _currNode(i){let e=this._nodes;e[e.length-1]=i}};j.CodeGen=to;function Bt(t,i){for(let e in i)t[e]=(t[e]||0)+(i[e]||0);return t}function Nn(t,i){return i instanceof q._CodeOrName?Bt(t,i.names):t}function fi(t,i,e){if(t instanceof q.Name)return n(t);if(!r(t))return t;return new q._Code(t._items.reduce((o,a)=>(a instanceof q.Name&&(a=n(a)),a instanceof q._Code?o.push(...a._items):o.push(a),o),[]));function n(o){let a=e[o.str];return a===void 0||i[o.str]!==1?o:(delete i[o.str],a)}function r(o){return o instanceof q._Code&&o._items.some(a=>a instanceof q.Name&&i[a.str]===1&&e[a.str]!==void 0)}}function Bu(t,i){for(let e in i)t[e]=(t[e]||0)-(i[e]||0)}function kl(t){return typeof t=="boolean"||typeof t=="number"||t===null?!t:(0,q._)`!${io(t)}`}j.not=kl;var Uu=Pl(j.operators.AND);function Ku(...t){return t.reduce(Uu)}j.and=Ku;var Gu=Pl(j.operators.OR);function Qu(...t){return t.reduce(Gu)}j.or=Qu;function Pl(t){return(i,e)=>i===q.nil?e:e===q.nil?i:(0,q._)`${io(i)} ${t} ${io(e)}`}function io(t){return t instanceof q.Name?t:(0,q._)`(${t})`}});var B=x(A=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0});A.checkStrictMode=A.getErrorPath=A.Type=A.useFunc=A.setEvaluated=A.evaluatedPropsToName=A.mergeEvaluated=A.eachItem=A.unescapeJsonPointer=A.escapeJsonPointer=A.escapeFragment=A.unescapeFragment=A.schemaRefOrVal=A.schemaHasRulesButRef=A.schemaHasRules=A.checkUnknownRules=A.alwaysValidSchema=A.toHash=void 0;var Z=R(),Ju=Ai();function Xu(t){let i={};for(let e of t)i[e]=!0;return i}A.toHash=Xu;function Zu(t,i){return typeof i=="boolean"?i:Object.keys(i).length===0?!0:(Dl(t,i),!Il(i,t.self.RULES.all))}A.alwaysValidSchema=Zu;function Dl(t,i=t.schema){let{opts:e,self:n}=t;if(!e.strictSchema||typeof i=="boolean")return;let r=n.RULES.keywords;for(let o in i)r[o]||jl(t,`unknown keyword: "${o}"`)}A.checkUnknownRules=Dl;function Il(t,i){if(typeof t=="boolean")return!t;for(let e in t)if(i[e])return!0;return!1}A.schemaHasRules=Il;function Yu(t,i){if(typeof t=="boolean")return!t;for(let e in t)if(e!=="$ref"&&i.all[e])return!0;return!1}A.schemaHasRulesButRef=Yu;function ef({topSchemaRef:t,schemaPath:i},e,n,r){if(!r){if(typeof e=="number"||typeof e=="boolean")return e;if(typeof e=="string")return(0,Z._)`${e}`}return(0,Z._)`${t}${i}${(0,Z.getProperty)(n)}`}A.schemaRefOrVal=ef;function tf(t){return Vl(decodeURIComponent(t))}A.unescapeFragment=tf;function nf(t){return encodeURIComponent(ro(t))}A.escapeFragment=nf;function ro(t){return typeof t=="number"?`${t}`:t.replace(/~/g,"~0").replace(/\//g,"~1")}A.escapeJsonPointer=ro;function Vl(t){return t.replace(/~1/g,"/").replace(/~0/g,"~")}A.unescapeJsonPointer=Vl;function rf(t,i){if(Array.isArray(t))for(let e of t)i(e);else i(t)}A.eachItem=rf;function Ol({mergeNames:t,mergeToName:i,mergeValues:e,resultToName:n}){return(r,o,a,s)=>{let l=a===void 0?o:a instanceof Z.Name?(o instanceof Z.Name?t(r,o,a):i(r,o,a),a):o instanceof Z.Name?(i(r,a,o),o):e(o,a);return s===Z.Name&&!(l instanceof Z.Name)?n(r,l):l}}A.mergeEvaluated={props:Ol({mergeNames:(t,i,e)=>t.if((0,Z._)`${e} !== true && ${i} !== undefined`,()=>{t.if((0,Z._)`${i} === true`,()=>t.assign(e,!0),()=>t.assign(e,(0,Z._)`${e} || {}`).code((0,Z._)`Object.assign(${e}, ${i})`))}),mergeToName:(t,i,e)=>t.if((0,Z._)`${e} !== true`,()=>{i===!0?t.assign(e,!0):(t.assign(e,(0,Z._)`${e} || {}`),oo(t,e,i))}),mergeValues:(t,i)=>t===!0?!0:S(S({},t),i),resultToName:Rl}),items:Ol({mergeNames:(t,i,e)=>t.if((0,Z._)`${e} !== true && ${i} !== undefined`,()=>t.assign(e,(0,Z._)`${i} === true ? true : ${e} > ${i} ? ${e} : ${i}`)),mergeToName:(t,i,e)=>t.if((0,Z._)`${e} !== true`,()=>t.assign(e,i===!0?!0:(0,Z._)`${e} > ${i} ? ${e} : ${i}`)),mergeValues:(t,i)=>t===!0?!0:Math.max(t,i),resultToName:(t,i)=>t.var("items",i)})};function Rl(t,i){if(i===!0)return t.var("props",!0);let e=t.var("props",(0,Z._)`{}`);return i!==void 0&&oo(t,e,i),e}A.evaluatedPropsToName=Rl;function oo(t,i,e){Object.keys(e).forEach(n=>t.assign((0,Z._)`${i}${(0,Z.getProperty)(n)}`,!0))}A.setEvaluated=oo;var Ml={};function of(t,i){return t.scopeValue("func",{ref:i,code:Ml[i.code]||(Ml[i.code]=new Ju._Code(i.code))})}A.useFunc=of;var no=function(t){return t[t.Num=0]="Num",t[t.Str=1]="Str",t}(no||(A.Type=no={}));function af(t,i,e){if(t instanceof Z.Name){let n=i===no.Num;return e?n?(0,Z._)`"[" + ${t} + "]"`:(0,Z._)`"['" + ${t} + "']"`:n?(0,Z._)`"/" + ${t}`:(0,Z._)`"/" + ${t}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return e?(0,Z.getProperty)(t).toString():"/"+ro(t)}A.getErrorPath=af;function jl(t,i,e=t.opts.strictSchema){if(e){if(i=`strict mode: ${i}`,e===!0)throw new Error(i);t.self.logger.warn(i)}}A.checkStrictMode=jl});var Ct=x(ao=>{"use strict";Object.defineProperty(ao,"__esModule",{value:!0});var he=R(),sf={data:new he.Name("data"),valCxt:new he.Name("valCxt"),instancePath:new he.Name("instancePath"),parentData:new he.Name("parentData"),parentDataProperty:new he.Name("parentDataProperty"),rootData:new he.Name("rootData"),dynamicAnchors:new he.Name("dynamicAnchors"),vErrors:new he.Name("vErrors"),errors:new he.Name("errors"),this:new he.Name("this"),self:new he.Name("self"),scope:new he.Name("scope"),json:new he.Name("json"),jsonPos:new he.Name("jsonPos"),jsonLen:new he.Name("jsonLen"),jsonPart:new he.Name("jsonPart")};ao.default=sf});var qi=x(me=>{"use strict";Object.defineProperty(me,"__esModule",{value:!0});me.extendErrors=me.resetErrorsCount=me.reportExtraError=me.reportError=me.keyword$DataError=me.keywordError=void 0;var W=R(),On=B(),ye=Ct();me.keywordError={message:({keyword:t})=>(0,W.str)`must pass "${t}" keyword validation`};me.keyword$DataError={message:({keyword:t,schemaType:i})=>i?(0,W.str)`"${t}" keyword must be ${i} ($data)`:(0,W.str)`"${t}" keyword is invalid ($data)`};function lf(t,i=me.keywordError,e,n){let{it:r}=t,{gen:o,compositeRule:a,allErrors:s}=r,l=Ll(t,i,e);n??(a||s)?Fl(o,l):Al(r,(0,W._)`[${l}]`)}me.reportError=lf;function cf(t,i=me.keywordError,e){let{it:n}=t,{gen:r,compositeRule:o,allErrors:a}=n,s=Ll(t,i,e);Fl(r,s),o||a||Al(n,ye.default.vErrors)}me.reportExtraError=cf;function df(t,i){t.assign(ye.default.errors,i),t.if((0,W._)`${ye.default.vErrors} !== null`,()=>t.if(i,()=>t.assign((0,W._)`${ye.default.vErrors}.length`,i),()=>t.assign(ye.default.vErrors,null)))}me.resetErrorsCount=df;function uf({gen:t,keyword:i,schemaValue:e,data:n,errsCount:r,it:o}){if(r===void 0)throw new Error("ajv implementation error");let a=t.name("err");t.forRange("i",r,ye.default.errors,s=>{t.const(a,(0,W._)`${ye.default.vErrors}[${s}]`),t.if((0,W._)`${a}.instancePath === undefined`,()=>t.assign((0,W._)`${a}.instancePath`,(0,W.strConcat)(ye.default.instancePath,o.errorPath))),t.assign((0,W._)`${a}.schemaPath`,(0,W.str)`${o.errSchemaPath}/${i}`),o.opts.verbose&&(t.assign((0,W._)`${a}.schema`,e),t.assign((0,W._)`${a}.data`,n))})}me.extendErrors=uf;function Fl(t,i){let e=t.const("err",i);t.if((0,W._)`${ye.default.vErrors} === null`,()=>t.assign(ye.default.vErrors,(0,W._)`[${e}]`),(0,W._)`${ye.default.vErrors}.push(${e})`),t.code((0,W._)`${ye.default.errors}++`)}function Al(t,i){let{gen:e,validateName:n,schemaEnv:r}=t;r.$async?e.throw((0,W._)`new ${t.ValidationError}(${i})`):(e.assign((0,W._)`${n}.errors`,i),e.return(!1))}var Ut={keyword:new W.Name("keyword"),schemaPath:new W.Name("schemaPath"),params:new W.Name("params"),propertyName:new W.Name("propertyName"),message:new W.Name("message"),schema:new W.Name("schema"),parentSchema:new W.Name("parentSchema")};function Ll(t,i,e){let{createErrors:n}=t.it;return n===!1?(0,W._)`{}`:ff(t,i,e)}function ff(t,i,e={}){let{gen:n,it:r}=t,o=[pf(r,e),hf(t,e)];return mf(t,i,o),n.object(...o)}function pf({errorPath:t},{instancePath:i}){let e=i?(0,W.str)`${t}${(0,On.getErrorPath)(i,On.Type.Str)}`:t;return[ye.default.instancePath,(0,W.strConcat)(ye.default.instancePath,e)]}function hf({keyword:t,it:{errSchemaPath:i}},{schemaPath:e,parentSchema:n}){let r=n?i:(0,W.str)`${i}/${t}`;return e&&(r=(0,W.str)`${r}${(0,On.getErrorPath)(e,On.Type.Str)}`),[Ut.schemaPath,r]}function mf(t,{params:i,message:e},n){let{keyword:r,data:o,schemaValue:a,it:s}=t,{opts:l,propertyName:c,topSchemaRef:d,schemaPath:u}=s;n.push([Ut.keyword,r],[Ut.params,typeof i=="function"?i(t):i||(0,W._)`{}`]),l.messages&&n.push([Ut.message,typeof e=="function"?e(t):e]),l.verbose&&n.push([Ut.schema,a],[Ut.parentSchema,(0,W._)`${d}${u}`],[ye.default.data,o]),c&&n.push([Ut.propertyName,c])}});var Wl=x(pi=>{"use strict";Object.defineProperty(pi,"__esModule",{value:!0});pi.boolOrEmptySchema=pi.topBoolOrEmptySchema=void 0;var _f=qi(),gf=R(),yf=Ct(),Cf={message:"boolean schema is false"};function vf(t){let{gen:i,schema:e,validateName:n}=t;e===!1?ql(t,!1):typeof e=="object"&&e.$async===!0?i.return(yf.default.data):(i.assign((0,gf._)`${n}.errors`,null),i.return(!0))}pi.topBoolOrEmptySchema=vf;function bf(t,i){let{gen:e,schema:n}=t;n===!1?(e.var(i,!1),ql(t)):e.var(i,!0)}pi.boolOrEmptySchema=bf;function ql(t,i){let{gen:e,data:n}=t,r={gen:e,keyword:"false schema",data:n,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:t};(0,_f.reportError)(r,Cf,void 0,i)}});var so=x(hi=>{"use strict";Object.defineProperty(hi,"__esModule",{value:!0});hi.getRules=hi.isJSONType=void 0;var zf=["string","number","integer","boolean","null","object","array"],wf=new Set(zf);function Sf(t){return typeof t=="string"&&wf.has(t)}hi.isJSONType=Sf;function xf(){let t={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:X(S({},t),{integer:!0,boolean:!0,null:!0}),rules:[{rules:[]},t.number,t.string,t.array,t.object],post:{rules:[]},all:{},keywords:{}}}hi.getRules=xf});var lo=x(Ot=>{"use strict";Object.defineProperty(Ot,"__esModule",{value:!0});Ot.shouldUseRule=Ot.shouldUseGroup=Ot.schemaHasRulesForType=void 0;function $f({schema:t,self:i},e){let n=i.RULES.types[e];return n&&n!==!0&&Hl(t,n)}Ot.schemaHasRulesForType=$f;function Hl(t,i){return i.rules.some(e=>Bl(t,e))}Ot.shouldUseGroup=Hl;function Bl(t,i){var e;return t[i.keyword]!==void 0||((e=i.definition.implements)===null||e===void 0?void 0:e.some(n=>t[n]!==void 0))}Ot.shouldUseRule=Bl});var Wi=x(_e=>{"use strict";Object.defineProperty(_e,"__esModule",{value:!0});_e.reportTypeError=_e.checkDataTypes=_e.checkDataType=_e.coerceAndCheckDataType=_e.getJSONTypes=_e.getSchemaTypes=_e.DataType=void 0;var Tf=so(),Ef=lo(),Nf=qi(),V=R(),Ul=B(),mi=function(t){return t[t.Correct=0]="Correct",t[t.Wrong=1]="Wrong",t}(mi||(_e.DataType=mi={}));function kf(t){let i=Kl(t.type);if(i.includes("null")){if(t.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!i.length&&t.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');t.nullable===!0&&i.push("null")}return i}_e.getSchemaTypes=kf;function Kl(t){let i=Array.isArray(t)?t:t?[t]:[];if(i.every(Tf.isJSONType))return i;throw new Error("type must be JSONType or JSONType[]: "+i.join(","))}_e.getJSONTypes=Kl;function Pf(t,i){let{gen:e,data:n,opts:r}=t,o=Of(i,r.coerceTypes),a=i.length>0&&!(o.length===0&&i.length===1&&(0,Ef.schemaHasRulesForType)(t,i[0]));if(a){let s=uo(i,n,r.strictNumbers,mi.Wrong);e.if(s,()=>{o.length?Mf(t,i,o):fo(t)})}return a}_e.coerceAndCheckDataType=Pf;var Gl=new Set(["string","number","integer","boolean","null"]);function Of(t,i){return i?t.filter(e=>Gl.has(e)||i==="array"&&e==="array"):[]}function Mf(t,i,e){let{gen:n,data:r,opts:o}=t,a=n.let("dataType",(0,V._)`typeof ${r}`),s=n.let("coerced",(0,V._)`undefined`);o.coerceTypes==="array"&&n.if((0,V._)`${a} == 'object' && Array.isArray(${r}) && ${r}.length == 1`,()=>n.assign(r,(0,V._)`${r}[0]`).assign(a,(0,V._)`typeof ${r}`).if(uo(i,r,o.strictNumbers),()=>n.assign(s,r))),n.if((0,V._)`${s} !== undefined`);for(let c of e)(Gl.has(c)||c==="array"&&o.coerceTypes==="array")&&l(c);n.else(),fo(t),n.endIf(),n.if((0,V._)`${s} !== undefined`,()=>{n.assign(r,s),Df(t,s)});function l(c){switch(c){case"string":n.elseIf((0,V._)`${a} == "number" || ${a} == "boolean"`).assign(s,(0,V._)`"" + ${r}`).elseIf((0,V._)`${r} === null`).assign(s,(0,V._)`""`);return;case"number":n.elseIf((0,V._)`${a} == "boolean" || ${r} === null
              || (${a} == "string" && ${r} && ${r} == +${r})`).assign(s,(0,V._)`+${r}`);return;case"integer":n.elseIf((0,V._)`${a} === "boolean" || ${r} === null
              || (${a} === "string" && ${r} && ${r} == +${r} && !(${r} % 1))`).assign(s,(0,V._)`+${r}`);return;case"boolean":n.elseIf((0,V._)`${r} === "false" || ${r} === 0 || ${r} === null`).assign(s,!1).elseIf((0,V._)`${r} === "true" || ${r} === 1`).assign(s,!0);return;case"null":n.elseIf((0,V._)`${r} === "" || ${r} === 0 || ${r} === false`),n.assign(s,null);return;case"array":n.elseIf((0,V._)`${a} === "string" || ${a} === "number"
              || ${a} === "boolean" || ${r} === null`).assign(s,(0,V._)`[${r}]`)}}}function Df({gen:t,parentData:i,parentDataProperty:e},n){t.if((0,V._)`${i} !== undefined`,()=>t.assign((0,V._)`${i}[${e}]`,n))}function co(t,i,e,n=mi.Correct){let r=n===mi.Correct?V.operators.EQ:V.operators.NEQ,o;switch(t){case"null":return(0,V._)`${i} ${r} null`;case"array":o=(0,V._)`Array.isArray(${i})`;break;case"object":o=(0,V._)`${i} && typeof ${i} == "object" && !Array.isArray(${i})`;break;case"integer":o=a((0,V._)`!(${i} % 1) && !isNaN(${i})`);break;case"number":o=a();break;default:return(0,V._)`typeof ${i} ${r} ${t}`}return n===mi.Correct?o:(0,V.not)(o);function a(s=V.nil){return(0,V.and)((0,V._)`typeof ${i} == "number"`,s,e?(0,V._)`isFinite(${i})`:V.nil)}}_e.checkDataType=co;function uo(t,i,e,n){if(t.length===1)return co(t[0],i,e,n);let r,o=(0,Ul.toHash)(t);if(o.array&&o.object){let a=(0,V._)`typeof ${i} != "object"`;r=o.null?a:(0,V._)`!${i} || ${a}`,delete o.null,delete o.array,delete o.object}else r=V.nil;o.number&&delete o.integer;for(let a in o)r=(0,V.and)(r,co(a,i,e,n));return r}_e.checkDataTypes=uo;var If={message:({schema:t})=>`must be ${t}`,params:({schema:t,schemaValue:i})=>typeof t=="string"?(0,V._)`{type: ${t}}`:(0,V._)`{type: ${i}}`};function fo(t){let i=Vf(t);(0,Nf.reportError)(i,If)}_e.reportTypeError=fo;function Vf(t){let{gen:i,data:e,schema:n}=t,r=(0,Ul.schemaRefOrVal)(t,n,"type");return{gen:i,keyword:"type",data:e,schema:n.type,schemaCode:r,schemaValue:r,parentSchema:n,params:{},it:t}}});var Jl=x(Mn=>{"use strict";Object.defineProperty(Mn,"__esModule",{value:!0});Mn.assignDefaults=void 0;var _i=R(),Rf=B();function jf(t,i){let{properties:e,items:n}=t.schema;if(i==="object"&&e)for(let r in e)Ql(t,r,e[r].default);else i==="array"&&Array.isArray(n)&&n.forEach((r,o)=>Ql(t,o,r.default))}Mn.assignDefaults=jf;function Ql(t,i,e){let{gen:n,compositeRule:r,data:o,opts:a}=t;if(e===void 0)return;let s=(0,_i._)`${o}${(0,_i.getProperty)(i)}`;if(r){(0,Rf.checkStrictMode)(t,`default is ignored for: ${s}`);return}let l=(0,_i._)`${s} === undefined`;a.useDefaults==="empty"&&(l=(0,_i._)`${l} || ${s} === null || ${s} === ""`),n.if(l,(0,_i._)`${s} = ${(0,_i.stringify)(e)}`)}});var Le=x(J=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0});J.validateUnion=J.validateArray=J.usePattern=J.callValidateCode=J.schemaProperties=J.allSchemaProperties=J.noPropertyInData=J.propertyInData=J.isOwnProperty=J.hasPropFunc=J.reportMissingProp=J.checkMissingProp=J.checkReportMissingProp=void 0;var te=R(),po=B(),Mt=Ct(),Ff=B();function Af(t,i){let{gen:e,data:n,it:r}=t;e.if(mo(e,n,i,r.opts.ownProperties),()=>{t.setParams({missingProperty:(0,te._)`${i}`},!0),t.error()})}J.checkReportMissingProp=Af;function Lf({gen:t,data:i,it:{opts:e}},n,r){return(0,te.or)(...n.map(o=>(0,te.and)(mo(t,i,o,e.ownProperties),(0,te._)`${r} = ${o}`)))}J.checkMissingProp=Lf;function qf(t,i){t.setParams({missingProperty:i},!0),t.error()}J.reportMissingProp=qf;function Xl(t){return t.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,te._)`Object.prototype.hasOwnProperty`})}J.hasPropFunc=Xl;function ho(t,i,e){return(0,te._)`${Xl(t)}.call(${i}, ${e})`}J.isOwnProperty=ho;function Wf(t,i,e,n){let r=(0,te._)`${i}${(0,te.getProperty)(e)} !== undefined`;return n?(0,te._)`${r} && ${ho(t,i,e)}`:r}J.propertyInData=Wf;function mo(t,i,e,n){let r=(0,te._)`${i}${(0,te.getProperty)(e)} === undefined`;return n?(0,te.or)(r,(0,te.not)(ho(t,i,e))):r}J.noPropertyInData=mo;function Zl(t){return t?Object.keys(t).filter(i=>i!=="__proto__"):[]}J.allSchemaProperties=Zl;function Hf(t,i){return Zl(i).filter(e=>!(0,po.alwaysValidSchema)(t,i[e]))}J.schemaProperties=Hf;function Bf({schemaCode:t,data:i,it:{gen:e,topSchemaRef:n,schemaPath:r,errorPath:o},it:a},s,l,c){let d=c?(0,te._)`${t}, ${i}, ${n}${r}`:i,u=[[Mt.default.instancePath,(0,te.strConcat)(Mt.default.instancePath,o)],[Mt.default.parentData,a.parentData],[Mt.default.parentDataProperty,a.parentDataProperty],[Mt.default.rootData,Mt.default.rootData]];a.opts.dynamicRef&&u.push([Mt.default.dynamicAnchors,Mt.default.dynamicAnchors]);let g=(0,te._)`${d}, ${e.object(...u)}`;return l!==te.nil?(0,te._)`${s}.call(${l}, ${g})`:(0,te._)`${s}(${g})`}J.callValidateCode=Bf;var Uf=(0,te._)`new RegExp`;function Kf({gen:t,it:{opts:i}},e){let n=i.unicodeRegExp?"u":"",{regExp:r}=i.code,o=r(e,n);return t.scopeValue("pattern",{key:o.toString(),ref:o,code:(0,te._)`${r.code==="new RegExp"?Uf:(0,Ff.useFunc)(t,r)}(${e}, ${n})`})}J.usePattern=Kf;function Gf(t){let{gen:i,data:e,keyword:n,it:r}=t,o=i.name("valid");if(r.allErrors){let s=i.let("valid",!0);return a(()=>i.assign(s,!1)),s}return i.var(o,!0),a(()=>i.break()),o;function a(s){let l=i.const("len",(0,te._)`${e}.length`);i.forRange("i",0,l,c=>{t.subschema({keyword:n,dataProp:c,dataPropType:po.Type.Num},o),i.if((0,te.not)(o),s)})}}J.validateArray=Gf;function Qf(t){let{gen:i,schema:e,keyword:n,it:r}=t;if(!Array.isArray(e))throw new Error("ajv implementation error");if(e.some(l=>(0,po.alwaysValidSchema)(r,l))&&!r.opts.unevaluated)return;let a=i.let("valid",!1),s=i.name("_valid");i.block(()=>e.forEach((l,c)=>{let d=t.subschema({keyword:n,schemaProp:c,compositeRule:!0},s);i.assign(a,(0,te._)`${a} || ${s}`),t.mergeValidEvaluated(d,s)||i.if((0,te.not)(a))})),t.result(a,()=>t.reset(),()=>t.error(!0))}J.validateUnion=Qf});var tc=x(ot=>{"use strict";Object.defineProperty(ot,"__esModule",{value:!0});ot.validateKeywordUsage=ot.validSchemaType=ot.funcKeywordCode=ot.macroKeywordCode=void 0;var Ce=R(),Kt=Ct(),Jf=Le(),Xf=qi();function Zf(t,i){let{gen:e,keyword:n,schema:r,parentSchema:o,it:a}=t,s=i.macro.call(a.self,r,o,a),l=ec(e,n,s);a.opts.validateSchema!==!1&&a.self.validateSchema(s,!0);let c=e.name("valid");t.subschema({schema:s,schemaPath:Ce.nil,errSchemaPath:`${a.errSchemaPath}/${n}`,topSchemaRef:l,compositeRule:!0},c),t.pass(c,()=>t.error(!0))}ot.macroKeywordCode=Zf;function Yf(t,i){var e;let{gen:n,keyword:r,schema:o,parentSchema:a,$data:s,it:l}=t;tp(l,i);let c=!s&&i.compile?i.compile.call(l.self,o,a,l):i.validate,d=ec(n,r,c),u=n.let("valid");t.block$data(u,g),t.ok((e=i.valid)!==null&&e!==void 0?e:u);function g(){if(i.errors===!1)C(),i.modifying&&Yl(t),p(()=>t.error());else{let b=i.async?y():m();i.modifying&&Yl(t),p(()=>ep(t,b))}}function y(){let b=n.let("ruleErrs",null);return n.try(()=>C((0,Ce._)`await `),D=>n.assign(u,!1).if((0,Ce._)`${D} instanceof ${l.ValidationError}`,()=>n.assign(b,(0,Ce._)`${D}.errors`),()=>n.throw(D))),b}function m(){let b=(0,Ce._)`${d}.errors`;return n.assign(b,null),C(Ce.nil),b}function C(b=i.async?(0,Ce._)`await `:Ce.nil){let D=l.opts.passContext?Kt.default.this:Kt.default.self,I=!("compile"in i&&!s||i.schema===!1);n.assign(u,(0,Ce._)`${b}${(0,Jf.callValidateCode)(t,d,D,I)}`,i.modifying)}function p(b){var D;n.if((0,Ce.not)((D=i.valid)!==null&&D!==void 0?D:u),b)}}ot.funcKeywordCode=Yf;function Yl(t){let{gen:i,data:e,it:n}=t;i.if(n.parentData,()=>i.assign(e,(0,Ce._)`${n.parentData}[${n.parentDataProperty}]`))}function ep(t,i){let{gen:e}=t;e.if((0,Ce._)`Array.isArray(${i})`,()=>{e.assign(Kt.default.vErrors,(0,Ce._)`${Kt.default.vErrors} === null ? ${i} : ${Kt.default.vErrors}.concat(${i})`).assign(Kt.default.errors,(0,Ce._)`${Kt.default.vErrors}.length`),(0,Xf.extendErrors)(t)},()=>t.error())}function tp({schemaEnv:t},i){if(i.async&&!t.$async)throw new Error("async keyword in sync schema")}function ec(t,i,e){if(e===void 0)throw new Error(`keyword "${i}" failed to compile`);return t.scopeValue("keyword",typeof e=="function"?{ref:e}:{ref:e,code:(0,Ce.stringify)(e)})}function ip(t,i,e=!1){return!i.length||i.some(n=>n==="array"?Array.isArray(t):n==="object"?t&&typeof t=="object"&&!Array.isArray(t):typeof t==n||e&&typeof t>"u")}ot.validSchemaType=ip;function np({schema:t,opts:i,self:e,errSchemaPath:n},r,o){if(Array.isArray(r.keyword)?!r.keyword.includes(o):r.keyword!==o)throw new Error("ajv implementation error");let a=r.dependencies;if(a?.some(s=>!Object.prototype.hasOwnProperty.call(t,s)))throw new Error(`parent schema must have dependencies of ${o}: ${a.join(",")}`);if(r.validateSchema&&!r.validateSchema(t[o])){let l=`keyword "${o}" value is invalid at path "${n}": `+e.errorsText(r.validateSchema.errors);if(i.validateSchema==="log")e.logger.error(l);else throw new Error(l)}}ot.validateKeywordUsage=np});var nc=x(Dt=>{"use strict";Object.defineProperty(Dt,"__esModule",{value:!0});Dt.extendSubschemaMode=Dt.extendSubschemaData=Dt.getSubschema=void 0;var at=R(),ic=B();function rp(t,{keyword:i,schemaProp:e,schema:n,schemaPath:r,errSchemaPath:o,topSchemaRef:a}){if(i!==void 0&&n!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(i!==void 0){let s=t.schema[i];return e===void 0?{schema:s,schemaPath:(0,at._)`${t.schemaPath}${(0,at.getProperty)(i)}`,errSchemaPath:`${t.errSchemaPath}/${i}`}:{schema:s[e],schemaPath:(0,at._)`${t.schemaPath}${(0,at.getProperty)(i)}${(0,at.getProperty)(e)}`,errSchemaPath:`${t.errSchemaPath}/${i}/${(0,ic.escapeFragment)(e)}`}}if(n!==void 0){if(r===void 0||o===void 0||a===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:n,schemaPath:r,topSchemaRef:a,errSchemaPath:o}}throw new Error('either "keyword" or "schema" must be passed')}Dt.getSubschema=rp;function op(t,i,{dataProp:e,dataPropType:n,data:r,dataTypes:o,propertyName:a}){if(r!==void 0&&e!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');let{gen:s}=i;if(e!==void 0){let{errorPath:c,dataPathArr:d,opts:u}=i,g=s.let("data",(0,at._)`${i.data}${(0,at.getProperty)(e)}`,!0);l(g),t.errorPath=(0,at.str)`${c}${(0,ic.getErrorPath)(e,n,u.jsPropertySyntax)}`,t.parentDataProperty=(0,at._)`${e}`,t.dataPathArr=[...d,t.parentDataProperty]}if(r!==void 0){let c=r instanceof at.Name?r:s.let("data",r,!0);l(c),a!==void 0&&(t.propertyName=a)}o&&(t.dataTypes=o);function l(c){t.data=c,t.dataLevel=i.dataLevel+1,t.dataTypes=[],i.definedProperties=new Set,t.parentData=i.data,t.dataNames=[...i.dataNames,c]}}Dt.extendSubschemaData=op;function ap(t,{jtdDiscriminator:i,jtdMetadata:e,compositeRule:n,createErrors:r,allErrors:o}){n!==void 0&&(t.compositeRule=n),r!==void 0&&(t.createErrors=r),o!==void 0&&(t.allErrors=o),t.jtdDiscriminator=i,t.jtdMetadata=e}Dt.extendSubschemaMode=ap});var _o=x((uv,rc)=>{"use strict";rc.exports=function t(i,e){if(i===e)return!0;if(i&&e&&typeof i=="object"&&typeof e=="object"){if(i.constructor!==e.constructor)return!1;var n,r,o;if(Array.isArray(i)){if(n=i.length,n!=e.length)return!1;for(r=n;r--!==0;)if(!t(i[r],e[r]))return!1;return!0}if(i.constructor===RegExp)return i.source===e.source&&i.flags===e.flags;if(i.valueOf!==Object.prototype.valueOf)return i.valueOf()===e.valueOf();if(i.toString!==Object.prototype.toString)return i.toString()===e.toString();if(o=Object.keys(i),n=o.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(e,o[r]))return!1;for(r=n;r--!==0;){var a=o[r];if(!t(i[a],e[a]))return!1}return!0}return i!==i&&e!==e}});var ac=x((fv,oc)=>{"use strict";var It=oc.exports=function(t,i,e){typeof i=="function"&&(e=i,i={}),e=i.cb||e;var n=typeof e=="function"?e:e.pre||function(){},r=e.post||function(){};Dn(i,n,r,t,"",t)};It.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};It.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};It.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};It.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function Dn(t,i,e,n,r,o,a,s,l,c){if(n&&typeof n=="object"&&!Array.isArray(n)){i(n,r,o,a,s,l,c);for(var d in n){var u=n[d];if(Array.isArray(u)){if(d in It.arrayKeywords)for(var g=0;g<u.length;g++)Dn(t,i,e,u[g],r+"/"+d+"/"+g,o,r,d,n,g)}else if(d in It.propsKeywords){if(u&&typeof u=="object")for(var y in u)Dn(t,i,e,u[y],r+"/"+d+"/"+sp(y),o,r,d,n,y)}else(d in It.keywords||t.allKeys&&!(d in It.skipKeywords))&&Dn(t,i,e,u,r+"/"+d,o,r,d,n)}e(n,r,o,a,s,l,c)}}function sp(t){return t.replace(/~/g,"~0").replace(/\//g,"~1")}});var Hi=x(Ee=>{"use strict";Object.defineProperty(Ee,"__esModule",{value:!0});Ee.getSchemaRefs=Ee.resolveUrl=Ee.normalizeId=Ee._getFullPath=Ee.getFullPath=Ee.inlineRef=void 0;var lp=B(),cp=_o(),dp=ac(),up=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function fp(t,i=!0){return typeof t=="boolean"?!0:i===!0?!go(t):i?sc(t)<=i:!1}Ee.inlineRef=fp;var pp=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function go(t){for(let i in t){if(pp.has(i))return!0;let e=t[i];if(Array.isArray(e)&&e.some(go)||typeof e=="object"&&go(e))return!0}return!1}function sc(t){let i=0;for(let e in t){if(e==="$ref")return 1/0;if(i++,!up.has(e)&&(typeof t[e]=="object"&&(0,lp.eachItem)(t[e],n=>i+=sc(n)),i===1/0))return 1/0}return i}function lc(t,i="",e){e!==!1&&(i=gi(i));let n=t.parse(i);return cc(t,n)}Ee.getFullPath=lc;function cc(t,i){return t.serialize(i).split("#")[0]+"#"}Ee._getFullPath=cc;var hp=/#\/?$/;function gi(t){return t?t.replace(hp,""):""}Ee.normalizeId=gi;function mp(t,i,e){return e=gi(e),t.resolve(i,e)}Ee.resolveUrl=mp;var _p=/^[a-z_][-a-z0-9._]*$/i;function gp(t,i){if(typeof t=="boolean")return{};let{schemaId:e,uriResolver:n}=this.opts,r=gi(t[e]||i),o={"":r},a=lc(n,r,!1),s={},l=new Set;return dp(t,{allKeys:!0},(u,g,y,m)=>{if(m===void 0)return;let C=a+g,p=o[m];typeof u[e]=="string"&&(p=b.call(this,u[e])),D.call(this,u.$anchor),D.call(this,u.$dynamicAnchor),o[g]=p;function b(I){let Y=this.opts.uriResolver.resolve;if(I=gi(p?Y(p,I):I),l.has(I))throw d(I);l.add(I);let M=this.refs[I];return typeof M=="string"&&(M=this.refs[M]),typeof M=="object"?c(u,M.schema,I):I!==gi(C)&&(I[0]==="#"?(c(u,s[I],I),s[I]=u):this.refs[I]=C),I}function D(I){if(typeof I=="string"){if(!_p.test(I))throw new Error(`invalid anchor "${I}"`);b.call(this,`#${I}`)}}}),s;function c(u,g,y){if(g!==void 0&&!cp(u,g))throw d(y)}function d(u){return new Error(`reference "${u}" resolves to more than one schema`)}}Ee.getSchemaRefs=gp});var Ki=x(Vt=>{"use strict";Object.defineProperty(Vt,"__esModule",{value:!0});Vt.getData=Vt.KeywordCxt=Vt.validateFunctionCode=void 0;var hc=Wl(),dc=Wi(),Co=lo(),In=Wi(),yp=Jl(),Ui=tc(),yo=nc(),E=R(),P=Ct(),Cp=Hi(),vt=B(),Bi=qi();function vp(t){if(gc(t)&&(yc(t),_c(t))){wp(t);return}mc(t,()=>(0,hc.topBoolOrEmptySchema)(t))}Vt.validateFunctionCode=vp;function mc({gen:t,validateName:i,schema:e,schemaEnv:n,opts:r},o){r.code.es5?t.func(i,(0,E._)`${P.default.data}, ${P.default.valCxt}`,n.$async,()=>{t.code((0,E._)`"use strict"; ${uc(e,r)}`),zp(t,r),t.code(o)}):t.func(i,(0,E._)`${P.default.data}, ${bp(r)}`,n.$async,()=>t.code(uc(e,r)).code(o))}function bp(t){return(0,E._)`{${P.default.instancePath}="", ${P.default.parentData}, ${P.default.parentDataProperty}, ${P.default.rootData}=${P.default.data}${t.dynamicRef?(0,E._)`, ${P.default.dynamicAnchors}={}`:E.nil}}={}`}function zp(t,i){t.if(P.default.valCxt,()=>{t.var(P.default.instancePath,(0,E._)`${P.default.valCxt}.${P.default.instancePath}`),t.var(P.default.parentData,(0,E._)`${P.default.valCxt}.${P.default.parentData}`),t.var(P.default.parentDataProperty,(0,E._)`${P.default.valCxt}.${P.default.parentDataProperty}`),t.var(P.default.rootData,(0,E._)`${P.default.valCxt}.${P.default.rootData}`),i.dynamicRef&&t.var(P.default.dynamicAnchors,(0,E._)`${P.default.valCxt}.${P.default.dynamicAnchors}`)},()=>{t.var(P.default.instancePath,(0,E._)`""`),t.var(P.default.parentData,(0,E._)`undefined`),t.var(P.default.parentDataProperty,(0,E._)`undefined`),t.var(P.default.rootData,P.default.data),i.dynamicRef&&t.var(P.default.dynamicAnchors,(0,E._)`{}`)})}function wp(t){let{schema:i,opts:e,gen:n}=t;mc(t,()=>{e.$comment&&i.$comment&&vc(t),Ep(t),n.let(P.default.vErrors,null),n.let(P.default.errors,0),e.unevaluated&&Sp(t),Cc(t),Pp(t)})}function Sp(t){let{gen:i,validateName:e}=t;t.evaluated=i.const("evaluated",(0,E._)`${e}.evaluated`),i.if((0,E._)`${t.evaluated}.dynamicProps`,()=>i.assign((0,E._)`${t.evaluated}.props`,(0,E._)`undefined`)),i.if((0,E._)`${t.evaluated}.dynamicItems`,()=>i.assign((0,E._)`${t.evaluated}.items`,(0,E._)`undefined`))}function uc(t,i){let e=typeof t=="object"&&t[i.schemaId];return e&&(i.code.source||i.code.process)?(0,E._)`/*# sourceURL=${e} */`:E.nil}function xp(t,i){if(gc(t)&&(yc(t),_c(t))){$p(t,i);return}(0,hc.boolOrEmptySchema)(t,i)}function _c({schema:t,self:i}){if(typeof t=="boolean")return!t;for(let e in t)if(i.RULES.all[e])return!0;return!1}function gc(t){return typeof t.schema!="boolean"}function $p(t,i){let{schema:e,gen:n,opts:r}=t;r.$comment&&e.$comment&&vc(t),Np(t),kp(t);let o=n.const("_errs",P.default.errors);Cc(t,o),n.var(i,(0,E._)`${o} === ${P.default.errors}`)}function yc(t){(0,vt.checkUnknownRules)(t),Tp(t)}function Cc(t,i){if(t.opts.jtd)return fc(t,[],!1,i);let e=(0,dc.getSchemaTypes)(t.schema),n=(0,dc.coerceAndCheckDataType)(t,e);fc(t,e,!n,i)}function Tp(t){let{schema:i,errSchemaPath:e,opts:n,self:r}=t;i.$ref&&n.ignoreKeywordsWithRef&&(0,vt.schemaHasRulesButRef)(i,r.RULES)&&r.logger.warn(`$ref: keywords ignored in schema at path "${e}"`)}function Ep(t){let{schema:i,opts:e}=t;i.default!==void 0&&e.useDefaults&&e.strictSchema&&(0,vt.checkStrictMode)(t,"default is ignored in the schema root")}function Np(t){let i=t.schema[t.opts.schemaId];i&&(t.baseId=(0,Cp.resolveUrl)(t.opts.uriResolver,t.baseId,i))}function kp(t){if(t.schema.$async&&!t.schemaEnv.$async)throw new Error("async schema in sync schema")}function vc({gen:t,schemaEnv:i,schema:e,errSchemaPath:n,opts:r}){let o=e.$comment;if(r.$comment===!0)t.code((0,E._)`${P.default.self}.logger.log(${o})`);else if(typeof r.$comment=="function"){let a=(0,E.str)`${n}/$comment`,s=t.scopeValue("root",{ref:i.root});t.code((0,E._)`${P.default.self}.opts.$comment(${o}, ${a}, ${s}.schema)`)}}function Pp(t){let{gen:i,schemaEnv:e,validateName:n,ValidationError:r,opts:o}=t;e.$async?i.if((0,E._)`${P.default.errors} === 0`,()=>i.return(P.default.data),()=>i.throw((0,E._)`new ${r}(${P.default.vErrors})`)):(i.assign((0,E._)`${n}.errors`,P.default.vErrors),o.unevaluated&&Op(t),i.return((0,E._)`${P.default.errors} === 0`))}function Op({gen:t,evaluated:i,props:e,items:n}){e instanceof E.Name&&t.assign((0,E._)`${i}.props`,e),n instanceof E.Name&&t.assign((0,E._)`${i}.items`,n)}function fc(t,i,e,n){let{gen:r,schema:o,data:a,allErrors:s,opts:l,self:c}=t,{RULES:d}=c;if(o.$ref&&(l.ignoreKeywordsWithRef||!(0,vt.schemaHasRulesButRef)(o,d))){r.block(()=>zc(t,"$ref",d.all.$ref.definition));return}l.jtd||Mp(t,i),r.block(()=>{for(let g of d.rules)u(g);u(d.post)});function u(g){(0,Co.shouldUseGroup)(o,g)&&(g.type?(r.if((0,In.checkDataType)(g.type,a,l.strictNumbers)),pc(t,g),i.length===1&&i[0]===g.type&&e&&(r.else(),(0,In.reportTypeError)(t)),r.endIf()):pc(t,g),s||r.if((0,E._)`${P.default.errors} === ${n||0}`))}}function pc(t,i){let{gen:e,schema:n,opts:{useDefaults:r}}=t;r&&(0,yp.assignDefaults)(t,i.type),e.block(()=>{for(let o of i.rules)(0,Co.shouldUseRule)(n,o)&&zc(t,o.keyword,o.definition,i.type)})}function Mp(t,i){t.schemaEnv.meta||!t.opts.strictTypes||(Dp(t,i),t.opts.allowUnionTypes||Ip(t,i),Vp(t,t.dataTypes))}function Dp(t,i){if(i.length){if(!t.dataTypes.length){t.dataTypes=i;return}i.forEach(e=>{bc(t.dataTypes,e)||vo(t,`type "${e}" not allowed by context "${t.dataTypes.join(",")}"`)}),jp(t,i)}}function Ip(t,i){i.length>1&&!(i.length===2&&i.includes("null"))&&vo(t,"use allowUnionTypes to allow union type keyword")}function Vp(t,i){let e=t.self.RULES.all;for(let n in e){let r=e[n];if(typeof r=="object"&&(0,Co.shouldUseRule)(t.schema,r)){let{type:o}=r.definition;o.length&&!o.some(a=>Rp(i,a))&&vo(t,`missing type "${o.join(",")}" for keyword "${n}"`)}}}function Rp(t,i){return t.includes(i)||i==="number"&&t.includes("integer")}function bc(t,i){return t.includes(i)||i==="integer"&&t.includes("number")}function jp(t,i){let e=[];for(let n of t.dataTypes)bc(i,n)?e.push(n):i.includes("integer")&&n==="number"&&e.push("integer");t.dataTypes=e}function vo(t,i){let e=t.schemaEnv.baseId+t.errSchemaPath;i+=` at "${e}" (strictTypes)`,(0,vt.checkStrictMode)(t,i,t.opts.strictTypes)}var Vn=class{constructor(i,e,n){if((0,Ui.validateKeywordUsage)(i,e,n),this.gen=i.gen,this.allErrors=i.allErrors,this.keyword=n,this.data=i.data,this.schema=i.schema[n],this.$data=e.$data&&i.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,vt.schemaRefOrVal)(i,this.schema,n,this.$data),this.schemaType=e.schemaType,this.parentSchema=i.schema,this.params={},this.it=i,this.def=e,this.$data)this.schemaCode=i.gen.const("vSchema",wc(this.$data,i));else if(this.schemaCode=this.schemaValue,!(0,Ui.validSchemaType)(this.schema,e.schemaType,e.allowUndefined))throw new Error(`${n} value must be ${JSON.stringify(e.schemaType)}`);("code"in e?e.trackErrors:e.errors!==!1)&&(this.errsCount=i.gen.const("_errs",P.default.errors))}result(i,e,n){this.failResult((0,E.not)(i),e,n)}failResult(i,e,n){this.gen.if(i),n?n():this.error(),e?(this.gen.else(),e(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(i,e){this.failResult((0,E.not)(i),void 0,e)}fail(i){if(i===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(i),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(i){if(!this.$data)return this.fail(i);let{schemaCode:e}=this;this.fail((0,E._)`${e} !== undefined && (${(0,E.or)(this.invalid$data(),i)})`)}error(i,e,n){if(e){this.setParams(e),this._error(i,n),this.setParams({});return}this._error(i,n)}_error(i,e){(i?Bi.reportExtraError:Bi.reportError)(this,this.def.error,e)}$dataError(){(0,Bi.reportError)(this,this.def.$dataError||Bi.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,Bi.resetErrorsCount)(this.gen,this.errsCount)}ok(i){this.allErrors||this.gen.if(i)}setParams(i,e){e?Object.assign(this.params,i):this.params=i}block$data(i,e,n=E.nil){this.gen.block(()=>{this.check$data(i,n),e()})}check$data(i=E.nil,e=E.nil){if(!this.$data)return;let{gen:n,schemaCode:r,schemaType:o,def:a}=this;n.if((0,E.or)((0,E._)`${r} === undefined`,e)),i!==E.nil&&n.assign(i,!0),(o.length||a.validateSchema)&&(n.elseIf(this.invalid$data()),this.$dataError(),i!==E.nil&&n.assign(i,!1)),n.else()}invalid$data(){let{gen:i,schemaCode:e,schemaType:n,def:r,it:o}=this;return(0,E.or)(a(),s());function a(){if(n.length){if(!(e instanceof E.Name))throw new Error("ajv implementation error");let l=Array.isArray(n)?n:[n];return(0,E._)`${(0,In.checkDataTypes)(l,e,o.opts.strictNumbers,In.DataType.Wrong)}`}return E.nil}function s(){if(r.validateSchema){let l=i.scopeValue("validate$data",{ref:r.validateSchema});return(0,E._)`!${l}(${e})`}return E.nil}}subschema(i,e){let n=(0,yo.getSubschema)(this.it,i);(0,yo.extendSubschemaData)(n,this.it,i),(0,yo.extendSubschemaMode)(n,i);let r=X(S(S({},this.it),n),{items:void 0,props:void 0});return xp(r,e),r}mergeEvaluated(i,e){let{it:n,gen:r}=this;n.opts.unevaluated&&(n.props!==!0&&i.props!==void 0&&(n.props=vt.mergeEvaluated.props(r,i.props,n.props,e)),n.items!==!0&&i.items!==void 0&&(n.items=vt.mergeEvaluated.items(r,i.items,n.items,e)))}mergeValidEvaluated(i,e){let{it:n,gen:r}=this;if(n.opts.unevaluated&&(n.props!==!0||n.items!==!0))return r.if(e,()=>this.mergeEvaluated(i,E.Name)),!0}};Vt.KeywordCxt=Vn;function zc(t,i,e,n){let r=new Vn(t,e,i);"code"in e?e.code(r,n):r.$data&&e.validate?(0,Ui.funcKeywordCode)(r,e):"macro"in e?(0,Ui.macroKeywordCode)(r,e):(e.compile||e.validate)&&(0,Ui.funcKeywordCode)(r,e)}var Fp=/^\/(?:[^~]|~0|~1)*$/,Ap=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function wc(t,{dataLevel:i,dataNames:e,dataPathArr:n}){let r,o;if(t==="")return P.default.rootData;if(t[0]==="/"){if(!Fp.test(t))throw new Error(`Invalid JSON-pointer: ${t}`);r=t,o=P.default.rootData}else{let c=Ap.exec(t);if(!c)throw new Error(`Invalid JSON-pointer: ${t}`);let d=+c[1];if(r=c[2],r==="#"){if(d>=i)throw new Error(l("property/index",d));return n[i-d]}if(d>i)throw new Error(l("data",d));if(o=e[i-d],!r)return o}let a=o,s=r.split("/");for(let c of s)c&&(o=(0,E._)`${o}${(0,E.getProperty)((0,vt.unescapeJsonPointer)(c))}`,a=(0,E._)`${a} && ${o}`);return a;function l(c,d){return`Cannot access ${c} ${d} levels up, current level is ${i}`}}Vt.getData=wc});var Rn=x(zo=>{"use strict";Object.defineProperty(zo,"__esModule",{value:!0});var bo=class extends Error{constructor(i){super("validation failed"),this.errors=i,this.ajv=this.validation=!0}};zo.default=bo});var Gi=x(xo=>{"use strict";Object.defineProperty(xo,"__esModule",{value:!0});var wo=Hi(),So=class extends Error{constructor(i,e,n,r){super(r||`can't resolve reference ${n} from id ${e}`),this.missingRef=(0,wo.resolveUrl)(i,e,n),this.missingSchema=(0,wo.normalizeId)((0,wo.getFullPath)(i,this.missingRef))}};xo.default=So});var Fn=x(qe=>{"use strict";Object.defineProperty(qe,"__esModule",{value:!0});qe.resolveSchema=qe.getCompilingSchema=qe.resolveRef=qe.compileSchema=qe.SchemaEnv=void 0;var Xe=R(),Lp=Rn(),Gt=Ct(),Ze=Hi(),Sc=B(),qp=Ki(),yi=class{constructor(i){var e;this.refs={},this.dynamicAnchors={};let n;typeof i.schema=="object"&&(n=i.schema),this.schema=i.schema,this.schemaId=i.schemaId,this.root=i.root||this,this.baseId=(e=i.baseId)!==null&&e!==void 0?e:(0,Ze.normalizeId)(n?.[i.schemaId||"$id"]),this.schemaPath=i.schemaPath,this.localRefs=i.localRefs,this.meta=i.meta,this.$async=n?.$async,this.refs={}}};qe.SchemaEnv=yi;function To(t){let i=xc.call(this,t);if(i)return i;let e=(0,Ze.getFullPath)(this.opts.uriResolver,t.root.baseId),{es5:n,lines:r}=this.opts.code,{ownProperties:o}=this.opts,a=new Xe.CodeGen(this.scope,{es5:n,lines:r,ownProperties:o}),s;t.$async&&(s=a.scopeValue("Error",{ref:Lp.default,code:(0,Xe._)`require("ajv/dist/runtime/validation_error").default`}));let l=a.scopeName("validate");t.validateName=l;let c={gen:a,allErrors:this.opts.allErrors,data:Gt.default.data,parentData:Gt.default.parentData,parentDataProperty:Gt.default.parentDataProperty,dataNames:[Gt.default.data],dataPathArr:[Xe.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:a.scopeValue("schema",this.opts.code.source===!0?{ref:t.schema,code:(0,Xe.stringify)(t.schema)}:{ref:t.schema}),validateName:l,ValidationError:s,schema:t.schema,schemaEnv:t,rootId:e,baseId:t.baseId||e,schemaPath:Xe.nil,errSchemaPath:t.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,Xe._)`""`,opts:this.opts,self:this},d;try{this._compilations.add(t),(0,qp.validateFunctionCode)(c),a.optimize(this.opts.code.optimize);let u=a.toString();d=`${a.scopeRefs(Gt.default.scope)}return ${u}`,this.opts.code.process&&(d=this.opts.code.process(d,t));let y=new Function(`${Gt.default.self}`,`${Gt.default.scope}`,d)(this,this.scope.get());if(this.scope.value(l,{ref:y}),y.errors=null,y.schema=t.schema,y.schemaEnv=t,t.$async&&(y.$async=!0),this.opts.code.source===!0&&(y.source={validateName:l,validateCode:u,scopeValues:a._values}),this.opts.unevaluated){let{props:m,items:C}=c;y.evaluated={props:m instanceof Xe.Name?void 0:m,items:C instanceof Xe.Name?void 0:C,dynamicProps:m instanceof Xe.Name,dynamicItems:C instanceof Xe.Name},y.source&&(y.source.evaluated=(0,Xe.stringify)(y.evaluated))}return t.validate=y,t}catch(u){throw delete t.validate,delete t.validateName,d&&this.logger.error("Error compiling schema, function code:",d),u}finally{this._compilations.delete(t)}}qe.compileSchema=To;function Wp(t,i,e){var n;e=(0,Ze.resolveUrl)(this.opts.uriResolver,i,e);let r=t.refs[e];if(r)return r;let o=Up.call(this,t,e);if(o===void 0){let a=(n=t.localRefs)===null||n===void 0?void 0:n[e],{schemaId:s}=this.opts;a&&(o=new yi({schema:a,schemaId:s,root:t,baseId:i}))}if(o!==void 0)return t.refs[e]=Hp.call(this,o)}qe.resolveRef=Wp;function Hp(t){return(0,Ze.inlineRef)(t.schema,this.opts.inlineRefs)?t.schema:t.validate?t:To.call(this,t)}function xc(t){for(let i of this._compilations)if(Bp(i,t))return i}qe.getCompilingSchema=xc;function Bp(t,i){return t.schema===i.schema&&t.root===i.root&&t.baseId===i.baseId}function Up(t,i){let e;for(;typeof(e=this.refs[i])=="string";)i=e;return e||this.schemas[i]||jn.call(this,t,i)}function jn(t,i){let e=this.opts.uriResolver.parse(i),n=(0,Ze._getFullPath)(this.opts.uriResolver,e),r=(0,Ze.getFullPath)(this.opts.uriResolver,t.baseId,void 0);if(Object.keys(t.schema).length>0&&n===r)return $o.call(this,e,t);let o=(0,Ze.normalizeId)(n),a=this.refs[o]||this.schemas[o];if(typeof a=="string"){let s=jn.call(this,t,a);return typeof s?.schema!="object"?void 0:$o.call(this,e,s)}if(typeof a?.schema=="object"){if(a.validate||To.call(this,a),o===(0,Ze.normalizeId)(i)){let{schema:s}=a,{schemaId:l}=this.opts,c=s[l];return c&&(r=(0,Ze.resolveUrl)(this.opts.uriResolver,r,c)),new yi({schema:s,schemaId:l,root:t,baseId:r})}return $o.call(this,e,a)}}qe.resolveSchema=jn;var Kp=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function $o(t,{baseId:i,schema:e,root:n}){var r;if(((r=t.fragment)===null||r===void 0?void 0:r[0])!=="/")return;for(let s of t.fragment.slice(1).split("/")){if(typeof e=="boolean")return;let l=e[(0,Sc.unescapeFragment)(s)];if(l===void 0)return;e=l;let c=typeof e=="object"&&e[this.opts.schemaId];!Kp.has(s)&&c&&(i=(0,Ze.resolveUrl)(this.opts.uriResolver,i,c))}let o;if(typeof e!="boolean"&&e.$ref&&!(0,Sc.schemaHasRulesButRef)(e,this.RULES)){let s=(0,Ze.resolveUrl)(this.opts.uriResolver,i,e.$ref);o=jn.call(this,n,s)}let{schemaId:a}=this.opts;if(o=o||new yi({schema:e,schemaId:a,root:n,baseId:i}),o.schema!==o.root.schema)return o}});var $c=x((Cv,Gp)=>{Gp.exports={$id:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON AnySchema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1}});var Ec=x((vv,Tc)=>{"use strict";var Qp={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};Tc.exports={HEX:Qp}});var Vc=x((bv,Ic)=>{"use strict";var{HEX:Jp}=Ec(),Xp=/^(?:(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)$/u;function Oc(t){if(Dc(t,".")<3)return{host:t,isIPV4:!1};let i=t.match(Xp)||[],[e]=i;return e?{host:Yp(e,"."),isIPV4:!0}:{host:t,isIPV4:!1}}function Eo(t,i=!1){let e="",n=!0;for(let r of t){if(Jp[r]===void 0)return;r!=="0"&&n===!0&&(n=!1),n||(e+=r)}return i&&e.length===0&&(e="0"),e}function Zp(t){let i=0,e={error:!1,address:"",zone:""},n=[],r=[],o=!1,a=!1,s=!1;function l(){if(r.length){if(o===!1){let c=Eo(r);if(c!==void 0)n.push(c);else return e.error=!0,!1}r.length=0}return!0}for(let c=0;c<t.length;c++){let d=t[c];if(!(d==="["||d==="]"))if(d===":"){if(a===!0&&(s=!0),!l())break;if(i++,n.push(":"),i>7){e.error=!0;break}c-1>=0&&t[c-1]===":"&&(a=!0);continue}else if(d==="%"){if(!l())break;o=!0}else{r.push(d);continue}}return r.length&&(o?e.zone=r.join(""):s?n.push(r.join("")):n.push(Eo(r))),e.address=n.join(""),e}function Mc(t){if(Dc(t,":")<2)return{host:t,isIPV6:!1};let i=Zp(t);if(i.error)return{host:t,isIPV6:!1};{let e=i.address,n=i.address;return i.zone&&(e+="%"+i.zone,n+="%25"+i.zone),{host:e,escapedHost:n,isIPV6:!0}}}function Yp(t,i){let e="",n=!0,r=t.length;for(let o=0;o<r;o++){let a=t[o];a==="0"&&n?(o+1<=r&&t[o+1]===i||o+1===r)&&(e+=a,n=!1):(a===i?n=!0:n=!1,e+=a)}return e}function Dc(t,i){let e=0;for(let n=0;n<t.length;n++)t[n]===i&&e++;return e}var Nc=/^\.\.?\//u,kc=/^\/\.(?:\/|$)/u,Pc=/^\/\.\.(?:\/|$)/u,eh=/^\/?(?:.|\n)*?(?=\/|$)/u;function th(t){let i=[];for(;t.length;)if(t.match(Nc))t=t.replace(Nc,"");else if(t.match(kc))t=t.replace(kc,"/");else if(t.match(Pc))t=t.replace(Pc,"/"),i.pop();else if(t==="."||t==="..")t="";else{let e=t.match(eh);if(e){let n=e[0];t=t.slice(n.length),i.push(n)}else throw new Error("Unexpected dot segment condition")}return i.join("")}function ih(t,i){let e=i!==!0?escape:unescape;return t.scheme!==void 0&&(t.scheme=e(t.scheme)),t.userinfo!==void 0&&(t.userinfo=e(t.userinfo)),t.host!==void 0&&(t.host=e(t.host)),t.path!==void 0&&(t.path=e(t.path)),t.query!==void 0&&(t.query=e(t.query)),t.fragment!==void 0&&(t.fragment=e(t.fragment)),t}function nh(t){let i=[];if(t.userinfo!==void 0&&(i.push(t.userinfo),i.push("@")),t.host!==void 0){let e=unescape(t.host),n=Oc(e);if(n.isIPV4)e=n.host;else{let r=Mc(n.host);r.isIPV6===!0?e=`[${r.escapedHost}]`:e=t.host}i.push(e)}return(typeof t.port=="number"||typeof t.port=="string")&&(i.push(":"),i.push(String(t.port))),i.length?i.join(""):void 0}Ic.exports={recomposeAuthority:nh,normalizeComponentEncoding:ih,removeDotSegments:th,normalizeIPv4:Oc,normalizeIPv6:Mc,stringArrayToHexStripped:Eo}});var qc=x((zv,Lc)=>{"use strict";var rh=/^[\da-f]{8}-[\da-f]{4}-[\da-f]{4}-[\da-f]{4}-[\da-f]{12}$/iu,oh=/([\da-z][\d\-a-z]{0,31}):((?:[\w!$'()*+,\-.:;=@]|%[\da-f]{2})+)/iu;function Rc(t){return typeof t.secure=="boolean"?t.secure:String(t.scheme).toLowerCase()==="wss"}function jc(t){return t.host||(t.error=t.error||"HTTP URIs must have a host."),t}function Fc(t){let i=String(t.scheme).toLowerCase()==="https";return(t.port===(i?443:80)||t.port==="")&&(t.port=void 0),t.path||(t.path="/"),t}function ah(t){return t.secure=Rc(t),t.resourceName=(t.path||"/")+(t.query?"?"+t.query:""),t.path=void 0,t.query=void 0,t}function sh(t){if((t.port===(Rc(t)?443:80)||t.port==="")&&(t.port=void 0),typeof t.secure=="boolean"&&(t.scheme=t.secure?"wss":"ws",t.secure=void 0),t.resourceName){let[i,e]=t.resourceName.split("?");t.path=i&&i!=="/"?i:void 0,t.query=e,t.resourceName=void 0}return t.fragment=void 0,t}function lh(t,i){if(!t.path)return t.error="URN can not be parsed",t;let e=t.path.match(oh);if(e){let n=i.scheme||t.scheme||"urn";t.nid=e[1].toLowerCase(),t.nss=e[2];let r=`${n}:${i.nid||t.nid}`,o=No[r];t.path=void 0,o&&(t=o.parse(t,i))}else t.error=t.error||"URN can not be parsed.";return t}function ch(t,i){let e=i.scheme||t.scheme||"urn",n=t.nid.toLowerCase(),r=`${e}:${i.nid||n}`,o=No[r];o&&(t=o.serialize(t,i));let a=t,s=t.nss;return a.path=`${n||i.nid}:${s}`,i.skipEscape=!0,a}function dh(t,i){let e=t;return e.uuid=e.nss,e.nss=void 0,!i.tolerant&&(!e.uuid||!rh.test(e.uuid))&&(e.error=e.error||"UUID is not valid."),e}function uh(t){let i=t;return i.nss=(t.uuid||"").toLowerCase(),i}var Ac={scheme:"http",domainHost:!0,parse:jc,serialize:Fc},fh={scheme:"https",domainHost:Ac.domainHost,parse:jc,serialize:Fc},An={scheme:"ws",domainHost:!0,parse:ah,serialize:sh},ph={scheme:"wss",domainHost:An.domainHost,parse:An.parse,serialize:An.serialize},hh={scheme:"urn",parse:lh,serialize:ch,skipNormalize:!0},mh={scheme:"urn:uuid",parse:dh,serialize:uh,skipNormalize:!0},No={http:Ac,https:fh,ws:An,wss:ph,urn:hh,"urn:uuid":mh};Lc.exports=No});var Hc=x((wv,qn)=>{"use strict";var{normalizeIPv6:_h,normalizeIPv4:gh,removeDotSegments:Qi,recomposeAuthority:yh,normalizeComponentEncoding:Ln}=Vc(),ko=qc();function Ch(t,i){return typeof t=="string"?t=st(bt(t,i),i):typeof t=="object"&&(t=bt(st(t,i),i)),t}function vh(t,i,e){let n=Object.assign({scheme:"null"},e),r=Wc(bt(t,n),bt(i,n),n,!0);return st(r,X(S({},n),{skipEscape:!0}))}function Wc(t,i,e,n){let r={};return n||(t=bt(st(t,e),e),i=bt(st(i,e),e)),e=e||{},!e.tolerant&&i.scheme?(r.scheme=i.scheme,r.userinfo=i.userinfo,r.host=i.host,r.port=i.port,r.path=Qi(i.path||""),r.query=i.query):(i.userinfo!==void 0||i.host!==void 0||i.port!==void 0?(r.userinfo=i.userinfo,r.host=i.host,r.port=i.port,r.path=Qi(i.path||""),r.query=i.query):(i.path?(i.path.charAt(0)==="/"?r.path=Qi(i.path):((t.userinfo!==void 0||t.host!==void 0||t.port!==void 0)&&!t.path?r.path="/"+i.path:t.path?r.path=t.path.slice(0,t.path.lastIndexOf("/")+1)+i.path:r.path=i.path,r.path=Qi(r.path)),r.query=i.query):(r.path=t.path,i.query!==void 0?r.query=i.query:r.query=t.query),r.userinfo=t.userinfo,r.host=t.host,r.port=t.port),r.scheme=t.scheme),r.fragment=i.fragment,r}function bh(t,i,e){return typeof t=="string"?(t=unescape(t),t=st(Ln(bt(t,e),!0),X(S({},e),{skipEscape:!0}))):typeof t=="object"&&(t=st(Ln(t,!0),X(S({},e),{skipEscape:!0}))),typeof i=="string"?(i=unescape(i),i=st(Ln(bt(i,e),!0),X(S({},e),{skipEscape:!0}))):typeof i=="object"&&(i=st(Ln(i,!0),X(S({},e),{skipEscape:!0}))),t.toLowerCase()===i.toLowerCase()}function st(t,i){let e={host:t.host,scheme:t.scheme,userinfo:t.userinfo,port:t.port,path:t.path,query:t.query,nid:t.nid,nss:t.nss,uuid:t.uuid,fragment:t.fragment,reference:t.reference,resourceName:t.resourceName,secure:t.secure,error:""},n=Object.assign({},i),r=[],o=ko[(n.scheme||e.scheme||"").toLowerCase()];o&&o.serialize&&o.serialize(e,n),e.path!==void 0&&(n.skipEscape?e.path=unescape(e.path):(e.path=escape(e.path),e.scheme!==void 0&&(e.path=e.path.split("%3A").join(":")))),n.reference!=="suffix"&&e.scheme&&r.push(e.scheme,":");let a=yh(e);if(a!==void 0&&(n.reference!=="suffix"&&r.push("//"),r.push(a),e.path&&e.path.charAt(0)!=="/"&&r.push("/")),e.path!==void 0){let s=e.path;!n.absolutePath&&(!o||!o.absolutePath)&&(s=Qi(s)),a===void 0&&(s=s.replace(/^\/\//u,"/%2F")),r.push(s)}return e.query!==void 0&&r.push("?",e.query),e.fragment!==void 0&&r.push("#",e.fragment),r.join("")}var zh=Array.from({length:127},(t,i)=>/[^!"$&'()*+,\-.;=_`a-z{}~]/u.test(String.fromCharCode(i)));function wh(t){let i=0;for(let e=0,n=t.length;e<n;++e)if(i=t.charCodeAt(e),i>126||zh[i])return!0;return!1}var Sh=/^(?:([^#/:?]+):)?(?:\/\/((?:([^#/?@]*)@)?(\[[^#/?\]]+\]|[^#/:?]*)(?::(\d*))?))?([^#?]*)(?:\?([^#]*))?(?:#((?:.|[\n\r])*))?/u;function bt(t,i){let e=Object.assign({},i),n={scheme:void 0,userinfo:void 0,host:"",port:void 0,path:"",query:void 0,fragment:void 0},r=t.indexOf("%")!==-1,o=!1;e.reference==="suffix"&&(t=(e.scheme?e.scheme+":":"")+"//"+t);let a=t.match(Sh);if(a){if(n.scheme=a[1],n.userinfo=a[3],n.host=a[4],n.port=parseInt(a[5],10),n.path=a[6]||"",n.query=a[7],n.fragment=a[8],isNaN(n.port)&&(n.port=a[5]),n.host){let l=gh(n.host);if(l.isIPV4===!1){let c=_h(l.host);n.host=c.host.toLowerCase(),o=c.isIPV6}else n.host=l.host,o=!0}n.scheme===void 0&&n.userinfo===void 0&&n.host===void 0&&n.port===void 0&&n.query===void 0&&!n.path?n.reference="same-document":n.scheme===void 0?n.reference="relative":n.fragment===void 0?n.reference="absolute":n.reference="uri",e.reference&&e.reference!=="suffix"&&e.reference!==n.reference&&(n.error=n.error||"URI is not a "+e.reference+" reference.");let s=ko[(e.scheme||n.scheme||"").toLowerCase()];if(!e.unicodeSupport&&(!s||!s.unicodeSupport)&&n.host&&(e.domainHost||s&&s.domainHost)&&o===!1&&wh(n.host))try{n.host=URL.domainToASCII(n.host.toLowerCase())}catch(l){n.error=n.error||"Host's domain name can not be converted to ASCII: "+l}(!s||s&&!s.skipNormalize)&&(r&&n.scheme!==void 0&&(n.scheme=unescape(n.scheme)),r&&n.host!==void 0&&(n.host=unescape(n.host)),n.path&&(n.path=escape(unescape(n.path))),n.fragment&&(n.fragment=encodeURI(decodeURIComponent(n.fragment)))),s&&s.parse&&s.parse(n,e)}else n.error=n.error||"URI can not be parsed.";return n}var Po={SCHEMES:ko,normalize:Ch,resolve:vh,resolveComponents:Wc,equal:bh,serialize:st,parse:bt};qn.exports=Po;qn.exports.default=Po;qn.exports.fastUri=Po});var Uc=x(Oo=>{"use strict";Object.defineProperty(Oo,"__esModule",{value:!0});var Bc=Hc();Bc.code='require("ajv/dist/runtime/uri").default';Oo.default=Bc});var ed=x(fe=>{"use strict";Object.defineProperty(fe,"__esModule",{value:!0});fe.CodeGen=fe.Name=fe.nil=fe.stringify=fe.str=fe._=fe.KeywordCxt=void 0;var xh=Ki();Object.defineProperty(fe,"KeywordCxt",{enumerable:!0,get:function(){return xh.KeywordCxt}});var Ci=R();Object.defineProperty(fe,"_",{enumerable:!0,get:function(){return Ci._}});Object.defineProperty(fe,"str",{enumerable:!0,get:function(){return Ci.str}});Object.defineProperty(fe,"stringify",{enumerable:!0,get:function(){return Ci.stringify}});Object.defineProperty(fe,"nil",{enumerable:!0,get:function(){return Ci.nil}});Object.defineProperty(fe,"Name",{enumerable:!0,get:function(){return Ci.Name}});Object.defineProperty(fe,"CodeGen",{enumerable:!0,get:function(){return Ci.CodeGen}});var $h=Rn(),Xc=Gi(),Th=so(),Ji=Fn(),Eh=R(),Xi=Hi(),Wn=Wi(),Do=B(),Kc=$c(),Nh=Uc(),Zc=(t,i)=>new RegExp(t,i);Zc.code="new RegExp";var kh=["removeAdditional","useDefaults","coerceTypes"],Ph=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),Oh={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},Mh={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},Gc=200;function Dh(t){var i,e,n,r,o,a,s,l,c,d,u,g,y,m,C,p,b,D,I,Y,M,tt,ht,gr,yr;let ki=t.strict,Cr=(i=t.code)===null||i===void 0?void 0:i.optimize,Ka=Cr===!0||Cr===void 0?1:Cr||0,Ga=(n=(e=t.code)===null||e===void 0?void 0:e.regExp)!==null&&n!==void 0?n:Zc,Iu=(r=t.uriResolver)!==null&&r!==void 0?r:Nh.default;return{strictSchema:(a=(o=t.strictSchema)!==null&&o!==void 0?o:ki)!==null&&a!==void 0?a:!0,strictNumbers:(l=(s=t.strictNumbers)!==null&&s!==void 0?s:ki)!==null&&l!==void 0?l:!0,strictTypes:(d=(c=t.strictTypes)!==null&&c!==void 0?c:ki)!==null&&d!==void 0?d:"log",strictTuples:(g=(u=t.strictTuples)!==null&&u!==void 0?u:ki)!==null&&g!==void 0?g:"log",strictRequired:(m=(y=t.strictRequired)!==null&&y!==void 0?y:ki)!==null&&m!==void 0?m:!1,code:t.code?X(S({},t.code),{optimize:Ka,regExp:Ga}):{optimize:Ka,regExp:Ga},loopRequired:(C=t.loopRequired)!==null&&C!==void 0?C:Gc,loopEnum:(p=t.loopEnum)!==null&&p!==void 0?p:Gc,meta:(b=t.meta)!==null&&b!==void 0?b:!0,messages:(D=t.messages)!==null&&D!==void 0?D:!0,inlineRefs:(I=t.inlineRefs)!==null&&I!==void 0?I:!0,schemaId:(Y=t.schemaId)!==null&&Y!==void 0?Y:"$id",addUsedSchema:(M=t.addUsedSchema)!==null&&M!==void 0?M:!0,validateSchema:(tt=t.validateSchema)!==null&&tt!==void 0?tt:!0,validateFormats:(ht=t.validateFormats)!==null&&ht!==void 0?ht:!0,unicodeRegExp:(gr=t.unicodeRegExp)!==null&&gr!==void 0?gr:!0,int32range:(yr=t.int32range)!==null&&yr!==void 0?yr:!0,uriResolver:Iu}}var Zi=class{constructor(i={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,i=this.opts=S(S({},i),Dh(i));let{es5:e,lines:n}=this.opts.code;this.scope=new Eh.ValueScope({scope:{},prefixes:Ph,es5:e,lines:n}),this.logger=Ah(i.logger);let r=i.validateFormats;i.validateFormats=!1,this.RULES=(0,Th.getRules)(),Qc.call(this,Oh,i,"NOT SUPPORTED"),Qc.call(this,Mh,i,"DEPRECATED","warn"),this._metaOpts=jh.call(this),i.formats&&Vh.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),i.keywords&&Rh.call(this,i.keywords),typeof i.meta=="object"&&this.addMetaSchema(i.meta),Ih.call(this),i.validateFormats=r}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){let{$data:i,meta:e,schemaId:n}=this.opts,r=Kc;n==="id"&&(r=S({},Kc),r.id=r.$id,delete r.$id),e&&i&&this.addMetaSchema(r,r[n],!1)}defaultMeta(){let{meta:i,schemaId:e}=this.opts;return this.opts.defaultMeta=typeof i=="object"?i[e]||i:void 0}validate(i,e){let n;if(typeof i=="string"){if(n=this.getSchema(i),!n)throw new Error(`no schema with key or ref "${i}"`)}else n=this.compile(i);let r=n(e);return"$async"in n||(this.errors=n.errors),r}compile(i,e){let n=this._addSchema(i,e);return n.validate||this._compileSchemaEnv(n)}compileAsync(i,e){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");let{loadSchema:n}=this.opts;return r.call(this,i,e);function r(d,u){return Yt(this,null,function*(){yield o.call(this,d.$schema);let g=this._addSchema(d,u);return g.validate||a.call(this,g)})}function o(d){return Yt(this,null,function*(){d&&!this.getSchema(d)&&(yield r.call(this,{$ref:d},!0))})}function a(d){return Yt(this,null,function*(){try{return this._compileSchemaEnv(d)}catch(u){if(!(u instanceof Xc.default))throw u;return s.call(this,u),yield l.call(this,u.missingSchema),a.call(this,d)}})}function s({missingSchema:d,missingRef:u}){if(this.refs[d])throw new Error(`AnySchema ${d} is loaded but ${u} cannot be resolved`)}function l(d){return Yt(this,null,function*(){let u=yield c.call(this,d);this.refs[d]||(yield o.call(this,u.$schema)),this.refs[d]||this.addSchema(u,d,e)})}function c(d){return Yt(this,null,function*(){let u=this._loading[d];if(u)return u;try{return yield this._loading[d]=n(d)}finally{delete this._loading[d]}})}}addSchema(i,e,n,r=this.opts.validateSchema){if(Array.isArray(i)){for(let a of i)this.addSchema(a,void 0,n,r);return this}let o;if(typeof i=="object"){let{schemaId:a}=this.opts;if(o=i[a],o!==void 0&&typeof o!="string")throw new Error(`schema ${a} must be string`)}return e=(0,Xi.normalizeId)(e||o),this._checkUnique(e),this.schemas[e]=this._addSchema(i,n,e,r,!0),this}addMetaSchema(i,e,n=this.opts.validateSchema){return this.addSchema(i,e,!0,n),this}validateSchema(i,e){if(typeof i=="boolean")return!0;let n;if(n=i.$schema,n!==void 0&&typeof n!="string")throw new Error("$schema must be a string");if(n=n||this.opts.defaultMeta||this.defaultMeta(),!n)return this.logger.warn("meta-schema not available"),this.errors=null,!0;let r=this.validate(n,i);if(!r&&e){let o="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(o);else throw new Error(o)}return r}getSchema(i){let e;for(;typeof(e=Jc.call(this,i))=="string";)i=e;if(e===void 0){let{schemaId:n}=this.opts,r=new Ji.SchemaEnv({schema:{},schemaId:n});if(e=Ji.resolveSchema.call(this,r,i),!e)return;this.refs[i]=e}return e.validate||this._compileSchemaEnv(e)}removeSchema(i){if(i instanceof RegExp)return this._removeAllSchemas(this.schemas,i),this._removeAllSchemas(this.refs,i),this;switch(typeof i){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{let e=Jc.call(this,i);return typeof e=="object"&&this._cache.delete(e.schema),delete this.schemas[i],delete this.refs[i],this}case"object":{let e=i;this._cache.delete(e);let n=i[this.opts.schemaId];return n&&(n=(0,Xi.normalizeId)(n),delete this.schemas[n],delete this.refs[n]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(i){for(let e of i)this.addKeyword(e);return this}addKeyword(i,e){let n;if(typeof i=="string")n=i,typeof e=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),e.keyword=n);else if(typeof i=="object"&&e===void 0){if(e=i,n=e.keyword,Array.isArray(n)&&!n.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(qh.call(this,n,e),!e)return(0,Do.eachItem)(n,o=>Mo.call(this,o)),this;Hh.call(this,e);let r=X(S({},e),{type:(0,Wn.getJSONTypes)(e.type),schemaType:(0,Wn.getJSONTypes)(e.schemaType)});return(0,Do.eachItem)(n,r.type.length===0?o=>Mo.call(this,o,r):o=>r.type.forEach(a=>Mo.call(this,o,r,a))),this}getKeyword(i){let e=this.RULES.all[i];return typeof e=="object"?e.definition:!!e}removeKeyword(i){let{RULES:e}=this;delete e.keywords[i],delete e.all[i];for(let n of e.rules){let r=n.rules.findIndex(o=>o.keyword===i);r>=0&&n.rules.splice(r,1)}return this}addFormat(i,e){return typeof e=="string"&&(e=new RegExp(e)),this.formats[i]=e,this}errorsText(i=this.errors,{separator:e=", ",dataVar:n="data"}={}){return!i||i.length===0?"No errors":i.map(r=>`${n}${r.instancePath} ${r.message}`).reduce((r,o)=>r+e+o)}$dataMetaSchema(i,e){let n=this.RULES.all;i=JSON.parse(JSON.stringify(i));for(let r of e){let o=r.split("/").slice(1),a=i;for(let s of o)a=a[s];for(let s in n){let l=n[s];if(typeof l!="object")continue;let{$data:c}=l.definition,d=a[s];c&&d&&(a[s]=Yc(d))}}return i}_removeAllSchemas(i,e){for(let n in i){let r=i[n];(!e||e.test(n))&&(typeof r=="string"?delete i[n]:r&&!r.meta&&(this._cache.delete(r.schema),delete i[n]))}}_addSchema(i,e,n,r=this.opts.validateSchema,o=this.opts.addUsedSchema){let a,{schemaId:s}=this.opts;if(typeof i=="object")a=i[s];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof i!="boolean")throw new Error("schema must be object or boolean")}let l=this._cache.get(i);if(l!==void 0)return l;n=(0,Xi.normalizeId)(a||n);let c=Xi.getSchemaRefs.call(this,i,n);return l=new Ji.SchemaEnv({schema:i,schemaId:s,meta:e,baseId:n,localRefs:c}),this._cache.set(l.schema,l),o&&!n.startsWith("#")&&(n&&this._checkUnique(n),this.refs[n]=l),r&&this.validateSchema(i,!0),l}_checkUnique(i){if(this.schemas[i]||this.refs[i])throw new Error(`schema with key or id "${i}" already exists`)}_compileSchemaEnv(i){if(i.meta?this._compileMetaSchema(i):Ji.compileSchema.call(this,i),!i.validate)throw new Error("ajv implementation error");return i.validate}_compileMetaSchema(i){let e=this.opts;this.opts=this._metaOpts;try{Ji.compileSchema.call(this,i)}finally{this.opts=e}}};Zi.ValidationError=$h.default;Zi.MissingRefError=Xc.default;fe.default=Zi;function Qc(t,i,e,n="error"){for(let r in t){let o=r;o in i&&this.logger[n](`${e}: option ${r}. ${t[o]}`)}}function Jc(t){return t=(0,Xi.normalizeId)(t),this.schemas[t]||this.refs[t]}function Ih(){let t=this.opts.schemas;if(t)if(Array.isArray(t))this.addSchema(t);else for(let i in t)this.addSchema(t[i],i)}function Vh(){for(let t in this.opts.formats){let i=this.opts.formats[t];i&&this.addFormat(t,i)}}function Rh(t){if(Array.isArray(t)){this.addVocabulary(t);return}this.logger.warn("keywords option as map is deprecated, pass array");for(let i in t){let e=t[i];e.keyword||(e.keyword=i),this.addKeyword(e)}}function jh(){let t=S({},this.opts);for(let i of kh)delete t[i];return t}var Fh={log(){},warn(){},error(){}};function Ah(t){if(t===!1)return Fh;if(t===void 0)return console;if(t.log&&t.warn&&t.error)return t;throw new Error("logger must implement log, warn and error methods")}var Lh=/^[a-z_$][a-z0-9_$:-]*$/i;function qh(t,i){let{RULES:e}=this;if((0,Do.eachItem)(t,n=>{if(e.keywords[n])throw new Error(`Keyword ${n} is already defined`);if(!Lh.test(n))throw new Error(`Keyword ${n} has invalid name`)}),!!i&&i.$data&&!("code"in i||"validate"in i))throw new Error('$data keyword must have "code" or "validate" function')}function Mo(t,i,e){var n;let r=i?.post;if(e&&r)throw new Error('keyword with "post" flag cannot have "type"');let{RULES:o}=this,a=r?o.post:o.rules.find(({type:l})=>l===e);if(a||(a={type:e,rules:[]},o.rules.push(a)),o.keywords[t]=!0,!i)return;let s={keyword:t,definition:X(S({},i),{type:(0,Wn.getJSONTypes)(i.type),schemaType:(0,Wn.getJSONTypes)(i.schemaType)})};i.before?Wh.call(this,a,s,i.before):a.rules.push(s),o.all[t]=s,(n=i.implements)===null||n===void 0||n.forEach(l=>this.addKeyword(l))}function Wh(t,i,e){let n=t.rules.findIndex(r=>r.keyword===e);n>=0?t.rules.splice(n,0,i):(t.rules.push(i),this.logger.warn(`rule ${e} is not defined`))}function Hh(t){let{metaSchema:i}=t;i!==void 0&&(t.$data&&this.opts.$data&&(i=Yc(i)),t.validateSchema=this.compile(i,!0))}var Bh={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function Yc(t){return{anyOf:[t,Bh]}}});var td=x(Io=>{"use strict";Object.defineProperty(Io,"__esModule",{value:!0});var Uh={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};Io.default=Uh});var od=x(Qt=>{"use strict";Object.defineProperty(Qt,"__esModule",{value:!0});Qt.callRef=Qt.getValidate=void 0;var Kh=Gi(),id=Le(),Ne=R(),vi=Ct(),nd=Fn(),Hn=B(),Gh={keyword:"$ref",schemaType:"string",code(t){let{gen:i,schema:e,it:n}=t,{baseId:r,schemaEnv:o,validateName:a,opts:s,self:l}=n,{root:c}=o;if((e==="#"||e==="#/")&&r===c.baseId)return u();let d=nd.resolveRef.call(l,c,r,e);if(d===void 0)throw new Kh.default(n.opts.uriResolver,r,e);if(d instanceof nd.SchemaEnv)return g(d);return y(d);function u(){if(o===c)return Bn(t,a,o,o.$async);let m=i.scopeValue("root",{ref:c});return Bn(t,(0,Ne._)`${m}.validate`,c,c.$async)}function g(m){let C=rd(t,m);Bn(t,C,m,m.$async)}function y(m){let C=i.scopeValue("schema",s.code.source===!0?{ref:m,code:(0,Ne.stringify)(m)}:{ref:m}),p=i.name("valid"),b=t.subschema({schema:m,dataTypes:[],schemaPath:Ne.nil,topSchemaRef:C,errSchemaPath:e},p);t.mergeEvaluated(b),t.ok(p)}}};function rd(t,i){let{gen:e}=t;return i.validate?e.scopeValue("validate",{ref:i.validate}):(0,Ne._)`${e.scopeValue("wrapper",{ref:i})}.validate`}Qt.getValidate=rd;function Bn(t,i,e,n){let{gen:r,it:o}=t,{allErrors:a,schemaEnv:s,opts:l}=o,c=l.passContext?vi.default.this:Ne.nil;n?d():u();function d(){if(!s.$async)throw new Error("async schema referenced by sync schema");let m=r.let("valid");r.try(()=>{r.code((0,Ne._)`await ${(0,id.callValidateCode)(t,i,c)}`),y(i),a||r.assign(m,!0)},C=>{r.if((0,Ne._)`!(${C} instanceof ${o.ValidationError})`,()=>r.throw(C)),g(C),a||r.assign(m,!1)}),t.ok(m)}function u(){t.result((0,id.callValidateCode)(t,i,c),()=>y(i),()=>g(i))}function g(m){let C=(0,Ne._)`${m}.errors`;r.assign(vi.default.vErrors,(0,Ne._)`${vi.default.vErrors} === null ? ${C} : ${vi.default.vErrors}.concat(${C})`),r.assign(vi.default.errors,(0,Ne._)`${vi.default.vErrors}.length`)}function y(m){var C;if(!o.opts.unevaluated)return;let p=(C=e?.validate)===null||C===void 0?void 0:C.evaluated;if(o.props!==!0)if(p&&!p.dynamicProps)p.props!==void 0&&(o.props=Hn.mergeEvaluated.props(r,p.props,o.props));else{let b=r.var("props",(0,Ne._)`${m}.evaluated.props`);o.props=Hn.mergeEvaluated.props(r,b,o.props,Ne.Name)}if(o.items!==!0)if(p&&!p.dynamicItems)p.items!==void 0&&(o.items=Hn.mergeEvaluated.items(r,p.items,o.items));else{let b=r.var("items",(0,Ne._)`${m}.evaluated.items`);o.items=Hn.mergeEvaluated.items(r,b,o.items,Ne.Name)}}}Qt.callRef=Bn;Qt.default=Gh});var ad=x(Vo=>{"use strict";Object.defineProperty(Vo,"__esModule",{value:!0});var Qh=td(),Jh=od(),Xh=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",Qh.default,Jh.default];Vo.default=Xh});var sd=x(Ro=>{"use strict";Object.defineProperty(Ro,"__esModule",{value:!0});var Un=R(),Rt=Un.operators,Kn={maximum:{okStr:"<=",ok:Rt.LTE,fail:Rt.GT},minimum:{okStr:">=",ok:Rt.GTE,fail:Rt.LT},exclusiveMaximum:{okStr:"<",ok:Rt.LT,fail:Rt.GTE},exclusiveMinimum:{okStr:">",ok:Rt.GT,fail:Rt.LTE}},Zh={message:({keyword:t,schemaCode:i})=>(0,Un.str)`must be ${Kn[t].okStr} ${i}`,params:({keyword:t,schemaCode:i})=>(0,Un._)`{comparison: ${Kn[t].okStr}, limit: ${i}}`},Yh={keyword:Object.keys(Kn),type:"number",schemaType:"number",$data:!0,error:Zh,code(t){let{keyword:i,data:e,schemaCode:n}=t;t.fail$data((0,Un._)`${e} ${Kn[i].fail} ${n} || isNaN(${e})`)}};Ro.default=Yh});var ld=x(jo=>{"use strict";Object.defineProperty(jo,"__esModule",{value:!0});var Yi=R(),em={message:({schemaCode:t})=>(0,Yi.str)`must be multiple of ${t}`,params:({schemaCode:t})=>(0,Yi._)`{multipleOf: ${t}}`},tm={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:em,code(t){let{gen:i,data:e,schemaCode:n,it:r}=t,o=r.opts.multipleOfPrecision,a=i.let("res"),s=o?(0,Yi._)`Math.abs(Math.round(${a}) - ${a}) > 1e-${o}`:(0,Yi._)`${a} !== parseInt(${a})`;t.fail$data((0,Yi._)`(${n} === 0 || (${a} = ${e}/${n}, ${s}))`)}};jo.default=tm});var dd=x(Fo=>{"use strict";Object.defineProperty(Fo,"__esModule",{value:!0});function cd(t){let i=t.length,e=0,n=0,r;for(;n<i;)e++,r=t.charCodeAt(n++),r>=55296&&r<=56319&&n<i&&(r=t.charCodeAt(n),(r&64512)===56320&&n++);return e}Fo.default=cd;cd.code='require("ajv/dist/runtime/ucs2length").default'});var ud=x(Ao=>{"use strict";Object.defineProperty(Ao,"__esModule",{value:!0});var Jt=R(),im=B(),nm=dd(),rm={message({keyword:t,schemaCode:i}){let e=t==="maxLength"?"more":"fewer";return(0,Jt.str)`must NOT have ${e} than ${i} characters`},params:({schemaCode:t})=>(0,Jt._)`{limit: ${t}}`},om={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:rm,code(t){let{keyword:i,data:e,schemaCode:n,it:r}=t,o=i==="maxLength"?Jt.operators.GT:Jt.operators.LT,a=r.opts.unicode===!1?(0,Jt._)`${e}.length`:(0,Jt._)`${(0,im.useFunc)(t.gen,nm.default)}(${e})`;t.fail$data((0,Jt._)`${a} ${o} ${n}`)}};Ao.default=om});var fd=x(Lo=>{"use strict";Object.defineProperty(Lo,"__esModule",{value:!0});var am=Le(),Gn=R(),sm={message:({schemaCode:t})=>(0,Gn.str)`must match pattern "${t}"`,params:({schemaCode:t})=>(0,Gn._)`{pattern: ${t}}`},lm={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:sm,code(t){let{data:i,$data:e,schema:n,schemaCode:r,it:o}=t,a=o.opts.unicodeRegExp?"u":"",s=e?(0,Gn._)`(new RegExp(${r}, ${a}))`:(0,am.usePattern)(t,n);t.fail$data((0,Gn._)`!${s}.test(${i})`)}};Lo.default=lm});var pd=x(qo=>{"use strict";Object.defineProperty(qo,"__esModule",{value:!0});var en=R(),cm={message({keyword:t,schemaCode:i}){let e=t==="maxProperties"?"more":"fewer";return(0,en.str)`must NOT have ${e} than ${i} properties`},params:({schemaCode:t})=>(0,en._)`{limit: ${t}}`},dm={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:cm,code(t){let{keyword:i,data:e,schemaCode:n}=t,r=i==="maxProperties"?en.operators.GT:en.operators.LT;t.fail$data((0,en._)`Object.keys(${e}).length ${r} ${n}`)}};qo.default=dm});var hd=x(Wo=>{"use strict";Object.defineProperty(Wo,"__esModule",{value:!0});var tn=Le(),nn=R(),um=B(),fm={message:({params:{missingProperty:t}})=>(0,nn.str)`must have required property '${t}'`,params:({params:{missingProperty:t}})=>(0,nn._)`{missingProperty: ${t}}`},pm={keyword:"required",type:"object",schemaType:"array",$data:!0,error:fm,code(t){let{gen:i,schema:e,schemaCode:n,data:r,$data:o,it:a}=t,{opts:s}=a;if(!o&&e.length===0)return;let l=e.length>=s.loopRequired;if(a.allErrors?c():d(),s.strictRequired){let y=t.parentSchema.properties,{definedProperties:m}=t.it;for(let C of e)if(y?.[C]===void 0&&!m.has(C)){let p=a.schemaEnv.baseId+a.errSchemaPath,b=`required property "${C}" is not defined at "${p}" (strictRequired)`;(0,um.checkStrictMode)(a,b,a.opts.strictRequired)}}function c(){if(l||o)t.block$data(nn.nil,u);else for(let y of e)(0,tn.checkReportMissingProp)(t,y)}function d(){let y=i.let("missing");if(l||o){let m=i.let("valid",!0);t.block$data(m,()=>g(y,m)),t.ok(m)}else i.if((0,tn.checkMissingProp)(t,e,y)),(0,tn.reportMissingProp)(t,y),i.else()}function u(){i.forOf("prop",n,y=>{t.setParams({missingProperty:y}),i.if((0,tn.noPropertyInData)(i,r,y,s.ownProperties),()=>t.error())})}function g(y,m){t.setParams({missingProperty:y}),i.forOf(y,n,()=>{i.assign(m,(0,tn.propertyInData)(i,r,y,s.ownProperties)),i.if((0,nn.not)(m),()=>{t.error(),i.break()})},nn.nil)}}};Wo.default=pm});var md=x(Ho=>{"use strict";Object.defineProperty(Ho,"__esModule",{value:!0});var rn=R(),hm={message({keyword:t,schemaCode:i}){let e=t==="maxItems"?"more":"fewer";return(0,rn.str)`must NOT have ${e} than ${i} items`},params:({schemaCode:t})=>(0,rn._)`{limit: ${t}}`},mm={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:hm,code(t){let{keyword:i,data:e,schemaCode:n}=t,r=i==="maxItems"?rn.operators.GT:rn.operators.LT;t.fail$data((0,rn._)`${e}.length ${r} ${n}`)}};Ho.default=mm});var Qn=x(Bo=>{"use strict";Object.defineProperty(Bo,"__esModule",{value:!0});var _d=_o();_d.code='require("ajv/dist/runtime/equal").default';Bo.default=_d});var gd=x(Ko=>{"use strict";Object.defineProperty(Ko,"__esModule",{value:!0});var Uo=Wi(),pe=R(),_m=B(),gm=Qn(),ym={message:({params:{i:t,j:i}})=>(0,pe.str)`must NOT have duplicate items (items ## ${i} and ${t} are identical)`,params:({params:{i:t,j:i}})=>(0,pe._)`{i: ${t}, j: ${i}}`},Cm={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:ym,code(t){let{gen:i,data:e,$data:n,schema:r,parentSchema:o,schemaCode:a,it:s}=t;if(!n&&!r)return;let l=i.let("valid"),c=o.items?(0,Uo.getSchemaTypes)(o.items):[];t.block$data(l,d,(0,pe._)`${a} === false`),t.ok(l);function d(){let m=i.let("i",(0,pe._)`${e}.length`),C=i.let("j");t.setParams({i:m,j:C}),i.assign(l,!0),i.if((0,pe._)`${m} > 1`,()=>(u()?g:y)(m,C))}function u(){return c.length>0&&!c.some(m=>m==="object"||m==="array")}function g(m,C){let p=i.name("item"),b=(0,Uo.checkDataTypes)(c,p,s.opts.strictNumbers,Uo.DataType.Wrong),D=i.const("indices",(0,pe._)`{}`);i.for((0,pe._)`;${m}--;`,()=>{i.let(p,(0,pe._)`${e}[${m}]`),i.if(b,(0,pe._)`continue`),c.length>1&&i.if((0,pe._)`typeof ${p} == "string"`,(0,pe._)`${p} += "_"`),i.if((0,pe._)`typeof ${D}[${p}] == "number"`,()=>{i.assign(C,(0,pe._)`${D}[${p}]`),t.error(),i.assign(l,!1).break()}).code((0,pe._)`${D}[${p}] = ${m}`)})}function y(m,C){let p=(0,_m.useFunc)(i,gm.default),b=i.name("outer");i.label(b).for((0,pe._)`;${m}--;`,()=>i.for((0,pe._)`${C} = ${m}; ${C}--;`,()=>i.if((0,pe._)`${p}(${e}[${m}], ${e}[${C}])`,()=>{t.error(),i.assign(l,!1).break(b)})))}}};Ko.default=Cm});var yd=x(Qo=>{"use strict";Object.defineProperty(Qo,"__esModule",{value:!0});var Go=R(),vm=B(),bm=Qn(),zm={message:"must be equal to constant",params:({schemaCode:t})=>(0,Go._)`{allowedValue: ${t}}`},wm={keyword:"const",$data:!0,error:zm,code(t){let{gen:i,data:e,$data:n,schemaCode:r,schema:o}=t;n||o&&typeof o=="object"?t.fail$data((0,Go._)`!${(0,vm.useFunc)(i,bm.default)}(${e}, ${r})`):t.fail((0,Go._)`${o} !== ${e}`)}};Qo.default=wm});var Cd=x(Jo=>{"use strict";Object.defineProperty(Jo,"__esModule",{value:!0});var on=R(),Sm=B(),xm=Qn(),$m={message:"must be equal to one of the allowed values",params:({schemaCode:t})=>(0,on._)`{allowedValues: ${t}}`},Tm={keyword:"enum",schemaType:"array",$data:!0,error:$m,code(t){let{gen:i,data:e,$data:n,schema:r,schemaCode:o,it:a}=t;if(!n&&r.length===0)throw new Error("enum must have non-empty array");let s=r.length>=a.opts.loopEnum,l,c=()=>l??(l=(0,Sm.useFunc)(i,xm.default)),d;if(s||n)d=i.let("valid"),t.block$data(d,u);else{if(!Array.isArray(r))throw new Error("ajv implementation error");let y=i.const("vSchema",o);d=(0,on.or)(...r.map((m,C)=>g(y,C)))}t.pass(d);function u(){i.assign(d,!1),i.forOf("v",o,y=>i.if((0,on._)`${c()}(${e}, ${y})`,()=>i.assign(d,!0).break()))}function g(y,m){let C=r[m];return typeof C=="object"&&C!==null?(0,on._)`${c()}(${e}, ${y}[${m}])`:(0,on._)`${e} === ${C}`}}};Jo.default=Tm});var vd=x(Xo=>{"use strict";Object.defineProperty(Xo,"__esModule",{value:!0});var Em=sd(),Nm=ld(),km=ud(),Pm=fd(),Om=pd(),Mm=hd(),Dm=md(),Im=gd(),Vm=yd(),Rm=Cd(),jm=[Em.default,Nm.default,km.default,Pm.default,Om.default,Mm.default,Dm.default,Im.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},Vm.default,Rm.default];Xo.default=jm});var Yo=x(an=>{"use strict";Object.defineProperty(an,"__esModule",{value:!0});an.validateAdditionalItems=void 0;var Xt=R(),Zo=B(),Fm={message:({params:{len:t}})=>(0,Xt.str)`must NOT have more than ${t} items`,params:({params:{len:t}})=>(0,Xt._)`{limit: ${t}}`},Am={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:Fm,code(t){let{parentSchema:i,it:e}=t,{items:n}=i;if(!Array.isArray(n)){(0,Zo.checkStrictMode)(e,'"additionalItems" is ignored when "items" is not an array of schemas');return}bd(t,n)}};function bd(t,i){let{gen:e,schema:n,data:r,keyword:o,it:a}=t;a.items=!0;let s=e.const("len",(0,Xt._)`${r}.length`);if(n===!1)t.setParams({len:i.length}),t.pass((0,Xt._)`${s} <= ${i.length}`);else if(typeof n=="object"&&!(0,Zo.alwaysValidSchema)(a,n)){let c=e.var("valid",(0,Xt._)`${s} <= ${i.length}`);e.if((0,Xt.not)(c),()=>l(c)),t.ok(c)}function l(c){e.forRange("i",i.length,s,d=>{t.subschema({keyword:o,dataProp:d,dataPropType:Zo.Type.Num},c),a.allErrors||e.if((0,Xt.not)(c),()=>e.break())})}}an.validateAdditionalItems=bd;an.default=Am});var ea=x(sn=>{"use strict";Object.defineProperty(sn,"__esModule",{value:!0});sn.validateTuple=void 0;var zd=R(),Jn=B(),Lm=Le(),qm={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(t){let{schema:i,it:e}=t;if(Array.isArray(i))return wd(t,"additionalItems",i);e.items=!0,!(0,Jn.alwaysValidSchema)(e,i)&&t.ok((0,Lm.validateArray)(t))}};function wd(t,i,e=t.schema){let{gen:n,parentSchema:r,data:o,keyword:a,it:s}=t;d(r),s.opts.unevaluated&&e.length&&s.items!==!0&&(s.items=Jn.mergeEvaluated.items(n,e.length,s.items));let l=n.name("valid"),c=n.const("len",(0,zd._)`${o}.length`);e.forEach((u,g)=>{(0,Jn.alwaysValidSchema)(s,u)||(n.if((0,zd._)`${c} > ${g}`,()=>t.subschema({keyword:a,schemaProp:g,dataProp:g},l)),t.ok(l))});function d(u){let{opts:g,errSchemaPath:y}=s,m=e.length,C=m===u.minItems&&(m===u.maxItems||u[i]===!1);if(g.strictTuples&&!C){let p=`"${a}" is ${m}-tuple, but minItems or maxItems/${i} are not specified or different at path "${y}"`;(0,Jn.checkStrictMode)(s,p,g.strictTuples)}}}sn.validateTuple=wd;sn.default=qm});var Sd=x(ta=>{"use strict";Object.defineProperty(ta,"__esModule",{value:!0});var Wm=ea(),Hm={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:t=>(0,Wm.validateTuple)(t,"items")};ta.default=Hm});var $d=x(ia=>{"use strict";Object.defineProperty(ia,"__esModule",{value:!0});var xd=R(),Bm=B(),Um=Le(),Km=Yo(),Gm={message:({params:{len:t}})=>(0,xd.str)`must NOT have more than ${t} items`,params:({params:{len:t}})=>(0,xd._)`{limit: ${t}}`},Qm={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:Gm,code(t){let{schema:i,parentSchema:e,it:n}=t,{prefixItems:r}=e;n.items=!0,!(0,Bm.alwaysValidSchema)(n,i)&&(r?(0,Km.validateAdditionalItems)(t,r):t.ok((0,Um.validateArray)(t)))}};ia.default=Qm});var Td=x(na=>{"use strict";Object.defineProperty(na,"__esModule",{value:!0});var We=R(),Xn=B(),Jm={message:({params:{min:t,max:i}})=>i===void 0?(0,We.str)`must contain at least ${t} valid item(s)`:(0,We.str)`must contain at least ${t} and no more than ${i} valid item(s)`,params:({params:{min:t,max:i}})=>i===void 0?(0,We._)`{minContains: ${t}}`:(0,We._)`{minContains: ${t}, maxContains: ${i}}`},Xm={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:Jm,code(t){let{gen:i,schema:e,parentSchema:n,data:r,it:o}=t,a,s,{minContains:l,maxContains:c}=n;o.opts.next?(a=l===void 0?1:l,s=c):a=1;let d=i.const("len",(0,We._)`${r}.length`);if(t.setParams({min:a,max:s}),s===void 0&&a===0){(0,Xn.checkStrictMode)(o,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(s!==void 0&&a>s){(0,Xn.checkStrictMode)(o,'"minContains" > "maxContains" is always invalid'),t.fail();return}if((0,Xn.alwaysValidSchema)(o,e)){let C=(0,We._)`${d} >= ${a}`;s!==void 0&&(C=(0,We._)`${C} && ${d} <= ${s}`),t.pass(C);return}o.items=!0;let u=i.name("valid");s===void 0&&a===1?y(u,()=>i.if(u,()=>i.break())):a===0?(i.let(u,!0),s!==void 0&&i.if((0,We._)`${r}.length > 0`,g)):(i.let(u,!1),g()),t.result(u,()=>t.reset());function g(){let C=i.name("_valid"),p=i.let("count",0);y(C,()=>i.if(C,()=>m(p)))}function y(C,p){i.forRange("i",0,d,b=>{t.subschema({keyword:"contains",dataProp:b,dataPropType:Xn.Type.Num,compositeRule:!0},C),p()})}function m(C){i.code((0,We._)`${C}++`),s===void 0?i.if((0,We._)`${C} >= ${a}`,()=>i.assign(u,!0).break()):(i.if((0,We._)`${C} > ${s}`,()=>i.assign(u,!1).break()),a===1?i.assign(u,!0):i.if((0,We._)`${C} >= ${a}`,()=>i.assign(u,!0)))}}};na.default=Xm});var kd=x(lt=>{"use strict";Object.defineProperty(lt,"__esModule",{value:!0});lt.validateSchemaDeps=lt.validatePropertyDeps=lt.error=void 0;var ra=R(),Zm=B(),ln=Le();lt.error={message:({params:{property:t,depsCount:i,deps:e}})=>{let n=i===1?"property":"properties";return(0,ra.str)`must have ${n} ${e} when property ${t} is present`},params:({params:{property:t,depsCount:i,deps:e,missingProperty:n}})=>(0,ra._)`{property: ${t},
    missingProperty: ${n},
    depsCount: ${i},
    deps: ${e}}`};var Ym={keyword:"dependencies",type:"object",schemaType:"object",error:lt.error,code(t){let[i,e]=e_(t);Ed(t,i),Nd(t,e)}};function e_({schema:t}){let i={},e={};for(let n in t){if(n==="__proto__")continue;let r=Array.isArray(t[n])?i:e;r[n]=t[n]}return[i,e]}function Ed(t,i=t.schema){let{gen:e,data:n,it:r}=t;if(Object.keys(i).length===0)return;let o=e.let("missing");for(let a in i){let s=i[a];if(s.length===0)continue;let l=(0,ln.propertyInData)(e,n,a,r.opts.ownProperties);t.setParams({property:a,depsCount:s.length,deps:s.join(", ")}),r.allErrors?e.if(l,()=>{for(let c of s)(0,ln.checkReportMissingProp)(t,c)}):(e.if((0,ra._)`${l} && (${(0,ln.checkMissingProp)(t,s,o)})`),(0,ln.reportMissingProp)(t,o),e.else())}}lt.validatePropertyDeps=Ed;function Nd(t,i=t.schema){let{gen:e,data:n,keyword:r,it:o}=t,a=e.name("valid");for(let s in i)(0,Zm.alwaysValidSchema)(o,i[s])||(e.if((0,ln.propertyInData)(e,n,s,o.opts.ownProperties),()=>{let l=t.subschema({keyword:r,schemaProp:s},a);t.mergeValidEvaluated(l,a)},()=>e.var(a,!0)),t.ok(a))}lt.validateSchemaDeps=Nd;lt.default=Ym});var Od=x(oa=>{"use strict";Object.defineProperty(oa,"__esModule",{value:!0});var Pd=R(),t_=B(),i_={message:"property name must be valid",params:({params:t})=>(0,Pd._)`{propertyName: ${t.propertyName}}`},n_={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:i_,code(t){let{gen:i,schema:e,data:n,it:r}=t;if((0,t_.alwaysValidSchema)(r,e))return;let o=i.name("valid");i.forIn("key",n,a=>{t.setParams({propertyName:a}),t.subschema({keyword:"propertyNames",data:a,dataTypes:["string"],propertyName:a,compositeRule:!0},o),i.if((0,Pd.not)(o),()=>{t.error(!0),r.allErrors||i.break()})}),t.ok(o)}};oa.default=n_});var sa=x(aa=>{"use strict";Object.defineProperty(aa,"__esModule",{value:!0});var Zn=Le(),Ye=R(),r_=Ct(),Yn=B(),o_={message:"must NOT have additional properties",params:({params:t})=>(0,Ye._)`{additionalProperty: ${t.additionalProperty}}`},a_={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:o_,code(t){let{gen:i,schema:e,parentSchema:n,data:r,errsCount:o,it:a}=t;if(!o)throw new Error("ajv implementation error");let{allErrors:s,opts:l}=a;if(a.props=!0,l.removeAdditional!=="all"&&(0,Yn.alwaysValidSchema)(a,e))return;let c=(0,Zn.allSchemaProperties)(n.properties),d=(0,Zn.allSchemaProperties)(n.patternProperties);u(),t.ok((0,Ye._)`${o} === ${r_.default.errors}`);function u(){i.forIn("key",r,p=>{!c.length&&!d.length?m(p):i.if(g(p),()=>m(p))})}function g(p){let b;if(c.length>8){let D=(0,Yn.schemaRefOrVal)(a,n.properties,"properties");b=(0,Zn.isOwnProperty)(i,D,p)}else c.length?b=(0,Ye.or)(...c.map(D=>(0,Ye._)`${p} === ${D}`)):b=Ye.nil;return d.length&&(b=(0,Ye.or)(b,...d.map(D=>(0,Ye._)`${(0,Zn.usePattern)(t,D)}.test(${p})`))),(0,Ye.not)(b)}function y(p){i.code((0,Ye._)`delete ${r}[${p}]`)}function m(p){if(l.removeAdditional==="all"||l.removeAdditional&&e===!1){y(p);return}if(e===!1){t.setParams({additionalProperty:p}),t.error(),s||i.break();return}if(typeof e=="object"&&!(0,Yn.alwaysValidSchema)(a,e)){let b=i.name("valid");l.removeAdditional==="failing"?(C(p,b,!1),i.if((0,Ye.not)(b),()=>{t.reset(),y(p)})):(C(p,b),s||i.if((0,Ye.not)(b),()=>i.break()))}}function C(p,b,D){let I={keyword:"additionalProperties",dataProp:p,dataPropType:Yn.Type.Str};D===!1&&Object.assign(I,{compositeRule:!0,createErrors:!1,allErrors:!1}),t.subschema(I,b)}}};aa.default=a_});var Id=x(ca=>{"use strict";Object.defineProperty(ca,"__esModule",{value:!0});var s_=Ki(),Md=Le(),la=B(),Dd=sa(),l_={keyword:"properties",type:"object",schemaType:"object",code(t){let{gen:i,schema:e,parentSchema:n,data:r,it:o}=t;o.opts.removeAdditional==="all"&&n.additionalProperties===void 0&&Dd.default.code(new s_.KeywordCxt(o,Dd.default,"additionalProperties"));let a=(0,Md.allSchemaProperties)(e);for(let u of a)o.definedProperties.add(u);o.opts.unevaluated&&a.length&&o.props!==!0&&(o.props=la.mergeEvaluated.props(i,(0,la.toHash)(a),o.props));let s=a.filter(u=>!(0,la.alwaysValidSchema)(o,e[u]));if(s.length===0)return;let l=i.name("valid");for(let u of s)c(u)?d(u):(i.if((0,Md.propertyInData)(i,r,u,o.opts.ownProperties)),d(u),o.allErrors||i.else().var(l,!0),i.endIf()),t.it.definedProperties.add(u),t.ok(l);function c(u){return o.opts.useDefaults&&!o.compositeRule&&e[u].default!==void 0}function d(u){t.subschema({keyword:"properties",schemaProp:u,dataProp:u},l)}}};ca.default=l_});var Fd=x(da=>{"use strict";Object.defineProperty(da,"__esModule",{value:!0});var Vd=Le(),er=R(),Rd=B(),jd=B(),c_={keyword:"patternProperties",type:"object",schemaType:"object",code(t){let{gen:i,schema:e,data:n,parentSchema:r,it:o}=t,{opts:a}=o,s=(0,Vd.allSchemaProperties)(e),l=s.filter(C=>(0,Rd.alwaysValidSchema)(o,e[C]));if(s.length===0||l.length===s.length&&(!o.opts.unevaluated||o.props===!0))return;let c=a.strictSchema&&!a.allowMatchingProperties&&r.properties,d=i.name("valid");o.props!==!0&&!(o.props instanceof er.Name)&&(o.props=(0,jd.evaluatedPropsToName)(i,o.props));let{props:u}=o;g();function g(){for(let C of s)c&&y(C),o.allErrors?m(C):(i.var(d,!0),m(C),i.if(d))}function y(C){for(let p in c)new RegExp(C).test(p)&&(0,Rd.checkStrictMode)(o,`property ${p} matches pattern ${C} (use allowMatchingProperties)`)}function m(C){i.forIn("key",n,p=>{i.if((0,er._)`${(0,Vd.usePattern)(t,C)}.test(${p})`,()=>{let b=l.includes(C);b||t.subschema({keyword:"patternProperties",schemaProp:C,dataProp:p,dataPropType:jd.Type.Str},d),o.opts.unevaluated&&u!==!0?i.assign((0,er._)`${u}[${p}]`,!0):!b&&!o.allErrors&&i.if((0,er.not)(d),()=>i.break())})})}}};da.default=c_});var Ad=x(ua=>{"use strict";Object.defineProperty(ua,"__esModule",{value:!0});var d_=B(),u_={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(t){let{gen:i,schema:e,it:n}=t;if((0,d_.alwaysValidSchema)(n,e)){t.fail();return}let r=i.name("valid");t.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},r),t.failResult(r,()=>t.reset(),()=>t.error())},error:{message:"must NOT be valid"}};ua.default=u_});var Ld=x(fa=>{"use strict";Object.defineProperty(fa,"__esModule",{value:!0});var f_=Le(),p_={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:f_.validateUnion,error:{message:"must match a schema in anyOf"}};fa.default=p_});var qd=x(pa=>{"use strict";Object.defineProperty(pa,"__esModule",{value:!0});var tr=R(),h_=B(),m_={message:"must match exactly one schema in oneOf",params:({params:t})=>(0,tr._)`{passingSchemas: ${t.passing}}`},__={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:m_,code(t){let{gen:i,schema:e,parentSchema:n,it:r}=t;if(!Array.isArray(e))throw new Error("ajv implementation error");if(r.opts.discriminator&&n.discriminator)return;let o=e,a=i.let("valid",!1),s=i.let("passing",null),l=i.name("_valid");t.setParams({passing:s}),i.block(c),t.result(a,()=>t.reset(),()=>t.error(!0));function c(){o.forEach((d,u)=>{let g;(0,h_.alwaysValidSchema)(r,d)?i.var(l,!0):g=t.subschema({keyword:"oneOf",schemaProp:u,compositeRule:!0},l),u>0&&i.if((0,tr._)`${l} && ${a}`).assign(a,!1).assign(s,(0,tr._)`[${s}, ${u}]`).else(),i.if(l,()=>{i.assign(a,!0),i.assign(s,u),g&&t.mergeEvaluated(g,tr.Name)})})}}};pa.default=__});var Wd=x(ha=>{"use strict";Object.defineProperty(ha,"__esModule",{value:!0});var g_=B(),y_={keyword:"allOf",schemaType:"array",code(t){let{gen:i,schema:e,it:n}=t;if(!Array.isArray(e))throw new Error("ajv implementation error");let r=i.name("valid");e.forEach((o,a)=>{if((0,g_.alwaysValidSchema)(n,o))return;let s=t.subschema({keyword:"allOf",schemaProp:a},r);t.ok(r),t.mergeEvaluated(s)})}};ha.default=y_});var Ud=x(ma=>{"use strict";Object.defineProperty(ma,"__esModule",{value:!0});var ir=R(),Bd=B(),C_={message:({params:t})=>(0,ir.str)`must match "${t.ifClause}" schema`,params:({params:t})=>(0,ir._)`{failingKeyword: ${t.ifClause}}`},v_={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:C_,code(t){let{gen:i,parentSchema:e,it:n}=t;e.then===void 0&&e.else===void 0&&(0,Bd.checkStrictMode)(n,'"if" without "then" and "else" is ignored');let r=Hd(n,"then"),o=Hd(n,"else");if(!r&&!o)return;let a=i.let("valid",!0),s=i.name("_valid");if(l(),t.reset(),r&&o){let d=i.let("ifClause");t.setParams({ifClause:d}),i.if(s,c("then",d),c("else",d))}else r?i.if(s,c("then")):i.if((0,ir.not)(s),c("else"));t.pass(a,()=>t.error(!0));function l(){let d=t.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},s);t.mergeEvaluated(d)}function c(d,u){return()=>{let g=t.subschema({keyword:d},s);i.assign(a,s),t.mergeValidEvaluated(g,a),u?i.assign(u,(0,ir._)`${d}`):t.setParams({ifClause:d})}}}};function Hd(t,i){let e=t.schema[i];return e!==void 0&&!(0,Bd.alwaysValidSchema)(t,e)}ma.default=v_});var Kd=x(_a=>{"use strict";Object.defineProperty(_a,"__esModule",{value:!0});var b_=B(),z_={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:t,parentSchema:i,it:e}){i.if===void 0&&(0,b_.checkStrictMode)(e,`"${t}" without "if" is ignored`)}};_a.default=z_});var Gd=x(ga=>{"use strict";Object.defineProperty(ga,"__esModule",{value:!0});var w_=Yo(),S_=Sd(),x_=ea(),$_=$d(),T_=Td(),E_=kd(),N_=Od(),k_=sa(),P_=Id(),O_=Fd(),M_=Ad(),D_=Ld(),I_=qd(),V_=Wd(),R_=Ud(),j_=Kd();function F_(t=!1){let i=[M_.default,D_.default,I_.default,V_.default,R_.default,j_.default,N_.default,k_.default,E_.default,P_.default,O_.default];return t?i.push(S_.default,$_.default):i.push(w_.default,x_.default),i.push(T_.default),i}ga.default=F_});var Qd=x(ya=>{"use strict";Object.defineProperty(ya,"__esModule",{value:!0});var ne=R(),A_={message:({schemaCode:t})=>(0,ne.str)`must match format "${t}"`,params:({schemaCode:t})=>(0,ne._)`{format: ${t}}`},L_={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:A_,code(t,i){let{gen:e,data:n,$data:r,schema:o,schemaCode:a,it:s}=t,{opts:l,errSchemaPath:c,schemaEnv:d,self:u}=s;if(!l.validateFormats)return;r?g():y();function g(){let m=e.scopeValue("formats",{ref:u.formats,code:l.code.formats}),C=e.const("fDef",(0,ne._)`${m}[${a}]`),p=e.let("fType"),b=e.let("format");e.if((0,ne._)`typeof ${C} == "object" && !(${C} instanceof RegExp)`,()=>e.assign(p,(0,ne._)`${C}.type || "string"`).assign(b,(0,ne._)`${C}.validate`),()=>e.assign(p,(0,ne._)`"string"`).assign(b,C)),t.fail$data((0,ne.or)(D(),I()));function D(){return l.strictSchema===!1?ne.nil:(0,ne._)`${a} && !${b}`}function I(){let Y=d.$async?(0,ne._)`(${C}.async ? await ${b}(${n}) : ${b}(${n}))`:(0,ne._)`${b}(${n})`,M=(0,ne._)`(typeof ${b} == "function" ? ${Y} : ${b}.test(${n}))`;return(0,ne._)`${b} && ${b} !== true && ${p} === ${i} && !${M}`}}function y(){let m=u.formats[o];if(!m){D();return}if(m===!0)return;let[C,p,b]=I(m);C===i&&t.pass(Y());function D(){if(l.strictSchema===!1){u.logger.warn(M());return}throw new Error(M());function M(){return`unknown format "${o}" ignored in schema at path "${c}"`}}function I(M){let tt=M instanceof RegExp?(0,ne.regexpCode)(M):l.code.formats?(0,ne._)`${l.code.formats}${(0,ne.getProperty)(o)}`:void 0,ht=e.scopeValue("formats",{key:o,ref:M,code:tt});return typeof M=="object"&&!(M instanceof RegExp)?[M.type||"string",M.validate,(0,ne._)`${ht}.validate`]:["string",M,ht]}function Y(){if(typeof m=="object"&&!(m instanceof RegExp)&&m.async){if(!d.$async)throw new Error("async format in sync schema");return(0,ne._)`await ${b}(${n})`}return typeof p=="function"?(0,ne._)`${b}(${n})`:(0,ne._)`${b}.test(${n})`}}}};ya.default=L_});var Jd=x(Ca=>{"use strict";Object.defineProperty(Ca,"__esModule",{value:!0});var q_=Qd(),W_=[q_.default];Ca.default=W_});var Xd=x(bi=>{"use strict";Object.defineProperty(bi,"__esModule",{value:!0});bi.contentVocabulary=bi.metadataVocabulary=void 0;bi.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];bi.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]});var Yd=x(va=>{"use strict";Object.defineProperty(va,"__esModule",{value:!0});var H_=ad(),B_=vd(),U_=Gd(),K_=Jd(),Zd=Xd(),G_=[H_.default,B_.default,(0,U_.default)(),K_.default,Zd.metadataVocabulary,Zd.contentVocabulary];va.default=G_});var tu=x(nr=>{"use strict";Object.defineProperty(nr,"__esModule",{value:!0});nr.DiscrError=void 0;var eu=function(t){return t.Tag="tag",t.Mapping="mapping",t}(eu||(nr.DiscrError=eu={}))});var nu=x(za=>{"use strict";Object.defineProperty(za,"__esModule",{value:!0});var zi=R(),ba=tu(),iu=Fn(),Q_=Gi(),J_=B(),X_={message:({params:{discrError:t,tagName:i}})=>t===ba.DiscrError.Tag?`tag "${i}" must be string`:`value of tag "${i}" must be in oneOf`,params:({params:{discrError:t,tag:i,tagName:e}})=>(0,zi._)`{error: ${t}, tag: ${e}, tagValue: ${i}}`},Z_={keyword:"discriminator",type:"object",schemaType:"object",error:X_,code(t){let{gen:i,data:e,schema:n,parentSchema:r,it:o}=t,{oneOf:a}=r;if(!o.opts.discriminator)throw new Error("discriminator: requires discriminator option");let s=n.propertyName;if(typeof s!="string")throw new Error("discriminator: requires propertyName");if(n.mapping)throw new Error("discriminator: mapping is not supported");if(!a)throw new Error("discriminator: requires oneOf keyword");let l=i.let("valid",!1),c=i.const("tag",(0,zi._)`${e}${(0,zi.getProperty)(s)}`);i.if((0,zi._)`typeof ${c} == "string"`,()=>d(),()=>t.error(!1,{discrError:ba.DiscrError.Tag,tag:c,tagName:s})),t.ok(l);function d(){let y=g();i.if(!1);for(let m in y)i.elseIf((0,zi._)`${c} === ${m}`),i.assign(l,u(y[m]));i.else(),t.error(!1,{discrError:ba.DiscrError.Mapping,tag:c,tagName:s}),i.endIf()}function u(y){let m=i.name("valid"),C=t.subschema({keyword:"oneOf",schemaProp:y},m);return t.mergeEvaluated(C,zi.Name),m}function g(){var y;let m={},C=b(r),p=!0;for(let Y=0;Y<a.length;Y++){let M=a[Y];if(M?.$ref&&!(0,J_.schemaHasRulesButRef)(M,o.self.RULES)){let ht=M.$ref;if(M=iu.resolveRef.call(o.self,o.schemaEnv.root,o.baseId,ht),M instanceof iu.SchemaEnv&&(M=M.schema),M===void 0)throw new Q_.default(o.opts.uriResolver,o.baseId,ht)}let tt=(y=M?.properties)===null||y===void 0?void 0:y[s];if(typeof tt!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${s}"`);p=p&&(C||b(M)),D(tt,Y)}if(!p)throw new Error(`discriminator: "${s}" must be required`);return m;function b({required:Y}){return Array.isArray(Y)&&Y.includes(s)}function D(Y,M){if(Y.const)I(Y.const,M);else if(Y.enum)for(let tt of Y.enum)I(tt,M);else throw new Error(`discriminator: "properties/${s}" must have "const" or "enum"`)}function I(Y,M){if(typeof Y!="string"||Y in m)throw new Error(`discriminator: "${s}" values must be unique strings`);m[Y]=M}}}};za.default=Z_});var ru=x((pb,Y_)=>{Y_.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0}});var Sa=x((ie,wa)=>{"use strict";Object.defineProperty(ie,"__esModule",{value:!0});ie.MissingRefError=ie.ValidationError=ie.CodeGen=ie.Name=ie.nil=ie.stringify=ie.str=ie._=ie.KeywordCxt=ie.Ajv=void 0;var e0=ed(),t0=Yd(),i0=nu(),ou=ru(),n0=["/properties"],rr="http://json-schema.org/draft-07/schema",wi=class extends e0.default{_addVocabularies(){super._addVocabularies(),t0.default.forEach(i=>this.addVocabulary(i)),this.opts.discriminator&&this.addKeyword(i0.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;let i=this.opts.$data?this.$dataMetaSchema(ou,n0):ou;this.addMetaSchema(i,rr,!1),this.refs["http://json-schema.org/schema"]=rr}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(rr)?rr:void 0)}};ie.Ajv=wi;wa.exports=ie=wi;wa.exports.Ajv=wi;Object.defineProperty(ie,"__esModule",{value:!0});ie.default=wi;var r0=Ki();Object.defineProperty(ie,"KeywordCxt",{enumerable:!0,get:function(){return r0.KeywordCxt}});var Si=R();Object.defineProperty(ie,"_",{enumerable:!0,get:function(){return Si._}});Object.defineProperty(ie,"str",{enumerable:!0,get:function(){return Si.str}});Object.defineProperty(ie,"stringify",{enumerable:!0,get:function(){return Si.stringify}});Object.defineProperty(ie,"nil",{enumerable:!0,get:function(){return Si.nil}});Object.defineProperty(ie,"Name",{enumerable:!0,get:function(){return Si.Name}});Object.defineProperty(ie,"CodeGen",{enumerable:!0,get:function(){return Si.CodeGen}});var o0=Rn();Object.defineProperty(ie,"ValidationError",{enumerable:!0,get:function(){return o0.default}});var a0=Gi();Object.defineProperty(ie,"MissingRefError",{enumerable:!0,get:function(){return a0.default}})});var pu=x(dt=>{"use strict";Object.defineProperty(dt,"__esModule",{value:!0});dt.formatNames=dt.fastFormats=dt.fullFormats=void 0;function ct(t,i){return{validate:t,compare:i}}dt.fullFormats={date:ct(cu,Ea),time:ct($a(!0),Na),"date-time":ct(au(!0),uu),"iso-time":ct($a(),du),"iso-date-time":ct(au(),fu),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:f0,"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:C0,uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:p0,int32:{type:"number",validate:_0},int64:{type:"number",validate:g0},float:{type:"number",validate:lu},double:{type:"number",validate:lu},password:!0,binary:!0};dt.fastFormats=X(S({},dt.fullFormats),{date:ct(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,Ea),time:ct(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,Na),"date-time":ct(/^\d\d\d\d-[0-1]\d-[0-3]\dt(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,uu),"iso-time":ct(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,du),"iso-date-time":ct(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,fu),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i});dt.formatNames=Object.keys(dt.fullFormats);function s0(t){return t%4===0&&(t%100!==0||t%400===0)}var l0=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,c0=[0,31,28,31,30,31,30,31,31,30,31,30,31];function cu(t){let i=l0.exec(t);if(!i)return!1;let e=+i[1],n=+i[2],r=+i[3];return n>=1&&n<=12&&r>=1&&r<=(n===2&&s0(e)?29:c0[n])}function Ea(t,i){if(t&&i)return t>i?1:t<i?-1:0}var xa=/^(\d\d):(\d\d):(\d\d(?:\.\d+)?)(z|([+-])(\d\d)(?::?(\d\d))?)?$/i;function $a(t){return function(e){let n=xa.exec(e);if(!n)return!1;let r=+n[1],o=+n[2],a=+n[3],s=n[4],l=n[5]==="-"?-1:1,c=+(n[6]||0),d=+(n[7]||0);if(c>23||d>59||t&&!s)return!1;if(r<=23&&o<=59&&a<60)return!0;let u=o-d*l,g=r-c*l-(u<0?1:0);return(g===23||g===-1)&&(u===59||u===-1)&&a<61}}function Na(t,i){if(!(t&&i))return;let e=new Date("2020-01-01T"+t).valueOf(),n=new Date("2020-01-01T"+i).valueOf();if(e&&n)return e-n}function du(t,i){if(!(t&&i))return;let e=xa.exec(t),n=xa.exec(i);if(e&&n)return t=e[1]+e[2]+e[3],i=n[1]+n[2]+n[3],t>i?1:t<i?-1:0}var Ta=/t|\s/i;function au(t){let i=$a(t);return function(n){let r=n.split(Ta);return r.length===2&&cu(r[0])&&i(r[1])}}function uu(t,i){if(!(t&&i))return;let e=new Date(t).valueOf(),n=new Date(i).valueOf();if(e&&n)return e-n}function fu(t,i){if(!(t&&i))return;let[e,n]=t.split(Ta),[r,o]=i.split(Ta),a=Ea(e,r);if(a!==void 0)return a||Na(n,o)}var d0=/\/|:/,u0=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function f0(t){return d0.test(t)&&u0.test(t)}var su=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm;function p0(t){return su.lastIndex=0,su.test(t)}var h0=-(2**31),m0=2**31-1;function _0(t){return Number.isInteger(t)&&t<=m0&&t>=h0}function g0(t){return Number.isInteger(t)}function lu(){return!0}var y0=/[^\\]\\Z/;function C0(t){if(y0.test(t))return!1;try{return new RegExp(t),!0}catch{return!1}}});var hu=x(xi=>{"use strict";Object.defineProperty(xi,"__esModule",{value:!0});xi.formatLimitDefinition=void 0;var v0=Sa(),et=R(),jt=et.operators,or={formatMaximum:{okStr:"<=",ok:jt.LTE,fail:jt.GT},formatMinimum:{okStr:">=",ok:jt.GTE,fail:jt.LT},formatExclusiveMaximum:{okStr:"<",ok:jt.LT,fail:jt.GTE},formatExclusiveMinimum:{okStr:">",ok:jt.GT,fail:jt.LTE}},b0={message:({keyword:t,schemaCode:i})=>(0,et.str)`should be ${or[t].okStr} ${i}`,params:({keyword:t,schemaCode:i})=>(0,et._)`{comparison: ${or[t].okStr}, limit: ${i}}`};xi.formatLimitDefinition={keyword:Object.keys(or),type:"string",schemaType:"string",$data:!0,error:b0,code(t){let{gen:i,data:e,schemaCode:n,keyword:r,it:o}=t,{opts:a,self:s}=o;if(!a.validateFormats)return;let l=new v0.KeywordCxt(o,s.RULES.all.format.definition,"format");l.$data?c():d();function c(){let g=i.scopeValue("formats",{ref:s.formats,code:a.code.formats}),y=i.const("fmt",(0,et._)`${g}[${l.schemaCode}]`);t.fail$data((0,et.or)((0,et._)`typeof ${y} != "object"`,(0,et._)`${y} instanceof RegExp`,(0,et._)`typeof ${y}.compare != "function"`,u(y)))}function d(){let g=l.schema,y=s.formats[g];if(!y||y===!0)return;if(typeof y!="object"||y instanceof RegExp||typeof y.compare!="function")throw new Error(`"${r}": format "${g}" does not define "compare" function`);let m=i.scopeValue("formats",{key:g,ref:y,code:a.code.formats?(0,et._)`${a.code.formats}${(0,et.getProperty)(g)}`:void 0});t.fail$data(u(m))}function u(g){return(0,et._)`${g}.compare(${e}, ${n}) ${or[r].fail} 0`}},dependencies:["format"]};var z0=t=>(t.addKeyword(xi.formatLimitDefinition),t);xi.default=z0});var yu=x((cn,gu)=>{"use strict";Object.defineProperty(cn,"__esModule",{value:!0});var $i=pu(),w0=hu(),ka=R(),mu=new ka.Name("fullFormats"),S0=new ka.Name("fastFormats"),Pa=(t,i={keywords:!0})=>{if(Array.isArray(i))return _u(t,i,$i.fullFormats,mu),t;let[e,n]=i.mode==="fast"?[$i.fastFormats,S0]:[$i.fullFormats,mu],r=i.formats||$i.formatNames;return _u(t,r,e,n),i.keywords&&(0,w0.default)(t),t};Pa.get=(t,i="full")=>{let n=(i==="fast"?$i.fastFormats:$i.fullFormats)[t];if(!n)throw new Error(`Unknown format "${t}"`);return n};function _u(t,i,e,n){var r,o;(r=(o=t.opts.code).formats)!==null&&r!==void 0||(o.formats=(0,ka._)`require("ajv-formats/dist/formats").${n}`);for(let a of i)t.addFormat(a,e[a])}gu.exports=cn=Pa;Object.defineProperty(cn,"__esModule",{value:!0});cn.default=Pa});var wu=Ja(Sa(),1),Su=Ja(yu(),1);var ar=class t{_title="";key;level=0;origin;parentNode=null;_icon="";_children=[];_isLeaf=!1;_isChecked=!1;_isSelectable=!1;_isDisabled=!1;_isDisableCheckbox=!1;_isExpanded=!1;_isHalfChecked=!1;_isSelected=!1;_isLoading=!1;canHide=!1;isMatched=!1;service=null;component;isStart;isEnd;get treeService(){return this.service||this.parentNode&&this.parentNode.treeService}constructor(i,e=null,n=null){if(i instanceof t)return i;this.service=n||null,this.origin=i,this.key=i.key,this.parentNode=e,this._title=i.title||"---",this._icon=i.icon||"",this._isLeaf=i.isLeaf||!1,this._children=[],this._isChecked=i.checked||!1,this._isSelectable=i.disabled||i.selectable!==!1,this._isDisabled=i.disabled||!1,this._isDisableCheckbox=i.disableCheckbox||!1,this._isExpanded=i.isLeaf?!1:i.expanded||!1,this._isHalfChecked=!1,this._isSelected=!i.disabled&&i.selected||!1,this._isLoading=!1,this.isMatched=!1,e?this.level=e.level+1:this.level=0;let r=this.treeService;r?.treeNodePostProcessor?.(this),typeof i.children<"u"&&i.children!==null&&i.children.forEach(o=>{r&&!r.isCheckStrictly&&i.checked&&!i.disabled&&!o.disabled&&!o.disableCheckbox&&(o.checked=i.checked),this._children.push(new t(o,this))})}get title(){return this._title}set title(i){this._title=i,this.update()}get icon(){return this._icon}set icon(i){this._icon=i,this.update()}get children(){return this._children}set children(i){this._children=i,this.update()}get isLeaf(){return this._isLeaf}set isLeaf(i){this._isLeaf=i,this.update()}get isChecked(){return this._isChecked}set isChecked(i){this._isChecked=i,this.origin.checked=i,this.afterValueChange("isChecked")}get isHalfChecked(){return this._isHalfChecked}set isHalfChecked(i){this._isHalfChecked=i,this.afterValueChange("isHalfChecked")}get isSelectable(){return this._isSelectable}set isSelectable(i){this._isSelectable=i,this.update()}get isDisabled(){return this._isDisabled}set isDisabled(i){this._isDisabled=i,this.update()}get isDisableCheckbox(){return this._isDisableCheckbox}set isDisableCheckbox(i){this._isDisableCheckbox=i,this.update()}get isExpanded(){return this._isExpanded}set isExpanded(i){this._isExpanded=i,this.origin.expanded=i,this.afterValueChange("isExpanded"),this.afterValueChange("reRender")}get isSelected(){return this._isSelected}set isSelected(i){this._isSelected=i,this.origin.selected=i,this.afterValueChange("isSelected")}get isLoading(){return this._isLoading}set isLoading(i){this._isLoading=i,this.update()}setSyncChecked(i=!1,e=!1){this.setChecked(i,e),this.treeService&&!this.treeService.isCheckStrictly&&this.treeService.conduct(this)}setChecked(i=!1,e=!1){this.origin.checked=i,this.isChecked=i,this.isHalfChecked=e}setExpanded(i){this._isExpanded=i,this.origin.expanded=i,this.afterValueChange("isExpanded")}getParentNode(){return this.parentNode}getChildren(){return this.children}addChildren(i,e=-1){this.isLeaf||(i.forEach(n=>{let r=a=>{a.getChildren().forEach(s=>{s.level=s.getParentNode().level+1,s.origin.level=s.level,r(s)})},o=n;o instanceof t?o.parentNode=this:o=new t(n,this),o.level=this.level+1,o.origin.level=o.level,r(o);try{e===-1?this.children.push(o):this.children.splice(e,0,o)}catch{}}),this.origin.children=this.getChildren().map(n=>n.origin),this.isLoading=!1),this.afterValueChange("addChildren"),this.afterValueChange("reRender")}clearChildren(){this.afterValueChange("clearChildren"),this.children=[],this.origin.children=[],this.afterValueChange("reRender")}remove(){let i=this.getParentNode();i&&(i.children=i.getChildren().filter(e=>e.key!==this.key),i.origin.children=i.origin.children.filter(e=>e.key!==this.key),this.afterValueChange("remove"),this.afterValueChange("reRender"))}afterValueChange(i){if(this.treeService)switch(i){case"isChecked":this.treeService.setCheckedNodeList(this);break;case"isHalfChecked":this.treeService.setHalfCheckedNodeList(this);break;case"isExpanded":this.treeService.setExpandedNodeList(this);break;case"isSelected":this.treeService.setNodeActive(this);break;case"clearChildren":this.treeService.afterRemove(this.getChildren());break;case"remove":this.treeService.afterRemove([this]);break;case"reRender":this.treeService.flattenTreeData(this.treeService.rootNodes,this.treeService.getExpandedNodeList().map(e=>e.key));break}this.update()}update(){this.component&&this.component.markForCheck()}};var Cb=new as("NzTreeHigherOrder");var Cu=(()=>{class t{cogSrv=w(xe);c;constructor(){this.c=this.cogSrv.merge("utilArray",{deepMapName:"deep",parentMapName:"parent",idMapName:"id",parentIdMapName:"parent_id",childrenMapName:"children",titleMapName:"title",checkedMapname:"checked",selectedMapname:"selected",expandedMapname:"expanded",disabledMapname:"disabled"})}treeToArr(e,n){let r=S({deepMapName:this.c.deepMapName,parentMapName:this.c.parentMapName,childrenMapName:this.c.childrenMapName,clearChildren:!0,cb:null},n),o=[],a=(s,l,c=0)=>{for(let d of s){d[r.deepMapName]=c,d[r.parentMapName]=l,r.cb&&r.cb(d,l,c),o.push(d);let u=d[r.childrenMapName];u!=null&&Array.isArray(u)&&u.length>0&&a(u,d,c+1),r.clearChildren&&delete d[r.childrenMapName]}};return a(e,null),o}arrToTree(e,n){if(!Array.isArray(e)||e.length===0)return[];let r=S({idMapName:this.c.idMapName,parentIdMapName:this.c.parentIdMapName,childrenMapName:this.c.childrenMapName,cb:null},n),o=[],a={},s=r.rootParentIdValue,l=e;if(!s){let c=l.map(u=>u[r.parentIdMapName]),d=c.findIndex(u=>u==null);s=d!==-1?c[d]:c.sort()[0]}for(let c of l){let d=c[r.idMapName],u=c[r.parentIdMapName];a[d]=a[d]||[],c[r.childrenMapName]=a[d],r.cb&&r.cb(c),u!==s?(a[u]=a[u]||[],a[u].push(c)):o.push(c)}return o}arrToTreeNode(e,n){let r=S({idMapName:this.c.idMapName,parentIdMapName:this.c.parentIdMapName,titleMapName:this.c.titleMapName,isLeafMapName:"isLeaf",checkedMapname:this.c.checkedMapname,selectedMapname:this.c.selectedMapname,expandedMapname:this.c.expandedMapname,disabledMapname:this.c.disabledMapname,cb:null},n),o=this.arrToTree(e,{idMapName:r.idMapName,parentIdMapName:r.parentIdMapName,childrenMapName:"children"});return this.visitTree(o,(a,s,l)=>{a.key=a[r.idMapName],a.title=a[r.titleMapName],a.checked=a[r.checkedMapname],a.selected=a[r.selectedMapname],a.expanded=a[r.expandedMapname],a.disabled=a[r.disabledMapname],a[r.isLeafMapName]==null?a.isLeaf=a.children.length===0:a.isLeaf=a[r.isLeafMapName],r.cb&&r.cb(a,s,l)}),o.map(a=>new ar(a))}visitTree(e,n,r){r=S({childrenMapName:this.c.childrenMapName},r);let o=(a,s,l)=>{for(let c of a){n(c,s,l);let d=c[r.childrenMapName];Array.isArray(d)&&d.length>0&&o(d,c,l+1)}};o(e,null,1)}findTree(e,n,r){let o;return this.visitTree(e,a=>{o===void 0&&n(a)&&(o=a)},r),o}getKeysByTreeNode(e,n){let r=S({includeHalfChecked:!0},n),o=[];return this.visitTree(e,(a,s,l)=>{(a.isChecked||r.includeHalfChecked&&a.isHalfChecked)&&o.push(r.cb?r.cb(a,s,l):r.keyMapName?a.origin[r.keyMapName]:a.key)}),o}baseFlat(e,n,r=[]){let o=-1;for(;++o<e.length;){let a=e[o];if(n>0&&Array.isArray(a))if(n>1)this.baseFlat(a,n-1,r);else{let s=-1,l=r.length;for(;++s<a.length;)r[l+s]=a[s]}else r[r.length]=a}return r}flat(e,n=1/0){return Array.isArray(e)?this.baseFlat(e,n):e}groupBy(e,n){return Array.isArray(e)?e.reduce((r,o)=>{let a=n(o);return Object.prototype.hasOwnProperty.call(r,a)?r[a].push(o):r[a]=[o],r},{}):{}}uniq(e,n){return Array.from(e.reduce((r,o)=>{let a=n?typeof n=="string"?o[n]:n(o):o;return r.has(a)||r.set(a,o),r},new Map).values())}static \u0275fac=function(n){return new(n||t)};static \u0275prov=ii({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var $0=["target"];function T0(t,i){}function E0(t,i){t&1&&ps(0)}var xu=["*"];function N0(t,i){t&1&&ae(0)}function k0(t,i){if(t&1&&G(0,"nz-icon",11),t&2){let e=f(5);_("nzType",e._btn.submit_icon.type)("nzTheme",e._btn.submit_icon.theme)("nzTwotoneColor",e._btn.submit_icon.twoToneColor)("nzIconfont",e._btn.submit_icon.iconfont)}}function P0(t,i){if(t&1&&G(0,"nz-icon",11),t&2){f();let e=Ii(1);_("nzType",e.type)("nzTheme",e.theme)("nzTwotoneColor",e.twoToneColor)("nzIconfont",e.iconfont)}}function O0(t,i){if(t&1){let e=ee();z(0,"button",13),K("click",function(){N(e);let r=f(5);return k(r.reset(!0))}),Tr(1),$(2,P0,1,4,"nz-icon",11),F(3),v()}if(t&2){f(3);let e=Ii(0),n=f(2);_("nzType",n._btn.reset_type)("nzSize",e.size)("disabled",n.loading),h();let r=Er(n._btn.reset_icon);h(),T(r?2:-1),h(),se(" ",n._btn.reset," ")}}function M0(t,i){if(t&1&&(z(0,"button",10),$(1,k0,1,4,"nz-icon",11),F(2),v(),$(3,O0,4,6,"button",12)),t&2){f(2);let e=Ii(0),n=f(2);_("nzType",n._btn.submit_type)("nzSize",e.size)("nzLoading",n.loading)("disabled",n.liveValidate&&!n.valid),h(),T(n._btn.submit_icon?1:-1),h(),se(" ",n._btn.submit," "),h(),T(n._btn.reset?3:-1)}}function D0(t,i){}function I0(t,i){if(t&1&&O(0,D0,0,0,"ng-template",4),t&2){f(4);let e=le(1);_("ngTemplateOutlet",e)}}function V0(t,i){if(t&1&&(z(0,"nz-form-item",6)(1,"div",7)(2,"div",8)(3,"div",9),$(4,M0,4,7)(5,I0,1,1,null,4),v()()()()),t&2){f();let e=Ii(0),n=f(2);nt(e.class),_("fixed-label",e.spanLabelFixed),h(),_("nzSpan",n.btnGrid.span)("nzOffset",n.btnGrid.offset)("nzXs",n.btnGrid.xs)("nzSm",n.btnGrid.sm)("nzMd",n.btnGrid.md)("nzLg",n.btnGrid.lg)("nzXl",n.btnGrid.xl)("nzXXl",n.btnGrid.xxl),h(3),T(n.button?4:5)}}function R0(t,i){if(t&1&&(Tr(0),$(1,V0,6,12,"nz-form-item",5)),t&2){let e=Er(f(2)._btn.render);h(),T(e?1:-1)}}function j0(t,i){}function F0(t,i){if(t&1&&O(0,j0,0,0,"ng-template",4),t&2){f(2);let e=le(1);_("ngTemplateOutlet",e)}}function A0(t,i){if(t&1&&$(0,R0,2,2)(1,F0,1,1,null,4),t&2){let e=f();T(e.button!=="none"?0:1)}}function L0(t,i){if(t&1&&G(0,"sf-item",3),t&2){let e=f(),n=le(3);_("formProperty",e.rootProperty)("footer",n)}}function q0(t,i){if(t&1&&G(0,"nz-icon",9),t&2){let e=f(4);_("nzTooltipTitle",e.oh.text)("nzTooltipPlacement",e.oh.placement)("nzTooltipTrigger",e.oh.trigger)("nzTooltipColor",e.oh.bgColor)("nzTooltipOverlayClassName",e.oh.overlayClassName)("nzTooltipOverlayStyle",e.oh.overlayStyle)("nzTooltipMouseEnterDelay",e.oh.mouseEnterDelay)("nzTooltipMouseLeaveDelay",e.oh.mouseLeaveDelay)("nzType",e.oh.icon)}}function W0(t,i){if(t&1&&(z(0,"span",8),F(1),$(2,q0,1,9,"nz-icon",9),v()),t&2){let e=f(3);h(),se(" ",e.ui.optional," "),h(),T(e.oh?2:-1)}}function H0(t,i){if(t&1&&(z(0,"label")(1,"span",7),F(2),v(),$(3,W0,3,2,"span",8),v()),t&2){let e=f(2);Q("ant-form-item-required",e.ui._required),je("for",e.id),h(2),re(e.t),h(),T(e.ui.optional||e.oh?3:-1)}}function B0(t,i){if(t&1&&(z(0,"div",0),$(1,H0,4,5,"label",6),v()),t&2){let e=f();_("nzSpan",e.ui.spanLabel),h(),T(e.t?1:-1)}}function U0(t,i){if(t&1&&(z(0,"div",4)(1,"div",10),F(2),v()()),t&2){let e=f();_("@helpMotion",void 0),h(2),se(" ",e.error," ")}}function K0(t,i){if(t&1&&G(0,"div",5),t&2){let e=f();_("innerHTML",e.ui._description,zt)}}function G0(t,i){if(t&1&&G(0,"nz-icon",7),t&2){let e=f(2);_("nzTooltipTitle",e.oh.text)("nzTooltipPlacement",e.oh.placement)("nzTooltipTrigger",e.oh.trigger)("nzTooltipOverlayClassName",e.oh.overlayClassName)("nzTooltipOverlayStyle",e.oh.overlayStyle)("nzTooltipMouseEnterDelay",e.oh.mouseEnterDelay)("nzTooltipMouseLeaveDelay",e.oh.mouseLeaveDelay)("nzType",e.oh.icon)}}function Q0(t,i){if(t&1){let e=ee();z(0,"div",0)(1,"label"),F(2),z(3,"span",6),F(4),$(5,G0,1,8,"nz-icon",7),v()(),z(6,"div",8)(7,"button",9),K("click",function(){N(e);let r=f();return k(r.addItem())}),v()()()}if(t&2){let e=f();_("nzSpan",e.ui.spanLabel),h(),Q("ant-form-item-required",e.ui.required),h(),se(" ",e.schema.title," "),h(2),se(" ",e.ui.optional," "),h(),T(e.oh?5:-1),h(2),_("nzType",e.addType)("disabled",e.addDisabled)("innerHTML",e.addTitle,zt)}}function J0(t,i){if(t&1){let e=ee();z(0,"span",13),K("click",function(){N(e);let r=f(2).$index,o=f();return k(o.removeItem(r))}),G(1,"nz-icon",14),v()}if(t&2){let e=f(3);je("title",e.removeTitle)}}function X0(t,i){if(t&1&&(z(0,"div",10)(1,"nz-card"),G(2,"sf-item",11),$(3,J0,2,1,"span",12),v()()),t&2){let e=f(),n=e.$implicit,r=e.$index,o=f();_("nzSpan",o.arraySpan),je("data-index",r),h(2),_("formProperty",n),h(),T(o.showRemove?3:-1)}}function Z0(t,i){if(t&1&&$(0,X0,4,4,"div",10),t&2){let e=i.$implicit;T(e.visible&&!e.ui.hidden?0:-1)}}function Y0(t,i){if(t&1&&(z(0,"div",4),F(1),v()),t&2){let e=f();h(),re(e.error)}}function eg(t,i){if(t&1&&G(0,"div",5),t&2){let e=f();_("innerHTML",e.ui._description,zt)}}function tg(t,i){if(t&1){let e=ee();z(0,"label",3),$t("ngModelChange",function(r){N(e);let o=f(2);return xt(o.allChecked,r)||(o.allChecked=r),k(r)}),K("ngModelChange",function(){N(e);let r=f(2);return k(r.onAllChecked())}),F(1),v()}if(t&2){let e=f(2);St("ngModel",e.allChecked),_("nzIndeterminate",e.indeterminate),h(),se(" ",e.ui.checkAllText||e.l.checkAllText," ")}}function ig(t,i){if(t&1&&$(0,tg,2,3,"label",2),t&2){let e=f();T(e.ui.checkAll?0:-1)}}function ng(t,i){if(t&1&&G(0,"nz-icon",7),t&2){let e=f(3);_("nzTooltipTitle",e.oh.text)("nzTooltipPlacement",e.oh.placement)("nzTooltipTrigger",e.oh.trigger)("nzTooltipOverlayClassName",e.oh.overlayClassName)("nzTooltipOverlayStyle",e.oh.overlayStyle)("nzTooltipMouseEnterDelay",e.oh.mouseEnterDelay)("nzTooltipMouseLeaveDelay",e.oh.mouseLeaveDelay)("nzType",e.oh.icon)}}function rg(t,i){if(t&1){let e=ee();z(0,"label",5),K("ngModelChange",function(r){N(e);let o=f(2);return k(o._setValue(r))}),F(1),z(2,"span",6),F(3),$(4,ng,1,8,"nz-icon",7),v()()}if(t&2){let e=f(2);_("nzDisabled",e.disabled)("ngModel",e.value),h(),se(" ",e.schema.title," "),h(2),se(" ",e.ui.optional," "),h(),T(e.oh?4:-1)}}function og(t,i){}function ag(t,i){if(t&1){let e=ee();O(0,og,0,0,"ng-template",9),z(1,"nz-checkbox-group",10),K("ngModelChange",function(r){N(e);let o=f(3);return k(o.groupInGridChange(r))}),v()}if(t&2){let e=f(3),n=le(1);_("ngTemplateOutlet",n),h(),_("ngModel",e.value)("nzOptions",e.data)}}function sg(t,i){}function lg(t,i){if(t&1&&(z(0,"div",13),O(1,sg,0,0,"ng-template",9),v()),t&2){let e=f(4),n=le(1);_("nzSpan",e.grid_span),h(),_("ngTemplateOutlet",n)}}function cg(t,i){if(t&1&&(z(0,"div",13)(1,"label",14),F(2),v()()),t&2){let e=i.$implicit,n=f(4);_("nzSpan",n.grid_span),h(),_("nzValue",e.value)("ngModel",e.checked)("nzDisabled",e.disabled),h(),se(" ",e.label," ")}}function dg(t,i){if(t&1){let e=ee();z(0,"nz-checkbox-wrapper",11),K("nzOnChange",function(r){N(e);let o=f(3);return k(o.groupInGridChange(r))}),z(1,"div",12),$(2,lg,2,2,"div",13),be(3,cg,3,5,"div",13,Ue),v()()}if(t&2){let e=f(3);h(2),T(e.ui.checkAll?2:-1),h(),ze(e.data)}}function ug(t,i){if(t&1&&$(0,ag,2,3)(1,dg,5,1,"nz-checkbox-wrapper",8),t&2){let e=f(2);T(e.grid_span===0?0:1)}}function fg(t,i){if(t&1&&$(0,rg,5,5,"label",4)(1,ug,2,1),t&2){let e=f();T(e.data.length===0?0:1)}}var pg=(t,i,e)=>({$implicit:t,schema:i,ui:e});function hg(t,i){}function mg(t,i){if(t&1){let e=ee();z(0,"nz-year-picker",5),$t("ngModelChange",function(r){N(e);let o=f();return xt(o.displayValue,r)||(o.displayValue=r),k(r)}),K("ngModelChange",function(r){N(e);let o=f();return k(o._change(r))})("nzOnOpenChange",function(r){N(e);let o=f();return k(o._openChange(r))}),v()}if(t&2){let e=f();nt(e.ui.className),_("nzId",e.id)("nzDisabled",e.disabled)("nzSize",e.ui.size)("nzFormat",e.displayFormat),St("ngModel",e.displayValue),_("nzAllowClear",e.i.allowClear)("nzDisabledDate",e.ui.disabledDate)("nzLocale",e.ui.locale)("nzPlaceHolder",e.ui.placeholder)("nzPopupStyle",e.ui.popupStyle)("nzDropdownClassName",e.ui.dropdownClassName)("nzRenderExtraFooter",e.ui.renderExtraFooter)("nzInputReadOnly",e.ui.inputReadOnly)("nzInline",e.ui.inline)}}function _g(t,i){if(t&1){let e=ee();z(0,"nz-month-picker",5),$t("ngModelChange",function(r){N(e);let o=f();return xt(o.displayValue,r)||(o.displayValue=r),k(r)}),K("ngModelChange",function(r){N(e);let o=f();return k(o._change(r))})("nzOnOpenChange",function(r){N(e);let o=f();return k(o._openChange(r))}),v()}if(t&2){let e=f();nt(e.ui.className),_("nzId",e.id)("nzDisabled",e.disabled)("nzSize",e.ui.size)("nzFormat",e.displayFormat),St("ngModel",e.displayValue),_("nzAllowClear",e.i.allowClear)("nzDisabledDate",e.ui.disabledDate)("nzLocale",e.ui.locale)("nzPlaceHolder",e.ui.placeholder)("nzPopupStyle",e.ui.popupStyle)("nzDropdownClassName",e.ui.dropdownClassName)("nzRenderExtraFooter",e.ui.renderExtraFooter)("nzInputReadOnly",e.ui.inputReadOnly)("nzInline",e.ui.inline)}}function gg(t,i){if(t&1){let e=ee();z(0,"nz-week-picker",6),$t("ngModelChange",function(r){N(e);let o=f();return xt(o.displayValue,r)||(o.displayValue=r),k(r)}),K("ngModelChange",function(r){N(e);let o=f();return k(o._change(r))})("nzOnOpenChange",function(r){N(e);let o=f();return k(o._openChange(r))}),v()}if(t&2){let e=f();nt(e.ui.className),_("nzId",e.id)("nzDisabled",e.disabled)("nzSize",e.ui.size)("nzFormat",e.displayFormat),St("ngModel",e.displayValue),_("nzAllowClear",e.i.allowClear)("nzDisabledDate",e.ui.disabledDate)("nzLocale",e.ui.locale)("nzPlaceHolder",e.ui.placeholder)("nzPopupStyle",e.ui.popupStyle)("nzDropdownClassName",e.ui.dropdownClassName)("nzInputReadOnly",e.ui.inputReadOnly)("nzInline",e.ui.inline)}}function yg(t,i){if(t&1){let e=ee();z(0,"nz-range-picker",7),$t("ngModelChange",function(r){N(e);let o=f();return xt(o.displayValue,r)||(o.displayValue=r),k(r)}),K("ngModelChange",function(r){N(e);let o=f();return k(o._change(r))})("nzOnOpenChange",function(r){N(e);let o=f();return k(o._openChange(r))})("nzOnOk",function(r){N(e);let o=f();return k(o._ok(r))}),v()}if(t&2){let e=f();nt(e.ui.className),_("nzId",e.id)("nzDisabled",e.disabled)("nzSize",e.ui.size)("nzFormat",e.displayFormat),St("ngModel",e.displayValue),_("nzAllowClear",e.i.allowClear)("nzDisabledDate",e.ui.disabledDate)("nzLocale",e.ui.locale)("nzPlaceHolder",e.ui.placeholder)("nzPopupStyle",e.ui.popupStyle)("nzDropdownClassName",e.ui.dropdownClassName)("nzDisabledTime",e.ui.disabledTime)("nzRenderExtraFooter",e.ui.renderExtraFooter)("nzRanges",e.ui.ranges)("nzShowTime",e.ui.showTime)("nzSeparator",e.ui.separator)("nzShowWeekNumber",e.ui.showWeekNumber||!1)("nzMode",e.ui.rangeMode)("nzInputReadOnly",e.ui.inputReadOnly)("nzInline",e.ui.inline)}}function Cg(t,i){if(t&1){let e=ee();z(0,"nz-date-picker",8),$t("ngModelChange",function(r){N(e);let o=f();return xt(o.displayValue,r)||(o.displayValue=r),k(r)}),K("ngModelChange",function(r){N(e);let o=f();return k(o._change(r))})("nzOnOpenChange",function(r){N(e);let o=f();return k(o._openChange(r))})("nzOnOk",function(r){N(e);let o=f();return k(o._ok(r))}),v()}if(t&2){let e=f();nt(e.ui.className),_("nzId",e.id)("nzDisabled",e.disabled)("nzSize",e.ui.size)("nzFormat",e.displayFormat),St("ngModel",e.displayValue),_("nzAllowClear",e.i.allowClear)("nzDisabledDate",e.ui.disabledDate)("nzLocale",e.ui.locale)("nzPlaceHolder",e.ui.placeholder)("nzPopupStyle",e.ui.popupStyle)("nzDropdownClassName",e.ui.dropdownClassName)("nzDisabledTime",e.ui.disabledTime)("nzRenderExtraFooter",e.ui.renderExtraFooter)("nzShowTime",e.ui.showTime)("nzShowToday",e.i.showToday)("nzShowWeekNumber",e.ui.showWeekNumber||!1)("nzInputReadOnly",e.ui.inputReadOnly)("nzInline",e.ui.inline)}}var vg=()=>[],bg=()=>({$implicit:!0});function zg(t,i){if(t&1&&(z(0,"div",4),F(1),v()),t&2){let e=f(2);h(),re(e.title)}}function wg(t,i){if(t&1&&(z(0,"div",6),G(1,"sf-item",7),v()),t&2){let e=f().$implicit;_("nzSpan",e.grid.span)("nzOffset",e.grid.offset)("nzXs",e.grid.xs)("nzSm",e.grid.sm)("nzMd",e.grid.md)("nzLg",e.grid.lg)("nzXl",e.grid.xl)("nzXXl",e.grid.xxl),h(),_("formProperty",e.property)("fixed-label",e.spanLabelFixed)}}function Sg(t,i){if(t&1&&$(0,wg,2,10,"div",6),t&2){let e=i.$implicit;T(e.property.visible&&e.show?0:-1)}}function xg(t,i){if(t&1&&(z(0,"div",5),be(1,Sg,1,1,null,null,Ue),v()),t&2){let e=f(2);_("nzGutter",e.grid.gutter),h(),ze(e.list)}}function $g(t,i){if(t&1&&G(0,"sf-item",7),t&2){let e=f().$implicit;_("formProperty",e.property)("fixed-label",e.spanLabelFixed)}}function Tg(t,i){if(t&1&&$(0,$g,1,2,"sf-item",7),t&2){let e=i.$implicit;T(e.property.visible&&e.show?0:-1)}}function Eg(t,i){if(t&1&&be(0,Tg,1,1,null,null,Ue),t&2){let e=f(2);ze(e.list)}}function Ng(t,i){if(t&1&&($(0,zg,2,1,"div",4),$(1,xg,3,1,"div",5)(2,Eg,2,0)),t&2){let e=i.$implicit,n=f();T(!e&&n.title?0:-1),h(),T(n.grid?1:2)}}function kg(t,i){if(t&1&&G(0,"nz-icon",11),t&2){let e=f(3);_("nzType",e.expand?"down":"up")}}function Pg(t,i){if(t&1&&G(0,"nz-icon",13),t&2){let e=f(4);_("nzTooltipTitle",e.oh.text)("nzTooltipPlacement",e.oh.placement)("nzTooltipTrigger",e.oh.trigger)("nzTooltipColor",e.oh.bgColor)("nzTooltipOverlayClassName",e.oh.overlayClassName)("nzTooltipOverlayStyle",e.oh.overlayStyle)("nzTooltipMouseEnterDelay",e.oh.mouseEnterDelay)("nzTooltipMouseLeaveDelay",e.oh.mouseLeaveDelay)("nzType",e.oh.icon)}}function Og(t,i){if(t&1&&(z(0,"span",12),F(1),$(2,Pg,1,9,"nz-icon",13),v()),t&2){let e=f(3);h(),se(" ",e.ui.optional," "),h(),T(e.oh?2:-1)}}function Mg(t,i){if(t&1){let e=ee();z(0,"div",10),K("click",function(){N(e);let r=f(2);return k(r.changeExpand())}),$(1,kg,1,1,"nz-icon",11),F(2),$(3,Og,3,2,"span",12),v()}if(t&2){let e=f(2);Q("point",e.showExpand),h(),T(e.showExpand?1:-1),h(),se(" ",e.title," "),h(),T(e.ui.optional||e.oh?3:-1)}}function Dg(t,i){}function Ig(t,i){if(t&1&&(z(0,"nz-card",8),O(1,Mg,4,5,"ng-template",null,1,De)(3,Dg,0,0,"ng-template",9),v()),t&2){let e=le(2),n=f(),r=le(1);Q("sf__object-card-fold",!n.expand),_("nzTitle",e)("nzExtra",n.ui.cardExtra)("nzSize",n.ui.cardSize||"small")("nzActions",n.ui.cardActions||ri(10,vg))("nzBodyStyle",n.ui.cardBodyStyle)("nzBordered",n.ui.cardBordered||!0),h(3),_("ngTemplateOutlet",r)("ngTemplateOutletContext",ri(11,bg))}}function Vg(t,i){}function Rg(t,i){if(t&1&&O(0,Vg,0,0,"ng-template",3),t&2){f();let e=le(1);_("ngTemplateOutlet",e)}}function jg(t,i){if(t&1&&(z(0,"label",2),G(1,"span",3),v()),t&2){let e=i.$implicit,n=f(2);_("nzValue",e.value)("nzDisabled",n.disabled||e.disabled),h(),_("innerHTML",e.label,zt)}}function Fg(t,i){if(t&1&&be(0,jg,2,3,"label",2,Ue),t&2){let e=f();ze(e.data)}}function Ag(t,i){if(t&1&&(z(0,"label",4),G(1,"span",3),v()),t&2){let e=i.$implicit,n=f(2);_("nzValue",e.value)("nzDisabled",n.disabled||e.disabled),h(),_("innerHTML",e.label,zt)}}function Lg(t,i){if(t&1&&be(0,Ag,2,3,"label",4,Ue),t&2){let e=f();ze(e.data)}}function qg(t,i){if(t&1&&G(0,"nz-option",3),t&2){let e=i.$implicit;_("nzLabel",e.label)("nzValue",e.value)("nzHide",e.hide)("nzDisabled",e.disabled)}}function Wg(t,i){if(t&1&&be(0,qg,1,4,"nz-option",3,Ue),t&2){let e=f();ze(e.data)}}function Hg(t,i){if(t&1&&G(0,"nz-option",5),t&2){let e=i.$implicit;_("nzLabel",e.label)("nzValue",e.value)("nzDisabled",e.disabled)("nzHide",e.hide)}}function Bg(t,i){if(t&1&&(z(0,"nz-option-group",4),be(1,Hg,1,4,"nz-option",5,Ue),v()),t&2){let e=i.$implicit;_("nzLabel",e.label),h(),ze(e.children)}}function Ug(t,i){if(t&1&&be(0,Bg,3,1,"nz-option-group",4,Ue),t&2){let e=f();ze(e.data)}}function Kg(t,i){if(t&1&&(z(0,"nz-option",2),G(1,"nz-icon",6),F(2),v()),t&2){let e=f();h(2),se(" ",e.ui.searchLoadingText," ")}}function Gg(t,i){if(t&1){let e=ee();z(0,"input",4),K("ngModelChange",function(r){N(e);let o=f();return k(o.change(r))})("keyup.enter",function(r){N(e);let o=f();return k(o.enter(r))})("focus",function(r){N(e);let o=f();return k(o.focus(r))})("blur",function(r){N(e);let o=f();return k(o.blur(r))}),v()}if(t&2){let e=f();_("disabled",e.disabled)("nzSize",e.ui.size)("nzBorderless",e.ui.borderless)("ngModel",e.value),je("id",e.id)("disabled",e.disabled)("maxLength",e.schema.maxLength||null)("type",e.ui.type||"text")("placeholder",e.ui.placeholder)("autocomplete",e.ui.autocomplete)("autoFocus",e.ui.autofocus)}}function Qg(t,i){}function Jg(t,i){if(t&1&&(z(0,"nz-input-group",2),O(1,Qg,0,0,"ng-template",3),v()),t&2){let e=f(),n=le(2);_("nzAddOnBefore",e.ui.addOnBefore)("nzAddOnAfter",e.ui.addOnAfter)("nzAddOnBeforeIcon",e.ui.addOnBeforeIcon)("nzAddOnAfterIcon",e.ui.addOnAfterIcon)("nzPrefix",e.ui.prefix)("nzPrefixIcon",e.ui.prefixIcon)("nzSuffix",e.ui.suffix)("nzSuffixIcon",e.ui.suffixIcon),h(),_("ngTemplateOutlet",n)}}function Xg(t,i){}function Zg(t,i){if(t&1&&O(0,Xg,0,0,"ng-template",3),t&2){f();let e=le(2);_("ngTemplateOutlet",e)}}function Yg(t,i){if(t&1&&G(0,"span",1),t&2){let e=f();_("innerHTML",e.text,zt)}}function ey(t,i){if(t&1&&G(0,"span",2),t&2){let e=f();_("innerText",e.text)}}function ty(t,i){if(t&1){let e=ee();z(0,"textarea",4),K("ngModelChange",function(r){N(e);let o=f();return k(o.change(r))})("focus",function(r){N(e);let o=f();return k(o.focus(r))})("blur",function(r){N(e);let o=f();return k(o.blur(r))}),F(1,"      "),v()}if(t&2){let e=f();_("disabled",e.disabled)("nzSize",e.ui.size)("ngModel",e.value)("nzAutosize",e.autosize)("nzBorderless",e.ui.borderless),je("id",e.id)("disabled",e.disabled)("maxLength",e.schema.maxLength||null)("placeholder",e.ui.placeholder)}}function iy(t,i){if(t&1){let e=ee();z(0,"nz-textarea-count",2)(1,"textarea",4),K("ngModelChange",function(r){N(e);let o=f();return k(o.change(r))})("focus",function(r){N(e);let o=f();return k(o.focus(r))})("blur",function(r){N(e);let o=f();return k(o.blur(r))}),F(2,"        "),v()()}if(t&2){let e=f();_("nzMaxCharacterCount",e.ui.maxCharacterCount)("nzComputeCharacterCount",e.ui.computeCharacterCount),h(),_("disabled",e.disabled)("nzSize",e.ui.size)("ngModel",e.value)("nzAutosize",e.autosize)("nzBorderless",e.ui.borderless),je("id",e.id)("disabled",e.disabled)("maxLength",e.schema.maxLength||null)("placeholder",e.ui.placeholder)}}function ny(t,i){}function ry(t,i){if(t&1&&O(0,ny,0,0,"ng-template",3),t&2){f();let e=le(2);_("ngTemplateOutlet",e)}}var oy={formatMap:{"date-time":{widget:"date",showTime:!0,format:"yyyy-MM-dd'T'HH:mm:ss.SSSxxx"},date:{widget:"date",format:"yyyy-MM-dd"},"full-date":{widget:"date",format:"yyyy-MM-dd"},time:{widget:"time",format:"HH:mm:ss.SSSxxx"},"full-time":{widget:"time"},week:{widget:"date",mode:"week",format:"yyyy-ww"},month:{widget:"date",mode:"month",format:"yyyy-MM"},uri:{widget:"upload"},email:{widget:"autocomplete",type:"email"},color:{widget:"string",type:"color"},"":{widget:"string"}},ingoreKeywords:["type","enum"],liveValidate:!0,autocomplete:null,firstVisual:!1,onlyVisual:!1,errors:{},ui:{},button:{submit_type:"primary",reset_type:"default"},uiDateStringFormat:"yyyy-MM-dd HH:mm:ss",uiDateNumberFormat:"T",uiTimeStringFormat:"HH:mm:ss",uiTimeNumberFormat:"T",uiEmailSuffixes:["qq.com","163.com","gmail.com","126.com","aliyun.com"],delay:!1};function Va(t){return t.merge("sf",oy)}var ut="/";function $u(t){return t==null}function He(t,i){return t==null?i:`${t}`!="false"}function sr(t,...i){}function ay(t,i){let e=/^#\/definitions\/(.*)$/.exec(t);if(e&&e[1]){let n=e[1].split(ut),r=i;for(let o of n)if(o=o.replace(/~1/g,ut).replace(/~0/g,"~"),Object.prototype.hasOwnProperty.call(r,o))r=r[o];else throw new Error(`Could not find a definition for ${t}.`);return r}throw new Error(`Could not find a definition for ${t}.`)}function Ra(t,i={}){if(Object.prototype.hasOwnProperty.call(t,"$ref")){let n=ay(t.$ref,i),e=t,{$ref:r}=e,o=Qa(e,["$ref"]);return Ra(S(S({},n),o),i)}return t}function sy(t,i){let e=(n,r)=>{ly(n,r),Object.keys(n.properties).forEach(o=>{let a=n.properties[o],s=`$${o}`;a.items&&e(a.items,r[s].$items),a.properties&&e(a,r[s])})};e(t,i)}function ly(t,i){if(!(Object.prototype.hasOwnProperty.call(t,"if")&&Object.prototype.hasOwnProperty.call(t,"then")))return null;if(!t.if.properties)throw new Error("if: does not contain 'properties'");let e=Object.keys(t.properties),n=Object.keys(t.if.properties);Oa(e,n),Oa(e,t.then.required),t.required=t.required.concat(t.then.required);let r=Object.prototype.hasOwnProperty.call(t,"else");r&&(Oa(e,t.else.required),t.required=t.required.concat(t.else.required));let o={},a={};return n.forEach(s=>{let l=t.if.properties[s].enum;o[s]=l,r&&(a[s]=c=>!l.includes(c))}),t.then.required.forEach(s=>i[`$${s}`].visibleIf=o),r&&t.else.required.forEach(s=>i[`$${s}`].visibleIf=a),t}function Oa(t,i){i.forEach(e=>{if(!t.includes(e))throw new Error(`if: properties does not contain '${e}'`)})}function cy(t,i){if(!Array.isArray(i))return t;let e=d=>d.reduce((u,g)=>(u[g]=!0,u),{}),n=d=>`property [${d.join("', '")}]`,r=e(t),o=e(i),a=i.filter(d=>d!=="*"&&!r[d]);if(a.length)throw new Error(`ui schema order list contains extraneous ${n(a)}`);let s=t.filter(d=>!o[d]),l=i.indexOf("*");if(l===-1){if(s.length)throw new Error(`ui schema order list does not contain ${n(s)}`);return i}if(l!==i.lastIndexOf("*"))throw new Error("ui schema order list contains more than one wildcard item");let c=[...i];return c.splice(l,1,...s),c}function dy(t,i,e){return $u(t)||!Array.isArray(t)||t.length===0?[]:(typeof t[0]!="object"&&(t=t.map(n=>({label:n,value:n}))),i&&(Array.isArray(i)||(i=[i]),t.forEach(n=>{~i.indexOf(n.value)&&(n.checked=!0)})),e&&t.forEach(n=>n.disabled=!0),t)}function vu(t,i,e){return dy(Ri(t||[]),i,e)}function ja(t,i,e,n){return typeof i.asyncData=="function"?i.asyncData(n).pipe(At(r=>vu(r,e,t.readOnly))):es(vu(t.enum,e,t.readOnly))}var lr=class{injector;_options;_errors=null;_valueChanges=new Ft({path:null,pathValue:null,value:null});_errorsChanges=new Ft(null);_visible=!0;_visibilityChanges=new Ft(!0);_root;_parent;_objErrors={};schemaValidator;schema;ui;formData;_value=null;widget;path;propertyId;constructor(i,e,n,r,o,a,s,l){this.injector=i,this._options=l,this.schema=n,this.ui=r,this.schemaValidator=e.createValidatorFn(n,{ingoreKeywords:this.ui.ingoreKeywords,debug:r.debug}),this.formData=o||n.default,this._parent=a,a?this._root=a.root:this._root=this,this.path=s}get valueChanges(){return this._valueChanges}get errorsChanges(){return this._errorsChanges}get type(){return this.schema.type}get parent(){return this._parent}get root(){return this._root}get value(){return this._value}get errors(){return this._errors}get visible(){return this._visible}get valid(){return this._errors===null||this._errors.length===0}get options(){return this._options}cd(i=!1){this.widget?.detectChanges(i)}updateValueAndValidity(i){i=S({onlySelf:!1,emitValidator:!0,emitValueEvent:!0,updatePath:"",updateValue:null},i),this._updateValue(),i.emitValueEvent&&(i.updatePath=i.updatePath||this.path,i.updateValue=i.updateValue==null?this.value:i.updateValue,this.valueChanges.next({value:this.value,path:i.updatePath,pathValue:i.updateValue})),i.emitValidator&&this.ui.liveValidate===!0&&this._runValidation(),this.parent&&!i.onlySelf&&this.parent.updateValueAndValidity(X(S({},i),{emitValidator:!1}))}searchProperty(i){let e=this,n=null,r=null;if(i[0]===ut)n=this.findRoot(),r=n.getProperty(i.substring(1));else for(;r===null&&e.parent!==null;)e=n=e.parent,r=n.getProperty(i);return r}findRoot(){let i=this;for(;i.parent!==null;)i=i.parent;return i}isEmptyData(i){if($u(i))return!0;switch(this.type){case"string":return`${i}`.length===0}return!1}_runValidation(){let i,e=this.isEmptyData(this._value);e&&this.ui._required?i=[{keyword:"required"}]:e?i=[]:i=this.schemaValidator(this._value)||[];let n=this.ui.validator;if(typeof n=="function"){let r=n(this.value,this,this.findRoot());if(r instanceof Za){r.subscribe(o=>{this.setCustomErrors(i,o),this.cd(!1)});return}this.setCustomErrors(i,r);return}this._errors=i,this.setErrors(this._errors)}setCustomErrors(i,e){let n=Array.isArray(e)&&e.length>0;n&&e.forEach(r=>{if(!r.message)throw new Error("The custom validator must contain a 'message' attribute to viewed error text");r.keyword=null}),this._errors=n?i.concat(...e):i,this.setErrors(this._errors)}setErrors(i=[],e=!0){let n=Array.isArray(i)?i:[i];if(e&&n&&!this.ui.onlyVisual){let r=this.widget&&this.widget.l.error||{};n=n.map(o=>{let a=o.keyword==null&&o.message?o.message:(this.ui.errors||{})[o.keyword]||this._options.errors[o.keyword]||r[o.keyword]||"";return a&&typeof a=="function"&&(a=a(o)),a&&(~a.indexOf("{")&&o.params&&(a=a.replace(/{([.a-zA-Z0-9]+)}/g,(s,l)=>o.params[l]||"")),o.message=a),o})}this._errors=n,this._errorsChanges.next(n),this._parent&&this._parent.setParentAndPlatErrors(n,this.path)}setParentAndPlatErrors(i,e){this._objErrors[e]=i;let n=[];Object.keys(this._objErrors).forEach(r=>{let o=this.searchProperty(r);o&&!o.visible||n.push(...this._objErrors[r])}),this.setErrors(n,!1)}setVisible(i){return this._visible=i,this._visibilityChanges.next(i),i&&this.injector.get(Di).onStable.pipe(is(1)).subscribe(()=>{this.resetValue(this.value,!0)}),this}_bindVisibility(){let i=this.ui.visibleIf;if(typeof i=="object"&&Object.keys(i).length===0)this.setVisible(!1);else if(i!=null){let e=[];for(let n in i)if(Object.prototype.hasOwnProperty.call(i,n)){let r=this.searchProperty(n);if(r){let o=r.valueChanges.pipe(At(l=>{let c=i[n];if(typeof c=="function"){let d=c(l.value,r);if(typeof d=="object"){let u=S({show:!1,required:!1},d),g=this.parent?.schema.required;if(g&&this.propertyId){let y=g.findIndex(m=>m===this.propertyId);u.required?y===-1&&g.push(this.propertyId):y!==-1&&g.splice(y,1),this.ui._required=u.required}return u.show}return d}return c.indexOf("$ANY$")!==-1?l.value&&l.value.length>0:c.indexOf(l.value)!==-1})),a=r._visibilityChanges,s=zr([o,a]).pipe(At(l=>l[0]&&l[1]));e.push(s)}}zr(e).pipe(At(n=>this.ui.visibleIfLogical==="and"?n.every(r=>r):n.some(r=>r)),Sr()).subscribe(n=>this.setVisible(n))}}updateFeedback(i=""){this.ui.feedback=i,this.widget?.injector.get(Wt).formStatusChanges.next({status:i,hasFeedback:!!i}),this.cd(!0)}},Ei=class t extends lr{properties=null;getProperty(i){let e=i.indexOf(ut),n=e!==-1?i.substring(0,e):i,r=this.properties[n];if(r!==null&&e!==-1&&r instanceof t){let o=i.substring(e+1);r=r.getProperty(o)}return r}forEachChild(i){for(let e in this.properties)if(Object.prototype.hasOwnProperty.call(this.properties,e)){let n=this.properties[e];i(n,e)}}forEachChildRecursive(i){this.forEachChild(e=>{i(e),e instanceof t&&e.forEachChildRecursive(i)})}_bindVisibility(){super._bindVisibility(),this._bindVisibilityRecursive()}_bindVisibilityRecursive(){this.forEachChildRecursive(i=>{i._bindVisibility()})}isRoot(){return this===this.root}},cr=class extends Ei{formPropertyFactory;_propertiesId=[];get propertiesId(){return this._propertiesId}constructor(i,e,n,r,o,a,s,l,c){super(i,n,r,o,a,s,l,c),this.formPropertyFactory=e,this.createProperties()}createProperties(){this.properties={},this._propertiesId=[];let i;try{i=cy(Object.keys(this.schema.properties),this.ui.order)}catch(e){console.error(`Invalid ${this.schema.title||"root"} object field configuration:`,e)}i.forEach(e=>{this.properties[e]=this.formPropertyFactory.createProperty(this.schema.properties[e],this.ui[`$${e}`],(this.formData||{})[e],this,e),this._propertiesId.push(e)})}setValue(i,e){let n=this.properties;for(let r in i)Object.prototype.hasOwnProperty.call(i,r)&&n[r]&&n[r].setValue(i[r],!0);this.cd(e),this.updateValueAndValidity({onlySelf:e,emitValueEvent:!0})}resetValue(i,e){i=i||this.schema.default||{};let n=this.properties;for(let r in this.schema.properties)Object.prototype.hasOwnProperty.call(this.schema.properties,r)&&n[r].resetValue(i[r],!0);this.cd(e),this.updateValueAndValidity({onlySelf:e,emitValueEvent:!0})}_hasValue(){return this.value!=null&&!!Object.keys(this.value).length}_updateValue(){let i={};this.forEachChild((e,n)=>{e.visible&&e._hasValue()&&(i[n]=e.value)}),this._value=i}},dr=class extends Ei{formPropertyFactory;constructor(i,e,n,r,o,a,s,l,c){super(i,n,r,o,a,s,l,c),this.formPropertyFactory=e,this.properties=[]}getProperty(i){let e=i.indexOf(ut),n=+(e!==-1?i.substring(0,e):i),r=this.properties;if(isNaN(n)||n>=r.length)return;let o=i.substring(e+1);return r[n].getProperty(o)}setValue(i,e){this.properties=[],this.clearErrors(),this.resetProperties(i),this.cd(e),this.updateValueAndValidity({onlySelf:e,emitValueEvent:!0})}resetValue(i,e){this._value=i||this.schema.default||[],this.setValue(this._value,e)}_hasValue(){return!0}_updateValue(){let i=[];this.forEachChild(e=>{e.visible&&i.push(S(S({},this.widget?.cleanValue?null:e.formData),e.value))}),this._value=i}addProperty(i){let e=this.formPropertyFactory.createProperty(Ri(this.schema.items),Ri(this.ui.$items),i,this);return this.properties.push(e),e}resetProperties(i){for(let e of i)this.addProperty(e).resetValue(e,!0)}clearErrors(i){(i||this)._objErrors={}}add(i){let e=this.addProperty(i);return e.resetValue(i,!1),e}remove(i){let e=this.properties;this.clearErrors(),e.splice(i,1),e.forEach((n,r)=>{n.path=[n.parent.path,r].join(ut),this.clearErrors(n),n instanceof cr&&n.forEachChild(o=>{o.updateValueAndValidity({emitValueEvent:!1})})}),e.length===0&&this.updateValueAndValidity()}},dn=class extends lr{setValue(i,e){this._value=i,this.cd(e),this.updateValueAndValidity({onlySelf:e,emitValueEvent:!0})}resetValue(i,e){i==null&&(i=this.schema.default!==void 0?this.schema.default:this.fallbackValue()),this._value=i,this.updateValueAndValidity({onlySelf:e,emitValueEvent:!0}),this.widget&&(this.widget.reset(i),this.cd(e))}_hasValue(){return this.fallbackValue()!==this.value}_updateValue(){}},Ma=class extends dn{fallbackValue(){return null}},Da=class extends dn{fallbackValue(){return null}setValue(i,e){typeof i=="string"&&(i.length?i=i.indexOf(".")>-1?parseFloat(i):parseInt(i,10):i=void 0),this._value=i,this.cd(e),this.updateValueAndValidity({onlySelf:e,emitValueEvent:!0})}},Ia=class extends dn{fallbackValue(){return null}setValue(i,e){this._value=i??"",this.cd(e),this.updateValueAndValidity({onlySelf:e,emitValueEvent:!0})}},un=class{injector;schemaValidatorFactory;options;constructor(i,e,n){this.injector=i,this.schemaValidatorFactory=e,this.options=Va(n)}createProperty(i,e,n,r=null,o){let a=null,s="";if(r)switch(s+=r.path,r.parent!==null&&(s+=ut),r.type){case"object":s+=o;break;case"array":s+=r.properties.length;break;default:throw new Error(`Instanciation of a FormProperty with an unknown parent type: ${r.type}`)}else s=ut;if(i.$ref){let l=Ra(i,r.root.schema.definitions);a=this.createProperty(l,e,n,r,s)}else switch((o&&r.schema.required.indexOf(o.split(ut).pop())!==-1||e.showRequired===!0)&&(e._required=!0),i.title==null&&(i.title=o),(i.type==="string"||i.type==="number")&&!i.format&&!e.format?e.widget==="date"?e._format=i.type==="string"?this.options.uiDateStringFormat:this.options.uiDateNumberFormat:e.widget==="time"&&(e._format=i.type==="string"?this.options.uiTimeStringFormat:this.options.uiTimeNumberFormat):e._format=e.format,i.type){case"integer":case"number":a=new Da(this.injector,this.schemaValidatorFactory,i,e,n,r,s,this.options);break;case"string":a=new Ia(this.injector,this.schemaValidatorFactory,i,e,n,r,s,this.options);break;case"boolean":a=new Ma(this.injector,this.schemaValidatorFactory,i,e,n,r,s,this.options);break;case"object":a=new cr(this.injector,this,this.schemaValidatorFactory,i,e,n,r,s,this.options);break;case"array":a=new dr(this.injector,this,this.schemaValidatorFactory,i,e,n,r,s,this.options);break;default:throw new TypeError(`Undefined type ${i.type}`)}return a.propertyId=o,a instanceof Ei&&this.initializeRoot(a),a}initializeRoot(i){i._bindVisibility()}},fn=class{onDestroy;constructor(){this.onDestroy=new pn}destroy(){this.onDestroy.next(!0)}},fr=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275prov=ii({token:t,factory:t.\u0275fac})}return t})(),Tu=(()=>{class t extends fr{ngZone=w(Di);cogSrv=w(xe);ajv;options;constructor(){if(super(),!(typeof document=="object"&&document))return;this.options=Va(this.cogSrv);let e=this.options.ajv||{};this.ngZone.runOutsideAngular(()=>{this.ajv=new wu.default(X(S({allErrors:!0,loopEnum:50},e),{formats:S({"data-url":/^data:([a-z]+\/[a-z0-9-+.]+)?;name=(.*);base64,(.*)$/,color:bn.color,mobile:bn.mobile,"id-card":bn.idCard},e.formats)})),(0,Su.default)(this.ajv)})}createValidatorFn(e,n){let r=[...this.options.ingoreKeywords,...n.ingoreKeywords||[]];return o=>{try{this.ngZone.runOutsideAngular(()=>this.ajv.validate(e,o))}catch{}let a=this.ajv.errors;return this.options&&r&&a&&(a=a.filter(s=>r.indexOf(s.keyword)===-1)),a}}static \u0275fac=function(n){return new(n||t)};static \u0275prov=ii({token:t,factory:t.\u0275fac})}return t})(),Zt=class{_widgets={};defaultWidget;get widgets(){return this._widgets}setDefault(i){this.defaultWidget=i}register(i,e){this._widgets[i]=e}has(i){return Object.prototype.hasOwnProperty.call(this._widgets,i)}getType(i){return this.has(i)?this._widgets[i]:this.defaultWidget}},Eu=(()=>{class t{registry=w(Zt);createWidget(e,n){this.registry.has(n);let r=this.registry.getType(n);return e.createComponent(r)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=ii({token:t,factory:t.\u0275fac})}return t})(),uy=0,pr=(()=>{class t{widgetFactory=w(Eu);terminator=w(fn);ref;destroy$=new pn;widget=null;formProperty;footer=null;container;onWidgetInstanciated(e){this.widget=e;let n=`_sf-${uy++}`,r=this.formProperty.ui;this.widget.formProperty=this.formProperty,this.widget.schema=this.formProperty.schema,this.widget.ui=r,this.widget.id=n,this.formProperty.widget=e}ngOnInit(){this.terminator.onDestroy.subscribe(()=>this.ngOnDestroy())}ngOnChanges(){let e=this.formProperty;this.ref=this.widgetFactory.createWidget(this.container,e.ui.widget||e.schema.type),this.onWidgetInstanciated(this.ref.instance)}ngOnDestroy(){let{destroy$:e}=this;e.next(),e.complete(),this.ref.destroy()}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=U({type:t,selectors:[["sf-item"]],viewQuery:function(n,r){if(n&1&&Ke($0,7,us),n&2){let o;Oe(o=Me())&&(r.container=o.first)}},hostVars:2,hostBindings:function(n,r){n&2&&Q("sf__item",!0)},inputs:{formProperty:"formProperty",footer:"footer"},exportAs:["sfItem"],standalone:!1,features:[qt([Wt]),ke],decls:3,vars:1,consts:[["target",""],[4,"ngTemplateOutlet"]],template:function(n,r){n&1&&O(0,T0,0,0,"ng-template",null,0,De)(2,E0,1,0,"ng-container",1),n&2&&(h(2),_("ngTemplateOutlet",r.footer))},dependencies:[Fe],encapsulation:2})}return t})(),Nu=(()=>{class t{el=w(Pe).nativeElement;render=w(ve);_inited=!1;num;init(){if(!this._inited||this.num==null||this.num<=0)return;let e=this.el,n=e.querySelector(".ant-row")||e;this.render.addClass(n,"sf__fixed");let r=n.querySelector(".ant-form-item-label"),o=n.querySelector(".ant-form-item-control-wrapper,.ant-form-item-control"),a=`${this.num}px`;r?(this.render.setStyle(r,"flex",`0 0 ${a}`),this.render.setStyle(o,"max-width",`calc(100% - ${a})`)):this.render.setStyle(o,"margin-left",a)}ngAfterViewInit(){this._inited=!0,this.init()}ngOnChanges(){this._inited&&this.init()}static \u0275fac=function(n){return new(n||t)};static \u0275dir=Lt({type:t,selectors:[["","fixed-label",""]],inputs:{num:[2,"fixed-label","num",e=>ue(e,0)]},standalone:!1,features:[ke]})}return t})();function fy(t,i,e){return new un(t,i,e)}var py=(()=>{class t{formPropertyFactory=w(un);terminator=w(fn);dom=w(Nr);cdr=w(Ge);localeSrv=w(Os);aclSrv=w(bs);i18nSrv=w(Cn);platform=w(oi);cogSrv=w(xe);_renders=new Map;_item;_valid=!0;_defUi;options;_inited=!1;locale={};rootProperty=null;_formData;_btn;_schema;_ui;get btnGrid(){return this._btn.render.grid}layout="horizontal";schema;ui;formData;button={};liveValidate=!0;autocomplete;firstVisual=!0;onlyVisual=!1;compact=!1;set mode(e){switch(e){case"search":this.layout="inline",this.firstVisual=!1,this.liveValidate=!1,this._btn&&(this._btn.submit=this._btn.search);break;case"edit":this.layout="horizontal",this.firstVisual=!1,this.liveValidate=!0,this._btn&&(this._btn.submit=this._btn.edit);break}this._mode=e}get mode(){return this._mode}_mode;loading=!1;disabled=!1;noColon=!1;cleanValue=!1;delay=!1;formValueChange=new wt;formChange=new wt;formSubmit=new wt;formReset=new wt;formError=new wt;get valid(){return this._valid}get value(){return this._item}getProperty(e){return this.rootProperty?.searchProperty(e)}getValue(e){return this.getProperty(e)?.value}setValue(e,n){let r=this.getProperty(e);if(!r)throw new Error(`Invalid path: ${e}`);return r.resetValue(n,!1),this}setDisabled(e,n){let r=this.getProperty(e);if(!r)throw new Error(`Invalid path: ${e}`);return r.schema.readOnly=n,r.widget.detectChanges(),this}setRequired(e,n){let r=this.getProperty(e);if(!r)throw new Error(`Invalid path: ${e}`);let o=e.split(ut).pop(),a=r.parent?.schema.required||[],s=a.findIndex(l=>l===o);return n?s===-1&&a.push(o):s!==-1&&a.splice(s,1),r.parent.schema.required=a,r.ui._required=n,r.widget.detectChanges(),this.validator({onlyRoot:!1}),this}updateFeedback(e,n=""){return this.getProperty(e)?.updateFeedback(n),this}onSubmit(e){e.preventDefault(),e.stopPropagation(),this.liveValidate||this.validator(),this.valid&&this.formSubmit.emit(this.value)}constructor(){this.options=Va(this.cogSrv),this.liveValidate=this.options.liveValidate,this.firstVisual=this.options.firstVisual,this.autocomplete=this.options.autocomplete,this.delay=this.options.delay,this.localeSrv.change.pipe(ge()).subscribe(()=>{this.locale=this.localeSrv.getData("sf"),this._inited&&(this.validator({emitError:!1,onlyRoot:!1}),this.coverButtonProperty(),this.cdr.markForCheck())}),ei(this.aclSrv.change,this.i18nSrv.change).pipe(Be(()=>this._inited),ge()).subscribe(()=>this.refreshSchema())}fanyi(e){return this.i18nSrv.fanyi(e)||e}inheritUI(e){["optionalHelp"].filter(n=>!!this._defUi[n]).forEach(n=>e[n]=S(S({},this._defUi[n]),e[n]))}coverProperty(){let e=this.layout==="horizontal",n=Ri(this.schema),{definitions:r}=n,o=(a,s,l,c,d)=>{Array.isArray(a.required)||(a.required=[]),Object.keys(a.properties).forEach(u=>{let g="$",y=g+u,m=Ra(a.properties[u],r),C=S(S({},m.ui),l[y]),p=S(S(S(S(X(S(S({},this._defUi),c),{visibleIf:void 0,hidden:void 0,optional:void 0,optionalHelp:void 0,widget:m.type}),m.format&&this.options.formatMap[m.format]),typeof m.ui=="string"?{widget:m.ui}:null),!m.format&&!m.ui&&Array.isArray(m.enum)&&m.enum.length>0?{widget:"select"}:null),C);if(Object.keys(p).filter(b=>b.startsWith(g)).forEach(b=>delete p[b]),e?c.spanLabelFixed?C.spanLabelFixed||(p.spanLabelFixed=c.spanLabelFixed):(p.spanLabel||(p.spanLabel=typeof c.spanLabel>"u"?5:c.spanLabel),p.spanControl||(p.spanControl=typeof c.spanControl>"u"?19:c.spanControl),p.offsetControl||(p.offsetControl=typeof c.offsetControl>"u"?null:c.offsetControl)):(p.spanLabel=null,p.spanControl=null,p.offsetControl=null),this.layout==="inline"&&delete p.grid,this.layout!=="horizontal"&&(p.spanLabelFixed=null),p.spanLabelFixed!=null&&p.spanLabelFixed>0&&(p.spanLabel=null,p.spanControl=null),p.widget==="date"&&p.end!=null){let b=a.properties[p.end];b?b.ui=X(S({},b.ui),{widget:p.widget,hidden:!0}):p.end=null}if(this.inheritUI(p),p.optionalHelp){typeof p.optionalHelp=="string"&&(p.optionalHelp={text:p.optionalHelp});let b=p.optionalHelp=S({text:"",icon:"question-circle",placement:"top",trigger:"hover",mouseEnterDelay:.15,mouseLeaveDelay:.1},p.optionalHelp);b.i18n&&(b.text=this.fanyi(b.i18n)),b.text||(p.optionalHelp=void 0)}if(p.i18n&&(m.title=this.fanyi(p.i18n)),p.descriptionI18n&&(m.description=this.fanyi(p.descriptionI18n)),m.description&&(p._description=this.dom.bypassSecurityTrustHtml(m.description)),p.hidden=typeof p.hidden=="boolean"?p.hidden:!1,p.hidden===!1&&p.acl&&this.aclSrv&&!this.aclSrv.can(p.acl)&&(p.hidden=!0),d[y]=p,delete m.ui,p.hidden===!0){let b=a.required.indexOf(u);b!==-1&&a.required.splice(b,1)}m.items&&(p.$items=S(S(S({},m.items.ui),l[y]),p.$items),o(m.items,m.items,l[y]?.$items??{},p.$items,p.$items),delete m.items.ui),m.properties&&Object.keys(m.properties).length&&o(m,a,l[y]||{},p,p)})};this.ui==null&&(this.ui={}),this._defUi=S(S(S({onlyVisual:this.options.onlyVisual,size:this.options.size,liveValidate:this.liveValidate},this.options.ui),n.ui),this.ui["*"]),this.onlyVisual===!0&&(this._defUi.onlyVisual=!0),this.layout==="inline"&&delete this._defUi.grid,this._ui=S({},this._defUi),o(n,n,this.ui,this.ui,this._ui),sy(n,this._ui),this._schema=n,delete n.ui,sr(this._ui,"cover schema & ui",this._ui,n)}coverButtonProperty(){this._btn=S(S(S({render:{size:"default"}},this.locale),this.options.button),this.button);let e=Object.keys(this._ui).find(r=>r.startsWith("$")),n=this._btn.render;if(this.layout==="horizontal"){let r=e?this._ui[e]:this._defUi;n.grid||(n.grid={offset:r.spanLabel,span:r.spanControl}),n.spanLabelFixed==null&&(n.spanLabelFixed=r.spanLabelFixed),!n.class&&typeof r.spanLabelFixed=="number"&&r.spanLabelFixed>0&&(n.class="text-center")}else n.grid={};this._mode&&(this.mode=this._mode),sr(this._ui,"button property",this._btn)}ngOnInit(){this.platform.isBrowser&&(this.validator(),this._inited=!0)}ngOnChanges(e){if(!this.platform.isBrowser)return;let n=["disabled","loading"];if(Object.keys(e).every(r=>n.includes(r))){this.cdr.detectChanges();return}this.delay||this.refreshSchema()}_addTpl(e,n){this._inited&&(this._renders.has(e)||(this._renders.set(e,n),this.attachCustomRender()))}attachCustomRender(){this._renders.forEach((e,n)=>{let r=this.rootProperty?.searchProperty(n);r!=null&&(r.ui._render=e)})}validator(e={emitError:!0,onlyRoot:!0}){if(this.rootProperty==null||!this.platform.isBrowser)return!1;let n=o=>{o._runValidation(),!(!(o instanceof Ei)||!o.properties)&&(Array.isArray(o.properties)?o.properties.forEach(a=>n(a)):Object.keys(o.properties).forEach(a=>n(o.properties[a])))};e.onlyRoot?this.rootProperty._runValidation():n(this.rootProperty);let r=this.rootProperty.errors;return this._valid=!(r&&r.length),e.emitError&&!this._valid&&this.formError.emit(r),this.cdr.detectChanges(),this._valid}refreshSchema(e,n){if(!this.platform.isBrowser)return this;if(e&&(this.schema=e),n&&(this.ui=n),!this.schema||typeof this.schema.properties>"u")throw new Error("Invalid Schema");if(this.schema.ui&&typeof this.schema.ui=="string")throw new Error("Don't support string with root ui property");this.schema.type="object",this._formData=S({},this.formData),this._inited&&this.terminator.destroy(),this.cleanRootSub(),this.coverProperty(),this.coverButtonProperty(),this.rootProperty=this.formPropertyFactory.createProperty(this._schema,this._ui,this.formData),this.attachCustomRender(),this.cdr.detectChanges(),this.reset();let r=!0;return this.rootProperty.valueChanges.subscribe(o=>{if(this._item=S(S({},this.cleanValue?null:this.formData),o.value),r){r=!1;return}this.formChange.emit(this._item),this.formValueChange.emit({value:this._item,path:o.path,pathValue:o.pathValue})}),this.rootProperty.errorsChanges.subscribe(o=>{this._valid=!(o&&o.length),this.formError.emit(o),this.cdr.detectChanges()}),this}reset(e=!1){return this.rootProperty==null||!this.platform.isBrowser?this:(this.rootProperty.resetValue(this.formData,!1),Promise.resolve().then(()=>this.cdr.detectChanges()),e&&this.formReset.emit(this.value),this)}cleanRootSub(){this.rootProperty&&(this.rootProperty.errorsChanges.unsubscribe(),this.rootProperty.valueChanges.unsubscribe())}ngOnDestroy(){this.cleanRootSub(),this.terminator.destroy()}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=U({type:t,selectors:[["sf"],["","sf",""]],hostVars:16,hostBindings:function(n,r){n&2&&Q("sf",!0)("sf__inline",r.layout==="inline")("sf__horizontal",r.layout==="horizontal")("sf__search",r.mode==="search")("sf__edit",r.mode==="edit")("sf__no-error",r.onlyVisual)("sf__no-colon",r.noColon)("sf__compact",r.compact)},inputs:{layout:"layout",schema:"schema",ui:"ui",formData:"formData",button:"button",liveValidate:[2,"liveValidate","liveValidate",L],autocomplete:"autocomplete",firstVisual:[2,"firstVisual","firstVisual",L],onlyVisual:[2,"onlyVisual","onlyVisual",L],compact:[2,"compact","compact",L],mode:"mode",loading:[2,"loading","loading",L],disabled:[2,"disabled","disabled",L],noColon:[2,"noColon","noColon",L],cleanValue:[2,"cleanValue","cleanValue",L],delay:[2,"delay","delay",L]},outputs:{formValueChange:"formValueChange",formChange:"formChange",formSubmit:"formSubmit",formReset:"formReset",formError:"formError"},exportAs:["sf"],standalone:!1,features:[qt([Eu,{provide:un,useFactory:fy,deps:[Oi,fr,xe]},fn]),ke],ngContentSelectors:xu,decls:6,vars:3,consts:[["con",""],["btnTpl",""],["nz-form","",3,"submit","nzLayout"],[3,"formProperty","footer"],[3,"ngTemplateOutlet"],[1,"sf-btns",3,"class","fixed-label"],[1,"sf-btns",3,"fixed-label"],["nz-col","",1,"ant-form-item-control",3,"nzSpan","nzOffset","nzXs","nzSm","nzMd","nzLg","nzXl","nzXXl"],[1,"ant-form-item-control-input"],[1,"ant-form-item-control-input-content"],["type","submit","nz-button","","data-type","submit",3,"nzType","nzSize","nzLoading","disabled"],[3,"nzType","nzTheme","nzTwotoneColor","nzIconfont"],["type","button","nz-button","","data-type","reset",3,"nzType","nzSize","disabled"],["type","button","nz-button","","data-type","reset",3,"click","nzType","nzSize","disabled"]],template:function(n,r){if(n&1){let o=ee();oe(),O(0,N0,1,0,"ng-template",null,0,De)(2,A0,2,1,"ng-template",null,1,De),z(4,"form",2),K("submit",function(s){return N(o),k(r.onSubmit(s))}),$(5,L0,1,2,"sf-item",3),v()}n&2&&(h(4),_("nzLayout",r.layout),je("autocomplete",r.autocomplete),h(),T(r.rootProperty?5:-1))},dependencies:[Fe,js,Vs,Rs,Ir,kt,Dr,ui,di,_l,zn,Ie,pr,Nu],encapsulation:2,changeDetection:0})}return t})(),ft=(()=>{class t{statusSrv=w(Wt);_showTitle=!1;id;schema;ui;showError;error;set showTitle(e){this._showTitle=!!e}title=null;get t(){return this.title===null?this.schema.title:this.title}get oh(){return this.ui.optionalHelp}ngOnChanges(){let e=!!this.error;this.statusSrv.formStatusChanges.next({status:e?"error":"",hasFeedback:!!this.ui.feedback})}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=U({type:t,selectors:[["sf-item-wrap"]],inputs:{id:"id",schema:"schema",ui:"ui",showError:"showError",error:"error",showTitle:"showTitle",title:"title"},standalone:!1,features:[ke],ngContentSelectors:xu,decls:8,vars:21,consts:[["nz-col","",1,"ant-form-item-label",3,"nzSpan"],["nz-col","",1,"ant-form-item-control",3,"nzSpan","nzOffset"],[1,"ant-form-item-control-input"],[1,"ant-form-item-control-input-content"],[1,"ant-form-item-explain","ant-form-item-explain-connected"],[1,"ant-form-item-extra",3,"innerHTML"],[3,"ant-form-item-required"],[1,"sf__label-text"],[1,"sf__optional"],["nz-tooltip","",3,"nzTooltipTitle","nzTooltipPlacement","nzTooltipTrigger","nzTooltipColor","nzTooltipOverlayClassName","nzTooltipOverlayStyle","nzTooltipMouseEnterDelay","nzTooltipMouseLeaveDelay","nzType"],["role","alert",1,"ant-form-item-explain-error"]],template:function(n,r){n&1&&(oe(),z(0,"nz-form-item"),$(1,B0,2,2,"div",0),z(2,"div",1)(3,"div",2)(4,"div",3),ae(5),v()(),$(6,U0,3,2,"div",4),$(7,K0,1,1,"div",5),v()()),n&2&&(it("width",r.ui.width,"px"),Q("ant-form-item-has-error",r.showError)("ant-form-item-with-help",r.showError)("ant-form-item-has-success",r.ui.feedback==="success")("ant-form-item-has-warning",r.ui.feedback==="warning")("ant-form-item-has-error",r.ui.feedback==="error")("ant-form-item-is-validating",r.ui.feedback==="validating")("ant-form-item-has-feedback",r.ui.feedback),h(),T(r._showTitle?1:-1),h(),_("nzSpan",r.ui.spanControl)("nzOffset",r.ui.offsetControl),h(4),T(!r.ui.onlyVisual&&r.showError?6:-1),h(),T(r.schema.description?7:-1))},dependencies:[kt,ui,di,zn,Ie,_t],encapsulation:2,data:{animation:[gn]}})}return t})();var hr=(()=>{class t{cd=w(Ge);injector=w(Oi);sfItemComp=w(pr);sfComp=w(py);formProperty;error;showError=!1;id="";schema;ui;get cls(){return this.ui.class||""}get disabled(){return!!(this.schema.readOnly===!0||this.sfComp.disabled)}get l(){return this.formProperty.root.widget.sfComp.locale}get oh(){return this.ui.optionalHelp}get dom(){return this.injector.get(Nr)}get cleanValue(){return this.sfComp.cleanValue}ngAfterViewInit(){this.formProperty.errorsChanges.pipe(ti(this.sfItemComp.destroy$)).subscribe(e=>{if(e==null)return;sr(this.ui,"errorsChanges",this.formProperty.path,e);let n=this.sfComp?.firstVisual;(n||!n&&this.sfComp?._inited)&&(this.showError=e.length>0,this.error=this.showError?e[0].message:"",this.cd.detectChanges())}),this.afterViewInit()}setValue(e){this.formProperty.setValue(e,!1),sr(this.ui,"valueChanges",this.formProperty.path,this.formProperty)}get value(){return this.formProperty.value}detectChanges(e=!1){e?this.cd.markForCheck():this.formProperty.root.widget?.cd.markForCheck()}static \u0275fac=function(n){return new(n||t)};static \u0275dir=Lt({type:t,hostVars:2,hostBindings:function(n,r){n&2&&nt(r.cls)}})}return t})(),k1=(()=>{class t extends hr{reset(e){}afterViewInit(){}static \u0275fac=(()=>{let e;return function(r){return(e||(e=ce(t)))(r||t)}})();static \u0275dir=Lt({type:t,features:[de]})}return t})(),pt=(()=>{class t extends hr{reset(e){}afterViewInit(){}static \u0275fac=(()=>{let e;return function(r){return(e||(e=ce(t)))(r||t)}})();static \u0275dir=Lt({type:t,features:[de]})}return t})(),hy=(()=>{class t extends hr{reset(e){}afterViewInit(){}ngAfterViewInit(){this.formProperty.errorsChanges.pipe(ti(this.sfItemComp.destroy$)).subscribe(()=>this.cd.detectChanges())}static \u0275fac=(()=>{let e;return function(r){return(e||(e=ce(t)))(r||t)}})();static \u0275dir=Lt({type:t,features:[de]})}return t})(),my=(()=>{class t extends hr{reset(e){}afterViewInit(){}ngAfterViewInit(){this.formProperty.errorsChanges.pipe(ti(this.sfItemComp.destroy$)).subscribe(()=>this.cd.detectChanges())}static \u0275fac=(()=>{let e;return function(r){return(e||(e=ce(t)))(r||t)}})();static \u0275dir=Lt({type:t,features:[de]})}return t})(),_y=(()=>{class t extends hy{addTitle;addType;removeTitle;arraySpan=8;get addDisabled(){return this.disabled||this.schema.maxItems!=null&&this.formProperty.properties.length>=this.schema.maxItems}get showRemove(){return!(this.disabled||!this.removeTitle||this.schema.minItems!=null&&this.formProperty.properties.length<=this.schema.minItems)}ngOnInit(){let{grid:e,addTitle:n,addType:r,removable:o,removeTitle:a}=this.ui;e&&e.arraySpan&&(this.arraySpan=e.arraySpan),this.addTitle=this.dom.bypassSecurityTrustHtml(n||this.l.addText),this.addType=r||"dashed",this.removeTitle=o===!1?null:a||this.l.removeText}reValid(e){this.formProperty.updateValueAndValidity(S({onlySelf:!1,emitValueEvent:!1,emitValidator:!0},e))}addItem(){let e=this.formProperty.add({});this.reValid(),this.ui.add?.(e)}removeItem(e){let n=this.formProperty.properties[e].path;this.formProperty.remove(e),this.reValid({updatePath:n,emitValueEvent:!0}),this.ui.remove?.(e)}static \u0275fac=(()=>{let e;return function(r){return(e||(e=ce(t)))(r||t)}})();static \u0275cmp=U({type:t,selectors:[["sf-array"]],hostVars:2,hostBindings:function(n,r){n&2&&Q("sf__array",!0)},standalone:!1,features:[de],decls:9,vars:9,consts:[["nz-col","",1,"ant-form-item-label",3,"nzSpan"],["nz-col","",1,"ant-form-item-control-wrapper",3,"nzSpan","nzOffset"],[1,"ant-form-item-control"],["nz-row","",1,"sf__array-container"],[1,"ant-form-explain"],[1,"ant-form-extra",3,"innerHTML"],[1,"sf__optional"],["nz-tooltip","",3,"nzTooltipTitle","nzTooltipPlacement","nzTooltipTrigger","nzTooltipOverlayClassName","nzTooltipOverlayStyle","nzTooltipMouseEnterDelay","nzTooltipMouseLeaveDelay","nzType"],[1,"sf__array-add"],["type","button","nz-button","",3,"click","nzType","disabled","innerHTML"],["nz-col","",1,"sf__array-item",3,"nzSpan"],[3,"formProperty"],[1,"sf__array-remove"],[1,"sf__array-remove",3,"click"],["nzType","delete"]],template:function(n,r){n&1&&(z(0,"nz-form-item"),$(1,Q0,8,9,"div",0),z(2,"div",1)(3,"div",2)(4,"div",3),be(5,Z0,1,1,null,null,fs),v(),$(7,Y0,2,1,"div",4),$(8,eg,1,1,"div",5),v()()()),n&2&&(Q("ant-form-item-with-help",r.showError),h(),T(r.schema.title?1:-1),h(),_("nzSpan",r.ui.spanControl)("nzOffset",r.ui.offsetControl),h(),Q("has-error",r.showError),h(2),ze(r.formProperty.properties),h(2),T(!r.ui.onlyVisual&&r.showError?7:-1),h(),T(r.schema.description?8:-1))},dependencies:[Ir,kt,Dr,jr,ui,di,zn,Ie,_t,pr],encapsulation:2})}return t})(),gy=(()=>{class t extends pt{static \u0275fac=(()=>{let e;return function(r){return(e||(e=ce(t)))(r||t)}})();static \u0275cmp=U({type:t,selectors:[["sf-boolean"]],standalone:!1,features:[de],decls:2,vars:12,consts:[[3,"id","schema","ui","showError","error","showTitle"],[3,"ngModelChange","ngModel","nzDisabled","nzSize","nzCheckedChildren","nzUnCheckedChildren","nzLoading"]],template:function(n,r){n&1&&(z(0,"sf-item-wrap",0)(1,"nz-switch",1),K("ngModelChange",function(a){return r.setValue(a)}),v()()),n&2&&(_("id",r.id)("schema",r.schema)("ui",r.ui)("showError",r.showError)("error",r.error)("showTitle",r.schema.title),h(),_("ngModel",r.value)("nzDisabled",r.disabled)("nzSize",r.ui.size)("nzCheckedChildren",r.ui.checkedChildren)("nzUnCheckedChildren",r.ui.unCheckedChildren)("nzLoading",r.ui.loading))},dependencies:[mt,Qe,bl,ft],encapsulation:2})}return t})(),yy=(()=>{class t extends pt{data=[];allChecked=!1;indeterminate=!1;grid_span;labelTitle="";inited=!1;reset(e){this.inited=!1,ja(this.schema,this.ui,e).subscribe(n=>{this.data=n,this.allChecked=!1,this.indeterminate=!1,this.labelTitle=n.length===0?"":this.schema.title;let{span:r}=this.ui;this.grid_span=r&&r>0?r:0,this.updateAllChecked(),this.inited=!0,this.detectChanges()})}_setValue(e){this.setValue(e),this.detectChanges(),this.notifyChange(e)}notifySet(){let e=this.data.filter(n=>n.checked);this.updateAllChecked().setValue(e.map(n=>n.value)),this.notifyChange(e)}groupInGridChange(e){this.data.forEach(n=>n.checked=e.indexOf(n.value)!==-1),this.notifySet()}onAllChecked(){this.data.forEach(e=>e.checked=this.allChecked),this.notifySet()}updateAllChecked(){return this.data.every(e=>e.checked!==!0)?(this.allChecked=!1,this.indeterminate=!1):this.data.every(e=>e.checked===!0)?(this.allChecked=!0,this.indeterminate=!1):this.indeterminate=!0,this.detectChanges(),this}notifyChange(e){this.ui.change&&this.ui.change(e)}static \u0275fac=(()=>{let e;return function(r){return(e||(e=ce(t)))(r||t)}})();static \u0275cmp=U({type:t,selectors:[["sf-checkbox"]],standalone:!1,features:[de],decls:4,vars:8,consts:[["all",""],[3,"id","schema","ui","showError","error","showTitle","title"],["nz-checkbox","",1,"sf__checkbox-all","mr-sm",3,"ngModel","nzIndeterminate"],["nz-checkbox","",1,"sf__checkbox-all","mr-sm",3,"ngModelChange","ngModel","nzIndeterminate"],["nz-checkbox","",3,"nzDisabled","ngModel"],["nz-checkbox","",3,"ngModelChange","nzDisabled","ngModel"],[1,"sf__optional"],["nz-tooltip","",3,"nzTooltipTitle","nzTooltipPlacement","nzTooltipTrigger","nzTooltipOverlayClassName","nzTooltipOverlayStyle","nzTooltipMouseEnterDelay","nzTooltipMouseLeaveDelay","nzType"],[1,"sf__checkbox-list"],[3,"ngTemplateOutlet"],[3,"ngModelChange","ngModel","nzOptions"],[1,"sf__checkbox-list",3,"nzOnChange"],["nz-row",""],["nz-col","",3,"nzSpan"],["nz-checkbox","",3,"nzValue","ngModel","nzDisabled"]],template:function(n,r){n&1&&(O(0,ig,1,1,"ng-template",null,0,De),z(2,"sf-item-wrap",1),$(3,fg,2,1),v()),n&2&&(h(2),_("id",r.id)("schema",r.schema)("ui",r.ui)("showError",r.showError)("error",r.error)("showTitle",!0)("title",r.labelTitle),h(),T(r.inited?3:-1))},dependencies:[Fe,mt,Qe,kt,Ws,Hs,qs,ui,di,Ie,_t,ft],encapsulation:2})}return t})(),Cy=(()=>{class t extends pt{static \u0275fac=(()=>{let e;return function(r){return(e||(e=ce(t)))(r||t)}})();static \u0275cmp=U({type:t,selectors:[["sf-custom"]],standalone:!1,features:[de],decls:2,vars:12,consts:[[3,"id","schema","ui","showError","error","showTitle"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(n,r){n&1&&(z(0,"sf-item-wrap",0),O(1,hg,0,0,"ng-template",1),v()),n&2&&(_("id",r.id)("schema",r.schema)("ui",r.ui)("showError",r.showError)("error",r.error)("showTitle",r.schema.title),h(),_("ngTemplateOutlet",r.ui._render)("ngTemplateOutletContext",_s(8,pg,r,r.schema,r.ui)))},dependencies:[Fe,ft],encapsulation:2})}return t})(),vy=(()=>{class t extends pt{startFormat;endFormat;flatRange=!1;mode;displayValue=null;displayFormat;i;ngOnInit(){let{mode:e,end:n,displayFormat:r,allowClear:o,showToday:a}=this.ui;if(this.mode=e||"date",this.flatRange=n!=null,this.startFormat=this.ui._format,this.flatRange){this.mode="range";let s=this.endProperty.ui;this.endFormat=s.format?s._format:this.startFormat}if(r)this.displayFormat=r;else switch(this.mode){case"year":this.displayFormat="yyyy";break;case"month":this.displayFormat="yyyy-MM";break;case"week":this.displayFormat="yyyy-ww";break}this.i={allowClear:He(o,!0),showToday:He(a,!0)}}reset(e){let n={formatString:this.startFormat,defaultValue:null};if(Array.isArray(e)?e=e.map(r=>yn(r,n)):e=yn(e,n),this.flatRange){let r=yn(this.endProperty.formData,{formatString:this.endFormat||this.startFormat,defaultValue:null});this.displayValue=e==null||r==null?[]:[e,r]}else this.displayValue=e;this.detectChanges(),this.displayValue&&setTimeout(()=>this._change(this.displayValue,!1))}_change(e,n=!0){if(n&&this.ui.change&&this.ui.change(e),e==null||Array.isArray(e)&&e.length<2){this.setValue(null),this.setEnd(null);return}let r=Array.isArray(e)?[mn(e[0],this.startFormat),mn(e[1],this.endFormat||this.startFormat)]:mn(e,this.startFormat);this.flatRange?(this.setValue(r[0]),this.setEnd(r[1])):this.setValue(r)}_openChange(e){this.ui.onOpenChange&&this.ui.onOpenChange(e)}_ok(e){this.ui.onOk&&this.ui.onOk(e)}get endProperty(){return this.formProperty.parent.properties[this.ui.end]}setEnd(e){this.flatRange&&(this.endProperty.setValue(e,!0),this.endProperty.updateValueAndValidity())}static \u0275fac=(()=>{let e;return function(r){return(e||(e=ce(t)))(r||t)}})();static \u0275cmp=U({type:t,selectors:[["sf-date"]],standalone:!1,features:[de],decls:6,vars:7,consts:[[3,"id","schema","ui","showError","error","showTitle"],[3,"nzId","nzDisabled","nzSize","nzFormat","ngModel","nzAllowClear","class","nzDisabledDate","nzLocale","nzPlaceHolder","nzPopupStyle","nzDropdownClassName","nzRenderExtraFooter","nzInputReadOnly","nzInline"],[3,"nzId","nzDisabled","nzSize","nzFormat","ngModel","nzAllowClear","class","nzDisabledDate","nzLocale","nzPlaceHolder","nzPopupStyle","nzDropdownClassName","nzInputReadOnly","nzInline"],[3,"nzId","nzDisabled","nzSize","nzFormat","ngModel","nzAllowClear","class","nzDisabledDate","nzLocale","nzPlaceHolder","nzPopupStyle","nzDropdownClassName","nzDisabledTime","nzRenderExtraFooter","nzRanges","nzShowTime","nzSeparator","nzShowWeekNumber","nzMode","nzInputReadOnly","nzInline"],[3,"nzId","nzDisabled","nzSize","nzFormat","ngModel","nzAllowClear","class","nzDisabledDate","nzLocale","nzPlaceHolder","nzPopupStyle","nzDropdownClassName","nzDisabledTime","nzRenderExtraFooter","nzShowTime","nzShowToday","nzShowWeekNumber","nzInputReadOnly","nzInline"],[3,"ngModelChange","nzOnOpenChange","nzId","nzDisabled","nzSize","nzFormat","ngModel","nzAllowClear","nzDisabledDate","nzLocale","nzPlaceHolder","nzPopupStyle","nzDropdownClassName","nzRenderExtraFooter","nzInputReadOnly","nzInline"],[3,"ngModelChange","nzOnOpenChange","nzId","nzDisabled","nzSize","nzFormat","ngModel","nzAllowClear","nzDisabledDate","nzLocale","nzPlaceHolder","nzPopupStyle","nzDropdownClassName","nzInputReadOnly","nzInline"],[3,"ngModelChange","nzOnOpenChange","nzOnOk","nzId","nzDisabled","nzSize","nzFormat","ngModel","nzAllowClear","nzDisabledDate","nzLocale","nzPlaceHolder","nzPopupStyle","nzDropdownClassName","nzDisabledTime","nzRenderExtraFooter","nzRanges","nzShowTime","nzSeparator","nzShowWeekNumber","nzMode","nzInputReadOnly","nzInline"],[3,"ngModelChange","nzOnOpenChange","nzOnOk","nzId","nzDisabled","nzSize","nzFormat","ngModel","nzAllowClear","nzDisabledDate","nzLocale","nzPlaceHolder","nzPopupStyle","nzDropdownClassName","nzDisabledTime","nzRenderExtraFooter","nzShowTime","nzShowToday","nzShowWeekNumber","nzInputReadOnly","nzInline"]],template:function(n,r){if(n&1&&(z(0,"sf-item-wrap",0),$(1,mg,1,16,"nz-year-picker",1)(2,_g,1,16,"nz-month-picker",1)(3,gg,1,15,"nz-week-picker",2)(4,yg,1,22,"nz-range-picker",3)(5,Cg,1,20,"nz-date-picker",4),v()),n&2){let o;_("id",r.id)("schema",r.schema)("ui",r.ui)("showError",r.showError)("error",r.error)("showTitle",r.schema.title),h(),T((o=r.mode)==="year"?1:o==="month"?2:o==="week"?3:o==="range"?4:5)}},dependencies:[mt,Qe,il,rl,nl,al,ol,ft],encapsulation:2})}return t})(),bu=(()=>{class t extends pt{min;max;step;formatter=e=>e.toString();parser=e=>+e;width="";ngOnInit(){let{minimum:e,exclusiveMinimum:n,maximum:r,exclusiveMaximum:o,multipleOf:a,type:s}=this.schema;this.step=a||1,typeof e<"u"&&(this.min=n?e+this.step:e),typeof r<"u"&&(this.max=o?r-this.step:r),s==="integer"&&(this.min=Math.trunc(this.min),this.max=Math.trunc(this.max),this.step=Math.trunc(this.step));let l=this.ui;l.prefix!=null&&(l.formatter=c=>c==null?"":`${l.prefix} ${c}`,l.parser=c=>+c.replace(`${l.prefix} `,"")),l.unit!=null&&(l.formatter=c=>c==null?"":`${c} ${l.unit}`,l.parser=c=>+c.replace(` ${l.unit}`,"")),l.formatter&&(this.formatter=l.formatter),l.parser&&(this.parser=l.parser),this.width=typeof l.widgetWidth=="number"?`${l.widgetWidth}px`:l.widgetWidth??"90px"}_setValue(e){this.setValue(this.schema.type==="integer"?Math.floor(e):e),this.ui.change?.(this.value)}static \u0275fac=(()=>{let e;return function(r){return(e||(e=ce(t)))(r||t)}})();static \u0275cmp=U({type:t,selectors:[["sf-number"]],standalone:!1,features:[de],decls:2,vars:21,consts:[[3,"id","schema","ui","showError","error","showTitle"],[3,"ngModelChange","nzId","ngModel","nzDisabled","nzSize","nzMin","nzMax","nzStep","nzFormatter","nzParser","nzPrecision","nzPlaceHolder"]],template:function(n,r){n&1&&(z(0,"sf-item-wrap",0)(1,"nz-input-number",1),K("ngModelChange",function(a){return r._setValue(a)}),v()()),n&2&&(_("id",r.id)("schema",r.schema)("ui",r.ui)("showError",r.showError)("error",r.error)("showTitle",r.schema.title),h(),it("width",r.width),Q("ant-input-number__hide-step",r.ui.hideStep),_("nzId",r.id)("ngModel",r.value)("nzDisabled",r.disabled)("nzSize",r.ui.size)("nzMin",r.min)("nzMax",r.max)("nzStep",r.step)("nzFormatter",r.formatter)("nzParser",r.parser)("nzPrecision",r.ui.precision||null)("nzPlaceHolder",r.ui.placeholder||""))},dependencies:[mt,Qe,pl,ft],encapsulation:2})}return t})(),by=(()=>{class t extends my{grid;type="default";list=[];title;showExpand=!0;expand=!0;ngOnInit(){let{formProperty:e,ui:n}=this,{grid:r,showTitle:o,type:a}=n;this.showExpand=He(n.showExpand,!0),this.expand=He(n.expand,!0),this.type=a??"default",(this.type==="card"||!e.isRoot()&&!(e.parent instanceof dr)&&o===!0)&&(this.title=this.schema.title),this.grid=r;let s=[];for(let l of e.propertiesId){let c=e.properties[l],d={property:c,grid:c.ui.grid||r||{},spanLabelFixed:c.ui.spanLabelFixed,show:c.ui.hidden===!1};s.push(d)}this.list=s}changeExpand(){this.showExpand&&(this.expand=!this.expand,this.detectChanges(!0))}static \u0275fac=(()=>{let e;return function(r){return(e||(e=ce(t)))(r||t)}})();static \u0275cmp=U({type:t,selectors:[["sf-object"]],standalone:!1,features:[de],decls:4,vars:1,consts:[["default",""],["cardTitleTpl",""],[1,"sf__object-card",3,"nzTitle","nzExtra","nzSize","nzActions","nzBodyStyle","nzBordered","sf__object-card-fold"],[3,"ngTemplateOutlet"],[1,"sf__title"],["nz-row","",3,"nzGutter"],["nz-col","",3,"nzSpan","nzOffset","nzXs","nzSm","nzMd","nzLg","nzXl","nzXXl"],[3,"formProperty","fixed-label"],[1,"sf__object-card",3,"nzTitle","nzExtra","nzSize","nzActions","nzBodyStyle","nzBordered"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"click"],[1,"mr-xs","text-xs",3,"nzType"],[1,"sf__optional"],["nz-tooltip","",3,"nzTooltipTitle","nzTooltipPlacement","nzTooltipTrigger","nzTooltipColor","nzTooltipOverlayClassName","nzTooltipOverlayStyle","nzTooltipMouseEnterDelay","nzTooltipMouseLeaveDelay","nzType"]],template:function(n,r){n&1&&(O(0,Ng,3,2,"ng-template",null,0,De),$(2,Ig,4,12,"nz-card",2)(3,Rg,1,1,null,3)),n&2&&(h(2),T(r.type==="card"?2:3))},dependencies:[Fe,kt,jr,ui,di,Ie,_t,pr,Nu],encapsulation:2})}return t})(),zy=(()=>{class t extends pt{data=[];styleType;reset(e){this.styleType=(this.ui.styleType||"default")==="default",ja(this.schema,this.ui,e).subscribe(n=>{this.data=n,this.detectChanges()})}_setValue(e){this.setValue(e),this.ui.change&&this.ui.change(e)}static \u0275fac=(()=>{let e;return function(r){return(e||(e=ce(t)))(r||t)}})();static \u0275cmp=U({type:t,selectors:[["sf-radio"]],standalone:!1,features:[de],decls:4,vars:11,consts:[[3,"id","schema","ui","showError","error","showTitle"],[3,"ngModelChange","nzSize","nzName","ngModel","nzButtonStyle"],["nz-radio","",3,"nzValue","nzDisabled"],[3,"innerHTML"],["nz-radio-button","",3,"nzValue","nzDisabled"]],template:function(n,r){n&1&&(z(0,"sf-item-wrap",0)(1,"nz-radio-group",1),K("ngModelChange",function(a){return r._setValue(a)}),$(2,Fg,2,0)(3,Lg,2,0),v()()),n&2&&(_("id",r.id)("schema",r.schema)("ui",r.ui)("showError",r.showError)("error",r.error)("showTitle",r.schema.title),h(),_("nzSize",r.ui.size)("nzName",r.id)("ngModel",r.value)("nzButtonStyle",r.ui.buttonStyle||"outline"),h(),T(r.styleType?2:3))},dependencies:[mt,Qe,Ks,Us,ft],encapsulation:2})}return t})(),wy=(()=>{class t extends pt{search$=new pn;i;data=[];_value;hasGroup=!1;loading=!1;checkGroup(e){this.hasGroup=(e||[]).filter(n=>n.group===!0).length>0}ngOnInit(){let{autoClearSearchValue:e,borderless:n,autoFocus:r,dropdownMatchSelectWidth:o,serverSearch:a,maxMultipleCount:s,mode:l,showSearch:c,tokenSeparators:d,maxTagCount:u,compareWith:g,optionHeightPx:y,optionOverflowSize:m,showArrow:C}=this.ui;this.i={autoClearSearchValue:He(e,!0),borderless:He(n,!1),autoFocus:He(r,!1),dropdownMatchSelectWidth:He(o,!0),serverSearch:He(a,!1),maxMultipleCount:s||1/0,mode:l||"default",showSearch:He(c,!0),tokenSeparators:d||[],maxTagCount:u||1/0,optionHeightPx:y||32,optionOverflowSize:m||8,showArrow:He(C,!0),compareWith:g||((b,D)=>b===D)};let p=this.ui.onSearch;p&&this.search$.pipe(ti(this.sfItemComp.destroy$),Sr(),wr(this.ui.searchDebounceTime||300),xr(b=>p(b)),ts(()=>[])).subscribe(b=>{this.data=b,this.checkGroup(b),this.loading=!1,this.detectChanges()})}reset(e){let n=this.ui.onSearch;ja(this.schema,this.ui,e).subscribe(r=>{this._value=e,n==null&&(this.data=r),this.checkGroup(r),this.detectChanges()}),e&&n!=null&&this.search$.next(e)}change(e){this.ui.change&&this.ui.change(e,this.getOrgData(e)),this.setValue(e??this.ui.clearValue)}getOrgData(e){let n=this.injector.get(Cu);return Array.isArray(e)?e.map(r=>n.findTree(this.data,o=>o.value===r)):n.findTree(this.data,r=>r.value===e)}openChange(e){this.ui.openChange&&this.ui.openChange(e)}scrollToBottom(){this.ui.scrollToBottom&&this.ui.scrollToBottom()}onSearch(e){this.ui.onSearch&&(this.loading=!0,this.search$.next(e))}static \u0275fac=(()=>{let e;return function(r){return(e||(e=ce(t)))(r||t)}})();static \u0275cmp=U({type:t,selectors:[["sf-select"]],standalone:!1,features:[de],decls:5,vars:39,consts:[[3,"id","schema","ui","showError","error","showTitle"],[3,"ngModelChange","nzOpenChange","nzOnSearch","nzScrollToBottom","nzId","nzDisabled","ngModel","nzSize","nzPlaceHolder","nzNotFoundContent","nzDropdownClassName","nzAllowClear","nzDropdownStyle","nzCustomTemplate","nzSuffixIcon","nzRemoveIcon","nzClearIcon","nzMenuItemSelectedIcon","nzMaxTagPlaceholder","nzDropdownRender","nzAutoClearSearchValue","nzBorderless","nzAutoFocus","nzDropdownMatchSelectWidth","nzServerSearch","nzMaxMultipleCount","nzMode","nzShowSearch","nzShowArrow","nzTokenSeparators","nzMaxTagCount","compareWith","nzOptionHeightPx","nzOptionOverflowSize"],["nzDisabled","","nzCustomContent",""],[3,"nzLabel","nzValue","nzHide","nzDisabled"],[3,"nzLabel"],[3,"nzLabel","nzValue","nzDisabled","nzHide"],["nzType","loading"]],template:function(n,r){n&1&&(z(0,"sf-item-wrap",0)(1,"nz-select",1),$t("ngModelChange",function(a){return xt(r._value,a)||(r._value=a),a}),K("ngModelChange",function(a){return r.change(a)})("nzOpenChange",function(a){return r.openChange(a)})("nzOnSearch",function(a){return r.onSearch(a)})("nzScrollToBottom",function(){return r.scrollToBottom()}),$(2,Wg,2,0),$(3,Ug,2,0),$(4,Kg,3,1,"nz-option",2),v()()),n&2&&(_("id",r.id)("schema",r.schema)("ui",r.ui)("showError",r.showError)("error",r.error)("showTitle",r.schema.title),h(),_("nzId",r.id)("nzDisabled",r.disabled),St("ngModel",r._value),_("nzSize",r.ui.size)("nzPlaceHolder",r.ui.placeholder)("nzNotFoundContent",r.ui.notFoundContent)("nzDropdownClassName",r.ui.dropdownClassName)("nzAllowClear",r.ui.allowClear)("nzDropdownStyle",r.ui.dropdownStyle)("nzCustomTemplate",r.ui.customTemplate)("nzSuffixIcon",r.ui.suffixIcon)("nzRemoveIcon",r.ui.removeIcon)("nzClearIcon",r.ui.clearIcon)("nzMenuItemSelectedIcon",r.ui.menuItemSelectedIcon)("nzMaxTagPlaceholder",r.ui.maxTagPlaceholder)("nzDropdownRender",r.ui.dropdownRender)("nzAutoClearSearchValue",r.i.autoClearSearchValue)("nzBorderless",r.i.borderless)("nzAutoFocus",r.i.autoFocus)("nzDropdownMatchSelectWidth",r.i.dropdownMatchSelectWidth)("nzServerSearch",r.i.serverSearch)("nzMaxMultipleCount",r.i.maxMultipleCount)("nzMode",r.i.mode)("nzShowSearch",r.i.showSearch)("nzShowArrow",r.i.showArrow)("nzTokenSeparators",r.i.tokenSeparators)("nzMaxTagCount",r.i.maxTagCount)("compareWith",r.i.compareWith)("nzOptionHeightPx",r.i.optionHeightPx)("nzOptionOverflowSize",r.i.optionOverflowSize),h(),T(!r.loading&&!r.hasGroup?2:-1),h(),T(!r.loading&&r.hasGroup?3:-1),h(),T(r.loading?4:-1))},dependencies:[mt,Qe,kt,Ie,Ys,el,Zs,ft],encapsulation:2})}return t})(),zu=(()=>{class t extends pt{type;change$=null;ngOnInit(){let{addOnAfter:e,addOnAfterIcon:n,addOnBefore:r,addOnBeforeIcon:o,prefix:a,prefixIcon:s,suffix:l,suffixIcon:c,autofocus:d}=this.ui;this.type=e||r||n||o||a||s||l||c?"addon":"",d===!0&&setTimeout(()=>{this.injector.get(Pe).nativeElement.querySelector(`#${this.id}`).focus()},20),this.initChange()}reset(e){!e&&this.schema.format==="color"&&this.setValue("#000000")}initChange(){let e=this.ui.changeDebounceTime,n=this.ui.change;if(e==null||e<=0||n==null)return;this.change$=new Ft(this.value);let r=this.change$.asObservable().pipe(wr(e),ti(this.sfItemComp.destroy$));this.ui.changeMap!=null&&(r=r.pipe(xr(this.ui.changeMap))),r.subscribe(o=>n(o))}change(e){if(this.setValue(e),this.change$!=null){this.change$.next(e);return}this.ui.change&&this.ui.change(e)}focus(e){this.ui.focus&&this.ui.focus(e)}blur(e){this.ui.blur&&this.ui.blur(e)}enter(e){this.ui.enter&&this.ui.enter(e)}static \u0275fac=(()=>{let e;return function(r){return(e||(e=ce(t)))(r||t)}})();static \u0275cmp=U({type:t,selectors:[["sf-string"]],standalone:!1,features:[de],decls:5,vars:7,consts:[["ipt",""],[3,"id","schema","ui","showError","error","showTitle"],[3,"nzAddOnBefore","nzAddOnAfter","nzAddOnBeforeIcon","nzAddOnAfterIcon","nzPrefix","nzPrefixIcon","nzSuffix","nzSuffixIcon"],[3,"ngTemplateOutlet"],["nz-input","",3,"ngModelChange","keyup.enter","focus","blur","disabled","nzSize","nzBorderless","ngModel"]],template:function(n,r){n&1&&(z(0,"sf-item-wrap",1),O(1,Gg,1,11,"ng-template",null,0,De),$(3,Jg,2,9,"nz-input-group",2)(4,Zg,1,1,null,3),v()),n&2&&(_("id",r.id)("schema",r.schema)("ui",r.ui)("showError",r.showError)("error",r.error)("showTitle",r.schema.title),h(3),T(r.type==="addon"?3:4))},dependencies:[Fe,Vr,mt,Qe,kt,Rr,dl,cl,ft],encapsulation:2})}return t})(),Sy=(()=>{class t extends pt{text="";ngOnInit(){this.ui._required=!1,this.ui.html=He(this.ui.html,!0)}reset(e){this.text=e||this.ui.defaultText||"-"}static \u0275fac=(()=>{let e;return function(r){return(e||(e=ce(t)))(r||t)}})();static \u0275cmp=U({type:t,selectors:[["sf-text"]],standalone:!1,features:[de],decls:3,vars:9,consts:[[3,"id","schema","ui","showError","error","showTitle"],[3,"innerHTML"],[3,"innerText"]],template:function(n,r){n&1&&(z(0,"sf-item-wrap",0),$(1,Yg,1,1,"span",1)(2,ey,1,1,"span",2),v()),n&2&&(Q("sf__text-html",r.ui.html),_("id",r.id)("schema",r.schema)("ui",r.ui)("showError",r.showError)("error",r.error)("showTitle",r.schema.title),h(),T(r.ui.html?1:2))},dependencies:[ft],encapsulation:2})}return t})(),xy=(()=>{class t extends pt{autosize=!0;ngOnInit(){this.ui.autosize!=null&&(this.autosize=this.ui.autosize),this.ui.computeCharacterCount==null&&(this.ui.computeCharacterCount=e=>e.length)}change(e){this.setValue(e),this.ui.change&&this.ui.change(e)}focus(e){this.ui.focus&&this.ui.focus(e)}blur(e){this.ui.blur&&this.ui.blur(e)}static \u0275fac=(()=>{let e;return function(r){return(e||(e=ce(t)))(r||t)}})();static \u0275cmp=U({type:t,selectors:[["sf-textarea"]],standalone:!1,features:[de],decls:5,vars:7,consts:[["ipt",""],[3,"id","schema","ui","showError","error","showTitle"],[3,"nzMaxCharacterCount","nzComputeCharacterCount"],[3,"ngTemplateOutlet"],["nz-input","",3,"ngModelChange","focus","blur","disabled","nzSize","ngModel","nzAutosize","nzBorderless"]],template:function(n,r){n&1&&(z(0,"sf-item-wrap",1),O(1,ty,2,9,"ng-template",null,0,De),$(3,iy,3,11,"nz-textarea-count",2)(4,ry,1,1,null,3),v()),n&2&&(_("id",r.id)("schema",r.schema)("ui",r.ui)("showError",r.showError)("error",r.error)("showTitle",r.schema.title),h(3),T(r.ui.maxCharacterCount?3:4))},dependencies:[Fe,Vr,mt,Qe,ul,Rr,ll,ft],encapsulation:2})}return t})(),ur=class extends Zt{constructor(){super(),this.register("object",by),this.register("array",_y),this.register("text",Sy),this.register("string",zu),this.register("number",bu),this.register("integer",bu),this.register("date",vy),this.register("radio",zy),this.register("checkbox",yy),this.register("boolean",gy),this.register("textarea",xy),this.register("select",wy),this.register("custom",Cy),this.setDefault(zu)}},$y=[Ts,vl,Bs,sl,gl,ml,Et,fl,hl,Es,Gs,tl,zl,ci];var P1=(()=>{class t{static forRoot(){return{ngModule:t,providers:[{provide:fr,useClass:Tu,deps:[xe,Di]},{provide:Zt,useClass:ur}]}}static \u0275fac=function(n){return new(n||t)};static \u0275mod=Re({type:t});static \u0275inj=Ve({imports:[Tt,Ls,Ms,$y]})}return t})();function O1(t){let i=[{provide:fr,useClass:Tu,deps:[xe,Di]},{provide:Zt,useClass:ur}];return t?.widgets&&i.push(ls(()=>{let e=w(Zt);t?.widgets?.forEach(n=>e.register(n.KEY,n.type))})),ss(i)}var Fa=["*"];function Ty(t,i){}function Ey(t,i){if(t&1&&(z(0,"span",1),O(1,Ty,0,0,"ng-template",2),G(2,"nz-icon",3),v()),t&2){let e=f(),n=le(4);_("nzDropdownMenu",e.nzOverlay),h(),_("ngTemplateOutlet",n)}}function Ny(t,i){}function ky(t,i){if(t&1&&O(0,Ny,0,0,"ng-template",2),t&2){f();let e=le(4);_("ngTemplateOutlet",e)}}function Py(t,i){if(t&1&&(we(0),F(1),Se()),t&2){let e=f(2);h(),se(" ",e.nzBreadCrumbComponent.nzSeparator," ")}}function Oy(t,i){if(t&1&&(z(0,"nz-breadcrumb-separator"),O(1,Py,2,1,"ng-container",4),v()),t&2){let e=f();h(),_("nzStringTemplateOutlet",e.nzBreadCrumbComponent.nzSeparator)}}function My(t,i){t&1&&(z(0,"span",5),ae(1),v())}var Dy=(t,i)=>i.url;function Iy(t,i){if(t&1){let e=ee();z(0,"nz-breadcrumb-item")(1,"a",0),K("click",function(r){let o=N(e).$implicit,a=f(2);return k(a.navigate(o.url,r))}),F(2),v()()}if(t&2){let e=i.$implicit;h(),je("href",e.url,ds),h(),re(e.label)}}function Vy(t,i){if(t&1&&be(0,Iy,3,2,"nz-breadcrumb-item",null,Dy),t&2){let e=f();ze(e.breadcrumbs)}}var mr=class{},Ry=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=U({type:t,selectors:[["nz-breadcrumb-separator"]],hostAttrs:[1,"ant-breadcrumb-separator"],exportAs:["nzBreadcrumbSeparator"],ngContentSelectors:Fa,decls:1,vars:0,template:function(n,r){n&1&&(oe(),ae(0))},encapsulation:2})}return t})(),_r=(()=>{class t{nzBreadCrumbComponent=w(mr);nzOverlay;static \u0275fac=function(n){return new(n||t)};static \u0275cmp=U({type:t,selectors:[["nz-breadcrumb-item"]],inputs:{nzOverlay:"nzOverlay"},exportAs:["nzBreadcrumbItem"],ngContentSelectors:Fa,decls:5,vars:2,consts:[["noMenuTpl",""],["nz-dropdown","",1,"ant-breadcrumb-overlay-link",3,"nzDropdownMenu"],[3,"ngTemplateOutlet"],["nzType","down"],[4,"nzStringTemplateOutlet"],[1,"ant-breadcrumb-link"]],template:function(n,r){n&1&&(oe(),$(0,Ey,3,2,"span",1)(1,ky,1,1,null,2),$(2,Oy,2,1,"nz-breadcrumb-separator"),O(3,My,2,0,"ng-template",null,0,De)),n&2&&(T(r.nzOverlay?0:1),h(2),T(r.nzBreadCrumbComponent.nzSeparator?2:-1))},dependencies:[Fe,Ry,Js,Qs,Et,Ie,Nt,rt],encapsulation:2,changeDetection:0})}return t})(),Aa=(()=>{class t{injector=w(Oi);cdr=w(Ge);elementRef=w(Pe);renderer=w(ve);directionality=w(ai);destroyRef=w(ni);nzAutoGenerate=!1;nzSeparator="/";nzRouteLabel="breadcrumb";nzRouteLabelFn=e=>e;nzRouteFn=e=>e;breadcrumbs=[];dir="ltr";ngOnInit(){this.nzAutoGenerate&&this.registerRouterChange(),this.directionality.change?.pipe(ge(this.destroyRef)).subscribe(e=>{this.dir=e,this.prepareComponentForRtl(),this.cdr.detectChanges()}),this.dir=this.directionality.value,this.prepareComponentForRtl()}navigate(e,n){n.preventDefault(),this.injector.get(Vi).navigateByUrl(e)}registerRouterChange(){try{let e=this.injector.get(Vi),n=this.injector.get(ys);e.events.pipe(Be(r=>r instanceof hn),ge(this.destroyRef),ns(!0)).subscribe(()=>{this.breadcrumbs=this.getBreadcrumbs(n.root),this.cdr.markForCheck()})}catch{throw new Error(`${Ss} You should import RouterModule if you want to use 'NzAutoGenerate'.`)}}getBreadcrumbs(e,n="",r=[]){let o=e.children;if(o.length===0)return r;for(let a of o)if(a.outlet===gs){let s=a.snapshot.url.map(u=>u.path).filter(u=>u).join("/"),l=s?`${n}/${s}`:n,c=this.nzRouteLabelFn(a.snapshot.data[this.nzRouteLabel]),d=this.nzRouteFn(l);if(s&&c){let u={label:c,params:a.snapshot.params,url:d};r.push(u)}return this.getBreadcrumbs(a,l,r)}return r}prepareComponentForRtl(){this.dir==="rtl"?this.renderer.addClass(this.elementRef.nativeElement,"ant-breadcrumb-rtl"):this.renderer.removeClass(this.elementRef.nativeElement,"ant-breadcrumb-rtl")}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=U({type:t,selectors:[["nz-breadcrumb"]],hostAttrs:[1,"ant-breadcrumb"],inputs:{nzAutoGenerate:[2,"nzAutoGenerate","nzAutoGenerate",L],nzSeparator:"nzSeparator",nzRouteLabel:"nzRouteLabel",nzRouteLabelFn:"nzRouteLabelFn",nzRouteFn:"nzRouteFn"},exportAs:["nzBreadcrumb"],features:[qt([{provide:mr,useExisting:os(()=>t)}])],ngContentSelectors:Fa,decls:2,vars:1,consts:[[3,"click"]],template:function(n,r){n&1&&(oe(),ae(0),$(1,Vy,2,0)),n&2&&(h(),T(r.nzAutoGenerate&&r.breadcrumbs.length?1:-1))},dependencies:[_r],encapsulation:2,changeDetection:0})}return t})(),ku=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=Re({type:t});static \u0275inj=Ve({imports:[Aa,_r]})}return t})();var jy=["fixedEl"],Fy=["*"],La=function(t){return t.resize="resize",t.scroll="scroll",t.touchstart="touchstart",t.touchmove="touchmove",t.touchend="touchend",t.pageshow="pageshow",t.load="LOAD",t}(La||{});function Ay(t){return typeof window<"u"&&t===window}function Pu(t){return Ay(t)?{top:0,left:0,bottom:0}:t.getBoundingClientRect()}var Ly="affix",Ni="ant-affix",qy=20,qa=(()=>{var a;let t,i=[],e=[],n,r=[],o=[];return a=class{nzConfigService=w($s);scrollSrv=w(Ds);platform=w(oi);renderer=w(ve);nzResizeObserver=w(Xs);cdr=w(Ge);directionality=w(ai);destroyRef=w(ni);_nzModuleName=Ly;fixedEl;nzTarget;nzOffsetTop=Pi(this,i,void 0);nzOffsetBottom=(Pi(this,e),Pi(this,r,void 0));nzChange=(Pi(this,o),new wt);dir="ltr";placeholderNode=w(Pe).nativeElement;affixStyle;placeholderStyle;positionChangeSubscription=Xa.EMPTY;offsetChanged$=new Ya(1);timeout;document=w(cs);get target(){let l=this.nzTarget;return(typeof l=="string"?this.document.querySelector(l):l)||window}constructor(){this.destroyRef.onDestroy(()=>{this.removeListeners()})}ngOnInit(){this.directionality.change?.pipe(ge(this.destroyRef)).subscribe(l=>{this.dir=l,this.registerListeners(),this.updatePosition({}),this.cdr.detectChanges()}),this.dir=this.directionality.value}ngOnChanges(l){let{nzOffsetBottom:c,nzOffsetTop:d,nzTarget:u}=l;(c||d)&&this.offsetChanged$.next(),u&&this.registerListeners()}ngAfterViewInit(){this.registerListeners()}registerListeners(){if(!this.platform.isBrowser)return;this.removeListeners();let l=this.target===window?this.document.body:this.target;this.positionChangeSubscription=ei(...Object.keys(La).map(c=>xs(this.target,c)),this.offsetChanged$.pipe(At(()=>({}))),this.nzResizeObserver.observe(l)).pipe(rs(qy,void 0,{trailing:!0}),ge(this.destroyRef)).subscribe(c=>this.updatePosition(c)),this.timeout=setTimeout(()=>this.updatePosition({}))}removeListeners(){clearTimeout(this.timeout),this.positionChangeSubscription.unsubscribe()}getOffset(l,c){let d=l.getBoundingClientRect(),u=Pu(c),g=this.scrollSrv.getScroll(c,!0),y=this.scrollSrv.getScroll(c,!1),m=this.document.body,C=m.clientTop||0,p=m.clientLeft||0;return{top:d.top-u.top+g-C,left:d.left-u.left+y-p,width:d.width,height:d.height}}setAffixStyle(l,c){let d=this.affixStyle,u=this.target===window;if(l.type==="scroll"&&d&&c&&u||kr(d,c))return;let g=!!c,y=this.fixedEl.nativeElement;this.renderer.setStyle(y,"cssText",Or(c)),this.affixStyle=c,g?y.classList.add(Ni):y.classList.remove(Ni),this.updateRtlClass(),(c&&!d||!c&&d)&&this.nzChange.emit(g)}setPlaceholderStyle(l){let c=this.placeholderStyle;kr(l,c)||(this.renderer.setStyle(this.placeholderNode,"cssText",Or(l)),this.placeholderStyle=l)}syncPlaceholderStyle(l){if(!this.affixStyle)return;this.renderer.setStyle(this.placeholderNode,"cssText",""),this.placeholderStyle=void 0;let c={width:this.placeholderNode.offsetWidth,height:this.fixedEl.nativeElement.offsetHeight};this.setAffixStyle(l,S(S({},this.affixStyle),c)),this.setPlaceholderStyle(c)}updatePosition(l){if(!this.platform.isBrowser)return;let c=this.target,d=this.nzOffsetTop,u=this.scrollSrv.getScroll(c,!0),g=this.getOffset(this.placeholderNode,c),y=this.fixedEl.nativeElement,m={width:y.offsetWidth,height:y.offsetHeight},C={top:!1,bottom:!1};typeof d!="number"&&typeof this.nzOffsetBottom!="number"?(C.top=!0,d=0):(C.top=typeof d=="number",C.bottom=typeof this.nzOffsetBottom=="number");let p=Pu(c),b=c.innerHeight||c.clientHeight;if(u>=g.top-d&&C.top){let D=g.width,I=p.top+d;this.setAffixStyle(l,{position:"fixed",top:I,left:p.left+g.left,width:D}),this.setPlaceholderStyle({width:D,height:m.height})}else if(u<=g.top+m.height+this.nzOffsetBottom-b&&C.bottom){let D=c===window?0:window.innerHeight-p.bottom,I=g.width;this.setAffixStyle(l,{position:"fixed",bottom:D+this.nzOffsetBottom,left:p.left+g.left,width:I}),this.setPlaceholderStyle({width:I,height:g.height})}else l.type===La.resize&&this.affixStyle&&this.affixStyle.position==="fixed"&&this.placeholderNode.offsetWidth?this.setAffixStyle(l,X(S({},this.affixStyle),{width:this.placeholderNode.offsetWidth})):this.setAffixStyle(l),this.setPlaceholderStyle();l.type==="resize"&&this.syncPlaceholderStyle(l)}updateRtlClass(){let l=this.fixedEl.nativeElement;this.dir==="rtl"?l.classList.contains(Ni)?l.classList.add(`${Ni}-rtl`):l.classList.remove(`${Ni}-rtl`):l.classList.remove(`${Ni}-rtl`)}},(()=>{let l=typeof Symbol=="function"&&Symbol.metadata?Object.create(null):void 0;t=[Mr()],n=[Mr()],br(null,null,t,{kind:"field",name:"nzOffsetTop",static:!1,private:!1,access:{has:c=>"nzOffsetTop"in c,get:c=>c.nzOffsetTop,set:(c,d)=>{c.nzOffsetTop=d}},metadata:l},i,e),br(null,null,n,{kind:"field",name:"nzOffsetBottom",static:!1,private:!1,access:{has:c=>"nzOffsetBottom"in c,get:c=>c.nzOffsetBottom,set:(c,d)=>{c.nzOffsetBottom=d}},metadata:l},r,o),l&&Object.defineProperty(a,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:l})})(),vr(a,"\u0275fac",function(c){return new(c||a)}),vr(a,"\u0275cmp",U({type:a,selectors:[["nz-affix"]],viewQuery:function(c,d){if(c&1&&Ke(jy,7),c&2){let u;Oe(u=Me())&&(d.fixedEl=u.first)}},inputs:{nzTarget:"nzTarget",nzOffsetTop:[2,"nzOffsetTop","nzOffsetTop",Pr],nzOffsetBottom:[2,"nzOffsetBottom","nzOffsetBottom",Pr]},outputs:{nzChange:"nzChange"},exportAs:["nzAffix"],features:[ke],ngContentSelectors:Fy,decls:3,vars:0,consts:[["fixedEl",""]],template:function(c,d){c&1&&(oe(),z(0,"div",null,0),ae(2),v())},dependencies:[ws,zs],encapsulation:2,changeDetection:0})),a})(),Ou=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=Re({type:t});static \u0275inj=Ve({imports:[qa]})}return t})();var Wy=["conTpl"],Hy=["affix"],By=["*"],Uy=()=>({rows:3}),Ky=()=>({size:"large",shape:"circle"});function Gy(t,i){}function Qy(t,i){if(t&1&&(z(0,"nz-affix",3,1),O(2,Gy,0,0,"ng-template",4),v()),t&2){let e=f(),n=le(3);_("nzOffsetTop",e.fixedOffsetTop),h(2),_("ngTemplateOutlet",n)}}function Jy(t,i){}function Xy(t,i){if(t&1&&O(0,Jy,0,0,"ng-template",4),t&2){f();let e=le(3);_("ngTemplateOutlet",e)}}function Zy(t,i){}function Yy(t,i){if(t&1&&O(0,Zy,0,0,"ng-template",4),t&2){let e=f(2);_("ngTemplateOutlet",e.breadcrumb)}}function eC(t,i){if(t&1&&(z(0,"a",15),F(1),v()),t&2){let e=f().$implicit;_("routerLink",e.link),h(),re(e.title)}}function tC(t,i){if(t&1&&F(0),t&2){let e=f().$implicit;se(" ",e.title," ")}}function iC(t,i){if(t&1&&(z(0,"nz-breadcrumb-item"),$(1,eC,2,2,"a",15)(2,tC,1,1),v()),t&2){let e=i.$implicit;h(),T(e.link?1:2)}}function nC(t,i){if(t&1&&(z(0,"nz-breadcrumb"),be(1,iC,3,1,"nz-breadcrumb-item",null,Ue),v()),t&2){let e=f(3);h(),ze(e.paths)}}function rC(t,i){if(t&1&&$(0,nC,3,0,"nz-breadcrumb"),t&2){let e=f(2);T(e.paths&&e.paths.length>0?0:-1)}}function oC(t,i){}function aC(t,i){if(t&1&&(z(0,"div",8),O(1,oC,0,0,"ng-template",4),v()),t&2){let e=f(2);h(),_("ngTemplateOutlet",e.logo)}}function sC(t,i){}function lC(t,i){if(t&1&&O(0,sC,0,0,"ng-template",4),t&2){let e=f(3);_("ngTemplateOutlet",e._titleTpl)}}function cC(t,i){if(t&1&&(we(0),F(1),Se()),t&2){let e=f(5);h(),re(e.titleSub)}}function dC(t,i){if(t&1&&(z(0,"small"),O(1,cC,2,1,"ng-container",16),v()),t&2){let e=f(4);h(),_("nzStringTemplateOutlet",e.titleSub)}}function uC(t,i){if(t&1&&(F(0),$(1,dC,2,1,"small")),t&2){let e=f(3);se(" ",e._titleVal," "),h(),T(e.titleSub?1:-1)}}function fC(t,i){if(t&1&&(z(0,"h1",11),$(1,lC,1,1,null,4)(2,uC,2,2),v()),t&2){let e=f(2);h(),T(e._titleTpl?1:2)}}function pC(t,i){}function hC(t,i){if(t&1&&(z(0,"div",12),O(1,pC,0,0,"ng-template",4),v()),t&2){let e=f(2);h(),_("ngTemplateOutlet",e.action)}}function mC(t,i){}function _C(t,i){}function gC(t,i){if(t&1&&(z(0,"div",14),O(1,_C,0,0,"ng-template",4),v()),t&2){let e=f(2);h(),_("ngTemplateOutlet",e.extra)}}function yC(t,i){}function CC(t,i){if(t&1){let e=ee();z(0,"div",5)(1,"div")(2,"nz-skeleton",6),$(3,Yy,1,1,null,4)(4,rC,1,1),z(5,"div",7),$(6,aC,2,1,"div",8),z(7,"div",9)(8,"div",10),$(9,fC,3,1,"h1",11),$(10,hC,2,1,"div",12),v(),z(11,"div",10)(12,"div",13,2),K("cdkObserveContent",function(){N(e);let r=f();return k(r.checkContent())}),ae(14),O(15,mC,0,0,"ng-template",4),v(),$(16,gC,2,1,"div",14),v()()(),O(17,yC,0,0,"ng-template",4),v()()()}if(t&2){let e=f();Q("page-header-rtl",e.dir()==="rtl"),h(),Q("page-header__wide",e.wide),h(),_("nzLoading",e.loading)("nzTitle",!1)("nzActive",!0)("nzParagraph",ri(16,Uy))("nzAvatar",ri(17,Ky)),h(),T(e.breadcrumb?3:4),h(3),T(e.logo?6:-1),h(3),T(e._titleVal||e._titleTpl?9:-1),h(),T(e.action?10:-1),h(5),_("ngTemplateOutlet",e.content),h(),T(e.extra?16:-1),h(),_("ngTemplateOutlet",e.tab)}}var vC=(()=>{class t{renderer=w(ve);router=w(Vi);cdr=w(Ge);menuSrv=w(Ns);i18nSrv=w(Cn);titleSrv=w(Ps);reuseSrv=w(wl,{optional:!0});settings=w(ks);platform=w(oi);cogSrv=w(xe);conTpl;affix;inited=!1;isBrowser=!0;dir=w(ai).valueSignal;get menus(){return this.menuSrv.getPathByUrl(this.router.url,this.recursiveBreadcrumb)}_titleVal="";paths=[];_title=null;_titleTpl=null;set title(e){e instanceof Mi?(this._title=null,this._titleTpl=e,this._titleVal=""):(this._title=e,this._titleVal=this._title)}titleSub;loading=!1;wide=!1;home;homeLink;homeI18n;autoBreadcrumb;autoTitle;syncTitle;fixed;fixedOffsetTop;breadcrumb=null;recursiveBreadcrumb;logo=null;action=null;content=null;extra=null;tab=null;constructor(){this.isBrowser=this.platform.isBrowser,this.cogSrv.attach(this,"pageHeader",{home:"\u9996\u9875",homeLink:"/",autoBreadcrumb:!0,recursiveBreadcrumb:!1,autoTitle:!0,syncTitle:!0,fixed:!1,fixedOffsetTop:64}),this.settings.notify.pipe(ge(),Be(n=>this.affix&&n.type==="layout"&&n.name==="collapsed")).subscribe(()=>this.affix.updatePosition({}));let e=[this.router.events.pipe(Be(n=>n instanceof hn))];this.menuSrv!=null&&e.push(this.menuSrv.change),e.push(this.i18nSrv.change),ei(...e).pipe(ge(),Be(()=>this.inited)).subscribe(()=>this.refresh())}refresh(){this.setTitle().genBreadcrumb(),this.cdr.detectChanges()}genBreadcrumb(){if(this.breadcrumb||!this.autoBreadcrumb||this.menus.length<=0){this.paths=[];return}let e=[];this.menus.forEach(n=>{if(typeof n.hideInBreadcrumb<"u"&&n.hideInBreadcrumb)return;let r=n.text;n.i18n&&(r=this.i18nSrv.fanyi(n.i18n)),e.push({title:r,link:n.link&&[n.link]})}),this.home&&e.splice(0,0,{title:this.homeI18n&&this.i18nSrv.fanyi(this.homeI18n)||this.home,link:[this.homeLink]}),this.paths=e}setTitle(){if(this._title==null&&this._titleTpl==null&&this.autoTitle&&this.menus.length>0){let e=this.menus[this.menus.length-1],n=e.text;e.i18n&&(n=this.i18nSrv.fanyi(e.i18n)),this._titleVal=n}return this._titleVal&&this.syncTitle&&(this.titleSrv.setTitle(this._titleVal),!this.inited&&this.reuseSrv&&(this.reuseSrv.title=this._titleVal)),this}checkContent(){li(this.conTpl.nativeElement)?this.renderer.setAttribute(this.conTpl.nativeElement,"hidden",""):this.renderer.removeAttribute(this.conTpl.nativeElement,"hidden")}ngOnInit(){this.refresh(),this.inited=!0}ngAfterViewInit(){this.checkContent()}ngOnChanges(){this.inited&&this.refresh()}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=U({type:t,selectors:[["page-header"]],viewQuery:function(n,r){if(n&1&&(Ke(Wy,5),Ke(Hy,5)),n&2){let o;Oe(o=Me())&&(r.conTpl=o.first),Oe(o=Me())&&(r.affix=o.first)}},inputs:{title:"title",titleSub:"titleSub",loading:[2,"loading","loading",L],wide:[2,"wide","wide",L],home:"home",homeLink:"homeLink",homeI18n:"homeI18n",autoBreadcrumb:[2,"autoBreadcrumb","autoBreadcrumb",L],autoTitle:[2,"autoTitle","autoTitle",L],syncTitle:[2,"syncTitle","syncTitle",L],fixed:[2,"fixed","fixed",L],fixedOffsetTop:[2,"fixedOffsetTop","fixedOffsetTop",ue],breadcrumb:"breadcrumb",recursiveBreadcrumb:[2,"recursiveBreadcrumb","recursiveBreadcrumb",L],logo:"logo",action:"action",content:"content",extra:"extra",tab:"tab"},exportAs:["pageHeader"],features:[ke],ngContentSelectors:By,decls:4,vars:1,consts:[["phTpl",""],["affix",""],["conTpl",""],[3,"nzOffsetTop"],[3,"ngTemplateOutlet"],[1,"page-header"],[1,"d-block",3,"nzLoading","nzTitle","nzActive","nzParagraph","nzAvatar"],[1,"page-header__detail"],[1,"page-header__logo"],[1,"page-header__main"],[1,"page-header__row"],[1,"page-header__title"],[1,"page-header__action"],[1,"page-header__desc",3,"cdkObserveContent"],[1,"page-header__extra"],[3,"routerLink"],[4,"nzStringTemplateOutlet"]],template:function(n,r){n&1&&(oe(),$(0,Qy,3,2,"nz-affix",3)(1,Xy,1,1,null,4),O(2,CC,18,18,"ng-template",null,0,De)),n&2&&T(r.isBrowser&&r.fixed?0:1)},dependencies:[qa,Fe,yl,Aa,_r,Cs,rt,si],encapsulation:2,changeDetection:0})}return t})(),bC=[vC],Lz=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=Re({type:t});static \u0275inj=Ve({imports:[Tt,vs,_n,Ou,Cl,ku,Nt,bC]})}return t})();var Ha=["*"];function zC(t,i){if(t&1&&(we(0),F(1),Se()),t&2){let e=f(2);h(),re(e.title)}}function wC(t,i){if(t&1&&(z(0,"div",0),O(1,zC,2,1,"ng-container",1),v()),t&2){let e=f();h(),_("nzStringTemplateOutlet",e.title)}}var SC=["contentElement"];function xC(t,i){if(t&1&&(we(0),F(1),Se()),t&2){let e=f(2);h(),re(e.label)}}function $C(t,i){if(t&1&&(we(0),F(1),Se()),t&2){let e=f(3);h(),re(e.optional)}}function TC(t,i){if(t&1&&G(0,"nz-icon",12),t&2){let e=f(3);_("nzTooltipTitle",e.optionalHelp)("nzTooltipColor",e.optionalHelpColor)}}function EC(t,i){if(t&1&&(z(0,"span",11),O(1,$C,2,1,"ng-container",9),$(2,TC,1,2,"nz-icon",12),v()),t&2){let e=f(2);Q("se__label-optional-no-text",!e.optional),h(),_("nzStringTemplateOutlet",e.optional),h(),T(e.optionalHelp?2:-1)}}function NC(t,i){if(t&1&&(z(0,"label",7)(1,"span",8),O(2,xC,2,1,"ng-container",9),v(),$(3,EC,3,4,"span",10),v()),t&2){let e=f();Q("ant-form-item-required",e.required)("se__no-colon",e._noColon),je("for",e._id),h(2),_("nzStringTemplateOutlet",e.label),h(),T(e.optional||e.optionalHelp?3:-1)}}function kC(t,i){if(t&1&&(we(0),F(1),Se()),t&2){let e=f(2);h(),re(e._error)}}function PC(t,i){if(t&1&&(z(0,"div",5)(1,"div",13),O(2,kC,2,1,"ng-container",9),v()()),t&2){let e=f();_("@helpMotion",void 0),h(2),_("nzStringTemplateOutlet",e._error)}}function OC(t,i){if(t&1&&(we(0),F(1),Se()),t&2){let e=f(2);h(),re(e.extra)}}function MC(t,i){if(t&1&&(z(0,"div",6),O(1,OC,2,1,"ng-container",9),v()),t&2){let e=f();h(),_("nzStringTemplateOutlet",e.extra)}}var DC=(()=>{class t{parentComp=w(Mu,{host:!0,optional:!0});el=w(Pe).nativeElement;ren=w(ve);constructor(){if(this.parentComp==null)throw new Error("[se-title] must include 'se-container' component")}setClass(){let{el:e}=this,n=this.parentComp.gutter;this.ren.setStyle(e,"padding-left",`${n/2}px`),this.ren.setStyle(e,"padding-right",`${n/2}px`)}ngOnInit(){this.setClass()}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=U({type:t,selectors:[["se-title"],["","se-title",""]],hostVars:2,hostBindings:function(n,r){n&2&&Q("se__title",!0)},exportAs:["seTitle"],ngContentSelectors:Ha,decls:1,vars:0,template:function(n,r){n&1&&(oe(),ae(0))},encapsulation:2,changeDetection:0})}return t})(),Mu=(()=>{class t{cogSrv=w(xe);errorNotify$=new Ft(null);colInCon;col;labelWidth;noColon=!1;title;get gutter(){return this.nzLayout==="horizontal"?this._gutter:0}set gutter(e){this._gutter=e}_gutter;get nzLayout(){return this._nzLayout}set nzLayout(e){this._nzLayout=e,e==="inline"&&(this.size="compact")}_nzLayout;size;firstVisual;ingoreDirty;line=!1;set errors(e){this.setErrors(e)}get margin(){return-(this.gutter/2)}get errorNotify(){return this.errorNotify$.pipe(Be(e=>e!=null))}constructor(){this.cogSrv.attach(this,"se",{size:"default",nzLayout:"horizontal",gutter:32,col:2,labelWidth:150,firstVisual:!1,ingoreDirty:!1})}setErrors(e){for(let n of e)this.errorNotify$.next(n)}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=U({type:t,selectors:[["se-container"],["","se-container",""]],hostVars:16,hostBindings:function(n,r){n&2&&(it("margin-left",r.margin,"px")("margin-right",r.margin,"px"),Q("ant-row",!0)("se__container",!0)("se__horizontal",r.nzLayout==="horizontal")("se__vertical",r.nzLayout==="vertical")("se__inline",r.nzLayout==="inline")("se__compact",r.size==="compact"))},inputs:{colInCon:[2,"se-container","colInCon",e=>e==null?null:ue(e)],col:[2,"col","col",e=>e==null?null:ue(e)],labelWidth:[2,"labelWidth","labelWidth",e=>e==null?null:ue(e)],noColon:[2,"noColon","noColon",L],title:"title",gutter:[2,"gutter","gutter",ue],nzLayout:"nzLayout",size:"size",firstVisual:[2,"firstVisual","firstVisual",L],ingoreDirty:[2,"ingoreDirty","ingoreDirty",L],line:[2,"line","line",L],errors:"errors"},exportAs:["seContainer"],ngContentSelectors:Ha,decls:2,vars:1,consts:[["se-title",""],[4,"nzStringTemplateOutlet"]],template:function(n,r){n&1&&(oe(),$(0,wC,2,1,"div",0),ae(1)),n&2&&T(r.title?0:-1)},dependencies:[DC,rt],encapsulation:2,changeDetection:0})}return t})(),Wa="se",IC=0,dw=(()=>{class t{parentComp=w(Mu,{host:!0,optional:!0});el=w(Pe).nativeElement;rep=w(vn);ren=w(ve);cdr=w(Ge);statusSrv=w(Wt);destroy$=w(ni);ngModel;formControlName;contentElement;clsMap=[];inited=!1;onceFlag=!1;errorData={};isBindModel=!1;invalid=!1;_labelWidth=null;_noColon=null;_error;optional=null;optionalHelp=null;optionalHelpColor;set error(e){this.errorData=typeof e=="string"||e instanceof Mi?{"":e}:e}extra;label;col;required=!1;controlClass="";line;labelWidth;noColon;hideLabel=!1;set id(e){this._id=e,this._autoId=!1}_id=`_se-${++IC}`;_autoId=!0;get paddingValue(){return this.parentComp.gutter/2}get showErr(){return this.invalid&&!!this._error&&!this.compact}get compact(){return this.parentComp.size==="compact"}get ngControl(){return this.ngModel||this.formControlName}constructor(){if(this.parentComp==null)throw new Error("[se] must include 'se-container' component");this.parentComp.errorNotify.pipe(ge(),Be(e=>this.inited&&this.ngControl!=null&&this.ngControl.name===e.name)).subscribe(e=>{this.error=e.error,this.updateStatus(this.ngControl.invalid)})}setClass(){let{el:e,ren:n,clsMap:r,col:o,cdr:a,line:s,labelWidth:l,rep:c,noColon:d}=this,u=this.parentComp;this._noColon=d??u.noColon,this._labelWidth=u.nzLayout==="horizontal"?l??u.labelWidth:null,r.forEach(m=>n.removeClass(e,m)),r.length=0;let g=u.colInCon||u.col,y=u.nzLayout==="horizontal"?c.genCls(o??g,g):[];return r.push("ant-form-item",...y,`${Wa}__item`),(s||u.line)&&r.push(`${Wa}__line`),r.forEach(m=>n.addClass(e,m)),a.detectChanges(),this}bindModel(){if(!(!this.ngControl||this.isBindModel)){if(this.isBindModel=!0,this.ngControl.statusChanges.pipe(ge(this.destroy$)).subscribe(e=>this.updateStatus(e==="INVALID")),this._autoId){let e=this.ngControl.valueAccessor,n=(e?.elementRef||e?._elementRef)?.nativeElement;n&&(n.id?this._id=n.id:n.id=this._id)}if(this.required!==!0){let e=this.ngControl?.control?.hasValidator(Is.required);e!==!0&&(e=(this.ngControl?._rawValidators).find(r=>r instanceof As)!=null),this.required=e,this.cdr.detectChanges()}}}updateStatus(e){if(this.ngControl?.disabled||this.ngControl?.isDisabled)return;this.invalid=!this.onceFlag&&e&&this.parentComp.ingoreDirty===!1&&!this.ngControl?.dirty?!1:e;let n=this.ngControl?.errors;if(n!=null&&Object.keys(n).length>0){let r=Object.keys(n)[0]||"",o=this.errorData[r];this._error=o??(this.errorData[""]||"")}this.statusSrv.formStatusChanges.next({status:this.invalid?"error":"",hasFeedback:!1}),this.cdr.detectChanges()}checkContent(){let e=this.contentElement.nativeElement,n=`${Wa}__item-empty`;li(e)?this.ren.addClass(e,n):this.ren.removeClass(e,n)}ngAfterContentInit(){this.checkContent()}ngOnChanges(){this.onceFlag=this.parentComp.firstVisual,this.inited&&this.setClass().bindModel()}ngAfterViewInit(){this.setClass().bindModel(),this.inited=!0,this.onceFlag&&Promise.resolve().then(()=>{this.updateStatus(this.ngControl.invalid),this.onceFlag=!1})}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=U({type:t,selectors:[["se"]],contentQueries:function(n,r,o){if(n&1&&($r(o,Qe,7),$r(o,Fs,7)),n&2){let a;Oe(a=Me())&&(r.ngModel=a.first),Oe(a=Me())&&(r.formControlName=a.first)}},viewQuery:function(n,r){if(n&1&&Ke(SC,7),n&2){let o;Oe(o=Me())&&(r.contentElement=o.first)}},hostVars:10,hostBindings:function(n,r){n&2&&(it("padding-left",r.paddingValue,"px")("padding-right",r.paddingValue,"px"),Q("se__hide-label",r.hideLabel)("ant-form-item-has-error",r.invalid)("ant-form-item-with-help",r.showErr))},inputs:{optional:"optional",optionalHelp:"optionalHelp",optionalHelpColor:"optionalHelpColor",error:"error",extra:"extra",label:"label",col:[2,"col","col",e=>e==null?null:ue(e)],required:[2,"required","required",L],controlClass:"controlClass",line:[2,"line","line",e=>e==null?null:L(e)],labelWidth:[2,"labelWidth","labelWidth",e=>e==null?null:ue(e)],noColon:[2,"noColon","noColon",e=>e==null?null:L(e)],hideLabel:[2,"hideLabel","hideLabel",L],id:"id"},exportAs:["se"],features:[qt([Wt]),ke],ngContentSelectors:Ha,decls:9,vars:10,consts:[["contentElement",""],[1,"ant-form-item-label"],[1,"se__label",3,"ant-form-item-required","se__no-colon"],[1,"ant-form-item-control","se__control"],[1,"ant-form-item-control-input-content",3,"cdkObserveContent"],[1,"ant-form-item-explain","ant-form-item-explain-connected"],[1,"ant-form-item-extra"],[1,"se__label"],[1,"se__label-text"],[4,"nzStringTemplateOutlet"],[1,"se__label-optional",3,"se__label-optional-no-text"],[1,"se__label-optional"],["nz-tooltip","","nzType","question-circle",3,"nzTooltipTitle","nzTooltipColor"],["role","alert",1,"ant-form-item-explain-error"]],template:function(n,r){if(n&1){let o=ee();oe(),z(0,"div",1),$(1,NC,4,7,"label",2),v(),z(2,"div",3)(3,"div")(4,"div",4,0),K("cdkObserveContent",function(){return N(o),k(r.checkContent())}),ae(6),v()(),$(7,PC,3,2,"div",5),$(8,MC,2,1,"div",6),v()}n&2&&(it("width",r._labelWidth,"px"),Q("se__nolabel",r.hideLabel||!r.label),h(),T(r.label?1:-1),h(2),nt(ms("ant-form-item-control-input ",r.controlClass)),h(4),T(r.showErr?7:-1),h(),T(r.extra&&!r.compact?8:-1))},dependencies:[rt,_t,Ie,si],encapsulation:2,data:{animation:[gn]},changeDetection:0})}return t})();var uw=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=Re({type:t});static \u0275inj=Ve({imports:[Tt,ci,Et,Nt]})}return t})();var Ua=["*"];function VC(t,i){if(t&1&&(we(0),F(1),Se()),t&2){let e=f(2);h(),re(e.title)}}function RC(t,i){if(t&1&&(z(0,"sv-title"),O(1,VC,2,1,"ng-container",1),v()),t&2){let e=f();h(),_("nzStringTemplateOutlet",e.title)}}var jC=["conEl"];function FC(t,i){if(t&1&&(we(0),F(1),Se()),t&2){let e=f(2);h(),re(e.label)}}function AC(t,i){if(t&1&&(we(0),F(1),Se()),t&2){let e=f(3);h(),re(e.optional)}}function LC(t,i){if(t&1&&G(0,"nz-icon",10),t&2){let e=f(3);_("nzTooltipTitle",e.optionalHelp)("nzTooltipColor",e.optionalHelpColor)}}function qC(t,i){if(t&1&&(z(0,"span",9),O(1,AC,2,1,"ng-container",7),$(2,LC,1,2,"nz-icon",10),v()),t&2){let e=f(2);Q("sv__label-optional-no-text",!e.optional),h(),_("nzStringTemplateOutlet",e.optional),h(),T(e.optionalHelp?2:-1)}}function WC(t,i){if(t&1&&(z(0,"div",5)(1,"span",6),O(2,FC,2,1,"ng-container",7),v(),$(3,qC,3,4,"span",8),v()),t&2){let e=f();it("width",e.labelWidth,"px"),Q("sv__label-empty",!e.label)("sv__label-width",e.labelWidth!==null&&e.labelWidth!==void 0)("sv__no-colon",e._noColon),h(2),_("nzStringTemplateOutlet",e.label),h(),T(e.optional||e.optionalHelp?3:-1)}}function HC(t,i){if(t&1&&(z(0,"span",4),F(1),v()),t&2){let e=f(2);h(),re(e.unit)}}function BC(t,i){if(t&1&&O(0,HC,2,1,"span",11),t&2){let e=f();_("nzStringTemplateOutlet",e.unit)}}var UC=(()=>{class t{el=w(Pe).nativeElement;parentComp=w(Du,{host:!0,optional:!0});ren=w(ve);constructor(){if(this.parentComp==null)throw new Error("[sv-title] must include 'sv-container' component")}setClass(){let e=this.parentComp.gutter,n=this.el;this.ren.setStyle(n,"padding-left",`${e/2}px`),this.ren.setStyle(n,"padding-right",`${e/2}px`)}ngOnInit(){this.setClass()}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=U({type:t,selectors:[["sv-title"],["","sv-title",""]],hostVars:2,hostBindings:function(n,r){n&2&&Q("sv__title",!0)},exportAs:["svTitle"],ngContentSelectors:Ua,decls:1,vars:0,template:function(n,r){n&1&&(oe(),ae(0))},encapsulation:2,changeDetection:0})}return t})(),Du=(()=>{class t{cogSrv=w(xe);colInCon;title;size;gutter;layout;labelWidth;col;default;noColon=!1;bordered=!1;get margin(){return this.bordered?{}:{"margin-left":`${-(this.gutter/2)}px`,"margin-right":`${-(this.gutter/2)}px`}}constructor(){this.cogSrv.attach(this,"sv",{size:"large",gutter:32,layout:"horizontal",col:3,default:!0})}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=U({type:t,selectors:[["sv-container"],["","sv-container",""]],hostVars:14,hostBindings:function(n,r){n&2&&Q("sv__container",!0)("sv__horizontal",r.layout==="horizontal")("sv__vertical",r.layout==="vertical")("sv__small",r.size==="small")("sv__large",r.size==="large")("sv__bordered",r.bordered)("clearfix",!0)},inputs:{colInCon:[2,"sv-container","colInCon",e=>e==null?null:ue(e)],title:"title",size:"size",gutter:[2,"gutter","gutter",ue],layout:"layout",labelWidth:[2,"labelWidth","labelWidth",ue],col:[2,"col","col",ue],default:[2,"default","default",L],noColon:[2,"noColon","noColon",L],bordered:[2,"bordered","bordered",L]},exportAs:["svContainer"],ngContentSelectors:Ua,decls:3,vars:3,consts:[[1,"ant-row"],[4,"nzStringTemplateOutlet"]],template:function(n,r){n&1&&(oe(),z(0,"div",0),$(1,RC,2,1,"sv-title"),ae(2),v()),n&2&&(hs(r.margin),h(),T(r.title?1:-1))},dependencies:[UC,rt],encapsulation:2,changeDetection:0})}return t})();var Ba="sv",Ew=(()=>{class t{el=w(Pe).nativeElement;parentComp=w(Du,{host:!0,optional:!0});rep=w(vn);ren=w(ve);conEl;clsMap=[];_noColon=!1;optional;optionalHelp;optionalHelpColor;label;unit;col;default;type;noColon;hideLabel=!1;get paddingValue(){return this.parentComp.bordered?null:this.parentComp.gutter/2}get labelWidth(){let{labelWidth:e,layout:n}=this.parentComp;return n==="horizontal"?e:null}constructor(){if(this.parentComp==null)throw new Error("[sv] must include 'sv-container' component")}setClass(){let{ren:e,col:n,clsMap:r,type:o,rep:a,noColon:s}=this,l=this.parentComp,c=this.el;this._noColon=l.bordered?!0:s??l.noColon,r.forEach(u=>e.removeClass(c,u)),r.length=0;let d=l.colInCon||l.col;r.push(...a.genCls(n??d,d)),r.push(`${Ba}__item`),l.labelWidth&&r.push(`${Ba}__item-fixed`),o&&r.push(`${Ba}__type-${o}`),r.forEach(u=>e.addClass(c,u))}ngAfterViewInit(){this.setClass(),this.checkContent()}ngOnChanges(){this.setClass()}checkContent(){let{conEl:e}=this,n=this.default;if(!(n??this.parentComp?.default))return;let r=e.nativeElement,o="sv__default";r.classList.contains(o)&&r.classList.remove(o),li(r)&&r.classList.add(o)}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=U({type:t,selectors:[["sv"],["","sv",""]],viewQuery:function(n,r){if(n&1&&Ke(jC,5),n&2){let o;Oe(o=Me())&&(r.conEl=o.first)}},hostVars:4,hostBindings:function(n,r){n&2&&it("padding-left",r.paddingValue,"px")("padding-right",r.paddingValue,"px")},inputs:{optional:"optional",optionalHelp:"optionalHelp",optionalHelpColor:"optionalHelpColor",label:"label",unit:"unit",col:[2,"col","col",e=>e==null?null:ue(e)],default:[2,"default","default",e=>e==null?null:L(e)],type:"type",noColon:[2,"noColon","noColon",e=>e==null?null:L(e)],hideLabel:[2,"hideLabel","hideLabel",L]},exportAs:["sv"],features:[ke],ngContentSelectors:Ua,decls:6,vars:2,consts:[["conEl",""],[1,"sv__label",3,"sv__label-empty","sv__label-width","sv__no-colon","width"],[1,"sv__detail"],[3,"cdkObserveContent"],[1,"sv__unit"],[1,"sv__label"],[1,"sv__label-text"],[4,"nzStringTemplateOutlet"],[1,"sv__label-optional",3,"sv__label-optional-no-text"],[1,"sv__label-optional"],["nz-tooltip","","nzType","question-circle",3,"nzTooltipTitle","nzTooltipColor"],["class","sv__unit",4,"nzStringTemplateOutlet"]],template:function(n,r){if(n&1){let o=ee();oe(),$(0,WC,4,10,"div",1),z(1,"div",2)(2,"span",3,0),K("cdkObserveContent",function(){return N(o),k(r.checkContent())}),ae(4),v(),$(5,BC,1,1,"span",4),v()}n&2&&(T(r.hideLabel?-1:0),h(5),T(r.unit?5:-1))},dependencies:[rt,_t,Ie,si],encapsulation:2,changeDetection:0})}return t})();var Nw=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=Re({type:t});static \u0275inj=Ve({imports:[Tt,_n,ci,Et,Nt]})}return t})();export{py as a,ft as b,k1 as c,P1 as d,O1 as e,_r as f,Aa as g,ku as h,vC as i,Lz as j,Mu as k,dw as l,uw as m,Du as n,Ew as o,Nw as p};
