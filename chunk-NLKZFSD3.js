import{B as be,G as dt,a as je,h as G}from"./chunk-4S6VWUC4.js";import{a as _e,b as F,c as ye}from"./chunk-I37CWRWG.js";import"./chunk-VAGS5EVQ.js";import{a as ut,b as ft,c as gt}from"./chunk-Y7P3YCRI.js";import{d as q}from"./chunk-HGFRKFU7.js";import{Aa as ee,B as X,Ba as te,Ca as Ne,Da as ie,Ea as ne,Fa as re,Ha as oe,J as Ke,L as Xe,La as it,Ma as nt,Na as rt,Oa as ot,P as Je,Pa as we,Qa as xe,R as Qe,Ra as at,Ta as pt,bb as lt,cb as st,db as mt,eb as ct,i as $,j as u,k as W,l as j,m as He,ma as Ze,na as et,o as Ye,oa as tt,q as H,s as Y,sa as J,ua as Q,v as K,xa as Z,z as Se}from"./chunk-RIIMSFG6.js";import{$b as Ge,Ea as i,Eh as k,Hb as w,Kh as I,La as h,Lb as Ue,Mb as d,Mh as E,N as ge,Nb as S,Nh as D,Ob as g,Qb as Le,Ra as N,Rb as Oe,Sb as Fe,Tc as he,Vi as O,Xb as qe,Zi as M,_b as ze,ab as y,ac as $e,aj as Ce,cb as b,da as m,ec as l,fc as s,gc as We,hb as p,hc as x,ia as C,ib as o,ja as _,jb as a,kb as f,od as T,pd as B,rb as A,ub as z,vh as U,wh as L,xb as R,yc as ve}from"./chunk-GSKYGLQZ.js";import{a as Re,i as fe}from"./chunk-57BLH6QZ.js";var ae=class ae{constructor(){this.socialService=m(F);this.settingsSrv=m(O);this.type=""}ngOnInit(){this.mockModel()}mockModel(){let e={token:"123456789",name:"cipchk",email:`${this.type}@${this.type}.com`,id:1e4,time:+new Date};this.settingsSrv.setUser(Re(Re({},this.settingsSrv.user),e)),this.socialService.callback(e)}};ae.\u0275fac=function(t){return new(t||ae)},ae.\u0275cmp=h({type:ae,selectors:[["app-callback"]],inputs:{type:"type"},features:[ze([F])],decls:0,vars:0,template:function(t,r){},encapsulation:2});var Te=ae;var se=class se{constructor(){this.tokenService=m(_e);this.settings=m(O);this.router=m(T);this.f=new He({password:new Ye("",{nonNullable:!0,validators:[u.required]})})}get user(){return this.settings.user}submit(){this.f.controls.password.markAsDirty(),this.f.controls.password.updateValueAndValidity(),this.f.valid&&(console.log("Valid!"),console.log(this.f.value),this.tokenService.set({token:"123"}),this.router.navigate(["dashboard"]))}};se.\u0275fac=function(t){return new(t||se)},se.\u0275cmp=h({type:se,selectors:[["passport-lock"]],decls:15,vars:11,consts:[[1,"ant-card","width-lg",2,"margin","0 auto"],[1,"ant-card-body"],[1,"avatar"],["nzIcon","user","nzSize","large",3,"nzSrc"],["nz-form","","role","form",1,"mt-md",3,"ngSubmit","formGroup"],[3,"nzErrorTip"],["nzSuffixIcon","lock"],["type","password","nz-input","","formControlName","password"],["nz-row","","nzType","flex","nzAlign","middle"],["nz-col","",2,"text-align","right",3,"nzOffset","nzSpan"],["nz-button","","nzType","primary",3,"disabled"]],template:function(t,r){t&1&&(o(0,"div",0)(1,"div",1)(2,"div",2),f(3,"nz-avatar",3),a(),o(4,"form",4),z("ngSubmit",function(){return r.submit()}),o(5,"nz-form-item")(6,"nz-form-control",5),l(7,"i18n"),o(8,"nz-input-group",6),f(9,"input",7),a()()(),o(10,"div",8)(11,"div",9)(12,"button",10),d(13),l(14,"i18n"),a()()()()()()),t&2&&(i(3),p("nzSrc",r.user.avatar),i(),p("formGroup",r.f),i(2),p("nzErrorTip",s(7,7,"validation.password.required")),i(5),p("nzOffset",12)("nzSpan",12),i(),p("disabled",!r.f.valid),i(),S(s(14,9,"app.lock")))},dependencies:[X,H,$,W,j,Y,K,pt,at,oe,te,ee,ne,ie,re,Ne,D,E,k,I,Z,J,Q,M],styles:["[_nghost-%COMP%]     .ant-card-body{position:relative;margin-top:80px}[_nghost-%COMP%]     .avatar{position:absolute;top:-20px;left:50%;margin-left:-20px}"]});var ke=se;var me=class me{constructor(){this.router=m(T);this.message=m(q);this.firebaseAuth=m(be);this.startupService=m(G);this.loading=!1}loginAnonymously(){return fe(this,null,function*(){this.loading=!0;try{(yield this.firebaseAuth.loginAnonymously().toPromise())&&(this.message.success("\u533F\u540D\u767B\u5165\u6210\u529F\uFF01"),this.startupService.load().subscribe(()=>{this.router.navigateByUrl("/")}))}catch(e){console.error("\u533F\u540D\u767B\u5165\u5931\u6557:",e),this.message.error("\u767B\u5165\u5931\u6557\uFF0C\u8ACB\u7A0D\u5F8C\u518D\u8A66")}finally{this.loading=!1}})}};me.\u0275fac=function(t){return new(t||me)},me.\u0275cmp=h({type:me,selectors:[["app-anonymous-login"]],decls:1,vars:0,consts:[["nzType","user","nzTheme","outline",1,"icon",3,"click"]],template:function(t,r){t&1&&(o(0,"nz-icon",0),z("click",function(){return r.loginAnonymously()}),a())},dependencies:[L,U],encapsulation:2});var Ie=me;var ce=class ce{constructor(){this.router=m(T);this.message=m(q);this.firebaseAuth=m(be);this.startupService=m(G);this.loading=!1}loginWithEmail(){return fe(this,null,function*(){this.loading=!0;try{this.message.info("\u90F5\u7BB1\u767B\u5165\u529F\u80FD\u958B\u767C\u4E2D...")}catch(e){console.error("\u90F5\u7BB1\u767B\u5165\u5931\u6557:",e),this.message.error("\u767B\u5165\u5931\u6557\uFF0C\u8ACB\u7A0D\u5F8C\u518D\u8A66")}finally{this.loading=!1}})}};ce.\u0275fac=function(t){return new(t||ce)},ce.\u0275cmp=h({type:ce,selectors:[["app-email-login"]],decls:1,vars:0,consts:[["nzType","mail","nzTheme","outline",1,"icon",3,"click"]],template:function(t,r){t&1&&(o(0,"nz-icon",0),z("click",function(){return r.loginWithEmail()}),a())},dependencies:[L,U],encapsulation:2});var Ee=ce;function wt(n,e){if(n&1&&f(0,"nz-alert",4),n&2){let t=R();p("nzType","error")("nzMessage",t.error)("nzShowIcon",!0)}}function xt(n,e){n&1&&(d(0),l(1,"i18n")),n&2&&g(" ",s(1,1,"validation.phone-number.required")," ")}function Tt(n,e){n&1&&(d(0),l(1,"i18n")),n&2&&g(" ",s(1,1,"validation.phone-number.wrong-format")," ")}function kt(n,e){if(n&1&&(y(0,xt,2,3),y(1,Tt,2,3)),n&2){let t=e.$implicit;b(t.errors.required?0:-1),i(),b(t.errors.pattern?1:-1)}}var de=class de{constructor(){this.router=m(T);this.settingsService=m(O);this.socialService=m(F);this.reuseTabService=m(ot,{optional:!0});this.tokenService=m(_e);this.startupSrv=m(G);this.http=m(Ce);this.cdr=m(ve);this.form=m(Se).nonNullable.group({userName:["",[u.required,u.pattern(/^(admin|user)$/)]],password:["",[u.required,u.pattern(/^(ng-alain\.com)$/)]],mobile:["",[u.required,u.pattern(/^1\d{10}$/)]],captcha:["",[u.required]],remember:[!0]});this.error="";this.type=0;this.loading=!1;this.count=0}switch({index:e}){this.type=e}getCaptcha(){let e=this.form.controls.mobile;if(e.invalid){e.markAsDirty({onlySelf:!0}),e.updateValueAndValidity({onlySelf:!0});return}this.count=59,this.interval$=setInterval(()=>{this.count-=1,this.count<=0&&clearInterval(this.interval$)},1e3)}submit(){if(this.error="",this.type===0){let{userName:e,password:t}=this.form.controls;if(e.markAsDirty(),e.updateValueAndValidity(),t.markAsDirty(),t.updateValueAndValidity(),e.invalid||t.invalid)return}else{let{mobile:e,captcha:t}=this.form.controls;if(e.markAsDirty(),e.updateValueAndValidity(),t.markAsDirty(),t.updateValueAndValidity(),e.invalid||t.invalid)return}this.loading=!0,this.cdr.detectChanges(),this.http.post("/login/account",{type:this.type,userName:this.form.value.userName,password:this.form.value.password},null,{context:new he().set(ye,!0)}).pipe(ge(()=>{this.loading=!1,this.cdr.detectChanges()})).subscribe(e=>{if(e.msg!=="ok"){this.error=e.msg,this.cdr.detectChanges();return}this.reuseTabService?.clear(),e.user.expired=+new Date+1e3*60*5,this.tokenService.set(e.user),this.startupSrv.load().subscribe(()=>{let t=this.tokenService.referrer.url||"/";t.includes("/passport")&&(t="/"),this.router.navigateByUrl(t)})})}open(e,t="href"){let r="",c="";switch(je.production?c=`https://ng-alain.github.io/ng-alain/#/passport/callback/${e}`:c=`http://localhost:4200/#/passport/callback/${e}`,e){case"auth0":r=`//cipchk.auth0.com/login?client=8gcNydIDzGBYxzqV0Vm1CX_RXH-wsWo5&redirect_uri=${decodeURIComponent(c)}`;break;case"github":r=`//github.com/login/oauth/authorize?client_id=9d6baae4b04a23fcafa2&response_type=code&redirect_uri=${decodeURIComponent(c)}`;break;case"weibo":r=`https://api.weibo.com/oauth2/authorize?client_id=1239507802&response_type=code&redirect_uri=${decodeURIComponent(c)}`;break}t==="window"?this.socialService.login(r,"/",{type:"window"}).subscribe(v=>{v&&(this.settingsService.setUser(v),this.router.navigateByUrl("/"))}):this.socialService.login(r,"/",{type:"href"})}ngOnDestroy(){this.interval$&&clearInterval(this.interval$)}};de.\u0275fac=function(t){return new(t||de)},de.\u0275cmp=h({type:de,selectors:[["passport-login"]],features:[ze([F])],decls:57,vars:39,consts:[["mobileErrorTip",""],["nz-form","","role","form",3,"ngSubmit","formGroup"],[1,"tabs",3,"nzSelectChange","nzAnimated"],[3,"nzTitle"],[1,"mb-lg",3,"nzType","nzMessage","nzShowIcon"],["nzErrorTip","Please enter mobile number, muse be: admin or user"],["nzSize","large","nzPrefixIcon","user"],["nz-input","","formControlName","userName","placeholder","username: admin or user"],["nzErrorTip","Please enter password, muse be: ng-alain.com"],["nzSize","large","nzPrefixIcon","lock"],["nz-input","","type","password","formControlName","password","placeholder","password: ng-alain.com"],[3,"nzErrorTip"],["nz-input","","formControlName","mobile","placeholder","mobile number"],[3,"nzGutter"],[3,"nzSpan"],["nzSize","large","nzPrefixIcon","mail"],["nz-input","","formControlName","captcha","placeholder","captcha"],["type","button","nz-button","","nzSize","large","nzBlock","",3,"click","disabled","nzLoading"],["nz-checkbox","","formControlName","remember"],[1,"text-right",3,"nzSpan"],["routerLink","/passport/register",1,"forgot"],["nz-button","","type","submit","nzType","primary","nzSize","large","nzBlock","",3,"nzLoading"],[1,"other"],["nz-tooltip","","nzTooltipTitle","in fact Auth0 via window","nz-icon","","nzType","alipay-circle",1,"icon",3,"click"],["nz-tooltip","","nzTooltipTitle","in fact Github via redirect","nz-icon","","nzType","taobao-circle",1,"icon",3,"click"],["nz-icon","","nzType","weibo-circle",1,"icon",3,"click"],["nzType","google","nzTheme","outline",1,"icon"],["routerLink","/passport/register",1,"register"]],template:function(t,r){if(t&1){let c=A();o(0,"form",1),z("ngSubmit",function(){return C(c),_(r.submit())}),o(1,"nz-tabs",2),z("nzSelectChange",function(P){return C(c),_(r.switch(P))}),o(2,"nz-tab",3),l(3,"i18n"),y(4,wt,1,3,"nz-alert",4),o(5,"nz-form-item")(6,"nz-form-control",5)(7,"nz-input-group",6),f(8,"input",7),a()()(),o(9,"nz-form-item")(10,"nz-form-control",8)(11,"nz-input-group",9),f(12,"input",10),a()()()(),o(13,"nz-tab",3),l(14,"i18n"),o(15,"nz-form-item")(16,"nz-form-control",11)(17,"nz-input-group",6),f(18,"input",12),a(),N(19,kt,2,2,"ng-template",null,0,x),a()(),o(21,"nz-form-item")(22,"nz-form-control",11),l(23,"i18n"),o(24,"nz-row",13)(25,"nz-col",14)(26,"nz-input-group",15),f(27,"input",16),a()(),o(28,"nz-col",14)(29,"button",17),z("click",function(){return C(c),_(r.getCaptcha())}),d(30),l(31,"i18n"),a()()()()()()(),o(32,"nz-form-item")(33,"nz-col",14)(34,"label",18),d(35),l(36,"i18n"),a()(),o(37,"nz-col",19)(38,"a",20),d(39),l(40,"i18n"),a()()(),o(41,"nz-form-item")(42,"button",21),d(43),l(44,"i18n"),a()()(),o(45,"div",22),d(46),l(47,"i18n"),o(48,"i",23),z("click",function(){return C(c),_(r.open("auth0","window"))}),a(),o(49,"i",24),z("click",function(){return C(c),_(r.open("github"))}),a(),o(50,"i",25),z("click",function(){return C(c),_(r.open("weibo","window"))}),a(),f(51,"nz-icon",26)(52,"app-anonymous-login")(53,"app-email-login"),o(54,"a",27),d(55),l(56,"i18n"),a()()}if(t&2){let c=w(20);p("formGroup",r.form),i(),p("nzAnimated",!1),i(),p("nzTitle",s(3,21,"app.login.tab-login-credentials")),i(2),b(r.error?4:-1),i(9),p("nzTitle",s(14,23,"app.login.tab-login-mobile")),i(3),p("nzErrorTip",c),i(6),p("nzErrorTip",s(23,25,"validation.verification-code.required")),i(2),p("nzGutter",8),i(),p("nzSpan",16),i(3),p("nzSpan",8),i(),p("disabled",r.count>=0)("nzLoading",r.loading),i(),g(" ",r.count?r.count+"s":s(31,27,"app.register.get-verification-code")," "),i(3),p("nzSpan",12),i(2),S(s(36,29,"app.login.remember-me")),i(2),p("nzSpan",12),i(2),S(s(40,31,"app.login.forgot-password")),i(3),p("nzLoading",r.loading),i(),g(" ",s(44,33,"app.login.login")," "),i(3),g(" ",s(47,35,"app.login.sign-in-with")," "),i(9),S(s(56,37,"app.login.signup"))}},dependencies:[B,X,H,$,W,j,Y,K,Xe,Ke,rt,nt,it,xe,we,oe,te,ee,ne,ie,re,Z,J,Q,D,E,k,I,Qe,Je,L,U,Ie,Ee,M],styles:["[_nghost-%COMP%]{display:block;width:368px;margin:0 auto}[_nghost-%COMP%]     .ant-tabs .ant-tabs-bar{margin-bottom:24px;text-align:center;border-bottom:0}[_nghost-%COMP%]     .ant-tabs-tab{font-size:16px;line-height:24px}[_nghost-%COMP%]     .ant-input-affix-wrapper .ant-input:not(:first-child){padding-left:4px}[_nghost-%COMP%]     .icon{cursor:pointer;margin-left:16px;font-size:24px;color:#0003;vertical-align:middle;transition:color .3s}[_nghost-%COMP%]     .icon:hover{color:#1890ff}[_nghost-%COMP%]     .other{margin-top:24px;line-height:22px;text-align:left}[_nghost-%COMP%]     .other nz-tooltip{vertical-align:middle}[_nghost-%COMP%]     .other .register{float:right}[data-theme=dark]   [_nghost-%COMP%]     .icon{color:#fff3}[data-theme=dark]   [_nghost-%COMP%]     .icon:hover{color:#fff}"],changeDetection:0});var De=de;function yt(n,e){return t=>{let r=t.get(n),c=t.get(e);return c.errors&&!c.errors.matchControl||(r.value!==c.value?c.setErrors({matchControl:!0}):c.setErrors(null)),null}}var It=()=>({"width.px":240});function Et(n,e){if(n&1&&f(0,"nz-alert",6),n&2){let t=R();p("nzType","error")("nzMessage",t.error)("nzShowIcon",!0)}}function Dt(n,e){n&1&&(d(0),l(1,"i18n")),n&2&&g(" ",s(1,1,"validation.email.required")," ")}function Mt(n,e){n&1&&(d(0),l(1,"i18n")),n&2&&g(" ",s(1,1,"validation.email.wrong-format")," ")}function Pt(n,e){if(n&1&&(y(0,Dt,2,3),y(1,Mt,2,3)),n&2){let t=e.$implicit;b(t.errors!=null&&t.errors.required?0:-1),i(),b(t.errors!=null&&t.errors.email?1:-1)}}function Rt(n,e){n&1&&(o(0,"div",24),d(1),l(2,"i18n"),a()),n&2&&(i(),S(s(2,1,"validation.password.strength.strong")))}function Vt(n,e){n&1&&(o(0,"div",25),d(1),l(2,"i18n"),a()),n&2&&(i(),S(s(2,1,"validation.password.strength.medium")))}function At(n,e){n&1&&(o(0,"div",26),d(1),l(2,"i18n"),a()),n&2&&(i(),S(s(2,1,"validation.password.strength.short")))}function Bt(n,e){if(n&1&&(o(0,"div",23),y(1,Rt,3,3,"div",24)(2,Vt,3,3,"div",25)(3,At,3,3,"div",26),o(4,"div"),f(5,"nz-progress",27),a(),o(6,"p",28),d(7),l(8,"i18n"),a()()),n&2){let t,r=R();i(),b((t=r.status)==="ok"?1:t==="pass"?2:3),i(3),Ue(qe("progress-",r.status)),i(),p("nzPercent",r.progress)("nzStatus",r.passwordProgressMap[r.status])("nzStrokeWidth",6)("nzShowInfo",!1),i(2),S(s(8,9,"validation.password.strength.msg"))}}function Ut(n,e){n&1&&(d(0),l(1,"i18n")),n&2&&g(" ",s(1,1,"validation.confirm-password.required")," ")}function Lt(n,e){n&1&&(d(0),l(1,"i18n")),n&2&&g(" ",s(1,1,"validation.password.twice")," ")}function Ot(n,e){if(n&1&&(y(0,Ut,2,3),y(1,Lt,2,3)),n&2){let t=e.$implicit;b(t.errors!=null&&t.errors.required?0:-1),i(),b(t.errors!=null&&t.errors.matchControl?1:-1)}}function Ft(n,e){n&1&&(o(0,"nz-select",29),f(1,"nz-option",30)(2,"nz-option",30),a()),n&2&&(i(),p("nzLabel","+86")("nzValue","+86"),i(),p("nzLabel","+87")("nzValue","+87"))}function qt(n,e){n&1&&(d(0),l(1,"i18n")),n&2&&g(" ",s(1,1,"validation.phone-number.required")," ")}function Gt(n,e){n&1&&(d(0),l(1,"i18n")),n&2&&g(" ",s(1,1,"validation.phone-number.wrong-format")," ")}function $t(n,e){if(n&1&&(y(0,qt,2,3),y(1,Gt,2,3)),n&2){let t=e.$implicit;b(t.errors!=null&&t.errors.required?0:-1),i(),b(t.errors!=null&&t.errors.pattern?1:-1)}}var V=class V{constructor(){this.router=m(T);this.http=m(Ce);this.cdr=m(ve);this.form=m(Se).nonNullable.group({mail:["",[u.required,u.email]],password:["",[u.required,u.minLength(6),V.checkPassword.bind(this)]],confirm:["",[u.required,u.minLength(6)]],mobilePrefix:["+86"],mobile:["",[u.required,u.pattern(/^1\d{10}$/)]],captcha:["",[u.required]]},{validators:yt("password","confirm")});this.error="";this.type=0;this.loading=!1;this.visible=!1;this.status="pool";this.progress=0;this.passwordProgressMap={ok:"success",pass:"normal",pool:"exception"};this.count=0}static checkPassword(e){if(!e)return null;let t=this;t.visible=!!e.value,e.value&&e.value.length>9?t.status="ok":e.value&&e.value.length>5?t.status="pass":t.status="pool",t.visible&&(t.progress=e.value.length*10>100?100:e.value.length*10)}getCaptcha(){let{mobile:e}=this.form.controls;if(e.invalid){e.markAsDirty({onlySelf:!0}),e.updateValueAndValidity({onlySelf:!0});return}this.count=59,this.cdr.detectChanges(),this.interval$=setInterval(()=>{this.count-=1,this.cdr.detectChanges(),this.count<=0&&clearInterval(this.interval$)},1e3)}submit(){if(this.error="",Object.keys(this.form.controls).forEach(t=>{let r=this.form.controls[t];r.markAsDirty(),r.updateValueAndValidity()}),this.form.invalid)return;let e=this.form.value;this.loading=!0,this.cdr.detectChanges(),this.http.post("/register",e,null,{context:new he().set(ye,!0)}).pipe(ge(()=>{this.loading=!1,this.cdr.detectChanges()})).subscribe(()=>{this.router.navigate(["passport","register-result"],{queryParams:{email:e.mail}})})}ngOnDestroy(){this.interval$&&clearInterval(this.interval$)}};V.\u0275fac=function(t){return new(t||V)},V.\u0275cmp=h({type:V,selectors:[["passport-register"]],decls:50,vars:34,consts:[["mailErrorTip",""],["pwdCdkTpl",""],["confirmErrorTip",""],["addOnBeforeTemplate",""],["mobileErrorTip",""],["nz-form","","role","form",3,"ngSubmit","formGroup"],[1,"mb-lg",3,"nzType","nzMessage","nzShowIcon"],[3,"nzErrorTip"],["nzSize","large","nzAddonBeforeIcon","user"],["nz-input","","formControlName","mail","placeholder","Email"],["nzSize","large","nzAddonBeforeIcon","lock","nz-popover","","nzPopoverPlacement","right","nzPopoverTrigger","focus","nzPopoverOverlayClassName","register-password-cdk",3,"nzPopoverVisibleChange","nzPopoverVisible","nzPopoverOverlayStyle","nzPopoverContent"],["nz-input","","type","password","formControlName","password","placeholder","Password"],["nzSize","large","nzAddonBeforeIcon","lock"],["nz-input","","type","password","formControlName","confirm","placeholder","Confirm Password"],["nzSize","large",3,"nzAddOnBefore"],["formControlName","mobile","nz-input","","placeholder","Phone number"],["nz-row","",3,"nzGutter"],["nz-col","",3,"nzSpan"],["nzSize","large","nzAddonBeforeIcon","mail"],["nz-input","","formControlName","captcha","placeholder","Captcha"],["type","button","nz-button","","nzSize","large","nzBlock","",3,"click","disabled","nzLoading"],["nz-button","","nzType","primary","nzSize","large","type","submit",1,"submit",3,"nzLoading"],["routerLink","/passport/login",1,"login"],[2,"padding","4px 0"],[1,"success"],[1,"warning"],[1,"error"],[3,"nzPercent","nzStatus","nzStrokeWidth","nzShowInfo"],[1,"mt-sm"],["formControlName","mobilePrefix",2,"width","100px"],[3,"nzLabel","nzValue"]],template:function(t,r){if(t&1){let c=A();o(0,"h3"),d(1),l(2,"i18n"),a(),o(3,"form",5),z("ngSubmit",function(){return C(c),_(r.submit())}),y(4,Et,1,3,"nz-alert",6),o(5,"nz-form-item")(6,"nz-form-control",7)(7,"nz-input-group",8),f(8,"input",9),a(),N(9,Pt,2,2,"ng-template",null,0,x),a()(),o(11,"nz-form-item")(12,"nz-form-control",7),l(13,"i18n"),o(14,"nz-input-group",10),Fe("nzPopoverVisibleChange",function(P){return C(c),Oe(r.visible,P)||(r.visible=P),_(P)}),f(15,"input",11),a(),N(16,Bt,9,11,"ng-template",null,1,x),a()(),o(18,"nz-form-item")(19,"nz-form-control",7)(20,"nz-input-group",12),f(21,"input",13),a(),N(22,Ot,2,2,"ng-template",null,2,x),a()(),o(24,"nz-form-item")(25,"nz-form-control",7)(26,"nz-input-group",14),N(27,Ft,3,4,"ng-template",null,3,x),f(29,"input",15),a(),N(30,$t,2,2,"ng-template",null,4,x),a()(),o(32,"nz-form-item")(33,"nz-form-control",7),l(34,"i18n"),o(35,"div",16)(36,"div",17)(37,"nz-input-group",18),f(38,"input",19),a()(),o(39,"div",17)(40,"button",20),z("click",function(){return C(c),_(r.getCaptcha())}),d(41),l(42,"i18n"),a()()()()(),o(43,"nz-form-item")(44,"button",21),d(45),l(46,"i18n"),a(),o(47,"a",22),d(48),l(49,"i18n"),a()()()}if(t&2){let c=w(10),v=w(17),P=w(23),bt=w(28),St=w(31);i(),S(s(2,21,"app.register.register")),i(2),p("formGroup",r.form),i(),b(r.error?4:-1),i(2),p("nzErrorTip",c),i(6),p("nzErrorTip",s(13,23,"validation.password.required")),i(2),Le("nzPopoverVisible",r.visible),p("nzPopoverOverlayStyle",Ge(33,It))("nzPopoverContent",v),i(5),p("nzErrorTip",P),i(6),p("nzErrorTip",St),i(),p("nzAddOnBefore",bt),i(7),p("nzErrorTip",s(34,25,"validation.verification-code.required")),i(2),p("nzGutter",8),i(),p("nzSpan",16),i(3),p("nzSpan",8),i(),p("disabled",r.count>0)("nzLoading",r.loading),i(),g(" ",r.count?r.count+"s":s(42,27,"app.register.get-verification-code")," "),i(3),p("nzLoading",r.loading),i(),g(" ",s(46,29,"app.register.register")," "),i(3),S(s(49,31,"app.register.sign-in"))}},dependencies:[X,H,$,W,j,Y,K,B,xe,we,oe,te,ee,ne,ie,re,Z,J,Q,st,lt,ct,mt,tt,Ze,et,Ne,D,E,k,I,M],styles:["[_nghost-%COMP%]{display:block;width:368px;margin:0 auto}[_nghost-%COMP%]     h3{margin-bottom:20px;font-size:16px}[_nghost-%COMP%]     .submit{width:50%}[_nghost-%COMP%]     .login{float:right;line-height:40px}  .register-password-cdk .success,   .register-password-cdk .warning,   .register-password-cdk .error{transition:color .3s}  .register-password-cdk .success{color:#52c41a}  .register-password-cdk .warning{color:#faad14}  .register-password-cdk .error{color:#ff4d4f}  .register-password-cdk .progress-pass>.progress .ant-progress-bg{background-color:#faad14}"],changeDetection:0});var Me=V;var Wt=n=>({email:n});function jt(n,e){if(n&1&&(o(0,"div",5),d(1),l(2,"i18n"),a()),n&2){let t=R();i(),g(" ",We(2,1,"app.register-result.msg",$e(4,Wt,t.email))," ")}}var ue=class ue{constructor(){this.msg=m(q);this.email=""}};ue.\u0275fac=function(t){return new(t||ue)},ue.\u0275cmp=h({type:ue,selectors:[["passport-register-result"]],inputs:{email:"email"},decls:11,vars:11,consts:[["title",""],["nzStatus","success",3,"nzTitle","nzSubTitle"],["nz-result-extra",""],["nz-button","","nzSize","large",3,"click","nzType"],["routerLink","/","nz-button","","nzSize","large"],[1,"title",2,"font-size","20px"]],template:function(t,r){if(t&1){let c=A();o(0,"nz-result",1),l(1,"i18n"),N(2,jt,3,6,"ng-template",null,0,x),o(4,"div",2)(5,"button",3),z("click",function(){return C(c),_(r.msg.success("email"))}),d(6),l(7,"i18n"),a(),o(8,"button",4),d(9),l(10,"i18n"),a()()()}if(t&2){let c=w(3);p("nzTitle",c)("nzSubTitle",s(1,5,"app.register-result.activation-email")),i(5),p("nzType","primary"),i(),g(" ",s(7,7,"app.register-result.view-mailbox")," "),i(3),g(" ",s(10,9,"app.register-result.back-home")," ")}},dependencies:[B,D,E,k,I,gt,ft,ut,M],encapsulation:2});var Pe=ue;var Jn=[{path:"passport",component:dt,children:[{path:"login",component:De,data:{title:"\u767B\u5F55",titleI18n:"app.login.login"}},{path:"register",component:Me,data:{title:"\u6CE8\u518C",titleI18n:"app.register.register"}},{path:"register-result",component:Pe,data:{title:"\u6CE8\u518C\u7ED3\u679C",titleI18n:"app.register.register"}},{path:"lock",component:ke,data:{title:"\u9501\u5C4F",titleI18n:"app.lock"}}]},{path:"passport/callback/:type",component:Te}];export{Jn as routes};
