import{B as $e,G as mt,a as qe,h as Ce}from"./chunk-XXGNOUYV.js";import{a as ze,b as O,c as ve}from"./chunk-I37CWRWG.js";import"./chunk-VAGS5EVQ.js";import{a as ct,b as dt,c as ut}from"./chunk-Y7P3YCRI.js";import{d as he}from"./chunk-HGFRKFU7.js";import{Aa as X,B as j,Ba as J,Ca as be,Da as Q,Ea as Z,Fa as ee,Ha as te,J as He,L as Ye,La as et,Ma as tt,Na as it,Oa as nt,P as Ke,Pa as ye,Qa as Se,R as Xe,Ra as rt,Ta as ot,bb as at,cb as pt,db as lt,eb as st,i as L,j as f,k as F,l as G,m as We,ma as Je,na as Qe,o as je,oa as Ze,q,s as $,sa as H,ua as Y,v as W,xa as K,z as _e}from"./chunk-RIIMSFG6.js";import{$b as Le,Ea as i,Eh as T,Hb as w,Kh as k,La as S,Lb as Be,Mb as c,Mh as I,N as se,Nb as y,Nh as E,Ob as g,Qb as Ve,Ra as N,Rb as Ae,Sb as Ue,Tc as de,Vi as U,Xb as Oe,Zi as M,_b as me,ab as _,ac as Fe,aj as ge,cb as b,da as d,ec as l,fc as s,gc as Ge,hb as p,hc as x,ia as h,ib as o,ja as C,jb as a,kb as u,od as D,pd as A,rb as V,ub as z,vh as ue,wh as fe,xb as R,yc as ce}from"./chunk-GSKYGLQZ.js";import{a as Pe,i as Re}from"./chunk-57BLH6QZ.js";var ie=class ie{constructor(){this.socialService=d(O);this.settingsSrv=d(U);this.type=""}ngOnInit(){this.mockModel()}mockModel(){let e={token:"123456789",name:"cipchk",email:`${this.type}@${this.type}.com`,id:1e4,time:+new Date};this.settingsSrv.setUser(Pe(Pe({},this.settingsSrv.user),e)),this.socialService.callback(e)}};ie.\u0275fac=function(t){return new(t||ie)},ie.\u0275cmp=S({type:ie,selectors:[["app-callback"]],inputs:{type:"type"},features:[me([O])],decls:0,vars:0,template:function(t,r){},encapsulation:2});var Ne=ie;var ne=class ne{constructor(){this.tokenService=d(ze);this.settings=d(U);this.router=d(D);this.f=new We({password:new je("",{nonNullable:!0,validators:[f.required]})})}get user(){return this.settings.user}submit(){this.f.controls.password.markAsDirty(),this.f.controls.password.updateValueAndValidity(),this.f.valid&&(console.log("Valid!"),console.log(this.f.value),this.tokenService.set({token:"123"}),this.router.navigate(["dashboard"]))}};ne.\u0275fac=function(t){return new(t||ne)},ne.\u0275cmp=S({type:ne,selectors:[["passport-lock"]],decls:15,vars:11,consts:[[1,"ant-card","width-lg",2,"margin","0 auto"],[1,"ant-card-body"],[1,"avatar"],["nzIcon","user","nzSize","large",3,"nzSrc"],["nz-form","","role","form",1,"mt-md",3,"ngSubmit","formGroup"],[3,"nzErrorTip"],["nzSuffixIcon","lock"],["type","password","nz-input","","formControlName","password"],["nz-row","","nzType","flex","nzAlign","middle"],["nz-col","",2,"text-align","right",3,"nzOffset","nzSpan"],["nz-button","","nzType","primary",3,"disabled"]],template:function(t,r){t&1&&(o(0,"div",0)(1,"div",1)(2,"div",2),u(3,"nz-avatar",3),a(),o(4,"form",4),z("ngSubmit",function(){return r.submit()}),o(5,"nz-form-item")(6,"nz-form-control",5),l(7,"i18n"),o(8,"nz-input-group",6),u(9,"input",7),a()()(),o(10,"div",8)(11,"div",9)(12,"button",10),c(13),l(14,"i18n"),a()()()()()()),t&2&&(i(3),p("nzSrc",r.user.avatar),i(),p("formGroup",r.f),i(2),p("nzErrorTip",s(7,7,"validation.password.required")),i(5),p("nzOffset",12)("nzSpan",12),i(),p("disabled",!r.f.valid),i(),y(s(14,9,"app.lock")))},dependencies:[j,q,L,F,G,$,W,ot,rt,te,J,X,Z,Q,ee,be,E,I,T,k,K,H,Y,M],styles:["[_nghost-%COMP%]     .ant-card-body{position:relative;margin-top:80px}[_nghost-%COMP%]     .avatar{position:absolute;top:-20px;left:50%;margin-left:-20px}"]});var we=ne;var re=class re{constructor(){this.router=d(D);this.message=d(he);this.firebaseAuth=d($e);this.startupService=d(Ce);this.loading=!1}loginWithGoogle(){return Re(this,null,function*(){this.loading=!0;try{((yield this.firebaseAuth.loginWithGoogle().toPromise())||null)&&(this.message.success("\u767B\u5165\u6210\u529F\uFF01"),this.startupService.load().subscribe(()=>{this.router.navigateByUrl("/")}))}catch(e){console.error("Google \u767B\u5165\u5931\u6557:",e),this.message.error("\u767B\u5165\u5931\u6557\uFF0C\u8ACB\u7A0D\u5F8C\u518D\u8A66")}finally{this.loading=!1}})}};re.\u0275fac=function(t){return new(t||re)},re.\u0275cmp=S({type:re,selectors:[["app-google-auth"]],decls:3,vars:1,consts:[["nz-button","","nzType","primary","nzSize","large",1,"google-login-btn",3,"click","nzLoading"],["nzType","google","nzTheme","outline"]],template:function(t,r){t&1&&(o(0,"button",0),z("click",function(){return r.loginWithGoogle()}),u(1,"nz-icon",1),c(2," \u4F7F\u7528 Google \u767B\u5165 "),a()),t&2&&p("nzLoading",r.loading)},dependencies:[E,I,T,k,fe,ue],styles:[".google-login-btn[_ngcontent-%COMP%]{width:100%;height:40px;border-radius:6px;display:flex;align-items:center;justify-content:center;gap:8px}"]});var Ie=re;function St(n,e){if(n&1&&u(0,"nz-alert",4),n&2){let t=R();p("nzType","error")("nzMessage",t.error)("nzShowIcon",!0)}}function Nt(n,e){n&1&&(c(0),l(1,"i18n")),n&2&&g(" ",s(1,1,"validation.phone-number.required")," ")}function wt(n,e){n&1&&(c(0),l(1,"i18n")),n&2&&g(" ",s(1,1,"validation.phone-number.wrong-format")," ")}function xt(n,e){if(n&1&&(_(0,Nt,2,3),_(1,wt,2,3)),n&2){let t=e.$implicit;b(t.errors.required?0:-1),i(),b(t.errors.pattern?1:-1)}}var oe=class oe{constructor(){this.router=d(D);this.settingsService=d(U);this.socialService=d(O);this.reuseTabService=d(nt,{optional:!0});this.tokenService=d(ze);this.startupSrv=d(Ce);this.http=d(ge);this.cdr=d(ce);this.form=d(_e).nonNullable.group({userName:["",[f.required,f.pattern(/^(admin|user)$/)]],password:["",[f.required,f.pattern(/^(ng-alain\.com)$/)]],mobile:["",[f.required,f.pattern(/^1\d{10}$/)]],captcha:["",[f.required]],remember:[!0]});this.error="";this.type=0;this.loading=!1;this.count=0}switch({index:e}){this.type=e}getCaptcha(){let e=this.form.controls.mobile;if(e.invalid){e.markAsDirty({onlySelf:!0}),e.updateValueAndValidity({onlySelf:!0});return}this.count=59,this.interval$=setInterval(()=>{this.count-=1,this.count<=0&&clearInterval(this.interval$)},1e3)}submit(){if(this.error="",this.type===0){let{userName:e,password:t}=this.form.controls;if(e.markAsDirty(),e.updateValueAndValidity(),t.markAsDirty(),t.updateValueAndValidity(),e.invalid||t.invalid)return}else{let{mobile:e,captcha:t}=this.form.controls;if(e.markAsDirty(),e.updateValueAndValidity(),t.markAsDirty(),t.updateValueAndValidity(),e.invalid||t.invalid)return}this.loading=!0,this.cdr.detectChanges(),this.http.post("/login/account",{type:this.type,userName:this.form.value.userName,password:this.form.value.password},null,{context:new de().set(ve,!0)}).pipe(se(()=>{this.loading=!1,this.cdr.detectChanges()})).subscribe(e=>{if(e.msg!=="ok"){this.error=e.msg,this.cdr.detectChanges();return}this.reuseTabService?.clear(),e.user.expired=+new Date+1e3*60*5,this.tokenService.set(e.user),this.startupSrv.load().subscribe(()=>{let t=this.tokenService.referrer.url||"/";t.includes("/passport")&&(t="/"),this.router.navigateByUrl(t)})})}open(e,t="href"){let r="",m="";switch(qe.production?m=`https://ng-alain.github.io/ng-alain/#/passport/callback/${e}`:m=`http://localhost:4200/#/passport/callback/${e}`,e){case"auth0":r=`//cipchk.auth0.com/login?client=8gcNydIDzGBYxzqV0Vm1CX_RXH-wsWo5&redirect_uri=${decodeURIComponent(m)}`;break;case"github":r=`//github.com/login/oauth/authorize?client_id=9d6baae4b04a23fcafa2&response_type=code&redirect_uri=${decodeURIComponent(m)}`;break;case"weibo":r=`https://api.weibo.com/oauth2/authorize?client_id=1239507802&response_type=code&redirect_uri=${decodeURIComponent(m)}`;break}t==="window"?this.socialService.login(r,"/",{type:"window"}).subscribe(v=>{v&&(this.settingsService.setUser(v),this.router.navigateByUrl("/"))}):this.socialService.login(r,"/",{type:"href"})}ngOnDestroy(){this.interval$&&clearInterval(this.interval$)}};oe.\u0275fac=function(t){return new(t||oe)},oe.\u0275cmp=S({type:oe,selectors:[["passport-login"]],features:[me([O])],decls:57,vars:39,consts:[["mobileErrorTip",""],["nz-form","","role","form",3,"ngSubmit","formGroup"],[1,"tabs",3,"nzSelectChange","nzAnimated"],[3,"nzTitle"],[1,"mb-lg",3,"nzType","nzMessage","nzShowIcon"],["nzErrorTip","Please enter mobile number, muse be: admin or user"],["nzSize","large","nzPrefixIcon","user"],["nz-input","","formControlName","userName","placeholder","username: admin or user"],["nzErrorTip","Please enter password, muse be: ng-alain.com"],["nzSize","large","nzPrefixIcon","lock"],["nz-input","","type","password","formControlName","password","placeholder","password: ng-alain.com"],[3,"nzErrorTip"],["nz-input","","formControlName","mobile","placeholder","mobile number"],[3,"nzGutter"],[3,"nzSpan"],["nzSize","large","nzPrefixIcon","mail"],["nz-input","","formControlName","captcha","placeholder","captcha"],["type","button","nz-button","","nzSize","large","nzBlock","",3,"click","disabled","nzLoading"],["nz-checkbox","","formControlName","remember"],[1,"text-right",3,"nzSpan"],["routerLink","/passport/register",1,"forgot"],["nz-button","","type","submit","nzType","primary","nzSize","large","nzBlock","",3,"nzLoading"],[1,"other"],["nz-tooltip","","nzTooltipTitle","in fact Auth0 via window","nz-icon","","nzType","alipay-circle",1,"icon",3,"click"],["nz-tooltip","","nzTooltipTitle","in fact Github via redirect","nz-icon","","nzType","taobao-circle",1,"icon",3,"click"],["nz-icon","","nzType","weibo-circle",1,"icon",3,"click"],["nzType","google","nzTheme","outline",1,"icon"],["routerLink","/passport/register",1,"register"],[1,"google-login-section"]],template:function(t,r){if(t&1){let m=V();o(0,"form",1),z("ngSubmit",function(){return h(m),C(r.submit())}),o(1,"nz-tabs",2),z("nzSelectChange",function(P){return h(m),C(r.switch(P))}),o(2,"nz-tab",3),l(3,"i18n"),_(4,St,1,3,"nz-alert",4),o(5,"nz-form-item")(6,"nz-form-control",5)(7,"nz-input-group",6),u(8,"input",7),a()()(),o(9,"nz-form-item")(10,"nz-form-control",8)(11,"nz-input-group",9),u(12,"input",10),a()()()(),o(13,"nz-tab",3),l(14,"i18n"),o(15,"nz-form-item")(16,"nz-form-control",11)(17,"nz-input-group",6),u(18,"input",12),a(),N(19,xt,2,2,"ng-template",null,0,x),a()(),o(21,"nz-form-item")(22,"nz-form-control",11),l(23,"i18n"),o(24,"nz-row",13)(25,"nz-col",14)(26,"nz-input-group",15),u(27,"input",16),a()(),o(28,"nz-col",14)(29,"button",17),z("click",function(){return h(m),C(r.getCaptcha())}),c(30),l(31,"i18n"),a()()()()()()(),o(32,"nz-form-item")(33,"nz-col",14)(34,"label",18),c(35),l(36,"i18n"),a()(),o(37,"nz-col",19)(38,"a",20),c(39),l(40,"i18n"),a()()(),o(41,"nz-form-item")(42,"button",21),c(43),l(44,"i18n"),a()()(),o(45,"div",22),c(46),l(47,"i18n"),o(48,"i",23),z("click",function(){return h(m),C(r.open("auth0","window"))}),a(),o(49,"i",24),z("click",function(){return h(m),C(r.open("github"))}),a(),o(50,"i",25),z("click",function(){return h(m),C(r.open("weibo","window"))}),a(),u(51,"nz-icon",26),o(52,"a",27),c(53),l(54,"i18n"),a()(),o(55,"div",28),u(56,"app-google-auth"),a()}if(t&2){let m=w(20);p("formGroup",r.form),i(),p("nzAnimated",!1),i(),p("nzTitle",s(3,21,"app.login.tab-login-credentials")),i(2),b(r.error?4:-1),i(9),p("nzTitle",s(14,23,"app.login.tab-login-mobile")),i(3),p("nzErrorTip",m),i(6),p("nzErrorTip",s(23,25,"validation.verification-code.required")),i(2),p("nzGutter",8),i(),p("nzSpan",16),i(3),p("nzSpan",8),i(),p("disabled",r.count>=0)("nzLoading",r.loading),i(),g(" ",r.count?r.count+"s":s(31,27,"app.register.get-verification-code")," "),i(3),p("nzSpan",12),i(2),y(s(36,29,"app.login.remember-me")),i(2),p("nzSpan",12),i(2),y(s(40,31,"app.login.forgot-password")),i(3),p("nzLoading",r.loading),i(),g(" ",s(44,33,"app.login.login")," "),i(3),g(" ",s(47,35,"app.login.sign-in-with")," "),i(7),y(s(54,37,"app.login.signup"))}},dependencies:[A,j,q,L,F,G,$,W,Ye,He,it,tt,et,Se,ye,te,J,X,Z,Q,ee,K,H,Y,E,I,T,k,Xe,Ke,fe,ue,Ie,M],styles:["[_nghost-%COMP%]{display:block;width:368px;margin:0 auto}[_nghost-%COMP%]     .ant-tabs .ant-tabs-bar{margin-bottom:24px;text-align:center;border-bottom:0}[_nghost-%COMP%]     .ant-tabs-tab{font-size:16px;line-height:24px}[_nghost-%COMP%]     .ant-input-affix-wrapper .ant-input:not(:first-child){padding-left:4px}[_nghost-%COMP%]     .icon{cursor:pointer;margin-left:16px;font-size:24px;color:#0003;vertical-align:middle;transition:color .3s}[_nghost-%COMP%]     .icon:hover{color:#1890ff}[_nghost-%COMP%]     .other{margin-top:24px;line-height:22px;text-align:left}[_nghost-%COMP%]     .other nz-tooltip{vertical-align:middle}[_nghost-%COMP%]     .other .register{float:right}[data-theme=dark]   [_nghost-%COMP%]     .icon{color:#fff3}[data-theme=dark]   [_nghost-%COMP%]     .icon:hover{color:#fff}"],changeDetection:0});var Ee=oe;function ht(n,e){return t=>{let r=t.get(n),m=t.get(e);return m.errors&&!m.errors.matchControl||(r.value!==m.value?m.setErrors({matchControl:!0}):m.setErrors(null)),null}}var Tt=()=>({"width.px":240});function kt(n,e){if(n&1&&u(0,"nz-alert",6),n&2){let t=R();p("nzType","error")("nzMessage",t.error)("nzShowIcon",!0)}}function It(n,e){n&1&&(c(0),l(1,"i18n")),n&2&&g(" ",s(1,1,"validation.email.required")," ")}function Et(n,e){n&1&&(c(0),l(1,"i18n")),n&2&&g(" ",s(1,1,"validation.email.wrong-format")," ")}function Dt(n,e){if(n&1&&(_(0,It,2,3),_(1,Et,2,3)),n&2){let t=e.$implicit;b(t.errors!=null&&t.errors.required?0:-1),i(),b(t.errors!=null&&t.errors.email?1:-1)}}function Mt(n,e){n&1&&(o(0,"div",24),c(1),l(2,"i18n"),a()),n&2&&(i(),y(s(2,1,"validation.password.strength.strong")))}function Pt(n,e){n&1&&(o(0,"div",25),c(1),l(2,"i18n"),a()),n&2&&(i(),y(s(2,1,"validation.password.strength.medium")))}function Rt(n,e){n&1&&(o(0,"div",26),c(1),l(2,"i18n"),a()),n&2&&(i(),y(s(2,1,"validation.password.strength.short")))}function Bt(n,e){if(n&1&&(o(0,"div",23),_(1,Mt,3,3,"div",24)(2,Pt,3,3,"div",25)(3,Rt,3,3,"div",26),o(4,"div"),u(5,"nz-progress",27),a(),o(6,"p",28),c(7),l(8,"i18n"),a()()),n&2){let t,r=R();i(),b((t=r.status)==="ok"?1:t==="pass"?2:3),i(3),Be(Oe("progress-",r.status)),i(),p("nzPercent",r.progress)("nzStatus",r.passwordProgressMap[r.status])("nzStrokeWidth",6)("nzShowInfo",!1),i(2),y(s(8,9,"validation.password.strength.msg"))}}function Vt(n,e){n&1&&(c(0),l(1,"i18n")),n&2&&g(" ",s(1,1,"validation.confirm-password.required")," ")}function At(n,e){n&1&&(c(0),l(1,"i18n")),n&2&&g(" ",s(1,1,"validation.password.twice")," ")}function Ut(n,e){if(n&1&&(_(0,Vt,2,3),_(1,At,2,3)),n&2){let t=e.$implicit;b(t.errors!=null&&t.errors.required?0:-1),i(),b(t.errors!=null&&t.errors.matchControl?1:-1)}}function Ot(n,e){n&1&&(o(0,"nz-select",29),u(1,"nz-option",30)(2,"nz-option",30),a()),n&2&&(i(),p("nzLabel","+86")("nzValue","+86"),i(),p("nzLabel","+87")("nzValue","+87"))}function Lt(n,e){n&1&&(c(0),l(1,"i18n")),n&2&&g(" ",s(1,1,"validation.phone-number.required")," ")}function Ft(n,e){n&1&&(c(0),l(1,"i18n")),n&2&&g(" ",s(1,1,"validation.phone-number.wrong-format")," ")}function Gt(n,e){if(n&1&&(_(0,Lt,2,3),_(1,Ft,2,3)),n&2){let t=e.$implicit;b(t.errors!=null&&t.errors.required?0:-1),i(),b(t.errors!=null&&t.errors.pattern?1:-1)}}var B=class B{constructor(){this.router=d(D);this.http=d(ge);this.cdr=d(ce);this.form=d(_e).nonNullable.group({mail:["",[f.required,f.email]],password:["",[f.required,f.minLength(6),B.checkPassword.bind(this)]],confirm:["",[f.required,f.minLength(6)]],mobilePrefix:["+86"],mobile:["",[f.required,f.pattern(/^1\d{10}$/)]],captcha:["",[f.required]]},{validators:ht("password","confirm")});this.error="";this.type=0;this.loading=!1;this.visible=!1;this.status="pool";this.progress=0;this.passwordProgressMap={ok:"success",pass:"normal",pool:"exception"};this.count=0}static checkPassword(e){if(!e)return null;let t=this;t.visible=!!e.value,e.value&&e.value.length>9?t.status="ok":e.value&&e.value.length>5?t.status="pass":t.status="pool",t.visible&&(t.progress=e.value.length*10>100?100:e.value.length*10)}getCaptcha(){let{mobile:e}=this.form.controls;if(e.invalid){e.markAsDirty({onlySelf:!0}),e.updateValueAndValidity({onlySelf:!0});return}this.count=59,this.cdr.detectChanges(),this.interval$=setInterval(()=>{this.count-=1,this.cdr.detectChanges(),this.count<=0&&clearInterval(this.interval$)},1e3)}submit(){if(this.error="",Object.keys(this.form.controls).forEach(t=>{let r=this.form.controls[t];r.markAsDirty(),r.updateValueAndValidity()}),this.form.invalid)return;let e=this.form.value;this.loading=!0,this.cdr.detectChanges(),this.http.post("/register",e,null,{context:new de().set(ve,!0)}).pipe(se(()=>{this.loading=!1,this.cdr.detectChanges()})).subscribe(()=>{this.router.navigate(["passport","register-result"],{queryParams:{email:e.mail}})})}ngOnDestroy(){this.interval$&&clearInterval(this.interval$)}};B.\u0275fac=function(t){return new(t||B)},B.\u0275cmp=S({type:B,selectors:[["passport-register"]],decls:50,vars:34,consts:[["mailErrorTip",""],["pwdCdkTpl",""],["confirmErrorTip",""],["addOnBeforeTemplate",""],["mobileErrorTip",""],["nz-form","","role","form",3,"ngSubmit","formGroup"],[1,"mb-lg",3,"nzType","nzMessage","nzShowIcon"],[3,"nzErrorTip"],["nzSize","large","nzAddonBeforeIcon","user"],["nz-input","","formControlName","mail","placeholder","Email"],["nzSize","large","nzAddonBeforeIcon","lock","nz-popover","","nzPopoverPlacement","right","nzPopoverTrigger","focus","nzPopoverOverlayClassName","register-password-cdk",3,"nzPopoverVisibleChange","nzPopoverVisible","nzPopoverOverlayStyle","nzPopoverContent"],["nz-input","","type","password","formControlName","password","placeholder","Password"],["nzSize","large","nzAddonBeforeIcon","lock"],["nz-input","","type","password","formControlName","confirm","placeholder","Confirm Password"],["nzSize","large",3,"nzAddOnBefore"],["formControlName","mobile","nz-input","","placeholder","Phone number"],["nz-row","",3,"nzGutter"],["nz-col","",3,"nzSpan"],["nzSize","large","nzAddonBeforeIcon","mail"],["nz-input","","formControlName","captcha","placeholder","Captcha"],["type","button","nz-button","","nzSize","large","nzBlock","",3,"click","disabled","nzLoading"],["nz-button","","nzType","primary","nzSize","large","type","submit",1,"submit",3,"nzLoading"],["routerLink","/passport/login",1,"login"],[2,"padding","4px 0"],[1,"success"],[1,"warning"],[1,"error"],[3,"nzPercent","nzStatus","nzStrokeWidth","nzShowInfo"],[1,"mt-sm"],["formControlName","mobilePrefix",2,"width","100px"],[3,"nzLabel","nzValue"]],template:function(t,r){if(t&1){let m=V();o(0,"h3"),c(1),l(2,"i18n"),a(),o(3,"form",5),z("ngSubmit",function(){return h(m),C(r.submit())}),_(4,kt,1,3,"nz-alert",6),o(5,"nz-form-item")(6,"nz-form-control",7)(7,"nz-input-group",8),u(8,"input",9),a(),N(9,Dt,2,2,"ng-template",null,0,x),a()(),o(11,"nz-form-item")(12,"nz-form-control",7),l(13,"i18n"),o(14,"nz-input-group",10),Ue("nzPopoverVisibleChange",function(P){return h(m),Ae(r.visible,P)||(r.visible=P),C(P)}),u(15,"input",11),a(),N(16,Bt,9,11,"ng-template",null,1,x),a()(),o(18,"nz-form-item")(19,"nz-form-control",7)(20,"nz-input-group",12),u(21,"input",13),a(),N(22,Ut,2,2,"ng-template",null,2,x),a()(),o(24,"nz-form-item")(25,"nz-form-control",7)(26,"nz-input-group",14),N(27,Ot,3,4,"ng-template",null,3,x),u(29,"input",15),a(),N(30,Gt,2,2,"ng-template",null,4,x),a()(),o(32,"nz-form-item")(33,"nz-form-control",7),l(34,"i18n"),o(35,"div",16)(36,"div",17)(37,"nz-input-group",18),u(38,"input",19),a()(),o(39,"div",17)(40,"button",20),z("click",function(){return h(m),C(r.getCaptcha())}),c(41),l(42,"i18n"),a()()()()(),o(43,"nz-form-item")(44,"button",21),c(45),l(46,"i18n"),a(),o(47,"a",22),c(48),l(49,"i18n"),a()()()}if(t&2){let m=w(10),v=w(17),P=w(23),Ct=w(28),_t=w(31);i(),y(s(2,21,"app.register.register")),i(2),p("formGroup",r.form),i(),b(r.error?4:-1),i(2),p("nzErrorTip",m),i(6),p("nzErrorTip",s(13,23,"validation.password.required")),i(2),Ve("nzPopoverVisible",r.visible),p("nzPopoverOverlayStyle",Le(33,Tt))("nzPopoverContent",v),i(5),p("nzErrorTip",P),i(6),p("nzErrorTip",_t),i(),p("nzAddOnBefore",Ct),i(7),p("nzErrorTip",s(34,25,"validation.verification-code.required")),i(2),p("nzGutter",8),i(),p("nzSpan",16),i(3),p("nzSpan",8),i(),p("disabled",r.count>0)("nzLoading",r.loading),i(),g(" ",r.count?r.count+"s":s(42,27,"app.register.get-verification-code")," "),i(3),p("nzLoading",r.loading),i(),g(" ",s(46,29,"app.register.register")," "),i(3),y(s(49,31,"app.register.sign-in"))}},dependencies:[j,q,L,F,G,$,W,A,Se,ye,te,J,X,Z,Q,ee,K,H,Y,pt,at,st,lt,Ze,Je,Qe,be,E,I,T,k,M],styles:["[_nghost-%COMP%]{display:block;width:368px;margin:0 auto}[_nghost-%COMP%]     h3{margin-bottom:20px;font-size:16px}[_nghost-%COMP%]     .submit{width:50%}[_nghost-%COMP%]     .login{float:right;line-height:40px}  .register-password-cdk .success,   .register-password-cdk .warning,   .register-password-cdk .error{transition:color .3s}  .register-password-cdk .success{color:#52c41a}  .register-password-cdk .warning{color:#faad14}  .register-password-cdk .error{color:#ff4d4f}  .register-password-cdk .progress-pass>.progress .ant-progress-bg{background-color:#faad14}"],changeDetection:0});var De=B;var qt=n=>({email:n});function $t(n,e){if(n&1&&(o(0,"div",5),c(1),l(2,"i18n"),a()),n&2){let t=R();i(),g(" ",Ge(2,1,"app.register-result.msg",Fe(4,qt,t.email))," ")}}var ae=class ae{constructor(){this.msg=d(he);this.email=""}};ae.\u0275fac=function(t){return new(t||ae)},ae.\u0275cmp=S({type:ae,selectors:[["passport-register-result"]],inputs:{email:"email"},decls:11,vars:11,consts:[["title",""],["nzStatus","success",3,"nzTitle","nzSubTitle"],["nz-result-extra",""],["nz-button","","nzSize","large",3,"click","nzType"],["routerLink","/","nz-button","","nzSize","large"],[1,"title",2,"font-size","20px"]],template:function(t,r){if(t&1){let m=V();o(0,"nz-result",1),l(1,"i18n"),N(2,$t,3,6,"ng-template",null,0,x),o(4,"div",2)(5,"button",3),z("click",function(){return h(m),C(r.msg.success("email"))}),c(6),l(7,"i18n"),a(),o(8,"button",4),c(9),l(10,"i18n"),a()()()}if(t&2){let m=w(3);p("nzTitle",m)("nzSubTitle",s(1,5,"app.register-result.activation-email")),i(5),p("nzType","primary"),i(),g(" ",s(7,7,"app.register-result.view-mailbox")," "),i(3),g(" ",s(10,9,"app.register-result.back-home")," ")}},dependencies:[A,E,I,T,k,ut,dt,ct,M],encapsulation:2});var Me=ae;var Ln=[{path:"passport",component:mt,children:[{path:"login",component:Ee,data:{title:"\u767B\u5F55",titleI18n:"app.login.login"}},{path:"register",component:De,data:{title:"\u6CE8\u518C",titleI18n:"app.register.register"}},{path:"register-result",component:Me,data:{title:"\u6CE8\u518C\u7ED3\u679C",titleI18n:"app.register.register"}},{path:"lock",component:we,data:{title:"\u9501\u5C4F",titleI18n:"app.lock"}}]},{path:"passport/callback/:type",component:Ne}];export{Ln as routes};
