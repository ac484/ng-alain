import{a as K}from"./chunk-JT66WZ5X.js";import{a as Pe}from"./chunk-5NDUH4BM.js";import{i as J}from"./chunk-QRKJYL4P.js";import{A as G,Nc as we,Oc as De,aa as k,c as Y,f as Ne,o as ye}from"./chunk-Z6UJEHZN.js";import{q as Ce}from"./chunk-KF7OGFLI.js";import{$ as ne,Aa as R,Ac as ge,B as C,Ba as E,Fa as re,Fb as A,Fc as ve,Gb as se,Gc as he,Gd as X,Hc as H,Jc as U,Ka as W,Kc as T,L as O,Lb as le,Mb as ce,Ua as oe,Yb as pe,_b as y,ac as w,ad as be,bc as de,dc as ze,ea as ie,ec as me,fc as L,g as te,ga as Q,gc as D,hc as P,ic as V,kd as Se,oc as ue,pa as ae,pc as F,pd as M,rd as _e,sb as S,ta as N,ud as I,vc as B,vd as u,wd as xe,yc as v,yd as Me,zc as fe}from"./chunk-IDL4MXQM.js";var Oe=["nz-splitter-bar",""];function Re(a,h){if(a&1&&V(0,"div",4),a&2){let e=v(),n=e.active()&&!!e.constrainedOffset();U("transform",n?e.previewTransform():null),T("ant-splitter-bar-preview-active",n)}}function Ee(a,h){if(a&1){let e=F();D(0,"div",5),B("click",function(){R(e);let t=v();return E(t.collapseEvent("start"))}),V(1,"nz-icon",6),P()}if(a&2){let e=v();S(),L("nzType",e.vertical()?"up":"left")}}function Le(a,h){if(a&1){let e=F();D(0,"div",7),B("click",function(){R(e);let t=v();return E(t.collapseEvent("end"))}),V(1,"nz-icon",8),P()}if(a&2){let e=v();S(),L("nzType",e.vertical()?"down":"right")}}var Ve=["contentTemplate"],Be=["*"];function ke(a,h){a&1&&ge(0)}function $e(a,h){a&1&&ue(0)}function Ae(a,h){if(a&1){let e=F();D(0,"div",4),B("offsetStart",function(t){R(e);let r=v().$index,i=v();return E(i.startResize(r,t))})("collapse",function(t){R(e);let r=v().$index,i=v();return E(i.collapse(r,t))}),P()}if(a&2){let e,n=v().$index,t=v(),r=t.resizableInfos()[n],i=t.ariaInfos()[n];L("ariaNow",i.ariaNow)("ariaMin",i.ariaMin)("ariaMax",i.ariaMax)("resizable",r.resizable)("collapsible",r.collapsible)("active",((e=t.movingIndex())==null?null:e.index)===n)("vertical",t.nzLayout()==="vertical")("lazy",t.nzLazy())("constrainedOffset",t.constrainedOffset())}}function Fe(a,h){if(a&1&&(D(0,"div",1),le(1,$e,1,0,"ng-container",2),P(),y(2,Ae,1,9,"div",3)),a&2){let e=h.$implicit,n=h.$index,t=h.$count,r=v().sizes()[n],i=r.size?r.size:"auto",s=r.size?0:1;U("flex-basis",i)("flex-grow",s),T("ant-splitter-panel-hidden",r.postPxSize===0),S(),L("ngTemplateOutlet",e.contentTemplate),S(),w(n!==t-1?2:-1)}}function je(a,h){if(a&1&&V(0,"div",5),a&2){let e=v();T("ant-splitter-mask-horizontal",e.nzLayout()==="horizontal")("ant-splitter-mask-vertical",e.nzLayout()==="vertical")}}var qe=(()=>{class a{ariaNow=u.required();ariaMin=u.required();ariaMax=u.required();active=u(!1);resizable=u(!0);vertical=u();lazy=u(!1);collapsible=u();constrainedOffset=u();offsetStart=I();collapse=I();previewTransform=M(()=>{let e=G(this.constrainedOffset());return this.vertical()?`translateY(${e})`:`translateX(${e})`});resizeStartEvent(e){if(this.resizable()){let{pageX:n,pageY:t}=K(e);this.offsetStart.emit([n,t])}}collapseEvent(e){this.collapse.emit(e)}getValidNumber(e){return typeof e=="number"&&!isNaN(e)?Math.round(e):0}static \u0275fac=function(n){return new(n||a)};static \u0275cmp=A({type:a,selectors:[["","nz-splitter-bar",""]],hostAttrs:["role","separator",1,"ant-splitter-bar"],hostVars:3,hostBindings:function(n,t){n&2&&pe("aria-valuenow",t.getValidNumber(t.ariaNow()))("aria-valuemin",t.getValidNumber(t.ariaMin()))("aria-valuemax",t.getValidNumber(t.ariaMax()))},inputs:{ariaNow:[1,"ariaNow"],ariaMin:[1,"ariaMin"],ariaMax:[1,"ariaMax"],active:[1,"active"],resizable:[1,"resizable"],vertical:[1,"vertical"],lazy:[1,"lazy"],collapsible:[1,"collapsible"],constrainedOffset:[1,"constrainedOffset"]},outputs:{offsetStart:"offsetStart",collapse:"collapse"},attrs:Oe,decls:4,vars:7,consts:[[1,"ant-splitter-bar-preview",3,"ant-splitter-bar-preview-active","transform"],[1,"ant-splitter-bar-dragger",3,"mousedown","touchstart"],[1,"ant-splitter-bar-collapse-bar","ant-splitter-bar-collapse-bar-start"],[1,"ant-splitter-bar-collapse-bar","ant-splitter-bar-collapse-bar-end"],[1,"ant-splitter-bar-preview"],[1,"ant-splitter-bar-collapse-bar","ant-splitter-bar-collapse-bar-start",3,"click"],[1,"ant-splitter-bar-collapse-icon","ant-splitter-bar-collapse-start",3,"nzType"],[1,"ant-splitter-bar-collapse-bar","ant-splitter-bar-collapse-bar-end",3,"click"],[1,"ant-splitter-bar-collapse-icon","ant-splitter-bar-collapse-end",3,"nzType"]],template:function(n,t){if(n&1&&(y(0,Re,1,4,"div",0),D(1,"div",1),B("mousedown",function(i){return t.resizeStartEvent(i)})("touchstart",function(i){return t.resizeStartEvent(i)}),P(),y(2,Ee,2,1,"div",2),y(3,Le,2,1,"div",3)),n&2){let r,i;w(t.lazy()?0:-1),S(),T("ant-splitter-bar-dragger-disabled",!t.resizable())("ant-splitter-bar-dragger-active",t.active()),S(),w((r=t.collapsible())!=null&&r.start?2:-1),S(),w((i=t.collapsible())!=null&&i.end?3:-1)}},dependencies:[De,we],encapsulation:2,changeDetection:0})}return a})(),Te=(()=>{class a{nzDefaultSize=u();nzMin=u();nzMax=u();nzSize=u();nzCollapsible=u(!1);nzResizable=u(!0,{transform:X});contentTemplate=xe.required("contentTemplate");static \u0275fac=function(n){return new(n||a)};static \u0275cmp=A({type:a,selectors:[["nz-splitter-panel"]],viewQuery:function(n,t){n&1&&he(t.contentTemplate,Ve,5),n&2&&H()},inputs:{nzDefaultSize:[1,"nzDefaultSize"],nzMin:[1,"nzMin"],nzMax:[1,"nzMax"],nzSize:[1,"nzSize"],nzCollapsible:[1,"nzCollapsible"],nzResizable:[1,"nzResizable"]},exportAs:["nzSplitterPanel"],ngContentSelectors:Be,decls:2,vars:0,consts:[["contentTemplate",""]],template:function(n,t){n&1&&(fe(),ce(0,ke,1,0,"ng-template",null,0,Se))},encapsulation:2,changeDetection:0})}return a})();function $(a){return Number(a.slice(0,-1))/100}function Z(a){return typeof a=="string"&&a.endsWith("%")}function Qe(a){if(a&&typeof a=="object")return a;let h=!!a;return{start:h,end:h}}var Ie=Ne({passive:!0}),We=(()=>{class a{nzLayout=u("horizontal");nzLazy=u(!1,{transform:X});nzResizeStart=I();nzResize=I();nzResizeEnd=I();destroy$=N(J);elementRef=N(oe);directionality=N(ye);resizeObserver=N(Pe);document=N(re);dir=Y(this.directionality.change,{initialValue:this.directionality.value});panels=Me(Te);panelProps=M(()=>this.panels().map(e=>({defaultSize:e.nzDefaultSize(),size:e.nzSize(),min:e.nzMin(),max:e.nzMax(),resizable:e.nzResizable(),collapsible:Qe(e.nzCollapsible()),contentTemplate:e.contentTemplate()})));containerBox=Y(this.resizeObserver.observe(this.elementRef).pipe(C(([e])=>e.target),C(e=>({width:e.clientWidth,height:e.clientHeight}))),{initialValue:{width:this.elementRef.nativeElement.clientWidth||0,height:this.elementRef.nativeElement.clientHeight||0}});containerSize=M(()=>this.nzLayout()==="horizontal"?this.containerBox().width:this.containerBox().height);innerSizes=_e({source:this.panelProps,computation:e=>e.map(n=>n.defaultSize)});sizes=M(()=>{let e=0,n=this.containerSize(),t=this.innerSizes(),r=this.panelProps().map((s,o)=>{let l=s.size??t[o],c;if(Z(l))c=$(l);else if(l||l===0){let g=Number(l);isNaN(g)||(c=g/n)}else c=void 0,e++;let z=s.min,f=s.max,d=Z(z)?$(z):(z||0)/n,b=Z(f)?$(f):(f||n)/n;return{size:l,percentage:c,min:z,max:f,postPercentMinSize:d,postPercentMaxSize:b}}),i=r.reduce((s,{percentage:o})=>s+(o??0),0);for(let s of r){if(i>1&&!e){let o=1/i;s.percentage=s.percentage===void 0?0:s.percentage*o}else{let o=(1-i)/e;s.percentage=s.percentage===void 0?o:s.percentage}s.postPxSize=s.percentage*n,s.size=n?G(s.postPxSize):s.size}return r});ariaInfos=M(()=>{let e=[],n=[],t=this.sizes(),r=0;for(let i of t)r+=i.percentage,e.push(r);for(let i=0;i<t.length-1;i+=1){let s=(e[i-1]||0)+t[i].postPercentMinSize,o=(e[i+1]||100)-t[i+1].postPercentMaxSize,l=(e[i-1]||0)+t[i].postPercentMaxSize,c=(e[i+1]||100)-t[i+1].postPercentMinSize;n.push({ariaNow:e[i]*100,ariaMin:Math.max(s,o)*100,ariaMax:Math.min(l,c)*100})}return n});getPxSizes(){return this.sizes().map(e=>e.postPxSize)}movingIndex=W(null);constrainedOffset=W(0);resizableInfos=M(()=>{let e=this.panelProps(),n=this.getPxSizes(),t=[];for(let r=0;r<e.length-1;r+=1){let i=e[r],s=e[r+1],o=n[r],l=n[r+1],{resizable:c=!0,min:z,collapsible:f}=i,{resizable:d=!0,min:b,collapsible:g}=s,m=c&&d&&(o!==0||!z)&&(l!==0||!b),p=f.end&&o>0||g.start&&l===0&&o>0,_=g.start&&l>0||f.end&&o===0&&l>0;t[r]={resizable:m,collapsible:{start:!!(this.dir()==="rtl"?_:p),end:!!(this.dir()==="rtl"?p:_)}}}return t});startResize(e,n){this.movingIndex.set({index:e,confirmed:!1}),this.nzResizeStart.emit(this.getPxSizes());let t=new te,r=o=>{let{percentage:l,postPercentMinSize:c,postPercentMaxSize:z}=this.sizes()[e],[f,d,b]=[l,c,z].map(x=>x*100),g=this.containerSize(),m=g*f/100,p=m+o,_=Math.max(0,g*d/100),ee=Math.min(g,g*b/100);return Math.max(_,Math.min(ee,p))-m},i=o=>{this.constrainedOffset.set(r(o))},s=()=>{this.updateOffset(e,this.constrainedOffset()),this.constrainedOffset.set(0)};O(k(this.document,"mousemove",Ie),k(this.document,"touchmove",Ie)).pipe(C(o=>K(o)),C(({pageX:o,pageY:l})=>this.nzLayout()==="horizontal"?o-n[0]:l-n[1]),C(o=>this.nzLayout()==="horizontal"&&this.dir()==="rtl"?-o:o),ie(0),ne(),Q(O(t,this.destroy$))).subscribe(([o,l])=>{if(this.nzLazy()&&l!==0)i(l);else{let c=l-o;c!==0&&this.updateOffset(e,c)}}),O(k(this.document,"mouseup"),k(this.document,"touchend")).pipe(Q(O(t,this.destroy$))).subscribe(()=>{this.nzLazy()&&s(),this.movingIndex.set(null),this.nzResizeEnd.emit(this.getPxSizes()),t.next()})}updateOffset(e,n){let t=this.containerSize(),r=this.sizes().map(p=>[p.min,p.max]),i=this.sizes().map(p=>p.percentage*t),s=(p,_)=>typeof p=="string"?$(p)*t:p??_,o=null,l=this.movingIndex();if((!l||!l.confirmed)&&n!==0){if(n>0)o=e,this.movingIndex.set({index:e,confirmed:!0});else for(let p=e;p>=0;p-=1)if(i[p]>0&&this.resizableInfos()[p].resizable){o=p,this.movingIndex.set({index:p,confirmed:!0});break}}let c=o??e,z=c+1,f=s(r[c][0],0),d=s(r[z][0],0),b=s(r[c][1],t),g=s(r[z][1],t),m=n;i[c]+m<f&&(m=f-i[c]),i[z]-m<d&&(m=i[z]-d),i[c]+m>b&&(m=b-i[c]),i[z]-m>g&&(m=i[z]-g),i[c]+=m,i[z]-=m,this.innerSizes.set(i),this.nzResize.emit(i)}cacheCollapsedSize=[];collapse(e,n){let t=this.containerSize(),r=this.sizes().map(d=>[d.min,d.max]),i=this.sizes().map(d=>d.percentage*t),s=this.dir()==="rtl"?n==="start"?"end":"start":n,o=s==="start"?e:e+1,l=s=="start"?e+1:e,c=i[o],z=i[l],f=(d,b)=>typeof d=="string"?$(d)*t:d??b;if(c!==0&&z!==0)i[o]=0,i[l]+=c,this.cacheCollapsedSize[e]=c;else{let d=c+z,b=f(r[o][0],0),g=f(r[o][1],t),m=f(r[l][0],0),p=f(r[l][1],t),_=Math.max(b,d-p),j=(Math.min(g,d-m)-_)/2,x=this.cacheCollapsedSize[e],q=d-x;x&&x<=p&&x>=m&&q<=g&&q>=b?(i[l]=x,i[o]=q):(i[o]-=j,i[l]+=j)}this.innerSizes.set(i),this.nzResize.emit(i),this.nzResizeEnd.emit(i)}static \u0275fac=function(n){return new(n||a)};static \u0275cmp=A({type:a,selectors:[["nz-splitter"]],contentQueries:function(n,t,r){n&1&&ve(r,t.panels,Te,4),n&2&&H()},hostAttrs:[1,"ant-splitter"],hostVars:6,hostBindings:function(n,t){n&2&&T("ant-splitter-horizontal",t.nzLayout()==="horizontal")("ant-splitter-vertical",t.nzLayout()==="vertical")("ant-splitter-rtl",t.dir()==="rtl")},inputs:{nzLayout:[1,"nzLayout"],nzLazy:[1,"nzLazy"]},outputs:{nzResizeStart:"nzResizeStart",nzResize:"nzResize",nzResizeEnd:"nzResizeEnd"},exportAs:["nzSplitter"],features:[be([J])],decls:3,vars:1,consts:[["aria-hidden","",1,"ant-splitter-mask",3,"ant-splitter-mask-horizontal","ant-splitter-mask-vertical"],[1,"ant-splitter-panel"],[4,"ngTemplateOutlet"],["nz-splitter-bar","",3,"ariaNow","ariaMin","ariaMax","resizable","collapsible","active","vertical","lazy","constrainedOffset"],["nz-splitter-bar","",3,"offsetStart","collapse","ariaNow","ariaMin","ariaMax","resizable","collapsible","active","vertical","lazy","constrainedOffset"],["aria-hidden","",1,"ant-splitter-mask"]],template:function(n,t){n&1&&(ze(0,Fe,3,8,null,null,de),y(2,je,1,4,"div",0)),n&2&&(me(t.panelProps()),S(2),w(t.movingIndex()!==null?2:-1))},dependencies:[Ce,qe],encapsulation:2,changeDetection:0})}return a})(),zt=(()=>{class a{static \u0275fac=function(n){return new(n||a)};static \u0275mod=se({type:a});static \u0275inj=ae({imports:[We]})}return a})();export{Te as a,We as b,zt as c};
