import{e as Ml}from"./chunk-XKIFF2O4.js";import{a as Pl,b as Ol}from"./chunk-HADRLI3I.js";import{a as Nl}from"./chunk-MT5GF2ID.js";import{a as $i,b as Sl,e as xl}from"./chunk-S2YAPZGZ.js";import{a as mn,b as hn,c as wl}from"./chunk-GWBJCZVJ.js";import{b as xi}from"./chunk-MMGGDOKT.js";import{E as Rs,F as js,O as pn,b as An,f as Ee,g as bs,o as zi,r as wi,t as Is,u as Vs,v as Si,x as Fs}from"./chunk-L3HR6VJD.js";import{f as dl,g as ul,h as pl,i as fl,j as ml,k as hl}from"./chunk-J25KZANJ.js";import{a as bl,b as zl}from"./chunk-ED53FIBU.js";import{a as tl,b as Rr,c as vt,d as nl,e as fn}from"./chunk-EOHHV7BC.js";import{a as _l,f as jr,g as gl,h as yl,j as vl,k as Cl}from"./chunk-AMLXISNF.js";import{a as Gs,b as Qs,c as Js,d as Xs}from"./chunk-ZVAFP7CT.js";import{a as Zs,b as Ys,c as el}from"./chunk-PE6SRCXN.js";import{f as il,j as rl}from"./chunk-QQO7XJAL.js";import{a as ol}from"./chunk-ISNMHQP3.js";import{a as al,b as sl,c as ll,d as cl}from"./chunk-ZBPHAOOH.js";import{a as Bt}from"./chunk-UFDAWFON.js";import{a as Ds}from"./chunk-JOLA3FC3.js";import{d as Fr,e as qs,g as yt,h as Ls,k as Ws,m as Xe,n as Bs,t as Hs,v as Us,z as Ks}from"./chunk-XYNR6SEP.js";import{k as Ms}from"./chunk-MGISIUMH.js";import{f as Ps,g as Os}from"./chunk-NFE23O5F.js";import{e as un,f as Ci}from"./chunk-WLLA6Y4L.js";import{a as gs,c as yi,i as ys,m as jn,n as vs,t as Cs}from"./chunk-RYWOVSD3.js";import{a as $l,b as Tl,f as Ar,g as El}from"./chunk-SHX3V7LL.js";import{v as vi}from"./chunk-YS2VRPJW.js";import{g as Ts,h as Es}from"./chunk-UDEZOTLA.js";import{a as Mt,b as Ir,d as Vr,e as Ns}from"./chunk-AAISIDER.js";import{m as bi,s as ks}from"./chunk-KGMFTY4O.js";import{d as As}from"./chunk-BXOHVWQF.js";import{A as Lt,Ac as Rn,B as wr,Ba as In,Bd as Ae,Ca as ds,Cc as hs,Da as sn,Eb as Re,Fc as Wt,Gb as $,Gc as ln,Ge as Mr,Hc as Or,Ib as T,Jb as Ge,Jc as _s,Jd as Ot,Je as kr,K as rn,Kb as fs,L as Ke,Lb as $e,Mb as Te,Na as ke,Nb as _,O as is,Oa as se,Ob as b,Oh as Fe,Pb as C,Pc as ve,Ph as Nt,Q as Sr,Qa as De,Qb as Q,Qh as qe,Rh as at,S as rs,U as xr,Ub as ue,Vb as pe,Wa as $t,Wb as ms,Xb as J,Xe as Dr,Ya as us,_b as K,b as Ya,bb as f,bc as p,be as Nr,bf as xs,cb as Vn,cc as le,ce as Ce,d as es,da as os,dc as ce,ea as $r,ec as Tr,fa as on,fb as Se,fc as Qe,ff as $s,g as _i,gc as Ie,gd as Je,ge as cn,h as qt,hc as Ve,hf as qn,i as ts,ia as as,ib as ps,id as A,jd as fe,la as ss,lc as de,ma as an,mc as ot,na as we,nb as W,nc as G,ob as xe,oc as gi,pb as gt,pc as je,pe as zs,q as Dn,qc as V,qe as dn,r as xt,ra as S,rb as oe,rc as ae,re as ws,sa as ls,sc as ie,ta as cs,tb as N,v as ns,vb as rt,vc as Tt,wb as Fn,wc as Et,xa as P,xc as Pt,xe as Ss,ya as O,yc as Er,zc as Pr}from"./chunk-F2J3MLFC.js";import{a as w,b as Z,c as Xa,d as x,f as Za,g as tn,i as nn}from"./chunk-57BLH6QZ.js";var Bn=x(H=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0});H.regexpCode=H.getEsmExportName=H.getProperty=H.safeStringify=H.stringify=H.strConcat=H.addCodeArg=H.str=H._=H.nil=H._Code=H.Name=H.IDENTIFIER=H._CodeOrName=void 0;var Ln=class{};H._CodeOrName=Ln;H.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;var Ht=class extends Ln{constructor(n){if(super(),!H.IDENTIFIER.test(n))throw new Error("CodeGen: name must be a valid identifier");this.str=n}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}};H.Name=Ht;var Le=class extends Ln{constructor(n){super(),this._items=typeof n=="string"?[n]:n}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;let n=this._items[0];return n===""||n==='""'}get str(){var n;return(n=this._str)!==null&&n!==void 0?n:this._str=this._items.reduce((e,i)=>`${e}${i}`,"")}get names(){var n;return(n=this._names)!==null&&n!==void 0?n:this._names=this._items.reduce((e,i)=>(i instanceof Ht&&(e[i.str]=(e[i.str]||0)+1),e),{})}};H._Code=Le;H.nil=new Le("");function kl(t,...n){let e=[t[0]],i=0;for(;i<n.length;)Lr(e,n[i]),e.push(t[++i]);return new Le(e)}H._=kl;var qr=new Le("+");function Dl(t,...n){let e=[Wn(t[0])],i=0;for(;i<n.length;)e.push(qr),Lr(e,n[i]),e.push(qr,Wn(t[++i]));return Ku(e),new Le(e)}H.str=Dl;function Lr(t,n){n instanceof Le?t.push(...n._items):n instanceof Ht?t.push(n):t.push(Ju(n))}H.addCodeArg=Lr;function Ku(t){let n=1;for(;n<t.length-1;){if(t[n]===qr){let e=Gu(t[n-1],t[n+1]);if(e!==void 0){t.splice(n-1,3,e);continue}t[n++]="+"}n++}}function Gu(t,n){if(n==='""')return t;if(t==='""')return n;if(typeof t=="string")return n instanceof Ht||t[t.length-1]!=='"'?void 0:typeof n!="string"?`${t.slice(0,-1)}${n}"`:n[0]==='"'?t.slice(0,-1)+n.slice(1):void 0;if(typeof n=="string"&&n[0]==='"'&&!(t instanceof Ht))return`"${t}${n.slice(1)}`}function Qu(t,n){return n.emptyStr()?t:t.emptyStr()?n:Dl`${t}${n}`}H.strConcat=Qu;function Ju(t){return typeof t=="number"||typeof t=="boolean"||t===null?t:Wn(Array.isArray(t)?t.join(","):t)}function Xu(t){return new Le(Wn(t))}H.stringify=Xu;function Wn(t){return JSON.stringify(t).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}H.safeStringify=Wn;function Zu(t){return typeof t=="string"&&H.IDENTIFIER.test(t)?new Le(`.${t}`):kl`[${t}]`}H.getProperty=Zu;function Yu(t){if(typeof t=="string"&&H.IDENTIFIER.test(t))return new Le(`${t}`);throw new Error(`CodeGen: invalid export name: ${t}, use explicit $id name mapping`)}H.getEsmExportName=Yu;function ep(t){return new Le(t.toString())}H.regexpCode=ep});var Hr=x(Oe=>{"use strict";Object.defineProperty(Oe,"__esModule",{value:!0});Oe.ValueScope=Oe.ValueScopeName=Oe.Scope=Oe.varKinds=Oe.UsedValueState=void 0;var Pe=Bn(),Wr=class extends Error{constructor(n){super(`CodeGen: "code" for ${n} not defined`),this.value=n.value}},Ti=function(t){return t[t.Started=0]="Started",t[t.Completed=1]="Completed",t}(Ti||(Oe.UsedValueState=Ti={}));Oe.varKinds={const:new Pe.Name("const"),let:new Pe.Name("let"),var:new Pe.Name("var")};var Ei=class{constructor({prefixes:n,parent:e}={}){this._names={},this._prefixes=n,this._parent=e}toName(n){return n instanceof Pe.Name?n:this.name(n)}name(n){return new Pe.Name(this._newName(n))}_newName(n){let e=this._names[n]||this._nameGroup(n);return`${n}${e.index++}`}_nameGroup(n){var e,i;if(!((i=(e=this._parent)===null||e===void 0?void 0:e._prefixes)===null||i===void 0)&&i.has(n)||this._prefixes&&!this._prefixes.has(n))throw new Error(`CodeGen: prefix "${n}" is not allowed in this scope`);return this._names[n]={prefix:n,index:0}}};Oe.Scope=Ei;var Pi=class extends Pe.Name{constructor(n,e){super(e),this.prefix=n}setValue(n,{property:e,itemIndex:i}){this.value=n,this.scopePath=(0,Pe._)`.${new Pe.Name(e)}[${i}]`}};Oe.ValueScopeName=Pi;var tp=(0,Pe._)`\n`,Br=class extends Ei{constructor(n){super(n),this._values={},this._scope=n.scope,this.opts=Z(w({},n),{_n:n.lines?tp:Pe.nil})}get(){return this._scope}name(n){return new Pi(n,this._newName(n))}value(n,e){var i;if(e.ref===void 0)throw new Error("CodeGen: ref must be passed in value");let r=this.toName(n),{prefix:o}=r,a=(i=e.key)!==null&&i!==void 0?i:e.ref,s=this._values[o];if(s){let d=s.get(a);if(d)return d}else s=this._values[o]=new Map;s.set(a,r);let l=this._scope[o]||(this._scope[o]=[]),c=l.length;return l[c]=e.ref,r.setValue(e,{property:o,itemIndex:c}),r}getValue(n,e){let i=this._values[n];if(i)return i.get(e)}scopeRefs(n,e=this._values){return this._reduceValues(e,i=>{if(i.scopePath===void 0)throw new Error(`CodeGen: name "${i}" has no value`);return(0,Pe._)`${n}${i.scopePath}`})}scopeCode(n=this._values,e,i){return this._reduceValues(n,r=>{if(r.value===void 0)throw new Error(`CodeGen: name "${r}" has no value`);return r.value.code},e,i)}_reduceValues(n,e,i={},r){let o=Pe.nil;for(let a in n){let s=n[a];if(!s)continue;let l=i[a]=i[a]||new Map;s.forEach(c=>{if(l.has(c))return;l.set(c,Ti.Started);let d=e(c);if(d){let u=this.opts.es5?Oe.varKinds.var:Oe.varKinds.const;o=(0,Pe._)`${o}${u} ${c} = ${d};${this.opts._n}`}else if(d=r?.(c))o=(0,Pe._)`${o}${d}${this.opts._n}`;else throw new Wr(c);l.set(c,Ti.Completed)})}return o}};Oe.ValueScope=Br});var R=x(j=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});j.or=j.and=j.not=j.CodeGen=j.operators=j.varKinds=j.ValueScopeName=j.ValueScope=j.Scope=j.Name=j.regexpCode=j.stringify=j.getProperty=j.nil=j.strConcat=j.str=j._=void 0;var L=Bn(),Ze=Hr(),kt=Bn();Object.defineProperty(j,"_",{enumerable:!0,get:function(){return kt._}});Object.defineProperty(j,"str",{enumerable:!0,get:function(){return kt.str}});Object.defineProperty(j,"strConcat",{enumerable:!0,get:function(){return kt.strConcat}});Object.defineProperty(j,"nil",{enumerable:!0,get:function(){return kt.nil}});Object.defineProperty(j,"getProperty",{enumerable:!0,get:function(){return kt.getProperty}});Object.defineProperty(j,"stringify",{enumerable:!0,get:function(){return kt.stringify}});Object.defineProperty(j,"regexpCode",{enumerable:!0,get:function(){return kt.regexpCode}});Object.defineProperty(j,"Name",{enumerable:!0,get:function(){return kt.Name}});var Di=Hr();Object.defineProperty(j,"Scope",{enumerable:!0,get:function(){return Di.Scope}});Object.defineProperty(j,"ValueScope",{enumerable:!0,get:function(){return Di.ValueScope}});Object.defineProperty(j,"ValueScopeName",{enumerable:!0,get:function(){return Di.ValueScopeName}});Object.defineProperty(j,"varKinds",{enumerable:!0,get:function(){return Di.varKinds}});j.operators={GT:new L._Code(">"),GTE:new L._Code(">="),LT:new L._Code("<"),LTE:new L._Code("<="),EQ:new L._Code("==="),NEQ:new L._Code("!=="),NOT:new L._Code("!"),OR:new L._Code("||"),AND:new L._Code("&&"),ADD:new L._Code("+")};var Ct=class{optimizeNodes(){return this}optimizeNames(n,e){return this}},Ur=class extends Ct{constructor(n,e,i){super(),this.varKind=n,this.name=e,this.rhs=i}render({es5:n,_n:e}){let i=n?Ze.varKinds.var:this.varKind,r=this.rhs===void 0?"":` = ${this.rhs}`;return`${i} ${this.name}${r};`+e}optimizeNames(n,e){if(n[this.name.str])return this.rhs&&(this.rhs=_n(this.rhs,n,e)),this}get names(){return this.rhs instanceof L._CodeOrName?this.rhs.names:{}}},Ni=class extends Ct{constructor(n,e,i){super(),this.lhs=n,this.rhs=e,this.sideEffects=i}render({_n:n}){return`${this.lhs} = ${this.rhs};`+n}optimizeNames(n,e){if(!(this.lhs instanceof L.Name&&!n[this.lhs.str]&&!this.sideEffects))return this.rhs=_n(this.rhs,n,e),this}get names(){let n=this.lhs instanceof L.Name?{}:w({},this.lhs.names);return ki(n,this.rhs)}},Kr=class extends Ni{constructor(n,e,i,r){super(n,i,r),this.op=e}render({_n:n}){return`${this.lhs} ${this.op}= ${this.rhs};`+n}},Gr=class extends Ct{constructor(n){super(),this.label=n,this.names={}}render({_n:n}){return`${this.label}:`+n}},Qr=class extends Ct{constructor(n){super(),this.label=n,this.names={}}render({_n:n}){return`break${this.label?` ${this.label}`:""};`+n}},Jr=class extends Ct{constructor(n){super(),this.error=n}render({_n:n}){return`throw ${this.error};`+n}get names(){return this.error.names}},Xr=class extends Ct{constructor(n){super(),this.code=n}render({_n:n}){return`${this.code};`+n}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(n,e){return this.code=_n(this.code,n,e),this}get names(){return this.code instanceof L._CodeOrName?this.code.names:{}}},Hn=class extends Ct{constructor(n=[]){super(),this.nodes=n}render(n){return this.nodes.reduce((e,i)=>e+i.render(n),"")}optimizeNodes(){let{nodes:n}=this,e=n.length;for(;e--;){let i=n[e].optimizeNodes();Array.isArray(i)?n.splice(e,1,...i):i?n[e]=i:n.splice(e,1)}return n.length>0?this:void 0}optimizeNames(n,e){let{nodes:i}=this,r=i.length;for(;r--;){let o=i[r];o.optimizeNames(n,e)||(np(n,o.names),i.splice(r,1))}return i.length>0?this:void 0}get names(){return this.nodes.reduce((n,e)=>Ut(n,e.names),{})}},bt=class extends Hn{render(n){return"{"+n._n+super.render(n)+"}"+n._n}},Zr=class extends Hn{},Yr=(()=>{class t extends bt{}return t.kind="else",t})(),Oi=(()=>{class t extends bt{constructor(e,i){super(i),this.condition=e}render(e){let i=`if(${this.condition})`+super.render(e);return this.else&&(i+="else "+this.else.render(e)),i}optimizeNodes(){super.optimizeNodes();let e=this.condition;if(e===!0)return this.nodes;let i=this.else;if(i){let r=i.optimizeNodes();i=this.else=Array.isArray(r)?new Yr(r):r}if(i)return e===!1?i instanceof t?i:i.nodes:this.nodes.length?this:new t(jl(e),i instanceof t?[i]:i.nodes);if(!(e===!1||!this.nodes.length))return this}optimizeNames(e,i){var r;if(this.else=(r=this.else)===null||r===void 0?void 0:r.optimizeNames(e,i),!!(super.optimizeNames(e,i)||this.else))return this.condition=_n(this.condition,e,i),this}get names(){let e=super.names;return ki(e,this.condition),this.else&&Ut(e,this.else.names),e}}return t.kind="if",t})(),Ii=(()=>{class t extends bt{}return t.kind="for",t})(),eo=class extends Ii{constructor(n){super(),this.iteration=n}render(n){return`for(${this.iteration})`+super.render(n)}optimizeNames(n,e){if(super.optimizeNames(n,e))return this.iteration=_n(this.iteration,n,e),this}get names(){return Ut(super.names,this.iteration.names)}},to=class extends Ii{constructor(n,e,i,r){super(),this.varKind=n,this.name=e,this.from=i,this.to=r}render(n){let e=n.es5?Ze.varKinds.var:this.varKind,{name:i,from:r,to:o}=this;return`for(${e} ${i}=${r}; ${i}<${o}; ${i}++)`+super.render(n)}get names(){let n=ki(super.names,this.from);return ki(n,this.to)}},Mi=class extends Ii{constructor(n,e,i,r){super(),this.loop=n,this.varKind=e,this.name=i,this.iterable=r}render(n){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(n)}optimizeNames(n,e){if(super.optimizeNames(n,e))return this.iterable=_n(this.iterable,n,e),this}get names(){return Ut(super.names,this.iterable.names)}},Il=(()=>{class t extends bt{constructor(e,i,r){super(),this.name=e,this.args=i,this.async=r}render(e){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(e)}}return t.kind="func",t})(),Vl=(()=>{class t extends Hn{render(e){return"return "+super.render(e)}}return t.kind="return",t})(),no=class extends bt{render(n){let e="try"+super.render(n);return this.catch&&(e+=this.catch.render(n)),this.finally&&(e+=this.finally.render(n)),e}optimizeNodes(){var n,e;return super.optimizeNodes(),(n=this.catch)===null||n===void 0||n.optimizeNodes(),(e=this.finally)===null||e===void 0||e.optimizeNodes(),this}optimizeNames(n,e){var i,r;return super.optimizeNames(n,e),(i=this.catch)===null||i===void 0||i.optimizeNames(n,e),(r=this.finally)===null||r===void 0||r.optimizeNames(n,e),this}get names(){let n=super.names;return this.catch&&Ut(n,this.catch.names),this.finally&&Ut(n,this.finally.names),n}},Fl=(()=>{class t extends bt{constructor(e){super(),this.error=e}render(e){return`catch(${this.error})`+super.render(e)}}return t.kind="catch",t})(),Rl=(()=>{class t extends bt{render(e){return"finally"+super.render(e)}}return t.kind="finally",t})(),io=class{constructor(n,e={}){this._values={},this._blockStarts=[],this._constants={},this.opts=Z(w({},e),{_n:e.lines?`
`:""}),this._extScope=n,this._scope=new Ze.Scope({parent:n}),this._nodes=[new Zr]}toString(){return this._root.render(this.opts)}name(n){return this._scope.name(n)}scopeName(n){return this._extScope.name(n)}scopeValue(n,e){let i=this._extScope.value(n,e);return(this._values[i.prefix]||(this._values[i.prefix]=new Set)).add(i),i}getScopeValue(n,e){return this._extScope.getValue(n,e)}scopeRefs(n){return this._extScope.scopeRefs(n,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(n,e,i,r){let o=this._scope.toName(e);return i!==void 0&&r&&(this._constants[o.str]=i),this._leafNode(new Ur(n,o,i)),o}const(n,e,i){return this._def(Ze.varKinds.const,n,e,i)}let(n,e,i){return this._def(Ze.varKinds.let,n,e,i)}var(n,e,i){return this._def(Ze.varKinds.var,n,e,i)}assign(n,e,i){return this._leafNode(new Ni(n,e,i))}add(n,e){return this._leafNode(new Kr(n,j.operators.ADD,e))}code(n){return typeof n=="function"?n():n!==L.nil&&this._leafNode(new Xr(n)),this}object(...n){let e=["{"];for(let[i,r]of n)e.length>1&&e.push(","),e.push(i),(i!==r||this.opts.es5)&&(e.push(":"),(0,L.addCodeArg)(e,r));return e.push("}"),new L._Code(e)}if(n,e,i){if(this._blockNode(new Oi(n)),e&&i)this.code(e).else().code(i).endIf();else if(e)this.code(e).endIf();else if(i)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(n){return this._elseNode(new Oi(n))}else(){return this._elseNode(new Yr)}endIf(){return this._endBlockNode(Oi,Yr)}_for(n,e){return this._blockNode(n),e&&this.code(e).endFor(),this}for(n,e){return this._for(new eo(n),e)}forRange(n,e,i,r,o=this.opts.es5?Ze.varKinds.var:Ze.varKinds.let){let a=this._scope.toName(n);return this._for(new to(o,a,e,i),()=>r(a))}forOf(n,e,i,r=Ze.varKinds.const){let o=this._scope.toName(n);if(this.opts.es5){let a=e instanceof L.Name?e:this.var("_arr",e);return this.forRange("_i",0,(0,L._)`${a}.length`,s=>{this.var(o,(0,L._)`${a}[${s}]`),i(o)})}return this._for(new Mi("of",r,o,e),()=>i(o))}forIn(n,e,i,r=this.opts.es5?Ze.varKinds.var:Ze.varKinds.const){if(this.opts.ownProperties)return this.forOf(n,(0,L._)`Object.keys(${e})`,i);let o=this._scope.toName(n);return this._for(new Mi("in",r,o,e),()=>i(o))}endFor(){return this._endBlockNode(Ii)}label(n){return this._leafNode(new Gr(n))}break(n){return this._leafNode(new Qr(n))}return(n){let e=new Vl;if(this._blockNode(e),this.code(n),e.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(Vl)}try(n,e,i){if(!e&&!i)throw new Error('CodeGen: "try" without "catch" and "finally"');let r=new no;if(this._blockNode(r),this.code(n),e){let o=this.name("e");this._currNode=r.catch=new Fl(o),e(o)}return i&&(this._currNode=r.finally=new Rl,this.code(i)),this._endBlockNode(Fl,Rl)}throw(n){return this._leafNode(new Jr(n))}block(n,e){return this._blockStarts.push(this._nodes.length),n&&this.code(n).endBlock(e),this}endBlock(n){let e=this._blockStarts.pop();if(e===void 0)throw new Error("CodeGen: not in self-balancing block");let i=this._nodes.length-e;if(i<0||n!==void 0&&i!==n)throw new Error(`CodeGen: wrong number of nodes: ${i} vs ${n} expected`);return this._nodes.length=e,this}func(n,e=L.nil,i,r){return this._blockNode(new Il(n,e,i)),r&&this.code(r).endFunc(),this}endFunc(){return this._endBlockNode(Il)}optimize(n=1){for(;n-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(n){return this._currNode.nodes.push(n),this}_blockNode(n){this._currNode.nodes.push(n),this._nodes.push(n)}_endBlockNode(n,e){let i=this._currNode;if(i instanceof n||e&&i instanceof e)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${e?`${n.kind}/${e.kind}`:n.kind}"`)}_elseNode(n){let e=this._currNode;if(!(e instanceof Oi))throw new Error('CodeGen: "else" without "if"');return this._currNode=e.else=n,this}get _root(){return this._nodes[0]}get _currNode(){let n=this._nodes;return n[n.length-1]}set _currNode(n){let e=this._nodes;e[e.length-1]=n}};j.CodeGen=io;function Ut(t,n){for(let e in n)t[e]=(t[e]||0)+(n[e]||0);return t}function ki(t,n){return n instanceof L._CodeOrName?Ut(t,n.names):t}function _n(t,n,e){if(t instanceof L.Name)return i(t);if(!r(t))return t;return new L._Code(t._items.reduce((o,a)=>(a instanceof L.Name&&(a=i(a)),a instanceof L._Code?o.push(...a._items):o.push(a),o),[]));function i(o){let a=e[o.str];return a===void 0||n[o.str]!==1?o:(delete n[o.str],a)}function r(o){return o instanceof L._Code&&o._items.some(a=>a instanceof L.Name&&n[a.str]===1&&e[a.str]!==void 0)}}function np(t,n){for(let e in n)t[e]=(t[e]||0)-(n[e]||0)}function jl(t){return typeof t=="boolean"||typeof t=="number"||t===null?!t:(0,L._)`!${ro(t)}`}j.not=jl;var ip=Al(j.operators.AND);function rp(...t){return t.reduce(ip)}j.and=rp;var op=Al(j.operators.OR);function ap(...t){return t.reduce(op)}j.or=ap;function Al(t){return(n,e)=>n===L.nil?e:e===L.nil?n:(0,L._)`${ro(n)} ${t} ${ro(e)}`}function ro(t){return t instanceof L.Name?t:(0,L._)`(${t})`}});var U=x(q=>{"use strict";Object.defineProperty(q,"__esModule",{value:!0});q.checkStrictMode=q.getErrorPath=q.Type=q.useFunc=q.setEvaluated=q.evaluatedPropsToName=q.mergeEvaluated=q.eachItem=q.unescapeJsonPointer=q.escapeJsonPointer=q.escapeFragment=q.unescapeFragment=q.schemaRefOrVal=q.schemaHasRulesButRef=q.schemaHasRules=q.checkUnknownRules=q.alwaysValidSchema=q.toHash=void 0;var Y=R(),sp=Bn();function lp(t){let n={};for(let e of t)n[e]=!0;return n}q.toHash=lp;function cp(t,n){return typeof n=="boolean"?n:Object.keys(n).length===0?!0:(Wl(t,n),!Bl(n,t.self.RULES.all))}q.alwaysValidSchema=cp;function Wl(t,n=t.schema){let{opts:e,self:i}=t;if(!e.strictSchema||typeof n=="boolean")return;let r=i.RULES.keywords;for(let o in n)r[o]||Kl(t,`unknown keyword: "${o}"`)}q.checkUnknownRules=Wl;function Bl(t,n){if(typeof t=="boolean")return!t;for(let e in t)if(n[e])return!0;return!1}q.schemaHasRules=Bl;function dp(t,n){if(typeof t=="boolean")return!t;for(let e in t)if(e!=="$ref"&&n.all[e])return!0;return!1}q.schemaHasRulesButRef=dp;function up({topSchemaRef:t,schemaPath:n},e,i,r){if(!r){if(typeof e=="number"||typeof e=="boolean")return e;if(typeof e=="string")return(0,Y._)`${e}`}return(0,Y._)`${t}${n}${(0,Y.getProperty)(i)}`}q.schemaRefOrVal=up;function pp(t){return Hl(decodeURIComponent(t))}q.unescapeFragment=pp;function fp(t){return encodeURIComponent(ao(t))}q.escapeFragment=fp;function ao(t){return typeof t=="number"?`${t}`:t.replace(/~/g,"~0").replace(/\//g,"~1")}q.escapeJsonPointer=ao;function Hl(t){return t.replace(/~1/g,"/").replace(/~0/g,"~")}q.unescapeJsonPointer=Hl;function mp(t,n){if(Array.isArray(t))for(let e of t)n(e);else n(t)}q.eachItem=mp;function ql({mergeNames:t,mergeToName:n,mergeValues:e,resultToName:i}){return(r,o,a,s)=>{let l=a===void 0?o:a instanceof Y.Name?(o instanceof Y.Name?t(r,o,a):n(r,o,a),a):o instanceof Y.Name?(n(r,a,o),o):e(o,a);return s===Y.Name&&!(l instanceof Y.Name)?i(r,l):l}}q.mergeEvaluated={props:ql({mergeNames:(t,n,e)=>t.if((0,Y._)`${e} !== true && ${n} !== undefined`,()=>{t.if((0,Y._)`${n} === true`,()=>t.assign(e,!0),()=>t.assign(e,(0,Y._)`${e} || {}`).code((0,Y._)`Object.assign(${e}, ${n})`))}),mergeToName:(t,n,e)=>t.if((0,Y._)`${e} !== true`,()=>{n===!0?t.assign(e,!0):(t.assign(e,(0,Y._)`${e} || {}`),so(t,e,n))}),mergeValues:(t,n)=>t===!0?!0:w(w({},t),n),resultToName:Ul}),items:ql({mergeNames:(t,n,e)=>t.if((0,Y._)`${e} !== true && ${n} !== undefined`,()=>t.assign(e,(0,Y._)`${n} === true ? true : ${e} > ${n} ? ${e} : ${n}`)),mergeToName:(t,n,e)=>t.if((0,Y._)`${e} !== true`,()=>t.assign(e,n===!0?!0:(0,Y._)`${e} > ${n} ? ${e} : ${n}`)),mergeValues:(t,n)=>t===!0?!0:Math.max(t,n),resultToName:(t,n)=>t.var("items",n)})};function Ul(t,n){if(n===!0)return t.var("props",!0);let e=t.var("props",(0,Y._)`{}`);return n!==void 0&&so(t,e,n),e}q.evaluatedPropsToName=Ul;function so(t,n,e){Object.keys(e).forEach(i=>t.assign((0,Y._)`${n}${(0,Y.getProperty)(i)}`,!0))}q.setEvaluated=so;var Ll={};function hp(t,n){return t.scopeValue("func",{ref:n,code:Ll[n.code]||(Ll[n.code]=new sp._Code(n.code))})}q.useFunc=hp;var oo=function(t){return t[t.Num=0]="Num",t[t.Str=1]="Str",t}(oo||(q.Type=oo={}));function _p(t,n,e){if(t instanceof Y.Name){let i=n===oo.Num;return e?i?(0,Y._)`"[" + ${t} + "]"`:(0,Y._)`"['" + ${t} + "']"`:i?(0,Y._)`"/" + ${t}`:(0,Y._)`"/" + ${t}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return e?(0,Y.getProperty)(t).toString():"/"+ao(t)}q.getErrorPath=_p;function Kl(t,n,e=t.opts.strictSchema){if(e){if(n=`strict mode: ${n}`,e===!0)throw new Error(n);t.self.logger.warn(n)}}q.checkStrictMode=Kl});var zt=x(lo=>{"use strict";Object.defineProperty(lo,"__esModule",{value:!0});var _e=R(),gp={data:new _e.Name("data"),valCxt:new _e.Name("valCxt"),instancePath:new _e.Name("instancePath"),parentData:new _e.Name("parentData"),parentDataProperty:new _e.Name("parentDataProperty"),rootData:new _e.Name("rootData"),dynamicAnchors:new _e.Name("dynamicAnchors"),vErrors:new _e.Name("vErrors"),errors:new _e.Name("errors"),this:new _e.Name("this"),self:new _e.Name("self"),scope:new _e.Name("scope"),json:new _e.Name("json"),jsonPos:new _e.Name("jsonPos"),jsonLen:new _e.Name("jsonLen"),jsonPart:new _e.Name("jsonPart")};lo.default=gp});var Un=x(ge=>{"use strict";Object.defineProperty(ge,"__esModule",{value:!0});ge.extendErrors=ge.resetErrorsCount=ge.reportExtraError=ge.reportError=ge.keyword$DataError=ge.keywordError=void 0;var B=R(),Vi=U(),be=zt();ge.keywordError={message:({keyword:t})=>(0,B.str)`must pass "${t}" keyword validation`};ge.keyword$DataError={message:({keyword:t,schemaType:n})=>n?(0,B.str)`"${t}" keyword must be ${n} ($data)`:(0,B.str)`"${t}" keyword is invalid ($data)`};function yp(t,n=ge.keywordError,e,i){let{it:r}=t,{gen:o,compositeRule:a,allErrors:s}=r,l=Jl(t,n,e);i??(a||s)?Gl(o,l):Ql(r,(0,B._)`[${l}]`)}ge.reportError=yp;function vp(t,n=ge.keywordError,e){let{it:i}=t,{gen:r,compositeRule:o,allErrors:a}=i,s=Jl(t,n,e);Gl(r,s),o||a||Ql(i,be.default.vErrors)}ge.reportExtraError=vp;function Cp(t,n){t.assign(be.default.errors,n),t.if((0,B._)`${be.default.vErrors} !== null`,()=>t.if(n,()=>t.assign((0,B._)`${be.default.vErrors}.length`,n),()=>t.assign(be.default.vErrors,null)))}ge.resetErrorsCount=Cp;function bp({gen:t,keyword:n,schemaValue:e,data:i,errsCount:r,it:o}){if(r===void 0)throw new Error("ajv implementation error");let a=t.name("err");t.forRange("i",r,be.default.errors,s=>{t.const(a,(0,B._)`${be.default.vErrors}[${s}]`),t.if((0,B._)`${a}.instancePath === undefined`,()=>t.assign((0,B._)`${a}.instancePath`,(0,B.strConcat)(be.default.instancePath,o.errorPath))),t.assign((0,B._)`${a}.schemaPath`,(0,B.str)`${o.errSchemaPath}/${n}`),o.opts.verbose&&(t.assign((0,B._)`${a}.schema`,e),t.assign((0,B._)`${a}.data`,i))})}ge.extendErrors=bp;function Gl(t,n){let e=t.const("err",n);t.if((0,B._)`${be.default.vErrors} === null`,()=>t.assign(be.default.vErrors,(0,B._)`[${e}]`),(0,B._)`${be.default.vErrors}.push(${e})`),t.code((0,B._)`${be.default.errors}++`)}function Ql(t,n){let{gen:e,validateName:i,schemaEnv:r}=t;r.$async?e.throw((0,B._)`new ${t.ValidationError}(${n})`):(e.assign((0,B._)`${i}.errors`,n),e.return(!1))}var Kt={keyword:new B.Name("keyword"),schemaPath:new B.Name("schemaPath"),params:new B.Name("params"),propertyName:new B.Name("propertyName"),message:new B.Name("message"),schema:new B.Name("schema"),parentSchema:new B.Name("parentSchema")};function Jl(t,n,e){let{createErrors:i}=t.it;return i===!1?(0,B._)`{}`:zp(t,n,e)}function zp(t,n,e={}){let{gen:i,it:r}=t,o=[wp(r,e),Sp(t,e)];return xp(t,n,o),i.object(...o)}function wp({errorPath:t},{instancePath:n}){let e=n?(0,B.str)`${t}${(0,Vi.getErrorPath)(n,Vi.Type.Str)}`:t;return[be.default.instancePath,(0,B.strConcat)(be.default.instancePath,e)]}function Sp({keyword:t,it:{errSchemaPath:n}},{schemaPath:e,parentSchema:i}){let r=i?n:(0,B.str)`${n}/${t}`;return e&&(r=(0,B.str)`${r}${(0,Vi.getErrorPath)(e,Vi.Type.Str)}`),[Kt.schemaPath,r]}function xp(t,{params:n,message:e},i){let{keyword:r,data:o,schemaValue:a,it:s}=t,{opts:l,propertyName:c,topSchemaRef:d,schemaPath:u}=s;i.push([Kt.keyword,r],[Kt.params,typeof n=="function"?n(t):n||(0,B._)`{}`]),l.messages&&i.push([Kt.message,typeof e=="function"?e(t):e]),l.verbose&&i.push([Kt.schema,a],[Kt.parentSchema,(0,B._)`${d}${u}`],[be.default.data,o]),c&&i.push([Kt.propertyName,c])}});var Zl=x(gn=>{"use strict";Object.defineProperty(gn,"__esModule",{value:!0});gn.boolOrEmptySchema=gn.topBoolOrEmptySchema=void 0;var $p=Un(),Tp=R(),Ep=zt(),Pp={message:"boolean schema is false"};function Op(t){let{gen:n,schema:e,validateName:i}=t;e===!1?Xl(t,!1):typeof e=="object"&&e.$async===!0?n.return(Ep.default.data):(n.assign((0,Tp._)`${i}.errors`,null),n.return(!0))}gn.topBoolOrEmptySchema=Op;function Np(t,n){let{gen:e,schema:i}=t;i===!1?(e.var(n,!1),Xl(t)):e.var(n,!0)}gn.boolOrEmptySchema=Np;function Xl(t,n){let{gen:e,data:i}=t,r={gen:e,keyword:"false schema",data:i,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:t};(0,$p.reportError)(r,Pp,void 0,n)}});var co=x(yn=>{"use strict";Object.defineProperty(yn,"__esModule",{value:!0});yn.getRules=yn.isJSONType=void 0;var Mp=["string","number","integer","boolean","null","object","array"],kp=new Set(Mp);function Dp(t){return typeof t=="string"&&kp.has(t)}yn.isJSONType=Dp;function Ip(){let t={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:Z(w({},t),{integer:!0,boolean:!0,null:!0}),rules:[{rules:[]},t.number,t.string,t.array,t.object],post:{rules:[]},all:{},keywords:{}}}yn.getRules=Ip});var uo=x(Dt=>{"use strict";Object.defineProperty(Dt,"__esModule",{value:!0});Dt.shouldUseRule=Dt.shouldUseGroup=Dt.schemaHasRulesForType=void 0;function Vp({schema:t,self:n},e){let i=n.RULES.types[e];return i&&i!==!0&&Yl(t,i)}Dt.schemaHasRulesForType=Vp;function Yl(t,n){return n.rules.some(e=>ec(t,e))}Dt.shouldUseGroup=Yl;function ec(t,n){var e;return t[n.keyword]!==void 0||((e=n.definition.implements)===null||e===void 0?void 0:e.some(i=>t[i]!==void 0))}Dt.shouldUseRule=ec});var Kn=x(ye=>{"use strict";Object.defineProperty(ye,"__esModule",{value:!0});ye.reportTypeError=ye.checkDataTypes=ye.checkDataType=ye.coerceAndCheckDataType=ye.getJSONTypes=ye.getSchemaTypes=ye.DataType=void 0;var Fp=co(),Rp=uo(),jp=Un(),F=R(),tc=U(),vn=function(t){return t[t.Correct=0]="Correct",t[t.Wrong=1]="Wrong",t}(vn||(ye.DataType=vn={}));function Ap(t){let n=nc(t.type);if(n.includes("null")){if(t.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!n.length&&t.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');t.nullable===!0&&n.push("null")}return n}ye.getSchemaTypes=Ap;function nc(t){let n=Array.isArray(t)?t:t?[t]:[];if(n.every(Fp.isJSONType))return n;throw new Error("type must be JSONType or JSONType[]: "+n.join(","))}ye.getJSONTypes=nc;function qp(t,n){let{gen:e,data:i,opts:r}=t,o=Lp(n,r.coerceTypes),a=n.length>0&&!(o.length===0&&n.length===1&&(0,Rp.schemaHasRulesForType)(t,n[0]));if(a){let s=fo(n,i,r.strictNumbers,vn.Wrong);e.if(s,()=>{o.length?Wp(t,n,o):mo(t)})}return a}ye.coerceAndCheckDataType=qp;var ic=new Set(["string","number","integer","boolean","null"]);function Lp(t,n){return n?t.filter(e=>ic.has(e)||n==="array"&&e==="array"):[]}function Wp(t,n,e){let{gen:i,data:r,opts:o}=t,a=i.let("dataType",(0,F._)`typeof ${r}`),s=i.let("coerced",(0,F._)`undefined`);o.coerceTypes==="array"&&i.if((0,F._)`${a} == 'object' && Array.isArray(${r}) && ${r}.length == 1`,()=>i.assign(r,(0,F._)`${r}[0]`).assign(a,(0,F._)`typeof ${r}`).if(fo(n,r,o.strictNumbers),()=>i.assign(s,r))),i.if((0,F._)`${s} !== undefined`);for(let c of e)(ic.has(c)||c==="array"&&o.coerceTypes==="array")&&l(c);i.else(),mo(t),i.endIf(),i.if((0,F._)`${s} !== undefined`,()=>{i.assign(r,s),Bp(t,s)});function l(c){switch(c){case"string":i.elseIf((0,F._)`${a} == "number" || ${a} == "boolean"`).assign(s,(0,F._)`"" + ${r}`).elseIf((0,F._)`${r} === null`).assign(s,(0,F._)`""`);return;case"number":i.elseIf((0,F._)`${a} == "boolean" || ${r} === null
              || (${a} == "string" && ${r} && ${r} == +${r})`).assign(s,(0,F._)`+${r}`);return;case"integer":i.elseIf((0,F._)`${a} === "boolean" || ${r} === null
              || (${a} === "string" && ${r} && ${r} == +${r} && !(${r} % 1))`).assign(s,(0,F._)`+${r}`);return;case"boolean":i.elseIf((0,F._)`${r} === "false" || ${r} === 0 || ${r} === null`).assign(s,!1).elseIf((0,F._)`${r} === "true" || ${r} === 1`).assign(s,!0);return;case"null":i.elseIf((0,F._)`${r} === "" || ${r} === 0 || ${r} === false`),i.assign(s,null);return;case"array":i.elseIf((0,F._)`${a} === "string" || ${a} === "number"
              || ${a} === "boolean" || ${r} === null`).assign(s,(0,F._)`[${r}]`)}}}function Bp({gen:t,parentData:n,parentDataProperty:e},i){t.if((0,F._)`${n} !== undefined`,()=>t.assign((0,F._)`${n}[${e}]`,i))}function po(t,n,e,i=vn.Correct){let r=i===vn.Correct?F.operators.EQ:F.operators.NEQ,o;switch(t){case"null":return(0,F._)`${n} ${r} null`;case"array":o=(0,F._)`Array.isArray(${n})`;break;case"object":o=(0,F._)`${n} && typeof ${n} == "object" && !Array.isArray(${n})`;break;case"integer":o=a((0,F._)`!(${n} % 1) && !isNaN(${n})`);break;case"number":o=a();break;default:return(0,F._)`typeof ${n} ${r} ${t}`}return i===vn.Correct?o:(0,F.not)(o);function a(s=F.nil){return(0,F.and)((0,F._)`typeof ${n} == "number"`,s,e?(0,F._)`isFinite(${n})`:F.nil)}}ye.checkDataType=po;function fo(t,n,e,i){if(t.length===1)return po(t[0],n,e,i);let r,o=(0,tc.toHash)(t);if(o.array&&o.object){let a=(0,F._)`typeof ${n} != "object"`;r=o.null?a:(0,F._)`!${n} || ${a}`,delete o.null,delete o.array,delete o.object}else r=F.nil;o.number&&delete o.integer;for(let a in o)r=(0,F.and)(r,po(a,n,e,i));return r}ye.checkDataTypes=fo;var Hp={message:({schema:t})=>`must be ${t}`,params:({schema:t,schemaValue:n})=>typeof t=="string"?(0,F._)`{type: ${t}}`:(0,F._)`{type: ${n}}`};function mo(t){let n=Up(t);(0,jp.reportError)(n,Hp)}ye.reportTypeError=mo;function Up(t){let{gen:n,data:e,schema:i}=t,r=(0,tc.schemaRefOrVal)(t,i,"type");return{gen:n,keyword:"type",data:e,schema:i.type,schemaCode:r,schemaValue:r,parentSchema:i,params:{},it:t}}});var oc=x(Fi=>{"use strict";Object.defineProperty(Fi,"__esModule",{value:!0});Fi.assignDefaults=void 0;var Cn=R(),Kp=U();function Gp(t,n){let{properties:e,items:i}=t.schema;if(n==="object"&&e)for(let r in e)rc(t,r,e[r].default);else n==="array"&&Array.isArray(i)&&i.forEach((r,o)=>rc(t,o,r.default))}Fi.assignDefaults=Gp;function rc(t,n,e){let{gen:i,compositeRule:r,data:o,opts:a}=t;if(e===void 0)return;let s=(0,Cn._)`${o}${(0,Cn.getProperty)(n)}`;if(r){(0,Kp.checkStrictMode)(t,`default is ignored for: ${s}`);return}let l=(0,Cn._)`${s} === undefined`;a.useDefaults==="empty"&&(l=(0,Cn._)`${l} || ${s} === null || ${s} === ""`),i.if(l,(0,Cn._)`${s} = ${(0,Cn.stringify)(e)}`)}});var We=x(X=>{"use strict";Object.defineProperty(X,"__esModule",{value:!0});X.validateUnion=X.validateArray=X.usePattern=X.callValidateCode=X.schemaProperties=X.allSchemaProperties=X.noPropertyInData=X.propertyInData=X.isOwnProperty=X.hasPropFunc=X.reportMissingProp=X.checkMissingProp=X.checkReportMissingProp=void 0;var te=R(),ho=U(),It=zt(),Qp=U();function Jp(t,n){let{gen:e,data:i,it:r}=t;e.if(go(e,i,n,r.opts.ownProperties),()=>{t.setParams({missingProperty:(0,te._)`${n}`},!0),t.error()})}X.checkReportMissingProp=Jp;function Xp({gen:t,data:n,it:{opts:e}},i,r){return(0,te.or)(...i.map(o=>(0,te.and)(go(t,n,o,e.ownProperties),(0,te._)`${r} = ${o}`)))}X.checkMissingProp=Xp;function Zp(t,n){t.setParams({missingProperty:n},!0),t.error()}X.reportMissingProp=Zp;function ac(t){return t.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,te._)`Object.prototype.hasOwnProperty`})}X.hasPropFunc=ac;function _o(t,n,e){return(0,te._)`${ac(t)}.call(${n}, ${e})`}X.isOwnProperty=_o;function Yp(t,n,e,i){let r=(0,te._)`${n}${(0,te.getProperty)(e)} !== undefined`;return i?(0,te._)`${r} && ${_o(t,n,e)}`:r}X.propertyInData=Yp;function go(t,n,e,i){let r=(0,te._)`${n}${(0,te.getProperty)(e)} === undefined`;return i?(0,te.or)(r,(0,te.not)(_o(t,n,e))):r}X.noPropertyInData=go;function sc(t){return t?Object.keys(t).filter(n=>n!=="__proto__"):[]}X.allSchemaProperties=sc;function ef(t,n){return sc(n).filter(e=>!(0,ho.alwaysValidSchema)(t,n[e]))}X.schemaProperties=ef;function tf({schemaCode:t,data:n,it:{gen:e,topSchemaRef:i,schemaPath:r,errorPath:o},it:a},s,l,c){let d=c?(0,te._)`${t}, ${n}, ${i}${r}`:n,u=[[It.default.instancePath,(0,te.strConcat)(It.default.instancePath,o)],[It.default.parentData,a.parentData],[It.default.parentDataProperty,a.parentDataProperty],[It.default.rootData,It.default.rootData]];a.opts.dynamicRef&&u.push([It.default.dynamicAnchors,It.default.dynamicAnchors]);let g=(0,te._)`${d}, ${e.object(...u)}`;return l!==te.nil?(0,te._)`${s}.call(${l}, ${g})`:(0,te._)`${s}(${g})`}X.callValidateCode=tf;var nf=(0,te._)`new RegExp`;function rf({gen:t,it:{opts:n}},e){let i=n.unicodeRegExp?"u":"",{regExp:r}=n.code,o=r(e,i);return t.scopeValue("pattern",{key:o.toString(),ref:o,code:(0,te._)`${r.code==="new RegExp"?nf:(0,Qp.useFunc)(t,r)}(${e}, ${i})`})}X.usePattern=rf;function of(t){let{gen:n,data:e,keyword:i,it:r}=t,o=n.name("valid");if(r.allErrors){let s=n.let("valid",!0);return a(()=>n.assign(s,!1)),s}return n.var(o,!0),a(()=>n.break()),o;function a(s){let l=n.const("len",(0,te._)`${e}.length`);n.forRange("i",0,l,c=>{t.subschema({keyword:i,dataProp:c,dataPropType:ho.Type.Num},o),n.if((0,te.not)(o),s)})}}X.validateArray=of;function af(t){let{gen:n,schema:e,keyword:i,it:r}=t;if(!Array.isArray(e))throw new Error("ajv implementation error");if(e.some(l=>(0,ho.alwaysValidSchema)(r,l))&&!r.opts.unevaluated)return;let a=n.let("valid",!1),s=n.name("_valid");n.block(()=>e.forEach((l,c)=>{let d=t.subschema({keyword:i,schemaProp:c,compositeRule:!0},s);n.assign(a,(0,te._)`${a} || ${s}`),t.mergeValidEvaluated(d,s)||n.if((0,te.not)(a))})),t.result(a,()=>t.reset(),()=>t.error(!0))}X.validateUnion=af});var dc=x(st=>{"use strict";Object.defineProperty(st,"__esModule",{value:!0});st.validateKeywordUsage=st.validSchemaType=st.funcKeywordCode=st.macroKeywordCode=void 0;var ze=R(),Gt=zt(),sf=We(),lf=Un();function cf(t,n){let{gen:e,keyword:i,schema:r,parentSchema:o,it:a}=t,s=n.macro.call(a.self,r,o,a),l=cc(e,i,s);a.opts.validateSchema!==!1&&a.self.validateSchema(s,!0);let c=e.name("valid");t.subschema({schema:s,schemaPath:ze.nil,errSchemaPath:`${a.errSchemaPath}/${i}`,topSchemaRef:l,compositeRule:!0},c),t.pass(c,()=>t.error(!0))}st.macroKeywordCode=cf;function df(t,n){var e;let{gen:i,keyword:r,schema:o,parentSchema:a,$data:s,it:l}=t;pf(l,n);let c=!s&&n.compile?n.compile.call(l.self,o,a,l):n.validate,d=cc(i,r,c),u=i.let("valid");t.block$data(u,g),t.ok((e=n.valid)!==null&&e!==void 0?e:u);function g(){if(n.errors===!1)v(),n.modifying&&lc(t),m(()=>t.error());else{let z=n.async?y():h();n.modifying&&lc(t),m(()=>uf(t,z))}}function y(){let z=i.let("ruleErrs",null);return i.try(()=>v((0,ze._)`await `),D=>i.assign(u,!1).if((0,ze._)`${D} instanceof ${l.ValidationError}`,()=>i.assign(z,(0,ze._)`${D}.errors`),()=>i.throw(D))),z}function h(){let z=(0,ze._)`${d}.errors`;return i.assign(z,null),v(ze.nil),z}function v(z=n.async?(0,ze._)`await `:ze.nil){let D=l.opts.passContext?Gt.default.this:Gt.default.self,I=!("compile"in n&&!s||n.schema===!1);i.assign(u,(0,ze._)`${z}${(0,sf.callValidateCode)(t,d,D,I)}`,n.modifying)}function m(z){var D;i.if((0,ze.not)((D=n.valid)!==null&&D!==void 0?D:u),z)}}st.funcKeywordCode=df;function lc(t){let{gen:n,data:e,it:i}=t;n.if(i.parentData,()=>n.assign(e,(0,ze._)`${i.parentData}[${i.parentDataProperty}]`))}function uf(t,n){let{gen:e}=t;e.if((0,ze._)`Array.isArray(${n})`,()=>{e.assign(Gt.default.vErrors,(0,ze._)`${Gt.default.vErrors} === null ? ${n} : ${Gt.default.vErrors}.concat(${n})`).assign(Gt.default.errors,(0,ze._)`${Gt.default.vErrors}.length`),(0,lf.extendErrors)(t)},()=>t.error())}function pf({schemaEnv:t},n){if(n.async&&!t.$async)throw new Error("async keyword in sync schema")}function cc(t,n,e){if(e===void 0)throw new Error(`keyword "${n}" failed to compile`);return t.scopeValue("keyword",typeof e=="function"?{ref:e}:{ref:e,code:(0,ze.stringify)(e)})}function ff(t,n,e=!1){return!n.length||n.some(i=>i==="array"?Array.isArray(t):i==="object"?t&&typeof t=="object"&&!Array.isArray(t):typeof t==i||e&&typeof t>"u")}st.validSchemaType=ff;function mf({schema:t,opts:n,self:e,errSchemaPath:i},r,o){if(Array.isArray(r.keyword)?!r.keyword.includes(o):r.keyword!==o)throw new Error("ajv implementation error");let a=r.dependencies;if(a?.some(s=>!Object.prototype.hasOwnProperty.call(t,s)))throw new Error(`parent schema must have dependencies of ${o}: ${a.join(",")}`);if(r.validateSchema&&!r.validateSchema(t[o])){let l=`keyword "${o}" value is invalid at path "${i}": `+e.errorsText(r.validateSchema.errors);if(n.validateSchema==="log")e.logger.error(l);else throw new Error(l)}}st.validateKeywordUsage=mf});var pc=x(Vt=>{"use strict";Object.defineProperty(Vt,"__esModule",{value:!0});Vt.extendSubschemaMode=Vt.extendSubschemaData=Vt.getSubschema=void 0;var lt=R(),uc=U();function hf(t,{keyword:n,schemaProp:e,schema:i,schemaPath:r,errSchemaPath:o,topSchemaRef:a}){if(n!==void 0&&i!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(n!==void 0){let s=t.schema[n];return e===void 0?{schema:s,schemaPath:(0,lt._)`${t.schemaPath}${(0,lt.getProperty)(n)}`,errSchemaPath:`${t.errSchemaPath}/${n}`}:{schema:s[e],schemaPath:(0,lt._)`${t.schemaPath}${(0,lt.getProperty)(n)}${(0,lt.getProperty)(e)}`,errSchemaPath:`${t.errSchemaPath}/${n}/${(0,uc.escapeFragment)(e)}`}}if(i!==void 0){if(r===void 0||o===void 0||a===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:i,schemaPath:r,topSchemaRef:a,errSchemaPath:o}}throw new Error('either "keyword" or "schema" must be passed')}Vt.getSubschema=hf;function _f(t,n,{dataProp:e,dataPropType:i,data:r,dataTypes:o,propertyName:a}){if(r!==void 0&&e!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');let{gen:s}=n;if(e!==void 0){let{errorPath:c,dataPathArr:d,opts:u}=n,g=s.let("data",(0,lt._)`${n.data}${(0,lt.getProperty)(e)}`,!0);l(g),t.errorPath=(0,lt.str)`${c}${(0,uc.getErrorPath)(e,i,u.jsPropertySyntax)}`,t.parentDataProperty=(0,lt._)`${e}`,t.dataPathArr=[...d,t.parentDataProperty]}if(r!==void 0){let c=r instanceof lt.Name?r:s.let("data",r,!0);l(c),a!==void 0&&(t.propertyName=a)}o&&(t.dataTypes=o);function l(c){t.data=c,t.dataLevel=n.dataLevel+1,t.dataTypes=[],n.definedProperties=new Set,t.parentData=n.data,t.dataNames=[...n.dataNames,c]}}Vt.extendSubschemaData=_f;function gf(t,{jtdDiscriminator:n,jtdMetadata:e,compositeRule:i,createErrors:r,allErrors:o}){i!==void 0&&(t.compositeRule=i),r!==void 0&&(t.createErrors=r),o!==void 0&&(t.allErrors=o),t.jtdDiscriminator=n,t.jtdMetadata=e}Vt.extendSubschemaMode=gf});var yo=x((EC,fc)=>{"use strict";fc.exports=function t(n,e){if(n===e)return!0;if(n&&e&&typeof n=="object"&&typeof e=="object"){if(n.constructor!==e.constructor)return!1;var i,r,o;if(Array.isArray(n)){if(i=n.length,i!=e.length)return!1;for(r=i;r--!==0;)if(!t(n[r],e[r]))return!1;return!0}if(n.constructor===RegExp)return n.source===e.source&&n.flags===e.flags;if(n.valueOf!==Object.prototype.valueOf)return n.valueOf()===e.valueOf();if(n.toString!==Object.prototype.toString)return n.toString()===e.toString();if(o=Object.keys(n),i=o.length,i!==Object.keys(e).length)return!1;for(r=i;r--!==0;)if(!Object.prototype.hasOwnProperty.call(e,o[r]))return!1;for(r=i;r--!==0;){var a=o[r];if(!t(n[a],e[a]))return!1}return!0}return n!==n&&e!==e}});var hc=x((PC,mc)=>{"use strict";var Ft=mc.exports=function(t,n,e){typeof n=="function"&&(e=n,n={}),e=n.cb||e;var i=typeof e=="function"?e:e.pre||function(){},r=e.post||function(){};Ri(n,i,r,t,"",t)};Ft.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};Ft.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};Ft.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};Ft.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function Ri(t,n,e,i,r,o,a,s,l,c){if(i&&typeof i=="object"&&!Array.isArray(i)){n(i,r,o,a,s,l,c);for(var d in i){var u=i[d];if(Array.isArray(u)){if(d in Ft.arrayKeywords)for(var g=0;g<u.length;g++)Ri(t,n,e,u[g],r+"/"+d+"/"+g,o,r,d,i,g)}else if(d in Ft.propsKeywords){if(u&&typeof u=="object")for(var y in u)Ri(t,n,e,u[y],r+"/"+d+"/"+yf(y),o,r,d,i,y)}else(d in Ft.keywords||t.allKeys&&!(d in Ft.skipKeywords))&&Ri(t,n,e,u,r+"/"+d,o,r,d,i)}e(i,r,o,a,s,l,c)}}function yf(t){return t.replace(/~/g,"~0").replace(/\//g,"~1")}});var Gn=x(Ne=>{"use strict";Object.defineProperty(Ne,"__esModule",{value:!0});Ne.getSchemaRefs=Ne.resolveUrl=Ne.normalizeId=Ne._getFullPath=Ne.getFullPath=Ne.inlineRef=void 0;var vf=U(),Cf=yo(),bf=hc(),zf=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function wf(t,n=!0){return typeof t=="boolean"?!0:n===!0?!vo(t):n?_c(t)<=n:!1}Ne.inlineRef=wf;var Sf=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function vo(t){for(let n in t){if(Sf.has(n))return!0;let e=t[n];if(Array.isArray(e)&&e.some(vo)||typeof e=="object"&&vo(e))return!0}return!1}function _c(t){let n=0;for(let e in t){if(e==="$ref")return 1/0;if(n++,!zf.has(e)&&(typeof t[e]=="object"&&(0,vf.eachItem)(t[e],i=>n+=_c(i)),n===1/0))return 1/0}return n}function gc(t,n="",e){e!==!1&&(n=bn(n));let i=t.parse(n);return yc(t,i)}Ne.getFullPath=gc;function yc(t,n){return t.serialize(n).split("#")[0]+"#"}Ne._getFullPath=yc;var xf=/#\/?$/;function bn(t){return t?t.replace(xf,""):""}Ne.normalizeId=bn;function $f(t,n,e){return e=bn(e),t.resolve(n,e)}Ne.resolveUrl=$f;var Tf=/^[a-z_][-a-z0-9._]*$/i;function Ef(t,n){if(typeof t=="boolean")return{};let{schemaId:e,uriResolver:i}=this.opts,r=bn(t[e]||n),o={"":r},a=gc(i,r,!1),s={},l=new Set;return bf(t,{allKeys:!0},(u,g,y,h)=>{if(h===void 0)return;let v=a+g,m=o[h];typeof u[e]=="string"&&(m=z.call(this,u[e])),D.call(this,u.$anchor),D.call(this,u.$dynamicAnchor),o[g]=m;function z(I){let ee=this.opts.uriResolver.resolve;if(I=bn(m?ee(m,I):I),l.has(I))throw d(I);l.add(I);let k=this.refs[I];return typeof k=="string"&&(k=this.refs[k]),typeof k=="object"?c(u,k.schema,I):I!==bn(v)&&(I[0]==="#"?(c(u,s[I],I),s[I]=u):this.refs[I]=v),I}function D(I){if(typeof I=="string"){if(!Tf.test(I))throw new Error(`invalid anchor "${I}"`);z.call(this,`#${I}`)}}}),s;function c(u,g,y){if(g!==void 0&&!Cf(u,g))throw d(y)}function d(u){return new Error(`reference "${u}" resolves to more than one schema`)}}Ne.getSchemaRefs=Ef});var Xn=x(Rt=>{"use strict";Object.defineProperty(Rt,"__esModule",{value:!0});Rt.getData=Rt.KeywordCxt=Rt.validateFunctionCode=void 0;var wc=Zl(),vc=Kn(),bo=uo(),ji=Kn(),Pf=oc(),Jn=dc(),Co=pc(),E=R(),M=zt(),Of=Gn(),wt=U(),Qn=Un();function Nf(t){if($c(t)&&(Tc(t),xc(t))){Df(t);return}Sc(t,()=>(0,wc.topBoolOrEmptySchema)(t))}Rt.validateFunctionCode=Nf;function Sc({gen:t,validateName:n,schema:e,schemaEnv:i,opts:r},o){r.code.es5?t.func(n,(0,E._)`${M.default.data}, ${M.default.valCxt}`,i.$async,()=>{t.code((0,E._)`"use strict"; ${Cc(e,r)}`),kf(t,r),t.code(o)}):t.func(n,(0,E._)`${M.default.data}, ${Mf(r)}`,i.$async,()=>t.code(Cc(e,r)).code(o))}function Mf(t){return(0,E._)`{${M.default.instancePath}="", ${M.default.parentData}, ${M.default.parentDataProperty}, ${M.default.rootData}=${M.default.data}${t.dynamicRef?(0,E._)`, ${M.default.dynamicAnchors}={}`:E.nil}}={}`}function kf(t,n){t.if(M.default.valCxt,()=>{t.var(M.default.instancePath,(0,E._)`${M.default.valCxt}.${M.default.instancePath}`),t.var(M.default.parentData,(0,E._)`${M.default.valCxt}.${M.default.parentData}`),t.var(M.default.parentDataProperty,(0,E._)`${M.default.valCxt}.${M.default.parentDataProperty}`),t.var(M.default.rootData,(0,E._)`${M.default.valCxt}.${M.default.rootData}`),n.dynamicRef&&t.var(M.default.dynamicAnchors,(0,E._)`${M.default.valCxt}.${M.default.dynamicAnchors}`)},()=>{t.var(M.default.instancePath,(0,E._)`""`),t.var(M.default.parentData,(0,E._)`undefined`),t.var(M.default.parentDataProperty,(0,E._)`undefined`),t.var(M.default.rootData,M.default.data),n.dynamicRef&&t.var(M.default.dynamicAnchors,(0,E._)`{}`)})}function Df(t){let{schema:n,opts:e,gen:i}=t;Sc(t,()=>{e.$comment&&n.$comment&&Pc(t),jf(t),i.let(M.default.vErrors,null),i.let(M.default.errors,0),e.unevaluated&&If(t),Ec(t),Lf(t)})}function If(t){let{gen:n,validateName:e}=t;t.evaluated=n.const("evaluated",(0,E._)`${e}.evaluated`),n.if((0,E._)`${t.evaluated}.dynamicProps`,()=>n.assign((0,E._)`${t.evaluated}.props`,(0,E._)`undefined`)),n.if((0,E._)`${t.evaluated}.dynamicItems`,()=>n.assign((0,E._)`${t.evaluated}.items`,(0,E._)`undefined`))}function Cc(t,n){let e=typeof t=="object"&&t[n.schemaId];return e&&(n.code.source||n.code.process)?(0,E._)`/*# sourceURL=${e} */`:E.nil}function Vf(t,n){if($c(t)&&(Tc(t),xc(t))){Ff(t,n);return}(0,wc.boolOrEmptySchema)(t,n)}function xc({schema:t,self:n}){if(typeof t=="boolean")return!t;for(let e in t)if(n.RULES.all[e])return!0;return!1}function $c(t){return typeof t.schema!="boolean"}function Ff(t,n){let{schema:e,gen:i,opts:r}=t;r.$comment&&e.$comment&&Pc(t),Af(t),qf(t);let o=i.const("_errs",M.default.errors);Ec(t,o),i.var(n,(0,E._)`${o} === ${M.default.errors}`)}function Tc(t){(0,wt.checkUnknownRules)(t),Rf(t)}function Ec(t,n){if(t.opts.jtd)return bc(t,[],!1,n);let e=(0,vc.getSchemaTypes)(t.schema),i=(0,vc.coerceAndCheckDataType)(t,e);bc(t,e,!i,n)}function Rf(t){let{schema:n,errSchemaPath:e,opts:i,self:r}=t;n.$ref&&i.ignoreKeywordsWithRef&&(0,wt.schemaHasRulesButRef)(n,r.RULES)&&r.logger.warn(`$ref: keywords ignored in schema at path "${e}"`)}function jf(t){let{schema:n,opts:e}=t;n.default!==void 0&&e.useDefaults&&e.strictSchema&&(0,wt.checkStrictMode)(t,"default is ignored in the schema root")}function Af(t){let n=t.schema[t.opts.schemaId];n&&(t.baseId=(0,Of.resolveUrl)(t.opts.uriResolver,t.baseId,n))}function qf(t){if(t.schema.$async&&!t.schemaEnv.$async)throw new Error("async schema in sync schema")}function Pc({gen:t,schemaEnv:n,schema:e,errSchemaPath:i,opts:r}){let o=e.$comment;if(r.$comment===!0)t.code((0,E._)`${M.default.self}.logger.log(${o})`);else if(typeof r.$comment=="function"){let a=(0,E.str)`${i}/$comment`,s=t.scopeValue("root",{ref:n.root});t.code((0,E._)`${M.default.self}.opts.$comment(${o}, ${a}, ${s}.schema)`)}}function Lf(t){let{gen:n,schemaEnv:e,validateName:i,ValidationError:r,opts:o}=t;e.$async?n.if((0,E._)`${M.default.errors} === 0`,()=>n.return(M.default.data),()=>n.throw((0,E._)`new ${r}(${M.default.vErrors})`)):(n.assign((0,E._)`${i}.errors`,M.default.vErrors),o.unevaluated&&Wf(t),n.return((0,E._)`${M.default.errors} === 0`))}function Wf({gen:t,evaluated:n,props:e,items:i}){e instanceof E.Name&&t.assign((0,E._)`${n}.props`,e),i instanceof E.Name&&t.assign((0,E._)`${n}.items`,i)}function bc(t,n,e,i){let{gen:r,schema:o,data:a,allErrors:s,opts:l,self:c}=t,{RULES:d}=c;if(o.$ref&&(l.ignoreKeywordsWithRef||!(0,wt.schemaHasRulesButRef)(o,d))){r.block(()=>Nc(t,"$ref",d.all.$ref.definition));return}l.jtd||Bf(t,n),r.block(()=>{for(let g of d.rules)u(g);u(d.post)});function u(g){(0,bo.shouldUseGroup)(o,g)&&(g.type?(r.if((0,ji.checkDataType)(g.type,a,l.strictNumbers)),zc(t,g),n.length===1&&n[0]===g.type&&e&&(r.else(),(0,ji.reportTypeError)(t)),r.endIf()):zc(t,g),s||r.if((0,E._)`${M.default.errors} === ${i||0}`))}}function zc(t,n){let{gen:e,schema:i,opts:{useDefaults:r}}=t;r&&(0,Pf.assignDefaults)(t,n.type),e.block(()=>{for(let o of n.rules)(0,bo.shouldUseRule)(i,o)&&Nc(t,o.keyword,o.definition,n.type)})}function Bf(t,n){t.schemaEnv.meta||!t.opts.strictTypes||(Hf(t,n),t.opts.allowUnionTypes||Uf(t,n),Kf(t,t.dataTypes))}function Hf(t,n){if(n.length){if(!t.dataTypes.length){t.dataTypes=n;return}n.forEach(e=>{Oc(t.dataTypes,e)||zo(t,`type "${e}" not allowed by context "${t.dataTypes.join(",")}"`)}),Qf(t,n)}}function Uf(t,n){n.length>1&&!(n.length===2&&n.includes("null"))&&zo(t,"use allowUnionTypes to allow union type keyword")}function Kf(t,n){let e=t.self.RULES.all;for(let i in e){let r=e[i];if(typeof r=="object"&&(0,bo.shouldUseRule)(t.schema,r)){let{type:o}=r.definition;o.length&&!o.some(a=>Gf(n,a))&&zo(t,`missing type "${o.join(",")}" for keyword "${i}"`)}}}function Gf(t,n){return t.includes(n)||n==="number"&&t.includes("integer")}function Oc(t,n){return t.includes(n)||n==="integer"&&t.includes("number")}function Qf(t,n){let e=[];for(let i of t.dataTypes)Oc(n,i)?e.push(i):n.includes("integer")&&i==="number"&&e.push("integer");t.dataTypes=e}function zo(t,n){let e=t.schemaEnv.baseId+t.errSchemaPath;n+=` at "${e}" (strictTypes)`,(0,wt.checkStrictMode)(t,n,t.opts.strictTypes)}var Ai=class{constructor(n,e,i){if((0,Jn.validateKeywordUsage)(n,e,i),this.gen=n.gen,this.allErrors=n.allErrors,this.keyword=i,this.data=n.data,this.schema=n.schema[i],this.$data=e.$data&&n.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,wt.schemaRefOrVal)(n,this.schema,i,this.$data),this.schemaType=e.schemaType,this.parentSchema=n.schema,this.params={},this.it=n,this.def=e,this.$data)this.schemaCode=n.gen.const("vSchema",Mc(this.$data,n));else if(this.schemaCode=this.schemaValue,!(0,Jn.validSchemaType)(this.schema,e.schemaType,e.allowUndefined))throw new Error(`${i} value must be ${JSON.stringify(e.schemaType)}`);("code"in e?e.trackErrors:e.errors!==!1)&&(this.errsCount=n.gen.const("_errs",M.default.errors))}result(n,e,i){this.failResult((0,E.not)(n),e,i)}failResult(n,e,i){this.gen.if(n),i?i():this.error(),e?(this.gen.else(),e(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(n,e){this.failResult((0,E.not)(n),void 0,e)}fail(n){if(n===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(n),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(n){if(!this.$data)return this.fail(n);let{schemaCode:e}=this;this.fail((0,E._)`${e} !== undefined && (${(0,E.or)(this.invalid$data(),n)})`)}error(n,e,i){if(e){this.setParams(e),this._error(n,i),this.setParams({});return}this._error(n,i)}_error(n,e){(n?Qn.reportExtraError:Qn.reportError)(this,this.def.error,e)}$dataError(){(0,Qn.reportError)(this,this.def.$dataError||Qn.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,Qn.resetErrorsCount)(this.gen,this.errsCount)}ok(n){this.allErrors||this.gen.if(n)}setParams(n,e){e?Object.assign(this.params,n):this.params=n}block$data(n,e,i=E.nil){this.gen.block(()=>{this.check$data(n,i),e()})}check$data(n=E.nil,e=E.nil){if(!this.$data)return;let{gen:i,schemaCode:r,schemaType:o,def:a}=this;i.if((0,E.or)((0,E._)`${r} === undefined`,e)),n!==E.nil&&i.assign(n,!0),(o.length||a.validateSchema)&&(i.elseIf(this.invalid$data()),this.$dataError(),n!==E.nil&&i.assign(n,!1)),i.else()}invalid$data(){let{gen:n,schemaCode:e,schemaType:i,def:r,it:o}=this;return(0,E.or)(a(),s());function a(){if(i.length){if(!(e instanceof E.Name))throw new Error("ajv implementation error");let l=Array.isArray(i)?i:[i];return(0,E._)`${(0,ji.checkDataTypes)(l,e,o.opts.strictNumbers,ji.DataType.Wrong)}`}return E.nil}function s(){if(r.validateSchema){let l=n.scopeValue("validate$data",{ref:r.validateSchema});return(0,E._)`!${l}(${e})`}return E.nil}}subschema(n,e){let i=(0,Co.getSubschema)(this.it,n);(0,Co.extendSubschemaData)(i,this.it,n),(0,Co.extendSubschemaMode)(i,n);let r=Z(w(w({},this.it),i),{items:void 0,props:void 0});return Vf(r,e),r}mergeEvaluated(n,e){let{it:i,gen:r}=this;i.opts.unevaluated&&(i.props!==!0&&n.props!==void 0&&(i.props=wt.mergeEvaluated.props(r,n.props,i.props,e)),i.items!==!0&&n.items!==void 0&&(i.items=wt.mergeEvaluated.items(r,n.items,i.items,e)))}mergeValidEvaluated(n,e){let{it:i,gen:r}=this;if(i.opts.unevaluated&&(i.props!==!0||i.items!==!0))return r.if(e,()=>this.mergeEvaluated(n,E.Name)),!0}};Rt.KeywordCxt=Ai;function Nc(t,n,e,i){let r=new Ai(t,e,n);"code"in e?e.code(r,i):r.$data&&e.validate?(0,Jn.funcKeywordCode)(r,e):"macro"in e?(0,Jn.macroKeywordCode)(r,e):(e.compile||e.validate)&&(0,Jn.funcKeywordCode)(r,e)}var Jf=/^\/(?:[^~]|~0|~1)*$/,Xf=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function Mc(t,{dataLevel:n,dataNames:e,dataPathArr:i}){let r,o;if(t==="")return M.default.rootData;if(t[0]==="/"){if(!Jf.test(t))throw new Error(`Invalid JSON-pointer: ${t}`);r=t,o=M.default.rootData}else{let c=Xf.exec(t);if(!c)throw new Error(`Invalid JSON-pointer: ${t}`);let d=+c[1];if(r=c[2],r==="#"){if(d>=n)throw new Error(l("property/index",d));return i[n-d]}if(d>n)throw new Error(l("data",d));if(o=e[n-d],!r)return o}let a=o,s=r.split("/");for(let c of s)c&&(o=(0,E._)`${o}${(0,E.getProperty)((0,wt.unescapeJsonPointer)(c))}`,a=(0,E._)`${a} && ${o}`);return a;function l(c,d){return`Cannot access ${c} ${d} levels up, current level is ${n}`}}Rt.getData=Mc});var qi=x(So=>{"use strict";Object.defineProperty(So,"__esModule",{value:!0});var wo=class extends Error{constructor(n){super("validation failed"),this.errors=n,this.ajv=this.validation=!0}};So.default=wo});var Zn=x(To=>{"use strict";Object.defineProperty(To,"__esModule",{value:!0});var xo=Gn(),$o=class extends Error{constructor(n,e,i,r){super(r||`can't resolve reference ${i} from id ${e}`),this.missingRef=(0,xo.resolveUrl)(n,e,i),this.missingSchema=(0,xo.normalizeId)((0,xo.getFullPath)(n,this.missingRef))}};To.default=$o});var Wi=x(Be=>{"use strict";Object.defineProperty(Be,"__esModule",{value:!0});Be.resolveSchema=Be.getCompilingSchema=Be.resolveRef=Be.compileSchema=Be.SchemaEnv=void 0;var Ye=R(),Zf=qi(),Qt=zt(),et=Gn(),kc=U(),Yf=Xn(),zn=class{constructor(n){var e;this.refs={},this.dynamicAnchors={};let i;typeof n.schema=="object"&&(i=n.schema),this.schema=n.schema,this.schemaId=n.schemaId,this.root=n.root||this,this.baseId=(e=n.baseId)!==null&&e!==void 0?e:(0,et.normalizeId)(i?.[n.schemaId||"$id"]),this.schemaPath=n.schemaPath,this.localRefs=n.localRefs,this.meta=n.meta,this.$async=i?.$async,this.refs={}}};Be.SchemaEnv=zn;function Po(t){let n=Dc.call(this,t);if(n)return n;let e=(0,et.getFullPath)(this.opts.uriResolver,t.root.baseId),{es5:i,lines:r}=this.opts.code,{ownProperties:o}=this.opts,a=new Ye.CodeGen(this.scope,{es5:i,lines:r,ownProperties:o}),s;t.$async&&(s=a.scopeValue("Error",{ref:Zf.default,code:(0,Ye._)`require("ajv/dist/runtime/validation_error").default`}));let l=a.scopeName("validate");t.validateName=l;let c={gen:a,allErrors:this.opts.allErrors,data:Qt.default.data,parentData:Qt.default.parentData,parentDataProperty:Qt.default.parentDataProperty,dataNames:[Qt.default.data],dataPathArr:[Ye.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:a.scopeValue("schema",this.opts.code.source===!0?{ref:t.schema,code:(0,Ye.stringify)(t.schema)}:{ref:t.schema}),validateName:l,ValidationError:s,schema:t.schema,schemaEnv:t,rootId:e,baseId:t.baseId||e,schemaPath:Ye.nil,errSchemaPath:t.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,Ye._)`""`,opts:this.opts,self:this},d;try{this._compilations.add(t),(0,Yf.validateFunctionCode)(c),a.optimize(this.opts.code.optimize);let u=a.toString();d=`${a.scopeRefs(Qt.default.scope)}return ${u}`,this.opts.code.process&&(d=this.opts.code.process(d,t));let y=new Function(`${Qt.default.self}`,`${Qt.default.scope}`,d)(this,this.scope.get());if(this.scope.value(l,{ref:y}),y.errors=null,y.schema=t.schema,y.schemaEnv=t,t.$async&&(y.$async=!0),this.opts.code.source===!0&&(y.source={validateName:l,validateCode:u,scopeValues:a._values}),this.opts.unevaluated){let{props:h,items:v}=c;y.evaluated={props:h instanceof Ye.Name?void 0:h,items:v instanceof Ye.Name?void 0:v,dynamicProps:h instanceof Ye.Name,dynamicItems:v instanceof Ye.Name},y.source&&(y.source.evaluated=(0,Ye.stringify)(y.evaluated))}return t.validate=y,t}catch(u){throw delete t.validate,delete t.validateName,d&&this.logger.error("Error compiling schema, function code:",d),u}finally{this._compilations.delete(t)}}Be.compileSchema=Po;function em(t,n,e){var i;e=(0,et.resolveUrl)(this.opts.uriResolver,n,e);let r=t.refs[e];if(r)return r;let o=im.call(this,t,e);if(o===void 0){let a=(i=t.localRefs)===null||i===void 0?void 0:i[e],{schemaId:s}=this.opts;a&&(o=new zn({schema:a,schemaId:s,root:t,baseId:n}))}if(o!==void 0)return t.refs[e]=tm.call(this,o)}Be.resolveRef=em;function tm(t){return(0,et.inlineRef)(t.schema,this.opts.inlineRefs)?t.schema:t.validate?t:Po.call(this,t)}function Dc(t){for(let n of this._compilations)if(nm(n,t))return n}Be.getCompilingSchema=Dc;function nm(t,n){return t.schema===n.schema&&t.root===n.root&&t.baseId===n.baseId}function im(t,n){let e;for(;typeof(e=this.refs[n])=="string";)n=e;return e||this.schemas[n]||Li.call(this,t,n)}function Li(t,n){let e=this.opts.uriResolver.parse(n),i=(0,et._getFullPath)(this.opts.uriResolver,e),r=(0,et.getFullPath)(this.opts.uriResolver,t.baseId,void 0);if(Object.keys(t.schema).length>0&&i===r)return Eo.call(this,e,t);let o=(0,et.normalizeId)(i),a=this.refs[o]||this.schemas[o];if(typeof a=="string"){let s=Li.call(this,t,a);return typeof s?.schema!="object"?void 0:Eo.call(this,e,s)}if(typeof a?.schema=="object"){if(a.validate||Po.call(this,a),o===(0,et.normalizeId)(n)){let{schema:s}=a,{schemaId:l}=this.opts,c=s[l];return c&&(r=(0,et.resolveUrl)(this.opts.uriResolver,r,c)),new zn({schema:s,schemaId:l,root:t,baseId:r})}return Eo.call(this,e,a)}}Be.resolveSchema=Li;var rm=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function Eo(t,{baseId:n,schema:e,root:i}){var r;if(((r=t.fragment)===null||r===void 0?void 0:r[0])!=="/")return;for(let s of t.fragment.slice(1).split("/")){if(typeof e=="boolean")return;let l=e[(0,kc.unescapeFragment)(s)];if(l===void 0)return;e=l;let c=typeof e=="object"&&e[this.opts.schemaId];!rm.has(s)&&c&&(n=(0,et.resolveUrl)(this.opts.uriResolver,n,c))}let o;if(typeof e!="boolean"&&e.$ref&&!(0,kc.schemaHasRulesButRef)(e,this.RULES)){let s=(0,et.resolveUrl)(this.opts.uriResolver,n,e.$ref);o=Li.call(this,i,s)}let{schemaId:a}=this.opts;if(o=o||new zn({schema:e,schemaId:a,root:i,baseId:n}),o.schema!==o.root.schema)return o}});var Ic=x((VC,om)=>{om.exports={$id:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON AnySchema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1}});var Fc=x((FC,Vc)=>{"use strict";var am={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};Vc.exports={HEX:am}});var Hc=x((RC,Bc)=>{"use strict";var{HEX:sm}=Fc(),lm=/^(?:(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)$/u;function qc(t){if(Wc(t,".")<3)return{host:t,isIPV4:!1};let n=t.match(lm)||[],[e]=n;return e?{host:dm(e,"."),isIPV4:!0}:{host:t,isIPV4:!1}}function Oo(t,n=!1){let e="",i=!0;for(let r of t){if(sm[r]===void 0)return;r!=="0"&&i===!0&&(i=!1),i||(e+=r)}return n&&e.length===0&&(e="0"),e}function cm(t){let n=0,e={error:!1,address:"",zone:""},i=[],r=[],o=!1,a=!1,s=!1;function l(){if(r.length){if(o===!1){let c=Oo(r);if(c!==void 0)i.push(c);else return e.error=!0,!1}r.length=0}return!0}for(let c=0;c<t.length;c++){let d=t[c];if(!(d==="["||d==="]"))if(d===":"){if(a===!0&&(s=!0),!l())break;if(n++,i.push(":"),n>7){e.error=!0;break}c-1>=0&&t[c-1]===":"&&(a=!0);continue}else if(d==="%"){if(!l())break;o=!0}else{r.push(d);continue}}return r.length&&(o?e.zone=r.join(""):s?i.push(r.join("")):i.push(Oo(r))),e.address=i.join(""),e}function Lc(t){if(Wc(t,":")<2)return{host:t,isIPV6:!1};let n=cm(t);if(n.error)return{host:t,isIPV6:!1};{let e=n.address,i=n.address;return n.zone&&(e+="%"+n.zone,i+="%25"+n.zone),{host:e,escapedHost:i,isIPV6:!0}}}function dm(t,n){let e="",i=!0,r=t.length;for(let o=0;o<r;o++){let a=t[o];a==="0"&&i?(o+1<=r&&t[o+1]===n||o+1===r)&&(e+=a,i=!1):(a===n?i=!0:i=!1,e+=a)}return e}function Wc(t,n){let e=0;for(let i=0;i<t.length;i++)t[i]===n&&e++;return e}var Rc=/^\.\.?\//u,jc=/^\/\.(?:\/|$)/u,Ac=/^\/\.\.(?:\/|$)/u,um=/^\/?(?:.|\n)*?(?=\/|$)/u;function pm(t){let n=[];for(;t.length;)if(t.match(Rc))t=t.replace(Rc,"");else if(t.match(jc))t=t.replace(jc,"/");else if(t.match(Ac))t=t.replace(Ac,"/"),n.pop();else if(t==="."||t==="..")t="";else{let e=t.match(um);if(e){let i=e[0];t=t.slice(i.length),n.push(i)}else throw new Error("Unexpected dot segment condition")}return n.join("")}function fm(t,n){let e=n!==!0?escape:unescape;return t.scheme!==void 0&&(t.scheme=e(t.scheme)),t.userinfo!==void 0&&(t.userinfo=e(t.userinfo)),t.host!==void 0&&(t.host=e(t.host)),t.path!==void 0&&(t.path=e(t.path)),t.query!==void 0&&(t.query=e(t.query)),t.fragment!==void 0&&(t.fragment=e(t.fragment)),t}function mm(t){let n=[];if(t.userinfo!==void 0&&(n.push(t.userinfo),n.push("@")),t.host!==void 0){let e=unescape(t.host),i=qc(e);if(i.isIPV4)e=i.host;else{let r=Lc(i.host);r.isIPV6===!0?e=`[${r.escapedHost}]`:e=t.host}n.push(e)}return(typeof t.port=="number"||typeof t.port=="string")&&(n.push(":"),n.push(String(t.port))),n.length?n.join(""):void 0}Bc.exports={recomposeAuthority:mm,normalizeComponentEncoding:fm,removeDotSegments:pm,normalizeIPv4:qc,normalizeIPv6:Lc,stringArrayToHexStripped:Oo}});var Xc=x((jC,Jc)=>{"use strict";var hm=/^[\da-f]{8}-[\da-f]{4}-[\da-f]{4}-[\da-f]{4}-[\da-f]{12}$/iu,_m=/([\da-z][\d\-a-z]{0,31}):((?:[\w!$'()*+,\-.:;=@]|%[\da-f]{2})+)/iu;function Uc(t){return typeof t.secure=="boolean"?t.secure:String(t.scheme).toLowerCase()==="wss"}function Kc(t){return t.host||(t.error=t.error||"HTTP URIs must have a host."),t}function Gc(t){let n=String(t.scheme).toLowerCase()==="https";return(t.port===(n?443:80)||t.port==="")&&(t.port=void 0),t.path||(t.path="/"),t}function gm(t){return t.secure=Uc(t),t.resourceName=(t.path||"/")+(t.query?"?"+t.query:""),t.path=void 0,t.query=void 0,t}function ym(t){if((t.port===(Uc(t)?443:80)||t.port==="")&&(t.port=void 0),typeof t.secure=="boolean"&&(t.scheme=t.secure?"wss":"ws",t.secure=void 0),t.resourceName){let[n,e]=t.resourceName.split("?");t.path=n&&n!=="/"?n:void 0,t.query=e,t.resourceName=void 0}return t.fragment=void 0,t}function vm(t,n){if(!t.path)return t.error="URN can not be parsed",t;let e=t.path.match(_m);if(e){let i=n.scheme||t.scheme||"urn";t.nid=e[1].toLowerCase(),t.nss=e[2];let r=`${i}:${n.nid||t.nid}`,o=No[r];t.path=void 0,o&&(t=o.parse(t,n))}else t.error=t.error||"URN can not be parsed.";return t}function Cm(t,n){let e=n.scheme||t.scheme||"urn",i=t.nid.toLowerCase(),r=`${e}:${n.nid||i}`,o=No[r];o&&(t=o.serialize(t,n));let a=t,s=t.nss;return a.path=`${i||n.nid}:${s}`,n.skipEscape=!0,a}function bm(t,n){let e=t;return e.uuid=e.nss,e.nss=void 0,!n.tolerant&&(!e.uuid||!hm.test(e.uuid))&&(e.error=e.error||"UUID is not valid."),e}function zm(t){let n=t;return n.nss=(t.uuid||"").toLowerCase(),n}var Qc={scheme:"http",domainHost:!0,parse:Kc,serialize:Gc},wm={scheme:"https",domainHost:Qc.domainHost,parse:Kc,serialize:Gc},Bi={scheme:"ws",domainHost:!0,parse:gm,serialize:ym},Sm={scheme:"wss",domainHost:Bi.domainHost,parse:Bi.parse,serialize:Bi.serialize},xm={scheme:"urn",parse:vm,serialize:Cm,skipNormalize:!0},$m={scheme:"urn:uuid",parse:bm,serialize:zm,skipNormalize:!0},No={http:Qc,https:wm,ws:Bi,wss:Sm,urn:xm,"urn:uuid":$m};Jc.exports=No});var Yc=x((AC,Ui)=>{"use strict";var{normalizeIPv6:Tm,normalizeIPv4:Em,removeDotSegments:Yn,recomposeAuthority:Pm,normalizeComponentEncoding:Hi}=Hc(),Mo=Xc();function Om(t,n){return typeof t=="string"?t=ct(St(t,n),n):typeof t=="object"&&(t=St(ct(t,n),n)),t}function Nm(t,n,e){let i=Object.assign({scheme:"null"},e),r=Zc(St(t,i),St(n,i),i,!0);return ct(r,Z(w({},i),{skipEscape:!0}))}function Zc(t,n,e,i){let r={};return i||(t=St(ct(t,e),e),n=St(ct(n,e),e)),e=e||{},!e.tolerant&&n.scheme?(r.scheme=n.scheme,r.userinfo=n.userinfo,r.host=n.host,r.port=n.port,r.path=Yn(n.path||""),r.query=n.query):(n.userinfo!==void 0||n.host!==void 0||n.port!==void 0?(r.userinfo=n.userinfo,r.host=n.host,r.port=n.port,r.path=Yn(n.path||""),r.query=n.query):(n.path?(n.path.charAt(0)==="/"?r.path=Yn(n.path):((t.userinfo!==void 0||t.host!==void 0||t.port!==void 0)&&!t.path?r.path="/"+n.path:t.path?r.path=t.path.slice(0,t.path.lastIndexOf("/")+1)+n.path:r.path=n.path,r.path=Yn(r.path)),r.query=n.query):(r.path=t.path,n.query!==void 0?r.query=n.query:r.query=t.query),r.userinfo=t.userinfo,r.host=t.host,r.port=t.port),r.scheme=t.scheme),r.fragment=n.fragment,r}function Mm(t,n,e){return typeof t=="string"?(t=unescape(t),t=ct(Hi(St(t,e),!0),Z(w({},e),{skipEscape:!0}))):typeof t=="object"&&(t=ct(Hi(t,!0),Z(w({},e),{skipEscape:!0}))),typeof n=="string"?(n=unescape(n),n=ct(Hi(St(n,e),!0),Z(w({},e),{skipEscape:!0}))):typeof n=="object"&&(n=ct(Hi(n,!0),Z(w({},e),{skipEscape:!0}))),t.toLowerCase()===n.toLowerCase()}function ct(t,n){let e={host:t.host,scheme:t.scheme,userinfo:t.userinfo,port:t.port,path:t.path,query:t.query,nid:t.nid,nss:t.nss,uuid:t.uuid,fragment:t.fragment,reference:t.reference,resourceName:t.resourceName,secure:t.secure,error:""},i=Object.assign({},n),r=[],o=Mo[(i.scheme||e.scheme||"").toLowerCase()];o&&o.serialize&&o.serialize(e,i),e.path!==void 0&&(i.skipEscape?e.path=unescape(e.path):(e.path=escape(e.path),e.scheme!==void 0&&(e.path=e.path.split("%3A").join(":")))),i.reference!=="suffix"&&e.scheme&&r.push(e.scheme,":");let a=Pm(e);if(a!==void 0&&(i.reference!=="suffix"&&r.push("//"),r.push(a),e.path&&e.path.charAt(0)!=="/"&&r.push("/")),e.path!==void 0){let s=e.path;!i.absolutePath&&(!o||!o.absolutePath)&&(s=Yn(s)),a===void 0&&(s=s.replace(/^\/\//u,"/%2F")),r.push(s)}return e.query!==void 0&&r.push("?",e.query),e.fragment!==void 0&&r.push("#",e.fragment),r.join("")}var km=Array.from({length:127},(t,n)=>/[^!"$&'()*+,\-.;=_`a-z{}~]/u.test(String.fromCharCode(n)));function Dm(t){let n=0;for(let e=0,i=t.length;e<i;++e)if(n=t.charCodeAt(e),n>126||km[n])return!0;return!1}var Im=/^(?:([^#/:?]+):)?(?:\/\/((?:([^#/?@]*)@)?(\[[^#/?\]]+\]|[^#/:?]*)(?::(\d*))?))?([^#?]*)(?:\?([^#]*))?(?:#((?:.|[\n\r])*))?/u;function St(t,n){let e=Object.assign({},n),i={scheme:void 0,userinfo:void 0,host:"",port:void 0,path:"",query:void 0,fragment:void 0},r=t.indexOf("%")!==-1,o=!1;e.reference==="suffix"&&(t=(e.scheme?e.scheme+":":"")+"//"+t);let a=t.match(Im);if(a){if(i.scheme=a[1],i.userinfo=a[3],i.host=a[4],i.port=parseInt(a[5],10),i.path=a[6]||"",i.query=a[7],i.fragment=a[8],isNaN(i.port)&&(i.port=a[5]),i.host){let l=Em(i.host);if(l.isIPV4===!1){let c=Tm(l.host);i.host=c.host.toLowerCase(),o=c.isIPV6}else i.host=l.host,o=!0}i.scheme===void 0&&i.userinfo===void 0&&i.host===void 0&&i.port===void 0&&i.query===void 0&&!i.path?i.reference="same-document":i.scheme===void 0?i.reference="relative":i.fragment===void 0?i.reference="absolute":i.reference="uri",e.reference&&e.reference!=="suffix"&&e.reference!==i.reference&&(i.error=i.error||"URI is not a "+e.reference+" reference.");let s=Mo[(e.scheme||i.scheme||"").toLowerCase()];if(!e.unicodeSupport&&(!s||!s.unicodeSupport)&&i.host&&(e.domainHost||s&&s.domainHost)&&o===!1&&Dm(i.host))try{i.host=URL.domainToASCII(i.host.toLowerCase())}catch(l){i.error=i.error||"Host's domain name can not be converted to ASCII: "+l}(!s||s&&!s.skipNormalize)&&(r&&i.scheme!==void 0&&(i.scheme=unescape(i.scheme)),r&&i.host!==void 0&&(i.host=unescape(i.host)),i.path&&(i.path=escape(unescape(i.path))),i.fragment&&(i.fragment=encodeURI(decodeURIComponent(i.fragment)))),s&&s.parse&&s.parse(i,e)}else i.error=i.error||"URI can not be parsed.";return i}var ko={SCHEMES:Mo,normalize:Om,resolve:Nm,resolveComponents:Zc,equal:Mm,serialize:ct,parse:St};Ui.exports=ko;Ui.exports.default=ko;Ui.exports.fastUri=ko});var td=x(Do=>{"use strict";Object.defineProperty(Do,"__esModule",{value:!0});var ed=Yc();ed.code='require("ajv/dist/runtime/uri").default';Do.default=ed});var cd=x(me=>{"use strict";Object.defineProperty(me,"__esModule",{value:!0});me.CodeGen=me.Name=me.nil=me.stringify=me.str=me._=me.KeywordCxt=void 0;var Vm=Xn();Object.defineProperty(me,"KeywordCxt",{enumerable:!0,get:function(){return Vm.KeywordCxt}});var wn=R();Object.defineProperty(me,"_",{enumerable:!0,get:function(){return wn._}});Object.defineProperty(me,"str",{enumerable:!0,get:function(){return wn.str}});Object.defineProperty(me,"stringify",{enumerable:!0,get:function(){return wn.stringify}});Object.defineProperty(me,"nil",{enumerable:!0,get:function(){return wn.nil}});Object.defineProperty(me,"Name",{enumerable:!0,get:function(){return wn.Name}});Object.defineProperty(me,"CodeGen",{enumerable:!0,get:function(){return wn.CodeGen}});var Fm=qi(),ad=Zn(),Rm=co(),ei=Wi(),jm=R(),ti=Gn(),Ki=Kn(),Vo=U(),nd=Ic(),Am=td(),sd=(t,n)=>new RegExp(t,n);sd.code="new RegExp";var qm=["removeAdditional","useDefaults","coerceTypes"],Lm=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),Wm={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},Bm={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},id=200;function Hm(t){var n,e,i,r,o,a,s,l,c,d,u,g,y,h,v,m,z,D,I,ee,k,it,_t,Cr,br;let kn=t.strict,zr=(n=t.code)===null||n===void 0?void 0:n.optimize,Qa=zr===!0||zr===void 0?1:zr||0,Ja=(i=(e=t.code)===null||e===void 0?void 0:e.regExp)!==null&&i!==void 0?i:sd,Uu=(r=t.uriResolver)!==null&&r!==void 0?r:Am.default;return{strictSchema:(a=(o=t.strictSchema)!==null&&o!==void 0?o:kn)!==null&&a!==void 0?a:!0,strictNumbers:(l=(s=t.strictNumbers)!==null&&s!==void 0?s:kn)!==null&&l!==void 0?l:!0,strictTypes:(d=(c=t.strictTypes)!==null&&c!==void 0?c:kn)!==null&&d!==void 0?d:"log",strictTuples:(g=(u=t.strictTuples)!==null&&u!==void 0?u:kn)!==null&&g!==void 0?g:"log",strictRequired:(h=(y=t.strictRequired)!==null&&y!==void 0?y:kn)!==null&&h!==void 0?h:!1,code:t.code?Z(w({},t.code),{optimize:Qa,regExp:Ja}):{optimize:Qa,regExp:Ja},loopRequired:(v=t.loopRequired)!==null&&v!==void 0?v:id,loopEnum:(m=t.loopEnum)!==null&&m!==void 0?m:id,meta:(z=t.meta)!==null&&z!==void 0?z:!0,messages:(D=t.messages)!==null&&D!==void 0?D:!0,inlineRefs:(I=t.inlineRefs)!==null&&I!==void 0?I:!0,schemaId:(ee=t.schemaId)!==null&&ee!==void 0?ee:"$id",addUsedSchema:(k=t.addUsedSchema)!==null&&k!==void 0?k:!0,validateSchema:(it=t.validateSchema)!==null&&it!==void 0?it:!0,validateFormats:(_t=t.validateFormats)!==null&&_t!==void 0?_t:!0,unicodeRegExp:(Cr=t.unicodeRegExp)!==null&&Cr!==void 0?Cr:!0,int32range:(br=t.int32range)!==null&&br!==void 0?br:!0,uriResolver:Uu}}var ni=class{constructor(n={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,n=this.opts=w(w({},n),Hm(n));let{es5:e,lines:i}=this.opts.code;this.scope=new jm.ValueScope({scope:{},prefixes:Lm,es5:e,lines:i}),this.logger=Xm(n.logger);let r=n.validateFormats;n.validateFormats=!1,this.RULES=(0,Rm.getRules)(),rd.call(this,Wm,n,"NOT SUPPORTED"),rd.call(this,Bm,n,"DEPRECATED","warn"),this._metaOpts=Qm.call(this),n.formats&&Km.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),n.keywords&&Gm.call(this,n.keywords),typeof n.meta=="object"&&this.addMetaSchema(n.meta),Um.call(this),n.validateFormats=r}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){let{$data:n,meta:e,schemaId:i}=this.opts,r=nd;i==="id"&&(r=w({},nd),r.id=r.$id,delete r.$id),e&&n&&this.addMetaSchema(r,r[i],!1)}defaultMeta(){let{meta:n,schemaId:e}=this.opts;return this.opts.defaultMeta=typeof n=="object"?n[e]||n:void 0}validate(n,e){let i;if(typeof n=="string"){if(i=this.getSchema(n),!i)throw new Error(`no schema with key or ref "${n}"`)}else i=this.compile(n);let r=i(e);return"$async"in i||(this.errors=i.errors),r}compile(n,e){let i=this._addSchema(n,e);return i.validate||this._compileSchemaEnv(i)}compileAsync(n,e){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");let{loadSchema:i}=this.opts;return r.call(this,n,e);function r(d,u){return nn(this,null,function*(){yield o.call(this,d.$schema);let g=this._addSchema(d,u);return g.validate||a.call(this,g)})}function o(d){return nn(this,null,function*(){d&&!this.getSchema(d)&&(yield r.call(this,{$ref:d},!0))})}function a(d){return nn(this,null,function*(){try{return this._compileSchemaEnv(d)}catch(u){if(!(u instanceof ad.default))throw u;return s.call(this,u),yield l.call(this,u.missingSchema),a.call(this,d)}})}function s({missingSchema:d,missingRef:u}){if(this.refs[d])throw new Error(`AnySchema ${d} is loaded but ${u} cannot be resolved`)}function l(d){return nn(this,null,function*(){let u=yield c.call(this,d);this.refs[d]||(yield o.call(this,u.$schema)),this.refs[d]||this.addSchema(u,d,e)})}function c(d){return nn(this,null,function*(){let u=this._loading[d];if(u)return u;try{return yield this._loading[d]=i(d)}finally{delete this._loading[d]}})}}addSchema(n,e,i,r=this.opts.validateSchema){if(Array.isArray(n)){for(let a of n)this.addSchema(a,void 0,i,r);return this}let o;if(typeof n=="object"){let{schemaId:a}=this.opts;if(o=n[a],o!==void 0&&typeof o!="string")throw new Error(`schema ${a} must be string`)}return e=(0,ti.normalizeId)(e||o),this._checkUnique(e),this.schemas[e]=this._addSchema(n,i,e,r,!0),this}addMetaSchema(n,e,i=this.opts.validateSchema){return this.addSchema(n,e,!0,i),this}validateSchema(n,e){if(typeof n=="boolean")return!0;let i;if(i=n.$schema,i!==void 0&&typeof i!="string")throw new Error("$schema must be a string");if(i=i||this.opts.defaultMeta||this.defaultMeta(),!i)return this.logger.warn("meta-schema not available"),this.errors=null,!0;let r=this.validate(i,n);if(!r&&e){let o="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(o);else throw new Error(o)}return r}getSchema(n){let e;for(;typeof(e=od.call(this,n))=="string";)n=e;if(e===void 0){let{schemaId:i}=this.opts,r=new ei.SchemaEnv({schema:{},schemaId:i});if(e=ei.resolveSchema.call(this,r,n),!e)return;this.refs[n]=e}return e.validate||this._compileSchemaEnv(e)}removeSchema(n){if(n instanceof RegExp)return this._removeAllSchemas(this.schemas,n),this._removeAllSchemas(this.refs,n),this;switch(typeof n){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{let e=od.call(this,n);return typeof e=="object"&&this._cache.delete(e.schema),delete this.schemas[n],delete this.refs[n],this}case"object":{let e=n;this._cache.delete(e);let i=n[this.opts.schemaId];return i&&(i=(0,ti.normalizeId)(i),delete this.schemas[i],delete this.refs[i]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(n){for(let e of n)this.addKeyword(e);return this}addKeyword(n,e){let i;if(typeof n=="string")i=n,typeof e=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),e.keyword=i);else if(typeof n=="object"&&e===void 0){if(e=n,i=e.keyword,Array.isArray(i)&&!i.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(Ym.call(this,i,e),!e)return(0,Vo.eachItem)(i,o=>Io.call(this,o)),this;th.call(this,e);let r=Z(w({},e),{type:(0,Ki.getJSONTypes)(e.type),schemaType:(0,Ki.getJSONTypes)(e.schemaType)});return(0,Vo.eachItem)(i,r.type.length===0?o=>Io.call(this,o,r):o=>r.type.forEach(a=>Io.call(this,o,r,a))),this}getKeyword(n){let e=this.RULES.all[n];return typeof e=="object"?e.definition:!!e}removeKeyword(n){let{RULES:e}=this;delete e.keywords[n],delete e.all[n];for(let i of e.rules){let r=i.rules.findIndex(o=>o.keyword===n);r>=0&&i.rules.splice(r,1)}return this}addFormat(n,e){return typeof e=="string"&&(e=new RegExp(e)),this.formats[n]=e,this}errorsText(n=this.errors,{separator:e=", ",dataVar:i="data"}={}){return!n||n.length===0?"No errors":n.map(r=>`${i}${r.instancePath} ${r.message}`).reduce((r,o)=>r+e+o)}$dataMetaSchema(n,e){let i=this.RULES.all;n=JSON.parse(JSON.stringify(n));for(let r of e){let o=r.split("/").slice(1),a=n;for(let s of o)a=a[s];for(let s in i){let l=i[s];if(typeof l!="object")continue;let{$data:c}=l.definition,d=a[s];c&&d&&(a[s]=ld(d))}}return n}_removeAllSchemas(n,e){for(let i in n){let r=n[i];(!e||e.test(i))&&(typeof r=="string"?delete n[i]:r&&!r.meta&&(this._cache.delete(r.schema),delete n[i]))}}_addSchema(n,e,i,r=this.opts.validateSchema,o=this.opts.addUsedSchema){let a,{schemaId:s}=this.opts;if(typeof n=="object")a=n[s];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof n!="boolean")throw new Error("schema must be object or boolean")}let l=this._cache.get(n);if(l!==void 0)return l;i=(0,ti.normalizeId)(a||i);let c=ti.getSchemaRefs.call(this,n,i);return l=new ei.SchemaEnv({schema:n,schemaId:s,meta:e,baseId:i,localRefs:c}),this._cache.set(l.schema,l),o&&!i.startsWith("#")&&(i&&this._checkUnique(i),this.refs[i]=l),r&&this.validateSchema(n,!0),l}_checkUnique(n){if(this.schemas[n]||this.refs[n])throw new Error(`schema with key or id "${n}" already exists`)}_compileSchemaEnv(n){if(n.meta?this._compileMetaSchema(n):ei.compileSchema.call(this,n),!n.validate)throw new Error("ajv implementation error");return n.validate}_compileMetaSchema(n){let e=this.opts;this.opts=this._metaOpts;try{ei.compileSchema.call(this,n)}finally{this.opts=e}}};ni.ValidationError=Fm.default;ni.MissingRefError=ad.default;me.default=ni;function rd(t,n,e,i="error"){for(let r in t){let o=r;o in n&&this.logger[i](`${e}: option ${r}. ${t[o]}`)}}function od(t){return t=(0,ti.normalizeId)(t),this.schemas[t]||this.refs[t]}function Um(){let t=this.opts.schemas;if(t)if(Array.isArray(t))this.addSchema(t);else for(let n in t)this.addSchema(t[n],n)}function Km(){for(let t in this.opts.formats){let n=this.opts.formats[t];n&&this.addFormat(t,n)}}function Gm(t){if(Array.isArray(t)){this.addVocabulary(t);return}this.logger.warn("keywords option as map is deprecated, pass array");for(let n in t){let e=t[n];e.keyword||(e.keyword=n),this.addKeyword(e)}}function Qm(){let t=w({},this.opts);for(let n of qm)delete t[n];return t}var Jm={log(){},warn(){},error(){}};function Xm(t){if(t===!1)return Jm;if(t===void 0)return console;if(t.log&&t.warn&&t.error)return t;throw new Error("logger must implement log, warn and error methods")}var Zm=/^[a-z_$][a-z0-9_$:-]*$/i;function Ym(t,n){let{RULES:e}=this;if((0,Vo.eachItem)(t,i=>{if(e.keywords[i])throw new Error(`Keyword ${i} is already defined`);if(!Zm.test(i))throw new Error(`Keyword ${i} has invalid name`)}),!!n&&n.$data&&!("code"in n||"validate"in n))throw new Error('$data keyword must have "code" or "validate" function')}function Io(t,n,e){var i;let r=n?.post;if(e&&r)throw new Error('keyword with "post" flag cannot have "type"');let{RULES:o}=this,a=r?o.post:o.rules.find(({type:l})=>l===e);if(a||(a={type:e,rules:[]},o.rules.push(a)),o.keywords[t]=!0,!n)return;let s={keyword:t,definition:Z(w({},n),{type:(0,Ki.getJSONTypes)(n.type),schemaType:(0,Ki.getJSONTypes)(n.schemaType)})};n.before?eh.call(this,a,s,n.before):a.rules.push(s),o.all[t]=s,(i=n.implements)===null||i===void 0||i.forEach(l=>this.addKeyword(l))}function eh(t,n,e){let i=t.rules.findIndex(r=>r.keyword===e);i>=0?t.rules.splice(i,0,n):(t.rules.push(n),this.logger.warn(`rule ${e} is not defined`))}function th(t){let{metaSchema:n}=t;n!==void 0&&(t.$data&&this.opts.$data&&(n=ld(n)),t.validateSchema=this.compile(n,!0))}var nh={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function ld(t){return{anyOf:[t,nh]}}});var dd=x(Fo=>{"use strict";Object.defineProperty(Fo,"__esModule",{value:!0});var ih={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};Fo.default=ih});var md=x(Jt=>{"use strict";Object.defineProperty(Jt,"__esModule",{value:!0});Jt.callRef=Jt.getValidate=void 0;var rh=Zn(),ud=We(),Me=R(),Sn=zt(),pd=Wi(),Gi=U(),oh={keyword:"$ref",schemaType:"string",code(t){let{gen:n,schema:e,it:i}=t,{baseId:r,schemaEnv:o,validateName:a,opts:s,self:l}=i,{root:c}=o;if((e==="#"||e==="#/")&&r===c.baseId)return u();let d=pd.resolveRef.call(l,c,r,e);if(d===void 0)throw new rh.default(i.opts.uriResolver,r,e);if(d instanceof pd.SchemaEnv)return g(d);return y(d);function u(){if(o===c)return Qi(t,a,o,o.$async);let h=n.scopeValue("root",{ref:c});return Qi(t,(0,Me._)`${h}.validate`,c,c.$async)}function g(h){let v=fd(t,h);Qi(t,v,h,h.$async)}function y(h){let v=n.scopeValue("schema",s.code.source===!0?{ref:h,code:(0,Me.stringify)(h)}:{ref:h}),m=n.name("valid"),z=t.subschema({schema:h,dataTypes:[],schemaPath:Me.nil,topSchemaRef:v,errSchemaPath:e},m);t.mergeEvaluated(z),t.ok(m)}}};function fd(t,n){let{gen:e}=t;return n.validate?e.scopeValue("validate",{ref:n.validate}):(0,Me._)`${e.scopeValue("wrapper",{ref:n})}.validate`}Jt.getValidate=fd;function Qi(t,n,e,i){let{gen:r,it:o}=t,{allErrors:a,schemaEnv:s,opts:l}=o,c=l.passContext?Sn.default.this:Me.nil;i?d():u();function d(){if(!s.$async)throw new Error("async schema referenced by sync schema");let h=r.let("valid");r.try(()=>{r.code((0,Me._)`await ${(0,ud.callValidateCode)(t,n,c)}`),y(n),a||r.assign(h,!0)},v=>{r.if((0,Me._)`!(${v} instanceof ${o.ValidationError})`,()=>r.throw(v)),g(v),a||r.assign(h,!1)}),t.ok(h)}function u(){t.result((0,ud.callValidateCode)(t,n,c),()=>y(n),()=>g(n))}function g(h){let v=(0,Me._)`${h}.errors`;r.assign(Sn.default.vErrors,(0,Me._)`${Sn.default.vErrors} === null ? ${v} : ${Sn.default.vErrors}.concat(${v})`),r.assign(Sn.default.errors,(0,Me._)`${Sn.default.vErrors}.length`)}function y(h){var v;if(!o.opts.unevaluated)return;let m=(v=e?.validate)===null||v===void 0?void 0:v.evaluated;if(o.props!==!0)if(m&&!m.dynamicProps)m.props!==void 0&&(o.props=Gi.mergeEvaluated.props(r,m.props,o.props));else{let z=r.var("props",(0,Me._)`${h}.evaluated.props`);o.props=Gi.mergeEvaluated.props(r,z,o.props,Me.Name)}if(o.items!==!0)if(m&&!m.dynamicItems)m.items!==void 0&&(o.items=Gi.mergeEvaluated.items(r,m.items,o.items));else{let z=r.var("items",(0,Me._)`${h}.evaluated.items`);o.items=Gi.mergeEvaluated.items(r,z,o.items,Me.Name)}}}Jt.callRef=Qi;Jt.default=oh});var hd=x(Ro=>{"use strict";Object.defineProperty(Ro,"__esModule",{value:!0});var ah=dd(),sh=md(),lh=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",ah.default,sh.default];Ro.default=lh});var _d=x(jo=>{"use strict";Object.defineProperty(jo,"__esModule",{value:!0});var Ji=R(),jt=Ji.operators,Xi={maximum:{okStr:"<=",ok:jt.LTE,fail:jt.GT},minimum:{okStr:">=",ok:jt.GTE,fail:jt.LT},exclusiveMaximum:{okStr:"<",ok:jt.LT,fail:jt.GTE},exclusiveMinimum:{okStr:">",ok:jt.GT,fail:jt.LTE}},ch={message:({keyword:t,schemaCode:n})=>(0,Ji.str)`must be ${Xi[t].okStr} ${n}`,params:({keyword:t,schemaCode:n})=>(0,Ji._)`{comparison: ${Xi[t].okStr}, limit: ${n}}`},dh={keyword:Object.keys(Xi),type:"number",schemaType:"number",$data:!0,error:ch,code(t){let{keyword:n,data:e,schemaCode:i}=t;t.fail$data((0,Ji._)`${e} ${Xi[n].fail} ${i} || isNaN(${e})`)}};jo.default=dh});var gd=x(Ao=>{"use strict";Object.defineProperty(Ao,"__esModule",{value:!0});var ii=R(),uh={message:({schemaCode:t})=>(0,ii.str)`must be multiple of ${t}`,params:({schemaCode:t})=>(0,ii._)`{multipleOf: ${t}}`},ph={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:uh,code(t){let{gen:n,data:e,schemaCode:i,it:r}=t,o=r.opts.multipleOfPrecision,a=n.let("res"),s=o?(0,ii._)`Math.abs(Math.round(${a}) - ${a}) > 1e-${o}`:(0,ii._)`${a} !== parseInt(${a})`;t.fail$data((0,ii._)`(${i} === 0 || (${a} = ${e}/${i}, ${s}))`)}};Ao.default=ph});var vd=x(qo=>{"use strict";Object.defineProperty(qo,"__esModule",{value:!0});function yd(t){let n=t.length,e=0,i=0,r;for(;i<n;)e++,r=t.charCodeAt(i++),r>=55296&&r<=56319&&i<n&&(r=t.charCodeAt(i),(r&64512)===56320&&i++);return e}qo.default=yd;yd.code='require("ajv/dist/runtime/ucs2length").default'});var Cd=x(Lo=>{"use strict";Object.defineProperty(Lo,"__esModule",{value:!0});var Xt=R(),fh=U(),mh=vd(),hh={message({keyword:t,schemaCode:n}){let e=t==="maxLength"?"more":"fewer";return(0,Xt.str)`must NOT have ${e} than ${n} characters`},params:({schemaCode:t})=>(0,Xt._)`{limit: ${t}}`},_h={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:hh,code(t){let{keyword:n,data:e,schemaCode:i,it:r}=t,o=n==="maxLength"?Xt.operators.GT:Xt.operators.LT,a=r.opts.unicode===!1?(0,Xt._)`${e}.length`:(0,Xt._)`${(0,fh.useFunc)(t.gen,mh.default)}(${e})`;t.fail$data((0,Xt._)`${a} ${o} ${i}`)}};Lo.default=_h});var bd=x(Wo=>{"use strict";Object.defineProperty(Wo,"__esModule",{value:!0});var gh=We(),Zi=R(),yh={message:({schemaCode:t})=>(0,Zi.str)`must match pattern "${t}"`,params:({schemaCode:t})=>(0,Zi._)`{pattern: ${t}}`},vh={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:yh,code(t){let{data:n,$data:e,schema:i,schemaCode:r,it:o}=t,a=o.opts.unicodeRegExp?"u":"",s=e?(0,Zi._)`(new RegExp(${r}, ${a}))`:(0,gh.usePattern)(t,i);t.fail$data((0,Zi._)`!${s}.test(${n})`)}};Wo.default=vh});var zd=x(Bo=>{"use strict";Object.defineProperty(Bo,"__esModule",{value:!0});var ri=R(),Ch={message({keyword:t,schemaCode:n}){let e=t==="maxProperties"?"more":"fewer";return(0,ri.str)`must NOT have ${e} than ${n} properties`},params:({schemaCode:t})=>(0,ri._)`{limit: ${t}}`},bh={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:Ch,code(t){let{keyword:n,data:e,schemaCode:i}=t,r=n==="maxProperties"?ri.operators.GT:ri.operators.LT;t.fail$data((0,ri._)`Object.keys(${e}).length ${r} ${i}`)}};Bo.default=bh});var wd=x(Ho=>{"use strict";Object.defineProperty(Ho,"__esModule",{value:!0});var oi=We(),ai=R(),zh=U(),wh={message:({params:{missingProperty:t}})=>(0,ai.str)`must have required property '${t}'`,params:({params:{missingProperty:t}})=>(0,ai._)`{missingProperty: ${t}}`},Sh={keyword:"required",type:"object",schemaType:"array",$data:!0,error:wh,code(t){let{gen:n,schema:e,schemaCode:i,data:r,$data:o,it:a}=t,{opts:s}=a;if(!o&&e.length===0)return;let l=e.length>=s.loopRequired;if(a.allErrors?c():d(),s.strictRequired){let y=t.parentSchema.properties,{definedProperties:h}=t.it;for(let v of e)if(y?.[v]===void 0&&!h.has(v)){let m=a.schemaEnv.baseId+a.errSchemaPath,z=`required property "${v}" is not defined at "${m}" (strictRequired)`;(0,zh.checkStrictMode)(a,z,a.opts.strictRequired)}}function c(){if(l||o)t.block$data(ai.nil,u);else for(let y of e)(0,oi.checkReportMissingProp)(t,y)}function d(){let y=n.let("missing");if(l||o){let h=n.let("valid",!0);t.block$data(h,()=>g(y,h)),t.ok(h)}else n.if((0,oi.checkMissingProp)(t,e,y)),(0,oi.reportMissingProp)(t,y),n.else()}function u(){n.forOf("prop",i,y=>{t.setParams({missingProperty:y}),n.if((0,oi.noPropertyInData)(n,r,y,s.ownProperties),()=>t.error())})}function g(y,h){t.setParams({missingProperty:y}),n.forOf(y,i,()=>{n.assign(h,(0,oi.propertyInData)(n,r,y,s.ownProperties)),n.if((0,ai.not)(h),()=>{t.error(),n.break()})},ai.nil)}}};Ho.default=Sh});var Sd=x(Uo=>{"use strict";Object.defineProperty(Uo,"__esModule",{value:!0});var si=R(),xh={message({keyword:t,schemaCode:n}){let e=t==="maxItems"?"more":"fewer";return(0,si.str)`must NOT have ${e} than ${n} items`},params:({schemaCode:t})=>(0,si._)`{limit: ${t}}`},$h={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:xh,code(t){let{keyword:n,data:e,schemaCode:i}=t,r=n==="maxItems"?si.operators.GT:si.operators.LT;t.fail$data((0,si._)`${e}.length ${r} ${i}`)}};Uo.default=$h});var Yi=x(Ko=>{"use strict";Object.defineProperty(Ko,"__esModule",{value:!0});var xd=yo();xd.code='require("ajv/dist/runtime/equal").default';Ko.default=xd});var $d=x(Qo=>{"use strict";Object.defineProperty(Qo,"__esModule",{value:!0});var Go=Kn(),he=R(),Th=U(),Eh=Yi(),Ph={message:({params:{i:t,j:n}})=>(0,he.str)`must NOT have duplicate items (items ## ${n} and ${t} are identical)`,params:({params:{i:t,j:n}})=>(0,he._)`{i: ${t}, j: ${n}}`},Oh={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:Ph,code(t){let{gen:n,data:e,$data:i,schema:r,parentSchema:o,schemaCode:a,it:s}=t;if(!i&&!r)return;let l=n.let("valid"),c=o.items?(0,Go.getSchemaTypes)(o.items):[];t.block$data(l,d,(0,he._)`${a} === false`),t.ok(l);function d(){let h=n.let("i",(0,he._)`${e}.length`),v=n.let("j");t.setParams({i:h,j:v}),n.assign(l,!0),n.if((0,he._)`${h} > 1`,()=>(u()?g:y)(h,v))}function u(){return c.length>0&&!c.some(h=>h==="object"||h==="array")}function g(h,v){let m=n.name("item"),z=(0,Go.checkDataTypes)(c,m,s.opts.strictNumbers,Go.DataType.Wrong),D=n.const("indices",(0,he._)`{}`);n.for((0,he._)`;${h}--;`,()=>{n.let(m,(0,he._)`${e}[${h}]`),n.if(z,(0,he._)`continue`),c.length>1&&n.if((0,he._)`typeof ${m} == "string"`,(0,he._)`${m} += "_"`),n.if((0,he._)`typeof ${D}[${m}] == "number"`,()=>{n.assign(v,(0,he._)`${D}[${m}]`),t.error(),n.assign(l,!1).break()}).code((0,he._)`${D}[${m}] = ${h}`)})}function y(h,v){let m=(0,Th.useFunc)(n,Eh.default),z=n.name("outer");n.label(z).for((0,he._)`;${h}--;`,()=>n.for((0,he._)`${v} = ${h}; ${v}--;`,()=>n.if((0,he._)`${m}(${e}[${h}], ${e}[${v}])`,()=>{t.error(),n.assign(l,!1).break(z)})))}}};Qo.default=Oh});var Td=x(Xo=>{"use strict";Object.defineProperty(Xo,"__esModule",{value:!0});var Jo=R(),Nh=U(),Mh=Yi(),kh={message:"must be equal to constant",params:({schemaCode:t})=>(0,Jo._)`{allowedValue: ${t}}`},Dh={keyword:"const",$data:!0,error:kh,code(t){let{gen:n,data:e,$data:i,schemaCode:r,schema:o}=t;i||o&&typeof o=="object"?t.fail$data((0,Jo._)`!${(0,Nh.useFunc)(n,Mh.default)}(${e}, ${r})`):t.fail((0,Jo._)`${o} !== ${e}`)}};Xo.default=Dh});var Ed=x(Zo=>{"use strict";Object.defineProperty(Zo,"__esModule",{value:!0});var li=R(),Ih=U(),Vh=Yi(),Fh={message:"must be equal to one of the allowed values",params:({schemaCode:t})=>(0,li._)`{allowedValues: ${t}}`},Rh={keyword:"enum",schemaType:"array",$data:!0,error:Fh,code(t){let{gen:n,data:e,$data:i,schema:r,schemaCode:o,it:a}=t;if(!i&&r.length===0)throw new Error("enum must have non-empty array");let s=r.length>=a.opts.loopEnum,l,c=()=>l??(l=(0,Ih.useFunc)(n,Vh.default)),d;if(s||i)d=n.let("valid"),t.block$data(d,u);else{if(!Array.isArray(r))throw new Error("ajv implementation error");let y=n.const("vSchema",o);d=(0,li.or)(...r.map((h,v)=>g(y,v)))}t.pass(d);function u(){n.assign(d,!1),n.forOf("v",o,y=>n.if((0,li._)`${c()}(${e}, ${y})`,()=>n.assign(d,!0).break()))}function g(y,h){let v=r[h];return typeof v=="object"&&v!==null?(0,li._)`${c()}(${e}, ${y}[${h}])`:(0,li._)`${e} === ${v}`}}};Zo.default=Rh});var Pd=x(Yo=>{"use strict";Object.defineProperty(Yo,"__esModule",{value:!0});var jh=_d(),Ah=gd(),qh=Cd(),Lh=bd(),Wh=zd(),Bh=wd(),Hh=Sd(),Uh=$d(),Kh=Td(),Gh=Ed(),Qh=[jh.default,Ah.default,qh.default,Lh.default,Wh.default,Bh.default,Hh.default,Uh.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},Kh.default,Gh.default];Yo.default=Qh});var ta=x(ci=>{"use strict";Object.defineProperty(ci,"__esModule",{value:!0});ci.validateAdditionalItems=void 0;var Zt=R(),ea=U(),Jh={message:({params:{len:t}})=>(0,Zt.str)`must NOT have more than ${t} items`,params:({params:{len:t}})=>(0,Zt._)`{limit: ${t}}`},Xh={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:Jh,code(t){let{parentSchema:n,it:e}=t,{items:i}=n;if(!Array.isArray(i)){(0,ea.checkStrictMode)(e,'"additionalItems" is ignored when "items" is not an array of schemas');return}Od(t,i)}};function Od(t,n){let{gen:e,schema:i,data:r,keyword:o,it:a}=t;a.items=!0;let s=e.const("len",(0,Zt._)`${r}.length`);if(i===!1)t.setParams({len:n.length}),t.pass((0,Zt._)`${s} <= ${n.length}`);else if(typeof i=="object"&&!(0,ea.alwaysValidSchema)(a,i)){let c=e.var("valid",(0,Zt._)`${s} <= ${n.length}`);e.if((0,Zt.not)(c),()=>l(c)),t.ok(c)}function l(c){e.forRange("i",n.length,s,d=>{t.subschema({keyword:o,dataProp:d,dataPropType:ea.Type.Num},c),a.allErrors||e.if((0,Zt.not)(c),()=>e.break())})}}ci.validateAdditionalItems=Od;ci.default=Xh});var na=x(di=>{"use strict";Object.defineProperty(di,"__esModule",{value:!0});di.validateTuple=void 0;var Nd=R(),er=U(),Zh=We(),Yh={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(t){let{schema:n,it:e}=t;if(Array.isArray(n))return Md(t,"additionalItems",n);e.items=!0,!(0,er.alwaysValidSchema)(e,n)&&t.ok((0,Zh.validateArray)(t))}};function Md(t,n,e=t.schema){let{gen:i,parentSchema:r,data:o,keyword:a,it:s}=t;d(r),s.opts.unevaluated&&e.length&&s.items!==!0&&(s.items=er.mergeEvaluated.items(i,e.length,s.items));let l=i.name("valid"),c=i.const("len",(0,Nd._)`${o}.length`);e.forEach((u,g)=>{(0,er.alwaysValidSchema)(s,u)||(i.if((0,Nd._)`${c} > ${g}`,()=>t.subschema({keyword:a,schemaProp:g,dataProp:g},l)),t.ok(l))});function d(u){let{opts:g,errSchemaPath:y}=s,h=e.length,v=h===u.minItems&&(h===u.maxItems||u[n]===!1);if(g.strictTuples&&!v){let m=`"${a}" is ${h}-tuple, but minItems or maxItems/${n} are not specified or different at path "${y}"`;(0,er.checkStrictMode)(s,m,g.strictTuples)}}}di.validateTuple=Md;di.default=Yh});var kd=x(ia=>{"use strict";Object.defineProperty(ia,"__esModule",{value:!0});var e0=na(),t0={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:t=>(0,e0.validateTuple)(t,"items")};ia.default=t0});var Id=x(ra=>{"use strict";Object.defineProperty(ra,"__esModule",{value:!0});var Dd=R(),n0=U(),i0=We(),r0=ta(),o0={message:({params:{len:t}})=>(0,Dd.str)`must NOT have more than ${t} items`,params:({params:{len:t}})=>(0,Dd._)`{limit: ${t}}`},a0={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:o0,code(t){let{schema:n,parentSchema:e,it:i}=t,{prefixItems:r}=e;i.items=!0,!(0,n0.alwaysValidSchema)(i,n)&&(r?(0,r0.validateAdditionalItems)(t,r):t.ok((0,i0.validateArray)(t)))}};ra.default=a0});var Vd=x(oa=>{"use strict";Object.defineProperty(oa,"__esModule",{value:!0});var He=R(),tr=U(),s0={message:({params:{min:t,max:n}})=>n===void 0?(0,He.str)`must contain at least ${t} valid item(s)`:(0,He.str)`must contain at least ${t} and no more than ${n} valid item(s)`,params:({params:{min:t,max:n}})=>n===void 0?(0,He._)`{minContains: ${t}}`:(0,He._)`{minContains: ${t}, maxContains: ${n}}`},l0={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:s0,code(t){let{gen:n,schema:e,parentSchema:i,data:r,it:o}=t,a,s,{minContains:l,maxContains:c}=i;o.opts.next?(a=l===void 0?1:l,s=c):a=1;let d=n.const("len",(0,He._)`${r}.length`);if(t.setParams({min:a,max:s}),s===void 0&&a===0){(0,tr.checkStrictMode)(o,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(s!==void 0&&a>s){(0,tr.checkStrictMode)(o,'"minContains" > "maxContains" is always invalid'),t.fail();return}if((0,tr.alwaysValidSchema)(o,e)){let v=(0,He._)`${d} >= ${a}`;s!==void 0&&(v=(0,He._)`${v} && ${d} <= ${s}`),t.pass(v);return}o.items=!0;let u=n.name("valid");s===void 0&&a===1?y(u,()=>n.if(u,()=>n.break())):a===0?(n.let(u,!0),s!==void 0&&n.if((0,He._)`${r}.length > 0`,g)):(n.let(u,!1),g()),t.result(u,()=>t.reset());function g(){let v=n.name("_valid"),m=n.let("count",0);y(v,()=>n.if(v,()=>h(m)))}function y(v,m){n.forRange("i",0,d,z=>{t.subschema({keyword:"contains",dataProp:z,dataPropType:tr.Type.Num,compositeRule:!0},v),m()})}function h(v){n.code((0,He._)`${v}++`),s===void 0?n.if((0,He._)`${v} >= ${a}`,()=>n.assign(u,!0).break()):(n.if((0,He._)`${v} > ${s}`,()=>n.assign(u,!1).break()),a===1?n.assign(u,!0):n.if((0,He._)`${v} >= ${a}`,()=>n.assign(u,!0)))}}};oa.default=l0});var jd=x(dt=>{"use strict";Object.defineProperty(dt,"__esModule",{value:!0});dt.validateSchemaDeps=dt.validatePropertyDeps=dt.error=void 0;var aa=R(),c0=U(),ui=We();dt.error={message:({params:{property:t,depsCount:n,deps:e}})=>{let i=n===1?"property":"properties";return(0,aa.str)`must have ${i} ${e} when property ${t} is present`},params:({params:{property:t,depsCount:n,deps:e,missingProperty:i}})=>(0,aa._)`{property: ${t},
    missingProperty: ${i},
    depsCount: ${n},
    deps: ${e}}`};var d0={keyword:"dependencies",type:"object",schemaType:"object",error:dt.error,code(t){let[n,e]=u0(t);Fd(t,n),Rd(t,e)}};function u0({schema:t}){let n={},e={};for(let i in t){if(i==="__proto__")continue;let r=Array.isArray(t[i])?n:e;r[i]=t[i]}return[n,e]}function Fd(t,n=t.schema){let{gen:e,data:i,it:r}=t;if(Object.keys(n).length===0)return;let o=e.let("missing");for(let a in n){let s=n[a];if(s.length===0)continue;let l=(0,ui.propertyInData)(e,i,a,r.opts.ownProperties);t.setParams({property:a,depsCount:s.length,deps:s.join(", ")}),r.allErrors?e.if(l,()=>{for(let c of s)(0,ui.checkReportMissingProp)(t,c)}):(e.if((0,aa._)`${l} && (${(0,ui.checkMissingProp)(t,s,o)})`),(0,ui.reportMissingProp)(t,o),e.else())}}dt.validatePropertyDeps=Fd;function Rd(t,n=t.schema){let{gen:e,data:i,keyword:r,it:o}=t,a=e.name("valid");for(let s in n)(0,c0.alwaysValidSchema)(o,n[s])||(e.if((0,ui.propertyInData)(e,i,s,o.opts.ownProperties),()=>{let l=t.subschema({keyword:r,schemaProp:s},a);t.mergeValidEvaluated(l,a)},()=>e.var(a,!0)),t.ok(a))}dt.validateSchemaDeps=Rd;dt.default=d0});var qd=x(sa=>{"use strict";Object.defineProperty(sa,"__esModule",{value:!0});var Ad=R(),p0=U(),f0={message:"property name must be valid",params:({params:t})=>(0,Ad._)`{propertyName: ${t.propertyName}}`},m0={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:f0,code(t){let{gen:n,schema:e,data:i,it:r}=t;if((0,p0.alwaysValidSchema)(r,e))return;let o=n.name("valid");n.forIn("key",i,a=>{t.setParams({propertyName:a}),t.subschema({keyword:"propertyNames",data:a,dataTypes:["string"],propertyName:a,compositeRule:!0},o),n.if((0,Ad.not)(o),()=>{t.error(!0),r.allErrors||n.break()})}),t.ok(o)}};sa.default=m0});var ca=x(la=>{"use strict";Object.defineProperty(la,"__esModule",{value:!0});var nr=We(),tt=R(),h0=zt(),ir=U(),_0={message:"must NOT have additional properties",params:({params:t})=>(0,tt._)`{additionalProperty: ${t.additionalProperty}}`},g0={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:_0,code(t){let{gen:n,schema:e,parentSchema:i,data:r,errsCount:o,it:a}=t;if(!o)throw new Error("ajv implementation error");let{allErrors:s,opts:l}=a;if(a.props=!0,l.removeAdditional!=="all"&&(0,ir.alwaysValidSchema)(a,e))return;let c=(0,nr.allSchemaProperties)(i.properties),d=(0,nr.allSchemaProperties)(i.patternProperties);u(),t.ok((0,tt._)`${o} === ${h0.default.errors}`);function u(){n.forIn("key",r,m=>{!c.length&&!d.length?h(m):n.if(g(m),()=>h(m))})}function g(m){let z;if(c.length>8){let D=(0,ir.schemaRefOrVal)(a,i.properties,"properties");z=(0,nr.isOwnProperty)(n,D,m)}else c.length?z=(0,tt.or)(...c.map(D=>(0,tt._)`${m} === ${D}`)):z=tt.nil;return d.length&&(z=(0,tt.or)(z,...d.map(D=>(0,tt._)`${(0,nr.usePattern)(t,D)}.test(${m})`))),(0,tt.not)(z)}function y(m){n.code((0,tt._)`delete ${r}[${m}]`)}function h(m){if(l.removeAdditional==="all"||l.removeAdditional&&e===!1){y(m);return}if(e===!1){t.setParams({additionalProperty:m}),t.error(),s||n.break();return}if(typeof e=="object"&&!(0,ir.alwaysValidSchema)(a,e)){let z=n.name("valid");l.removeAdditional==="failing"?(v(m,z,!1),n.if((0,tt.not)(z),()=>{t.reset(),y(m)})):(v(m,z),s||n.if((0,tt.not)(z),()=>n.break()))}}function v(m,z,D){let I={keyword:"additionalProperties",dataProp:m,dataPropType:ir.Type.Str};D===!1&&Object.assign(I,{compositeRule:!0,createErrors:!1,allErrors:!1}),t.subschema(I,z)}}};la.default=g0});var Bd=x(ua=>{"use strict";Object.defineProperty(ua,"__esModule",{value:!0});var y0=Xn(),Ld=We(),da=U(),Wd=ca(),v0={keyword:"properties",type:"object",schemaType:"object",code(t){let{gen:n,schema:e,parentSchema:i,data:r,it:o}=t;o.opts.removeAdditional==="all"&&i.additionalProperties===void 0&&Wd.default.code(new y0.KeywordCxt(o,Wd.default,"additionalProperties"));let a=(0,Ld.allSchemaProperties)(e);for(let u of a)o.definedProperties.add(u);o.opts.unevaluated&&a.length&&o.props!==!0&&(o.props=da.mergeEvaluated.props(n,(0,da.toHash)(a),o.props));let s=a.filter(u=>!(0,da.alwaysValidSchema)(o,e[u]));if(s.length===0)return;let l=n.name("valid");for(let u of s)c(u)?d(u):(n.if((0,Ld.propertyInData)(n,r,u,o.opts.ownProperties)),d(u),o.allErrors||n.else().var(l,!0),n.endIf()),t.it.definedProperties.add(u),t.ok(l);function c(u){return o.opts.useDefaults&&!o.compositeRule&&e[u].default!==void 0}function d(u){t.subschema({keyword:"properties",schemaProp:u,dataProp:u},l)}}};ua.default=v0});var Gd=x(pa=>{"use strict";Object.defineProperty(pa,"__esModule",{value:!0});var Hd=We(),rr=R(),Ud=U(),Kd=U(),C0={keyword:"patternProperties",type:"object",schemaType:"object",code(t){let{gen:n,schema:e,data:i,parentSchema:r,it:o}=t,{opts:a}=o,s=(0,Hd.allSchemaProperties)(e),l=s.filter(v=>(0,Ud.alwaysValidSchema)(o,e[v]));if(s.length===0||l.length===s.length&&(!o.opts.unevaluated||o.props===!0))return;let c=a.strictSchema&&!a.allowMatchingProperties&&r.properties,d=n.name("valid");o.props!==!0&&!(o.props instanceof rr.Name)&&(o.props=(0,Kd.evaluatedPropsToName)(n,o.props));let{props:u}=o;g();function g(){for(let v of s)c&&y(v),o.allErrors?h(v):(n.var(d,!0),h(v),n.if(d))}function y(v){for(let m in c)new RegExp(v).test(m)&&(0,Ud.checkStrictMode)(o,`property ${m} matches pattern ${v} (use allowMatchingProperties)`)}function h(v){n.forIn("key",i,m=>{n.if((0,rr._)`${(0,Hd.usePattern)(t,v)}.test(${m})`,()=>{let z=l.includes(v);z||t.subschema({keyword:"patternProperties",schemaProp:v,dataProp:m,dataPropType:Kd.Type.Str},d),o.opts.unevaluated&&u!==!0?n.assign((0,rr._)`${u}[${m}]`,!0):!z&&!o.allErrors&&n.if((0,rr.not)(d),()=>n.break())})})}}};pa.default=C0});var Qd=x(fa=>{"use strict";Object.defineProperty(fa,"__esModule",{value:!0});var b0=U(),z0={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(t){let{gen:n,schema:e,it:i}=t;if((0,b0.alwaysValidSchema)(i,e)){t.fail();return}let r=n.name("valid");t.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},r),t.failResult(r,()=>t.reset(),()=>t.error())},error:{message:"must NOT be valid"}};fa.default=z0});var Jd=x(ma=>{"use strict";Object.defineProperty(ma,"__esModule",{value:!0});var w0=We(),S0={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:w0.validateUnion,error:{message:"must match a schema in anyOf"}};ma.default=S0});var Xd=x(ha=>{"use strict";Object.defineProperty(ha,"__esModule",{value:!0});var or=R(),x0=U(),$0={message:"must match exactly one schema in oneOf",params:({params:t})=>(0,or._)`{passingSchemas: ${t.passing}}`},T0={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:$0,code(t){let{gen:n,schema:e,parentSchema:i,it:r}=t;if(!Array.isArray(e))throw new Error("ajv implementation error");if(r.opts.discriminator&&i.discriminator)return;let o=e,a=n.let("valid",!1),s=n.let("passing",null),l=n.name("_valid");t.setParams({passing:s}),n.block(c),t.result(a,()=>t.reset(),()=>t.error(!0));function c(){o.forEach((d,u)=>{let g;(0,x0.alwaysValidSchema)(r,d)?n.var(l,!0):g=t.subschema({keyword:"oneOf",schemaProp:u,compositeRule:!0},l),u>0&&n.if((0,or._)`${l} && ${a}`).assign(a,!1).assign(s,(0,or._)`[${s}, ${u}]`).else(),n.if(l,()=>{n.assign(a,!0),n.assign(s,u),g&&t.mergeEvaluated(g,or.Name)})})}}};ha.default=T0});var Zd=x(_a=>{"use strict";Object.defineProperty(_a,"__esModule",{value:!0});var E0=U(),P0={keyword:"allOf",schemaType:"array",code(t){let{gen:n,schema:e,it:i}=t;if(!Array.isArray(e))throw new Error("ajv implementation error");let r=n.name("valid");e.forEach((o,a)=>{if((0,E0.alwaysValidSchema)(i,o))return;let s=t.subschema({keyword:"allOf",schemaProp:a},r);t.ok(r),t.mergeEvaluated(s)})}};_a.default=P0});var tu=x(ga=>{"use strict";Object.defineProperty(ga,"__esModule",{value:!0});var ar=R(),eu=U(),O0={message:({params:t})=>(0,ar.str)`must match "${t.ifClause}" schema`,params:({params:t})=>(0,ar._)`{failingKeyword: ${t.ifClause}}`},N0={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:O0,code(t){let{gen:n,parentSchema:e,it:i}=t;e.then===void 0&&e.else===void 0&&(0,eu.checkStrictMode)(i,'"if" without "then" and "else" is ignored');let r=Yd(i,"then"),o=Yd(i,"else");if(!r&&!o)return;let a=n.let("valid",!0),s=n.name("_valid");if(l(),t.reset(),r&&o){let d=n.let("ifClause");t.setParams({ifClause:d}),n.if(s,c("then",d),c("else",d))}else r?n.if(s,c("then")):n.if((0,ar.not)(s),c("else"));t.pass(a,()=>t.error(!0));function l(){let d=t.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},s);t.mergeEvaluated(d)}function c(d,u){return()=>{let g=t.subschema({keyword:d},s);n.assign(a,s),t.mergeValidEvaluated(g,a),u?n.assign(u,(0,ar._)`${d}`):t.setParams({ifClause:d})}}}};function Yd(t,n){let e=t.schema[n];return e!==void 0&&!(0,eu.alwaysValidSchema)(t,e)}ga.default=N0});var nu=x(ya=>{"use strict";Object.defineProperty(ya,"__esModule",{value:!0});var M0=U(),k0={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:t,parentSchema:n,it:e}){n.if===void 0&&(0,M0.checkStrictMode)(e,`"${t}" without "if" is ignored`)}};ya.default=k0});var iu=x(va=>{"use strict";Object.defineProperty(va,"__esModule",{value:!0});var D0=ta(),I0=kd(),V0=na(),F0=Id(),R0=Vd(),j0=jd(),A0=qd(),q0=ca(),L0=Bd(),W0=Gd(),B0=Qd(),H0=Jd(),U0=Xd(),K0=Zd(),G0=tu(),Q0=nu();function J0(t=!1){let n=[B0.default,H0.default,U0.default,K0.default,G0.default,Q0.default,A0.default,q0.default,j0.default,L0.default,W0.default];return t?n.push(I0.default,F0.default):n.push(D0.default,V0.default),n.push(R0.default),n}va.default=J0});var ru=x(Ca=>{"use strict";Object.defineProperty(Ca,"__esModule",{value:!0});var re=R(),X0={message:({schemaCode:t})=>(0,re.str)`must match format "${t}"`,params:({schemaCode:t})=>(0,re._)`{format: ${t}}`},Z0={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:X0,code(t,n){let{gen:e,data:i,$data:r,schema:o,schemaCode:a,it:s}=t,{opts:l,errSchemaPath:c,schemaEnv:d,self:u}=s;if(!l.validateFormats)return;r?g():y();function g(){let h=e.scopeValue("formats",{ref:u.formats,code:l.code.formats}),v=e.const("fDef",(0,re._)`${h}[${a}]`),m=e.let("fType"),z=e.let("format");e.if((0,re._)`typeof ${v} == "object" && !(${v} instanceof RegExp)`,()=>e.assign(m,(0,re._)`${v}.type || "string"`).assign(z,(0,re._)`${v}.validate`),()=>e.assign(m,(0,re._)`"string"`).assign(z,v)),t.fail$data((0,re.or)(D(),I()));function D(){return l.strictSchema===!1?re.nil:(0,re._)`${a} && !${z}`}function I(){let ee=d.$async?(0,re._)`(${v}.async ? await ${z}(${i}) : ${z}(${i}))`:(0,re._)`${z}(${i})`,k=(0,re._)`(typeof ${z} == "function" ? ${ee} : ${z}.test(${i}))`;return(0,re._)`${z} && ${z} !== true && ${m} === ${n} && !${k}`}}function y(){let h=u.formats[o];if(!h){D();return}if(h===!0)return;let[v,m,z]=I(h);v===n&&t.pass(ee());function D(){if(l.strictSchema===!1){u.logger.warn(k());return}throw new Error(k());function k(){return`unknown format "${o}" ignored in schema at path "${c}"`}}function I(k){let it=k instanceof RegExp?(0,re.regexpCode)(k):l.code.formats?(0,re._)`${l.code.formats}${(0,re.getProperty)(o)}`:void 0,_t=e.scopeValue("formats",{key:o,ref:k,code:it});return typeof k=="object"&&!(k instanceof RegExp)?[k.type||"string",k.validate,(0,re._)`${_t}.validate`]:["string",k,_t]}function ee(){if(typeof h=="object"&&!(h instanceof RegExp)&&h.async){if(!d.$async)throw new Error("async format in sync schema");return(0,re._)`await ${z}(${i})`}return typeof m=="function"?(0,re._)`${z}(${i})`:(0,re._)`${z}.test(${i})`}}}};Ca.default=Z0});var ou=x(ba=>{"use strict";Object.defineProperty(ba,"__esModule",{value:!0});var Y0=ru(),e_=[Y0.default];ba.default=e_});var au=x(xn=>{"use strict";Object.defineProperty(xn,"__esModule",{value:!0});xn.contentVocabulary=xn.metadataVocabulary=void 0;xn.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];xn.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]});var lu=x(za=>{"use strict";Object.defineProperty(za,"__esModule",{value:!0});var t_=hd(),n_=Pd(),i_=iu(),r_=ou(),su=au(),o_=[t_.default,n_.default,(0,i_.default)(),r_.default,su.metadataVocabulary,su.contentVocabulary];za.default=o_});var du=x(sr=>{"use strict";Object.defineProperty(sr,"__esModule",{value:!0});sr.DiscrError=void 0;var cu=function(t){return t.Tag="tag",t.Mapping="mapping",t}(cu||(sr.DiscrError=cu={}))});var pu=x(Sa=>{"use strict";Object.defineProperty(Sa,"__esModule",{value:!0});var $n=R(),wa=du(),uu=Wi(),a_=Zn(),s_=U(),l_={message:({params:{discrError:t,tagName:n}})=>t===wa.DiscrError.Tag?`tag "${n}" must be string`:`value of tag "${n}" must be in oneOf`,params:({params:{discrError:t,tag:n,tagName:e}})=>(0,$n._)`{error: ${t}, tag: ${e}, tagValue: ${n}}`},c_={keyword:"discriminator",type:"object",schemaType:"object",error:l_,code(t){let{gen:n,data:e,schema:i,parentSchema:r,it:o}=t,{oneOf:a}=r;if(!o.opts.discriminator)throw new Error("discriminator: requires discriminator option");let s=i.propertyName;if(typeof s!="string")throw new Error("discriminator: requires propertyName");if(i.mapping)throw new Error("discriminator: mapping is not supported");if(!a)throw new Error("discriminator: requires oneOf keyword");let l=n.let("valid",!1),c=n.const("tag",(0,$n._)`${e}${(0,$n.getProperty)(s)}`);n.if((0,$n._)`typeof ${c} == "string"`,()=>d(),()=>t.error(!1,{discrError:wa.DiscrError.Tag,tag:c,tagName:s})),t.ok(l);function d(){let y=g();n.if(!1);for(let h in y)n.elseIf((0,$n._)`${c} === ${h}`),n.assign(l,u(y[h]));n.else(),t.error(!1,{discrError:wa.DiscrError.Mapping,tag:c,tagName:s}),n.endIf()}function u(y){let h=n.name("valid"),v=t.subschema({keyword:"oneOf",schemaProp:y},h);return t.mergeEvaluated(v,$n.Name),h}function g(){var y;let h={},v=z(r),m=!0;for(let ee=0;ee<a.length;ee++){let k=a[ee];if(k?.$ref&&!(0,s_.schemaHasRulesButRef)(k,o.self.RULES)){let _t=k.$ref;if(k=uu.resolveRef.call(o.self,o.schemaEnv.root,o.baseId,_t),k instanceof uu.SchemaEnv&&(k=k.schema),k===void 0)throw new a_.default(o.opts.uriResolver,o.baseId,_t)}let it=(y=k?.properties)===null||y===void 0?void 0:y[s];if(typeof it!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${s}"`);m=m&&(v||z(k)),D(it,ee)}if(!m)throw new Error(`discriminator: "${s}" must be required`);return h;function z({required:ee}){return Array.isArray(ee)&&ee.includes(s)}function D(ee,k){if(ee.const)I(ee.const,k);else if(ee.enum)for(let it of ee.enum)I(it,k);else throw new Error(`discriminator: "properties/${s}" must have "const" or "enum"`)}function I(ee,k){if(typeof ee!="string"||ee in h)throw new Error(`discriminator: "${s}" values must be unique strings`);h[ee]=k}}}};Sa.default=c_});var fu=x((O1,d_)=>{d_.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0}});var $a=x((ne,xa)=>{"use strict";Object.defineProperty(ne,"__esModule",{value:!0});ne.MissingRefError=ne.ValidationError=ne.CodeGen=ne.Name=ne.nil=ne.stringify=ne.str=ne._=ne.KeywordCxt=ne.Ajv=void 0;var u_=cd(),p_=lu(),f_=pu(),mu=fu(),m_=["/properties"],lr="http://json-schema.org/draft-07/schema",Tn=class extends u_.default{_addVocabularies(){super._addVocabularies(),p_.default.forEach(n=>this.addVocabulary(n)),this.opts.discriminator&&this.addKeyword(f_.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;let n=this.opts.$data?this.$dataMetaSchema(mu,m_):mu;this.addMetaSchema(n,lr,!1),this.refs["http://json-schema.org/schema"]=lr}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(lr)?lr:void 0)}};ne.Ajv=Tn;xa.exports=ne=Tn;xa.exports.Ajv=Tn;Object.defineProperty(ne,"__esModule",{value:!0});ne.default=Tn;var h_=Xn();Object.defineProperty(ne,"KeywordCxt",{enumerable:!0,get:function(){return h_.KeywordCxt}});var En=R();Object.defineProperty(ne,"_",{enumerable:!0,get:function(){return En._}});Object.defineProperty(ne,"str",{enumerable:!0,get:function(){return En.str}});Object.defineProperty(ne,"stringify",{enumerable:!0,get:function(){return En.stringify}});Object.defineProperty(ne,"nil",{enumerable:!0,get:function(){return En.nil}});Object.defineProperty(ne,"Name",{enumerable:!0,get:function(){return En.Name}});Object.defineProperty(ne,"CodeGen",{enumerable:!0,get:function(){return En.CodeGen}});var __=qi();Object.defineProperty(ne,"ValidationError",{enumerable:!0,get:function(){return __.default}});var g_=Zn();Object.defineProperty(ne,"MissingRefError",{enumerable:!0,get:function(){return g_.default}})});var zu=x(pt=>{"use strict";Object.defineProperty(pt,"__esModule",{value:!0});pt.formatNames=pt.fastFormats=pt.fullFormats=void 0;function ut(t,n){return{validate:t,compare:n}}pt.fullFormats={date:ut(yu,Oa),time:ut(Ea(!0),Na),"date-time":ut(hu(!0),Cu),"iso-time":ut(Ea(),vu),"iso-date-time":ut(hu(),bu),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:w_,"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:O_,uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:S_,int32:{type:"number",validate:T_},int64:{type:"number",validate:E_},float:{type:"number",validate:gu},double:{type:"number",validate:gu},password:!0,binary:!0};pt.fastFormats=Z(w({},pt.fullFormats),{date:ut(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,Oa),time:ut(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,Na),"date-time":ut(/^\d\d\d\d-[0-1]\d-[0-3]\dt(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,Cu),"iso-time":ut(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,vu),"iso-date-time":ut(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,bu),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i});pt.formatNames=Object.keys(pt.fullFormats);function y_(t){return t%4===0&&(t%100!==0||t%400===0)}var v_=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,C_=[0,31,28,31,30,31,30,31,31,30,31,30,31];function yu(t){let n=v_.exec(t);if(!n)return!1;let e=+n[1],i=+n[2],r=+n[3];return i>=1&&i<=12&&r>=1&&r<=(i===2&&y_(e)?29:C_[i])}function Oa(t,n){if(t&&n)return t>n?1:t<n?-1:0}var Ta=/^(\d\d):(\d\d):(\d\d(?:\.\d+)?)(z|([+-])(\d\d)(?::?(\d\d))?)?$/i;function Ea(t){return function(e){let i=Ta.exec(e);if(!i)return!1;let r=+i[1],o=+i[2],a=+i[3],s=i[4],l=i[5]==="-"?-1:1,c=+(i[6]||0),d=+(i[7]||0);if(c>23||d>59||t&&!s)return!1;if(r<=23&&o<=59&&a<60)return!0;let u=o-d*l,g=r-c*l-(u<0?1:0);return(g===23||g===-1)&&(u===59||u===-1)&&a<61}}function Na(t,n){if(!(t&&n))return;let e=new Date("2020-01-01T"+t).valueOf(),i=new Date("2020-01-01T"+n).valueOf();if(e&&i)return e-i}function vu(t,n){if(!(t&&n))return;let e=Ta.exec(t),i=Ta.exec(n);if(e&&i)return t=e[1]+e[2]+e[3],n=i[1]+i[2]+i[3],t>n?1:t<n?-1:0}var Pa=/t|\s/i;function hu(t){let n=Ea(t);return function(i){let r=i.split(Pa);return r.length===2&&yu(r[0])&&n(r[1])}}function Cu(t,n){if(!(t&&n))return;let e=new Date(t).valueOf(),i=new Date(n).valueOf();if(e&&i)return e-i}function bu(t,n){if(!(t&&n))return;let[e,i]=t.split(Pa),[r,o]=n.split(Pa),a=Oa(e,r);if(a!==void 0)return a||Na(i,o)}var b_=/\/|:/,z_=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function w_(t){return b_.test(t)&&z_.test(t)}var _u=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm;function S_(t){return _u.lastIndex=0,_u.test(t)}var x_=-(2**31),$_=2**31-1;function T_(t){return Number.isInteger(t)&&t<=$_&&t>=x_}function E_(t){return Number.isInteger(t)}function gu(){return!0}var P_=/[^\\]\\Z/;function O_(t){if(P_.test(t))return!1;try{return new RegExp(t),!0}catch{return!1}}});var wu=x(Pn=>{"use strict";Object.defineProperty(Pn,"__esModule",{value:!0});Pn.formatLimitDefinition=void 0;var N_=$a(),nt=R(),At=nt.operators,cr={formatMaximum:{okStr:"<=",ok:At.LTE,fail:At.GT},formatMinimum:{okStr:">=",ok:At.GTE,fail:At.LT},formatExclusiveMaximum:{okStr:"<",ok:At.LT,fail:At.GTE},formatExclusiveMinimum:{okStr:">",ok:At.GT,fail:At.LTE}},M_={message:({keyword:t,schemaCode:n})=>(0,nt.str)`should be ${cr[t].okStr} ${n}`,params:({keyword:t,schemaCode:n})=>(0,nt._)`{comparison: ${cr[t].okStr}, limit: ${n}}`};Pn.formatLimitDefinition={keyword:Object.keys(cr),type:"string",schemaType:"string",$data:!0,error:M_,code(t){let{gen:n,data:e,schemaCode:i,keyword:r,it:o}=t,{opts:a,self:s}=o;if(!a.validateFormats)return;let l=new N_.KeywordCxt(o,s.RULES.all.format.definition,"format");l.$data?c():d();function c(){let g=n.scopeValue("formats",{ref:s.formats,code:a.code.formats}),y=n.const("fmt",(0,nt._)`${g}[${l.schemaCode}]`);t.fail$data((0,nt.or)((0,nt._)`typeof ${y} != "object"`,(0,nt._)`${y} instanceof RegExp`,(0,nt._)`typeof ${y}.compare != "function"`,u(y)))}function d(){let g=l.schema,y=s.formats[g];if(!y||y===!0)return;if(typeof y!="object"||y instanceof RegExp||typeof y.compare!="function")throw new Error(`"${r}": format "${g}" does not define "compare" function`);let h=n.scopeValue("formats",{key:g,ref:y,code:a.code.formats?(0,nt._)`${a.code.formats}${(0,nt.getProperty)(g)}`:void 0});t.fail$data(u(h))}function u(g){return(0,nt._)`${g}.compare(${e}, ${i}) ${cr[r].fail} 0`}},dependencies:["format"]};var k_=t=>(t.addKeyword(Pn.formatLimitDefinition),t);Pn.default=k_});var Tu=x((pi,$u)=>{"use strict";Object.defineProperty(pi,"__esModule",{value:!0});var On=zu(),D_=wu(),Ma=R(),Su=new Ma.Name("fullFormats"),I_=new Ma.Name("fastFormats"),ka=(t,n={keywords:!0})=>{if(Array.isArray(n))return xu(t,n,On.fullFormats,Su),t;let[e,i]=n.mode==="fast"?[On.fastFormats,I_]:[On.fullFormats,Su],r=n.formats||On.formatNames;return xu(t,r,e,i),n.keywords&&(0,D_.default)(t),t};ka.get=(t,n="full")=>{let i=(n==="fast"?On.fastFormats:On.fullFormats)[t];if(!i)throw new Error(`Unknown format "${t}"`);return i};function xu(t,n,e,i){var r,o;(r=(o=t.opts.code).formats)!==null&&r!==void 0||(o.formats=(0,Ma._)`require("ajv-formats/dist/formats").${i}`);for(let a of n)t.addFormat(a,e[a])}$u.exports=pi=ka;Object.defineProperty(pi,"__esModule",{value:!0});pi.default=ka});var Mu=Za($a(),1),ku=Za(Tu(),1);var Eu=(()=>{class t{cogSrv=S(Ee);c;constructor(){this.c=this.cogSrv.merge("utilArray",{deepMapName:"deep",parentMapName:"parent",idMapName:"id",parentIdMapName:"parent_id",childrenMapName:"children",titleMapName:"title",checkedMapname:"checked",selectedMapname:"selected",expandedMapname:"expanded",disabledMapname:"disabled"})}treeToArr(e,i){let r=w({deepMapName:this.c.deepMapName,parentMapName:this.c.parentMapName,childrenMapName:this.c.childrenMapName,clearChildren:!0,cb:null},i),o=[],a=(s,l,c=0)=>{for(let d of s){d[r.deepMapName]=c,d[r.parentMapName]=l,r.cb&&r.cb(d,l,c),o.push(d);let u=d[r.childrenMapName];u!=null&&Array.isArray(u)&&u.length>0&&a(u,d,c+1),r.clearChildren&&delete d[r.childrenMapName]}};return a(e,null),o}arrToTree(e,i){if(!Array.isArray(e)||e.length===0)return[];let r=w({idMapName:this.c.idMapName,parentIdMapName:this.c.parentIdMapName,childrenMapName:this.c.childrenMapName,cb:null},i),o=[],a={},s=r.rootParentIdValue,l=e;if(!s){let c=l.map(u=>u[r.parentIdMapName]),d=c.findIndex(u=>u==null);s=d!==-1?c[d]:c.sort()[0]}for(let c of l){let d=c[r.idMapName],u=c[r.parentIdMapName];a[d]=a[d]||[],c[r.childrenMapName]=a[d],r.cb&&r.cb(c),u!==s?(a[u]=a[u]||[],a[u].push(c)):o.push(c)}return o}arrToTreeNode(e,i){let r=w({idMapName:this.c.idMapName,parentIdMapName:this.c.parentIdMapName,titleMapName:this.c.titleMapName,isLeafMapName:"isLeaf",checkedMapname:this.c.checkedMapname,selectedMapname:this.c.selectedMapname,expandedMapname:this.c.expandedMapname,disabledMapname:this.c.disabledMapname,cb:null},i),o=this.arrToTree(e,{idMapName:r.idMapName,parentIdMapName:r.parentIdMapName,childrenMapName:"children"});return this.visitTree(o,(a,s,l)=>{a.key=a[r.idMapName],a.title=a[r.titleMapName],a.checked=a[r.checkedMapname],a.selected=a[r.selectedMapname],a.expanded=a[r.expandedMapname],a.disabled=a[r.disabledMapname],a[r.isLeafMapName]==null?a.isLeaf=a.children.length===0:a.isLeaf=a[r.isLeafMapName],r.cb&&r.cb(a,s,l)}),o.map(a=>new Nl(a))}visitTree(e,i,r){r=w({childrenMapName:this.c.childrenMapName},r);let o=(a,s,l)=>{for(let c of a){i(c,s,l);let d=c[r.childrenMapName];Array.isArray(d)&&d.length>0&&o(d,c,l+1)}};o(e,null,1)}findTree(e,i,r){let o;return this.visitTree(e,a=>{o===void 0&&i(a)&&(o=a)},r),o}getKeysByTreeNode(e,i){let r=w({includeHalfChecked:!0},i),o=[];return this.visitTree(e,(a,s,l)=>{(a.isChecked||r.includeHalfChecked&&a.isHalfChecked)&&o.push(r.cb?r.cb(a,s,l):r.keyMapName?a.origin[r.keyMapName]:a.key)}),o}baseFlat(e,i,r=[]){let o=-1;for(;++o<e.length;){let a=e[o];if(i>0&&Array.isArray(a))if(i>1)this.baseFlat(a,i-1,r);else{let s=-1,l=r.length;for(;++s<a.length;)r[l+s]=a[s]}else r[r.length]=a}return r}flat(e,i=1/0){return Array.isArray(e)?this.baseFlat(e,i):e}groupBy(e,i){return Array.isArray(e)?e.reduce((r,o)=>{let a=i(o);return Object.prototype.hasOwnProperty.call(r,a)?r[a].push(o):r[a]=[o],r},{}):{}}uniq(e,i){return Array.from(e.reduce((r,o)=>{let a=i?typeof i=="string"?o[i]:i(o):o;return r.has(a)||r.set(a,o),r},new Map).values())}static \u0275fac=function(i){return new(i||t)};static \u0275prov=an({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var F_=["target"];function R_(t,n){}function j_(t,n){t&1&&ms(0)}var Du=["*"];function A_(t,n){t&1&&ce(0)}function q_(t,n){if(t&1&&Q(0,"nz-icon",11),t&2){let e=p(5);_("nzType",e._btn.submit_icon.type)("nzTheme",e._btn.submit_icon.theme)("nzTwotoneColor",e._btn.submit_icon.twoToneColor)("nzIconfont",e._btn.submit_icon.iconfont)}}function L_(t,n){if(t&1&&Q(0,"nz-icon",11),t&2){p();let e=Rn(1);_("nzType",e.type)("nzTheme",e.theme)("nzTwotoneColor",e.twoToneColor)("nzIconfont",e.iconfont)}}function W_(t,n){if(t&1){let e=J();b(0,"button",13),K("click",function(){P(e);let r=p(5);return O(r.reset(!0))}),Er(1),$(2,L_,1,4,"nz-icon",11),V(3),C()}if(t&2){p(3);let e=Rn(0),i=p(2);_("nzType",i._btn.reset_type)("nzSize",e.size)("disabled",i.loading),f();let r=Pr(i._btn.reset_icon);f(),T(r?2:-1),f(),ie(" ",i._btn.reset," ")}}function B_(t,n){if(t&1&&(b(0,"button",10),$(1,q_,1,4,"nz-icon",11),V(2),C(),$(3,W_,4,6,"button",12)),t&2){p(2);let e=Rn(0),i=p(2);_("nzType",i._btn.submit_type)("nzSize",e.size)("nzLoading",i.loading)("disabled",i.liveValidate&&!i.valid),f(),T(i._btn.submit_icon?1:-1),f(),ie(" ",i._btn.submit," "),f(),T(i._btn.reset?3:-1)}}function H_(t,n){}function U_(t,n){if(t&1&&N(0,H_,0,0,"ng-template",4),t&2){p(4);let e=de(1);_("ngTemplateOutlet",e)}}function K_(t,n){if(t&1&&(b(0,"nz-form-item",6)(1,"div",7)(2,"div",8)(3,"div",9),$(4,B_,4,7)(5,U_,1,1,null,4),C()()()()),t&2){p();let e=Rn(0),i=p(2);je(e.class),_("fixed-label",e.spanLabelFixed),f(),_("nzSpan",i.btnGrid.span)("nzOffset",i.btnGrid.offset)("nzXs",i.btnGrid.xs)("nzSm",i.btnGrid.sm)("nzMd",i.btnGrid.md)("nzLg",i.btnGrid.lg)("nzXl",i.btnGrid.xl)("nzXXl",i.btnGrid.xxl),f(3),T(i.button?4:5)}}function G_(t,n){if(t&1&&(Er(0),$(1,K_,6,12,"nz-form-item",5)),t&2){let e=Pr(p(2)._btn.render);f(),T(e?1:-1)}}function Q_(t,n){}function J_(t,n){if(t&1&&N(0,Q_,0,0,"ng-template",4),t&2){p(2);let e=de(1);_("ngTemplateOutlet",e)}}function X_(t,n){if(t&1&&$(0,G_,2,2)(1,J_,1,1,null,4),t&2){let e=p();T(e.button!=="none"?0:1)}}function Z_(t,n){if(t&1&&Q(0,"sf-item",3),t&2){let e=p(),i=de(3);_("formProperty",e.rootProperty)("footer",i)}}function Y_(t,n){if(t&1&&Q(0,"nz-icon",9),t&2){let e=p(4);_("nzTooltipTitle",e.oh.text)("nzTooltipPlacement",e.oh.placement)("nzTooltipTrigger",e.oh.trigger)("nzTooltipColor",e.oh.bgColor)("nzTooltipOverlayClassName",e.oh.overlayClassName)("nzTooltipOverlayStyle",e.oh.overlayStyle)("nzTooltipMouseEnterDelay",e.oh.mouseEnterDelay)("nzTooltipMouseLeaveDelay",e.oh.mouseLeaveDelay)("nzType",e.oh.icon)}}function eg(t,n){if(t&1&&(b(0,"span",8),V(1),$(2,Y_,1,9,"nz-icon",9),C()),t&2){let e=p(3);f(),ie(" ",e.ui.optional," "),f(),T(e.oh?2:-1)}}function tg(t,n){if(t&1&&(b(0,"label")(1,"span",7),V(2),C(),$(3,eg,3,2,"span",8),C()),t&2){let e=p(2);G("ant-form-item-required",e.ui._required),Re("for",e.id),f(2),ae(e.t),f(),T(e.ui.optional||e.oh?3:-1)}}function ng(t,n){if(t&1&&(b(0,"div",0),$(1,tg,4,5,"label",6),C()),t&2){let e=p();_("nzSpan",e.ui.spanLabel),f(),T(e.t?1:-1)}}function ig(t,n){if(t&1&&(b(0,"div",4)(1,"div",10),V(2),C()()),t&2){let e=p();_("@helpMotion",void 0),f(2),ie(" ",e.error," ")}}function rg(t,n){if(t&1&&Q(0,"div",5),t&2){let e=p();_("innerHTML",e.ui._description,$t)}}function og(t,n){if(t&1&&Q(0,"nz-icon",7),t&2){let e=p(2);_("nzTooltipTitle",e.oh.text)("nzTooltipPlacement",e.oh.placement)("nzTooltipTrigger",e.oh.trigger)("nzTooltipOverlayClassName",e.oh.overlayClassName)("nzTooltipOverlayStyle",e.oh.overlayStyle)("nzTooltipMouseEnterDelay",e.oh.mouseEnterDelay)("nzTooltipMouseLeaveDelay",e.oh.mouseLeaveDelay)("nzType",e.oh.icon)}}function ag(t,n){if(t&1){let e=J();b(0,"div",0)(1,"label"),V(2),b(3,"span",6),V(4),$(5,og,1,8,"nz-icon",7),C()(),b(6,"div",8)(7,"button",9),K("click",function(){P(e);let r=p();return O(r.addItem())}),C()()()}if(t&2){let e=p();_("nzSpan",e.ui.spanLabel),f(),G("ant-form-item-required",e.ui.required),f(),ie(" ",e.schema.title," "),f(2),ie(" ",e.ui.optional," "),f(),T(e.oh?5:-1),f(2),_("nzType",e.addType)("disabled",e.addDisabled)("innerHTML",e.addTitle,$t)}}function sg(t,n){if(t&1){let e=J();b(0,"span",13),K("click",function(){P(e);let r=p(2).$index,o=p();return O(o.removeItem(r))}),Q(1,"nz-icon",14),C()}if(t&2){let e=p(3);Re("title",e.removeTitle)}}function lg(t,n){if(t&1&&(b(0,"div",10)(1,"nz-card"),Q(2,"sf-item",11),$(3,sg,2,1,"span",12),C()()),t&2){let e=p(),i=e.$implicit,r=e.$index,o=p();_("nzSpan",o.arraySpan),Re("data-index",r),f(2),_("formProperty",i),f(),T(o.showRemove?3:-1)}}function cg(t,n){if(t&1&&$(0,lg,4,4,"div",10),t&2){let e=n.$implicit;T(e.visible&&!e.ui.hidden?0:-1)}}function dg(t,n){if(t&1&&(b(0,"div",4),V(1),C()),t&2){let e=p();f(),ae(e.error)}}function ug(t,n){if(t&1&&Q(0,"div",5),t&2){let e=p();_("innerHTML",e.ui._description,$t)}}function pg(t,n){if(t&1){let e=J();b(0,"label",3),Pt("ngModelChange",function(r){P(e);let o=p(2);return Et(o.allChecked,r)||(o.allChecked=r),O(r)}),K("ngModelChange",function(){P(e);let r=p(2);return O(r.onAllChecked())}),V(1),C()}if(t&2){let e=p(2);Tt("ngModel",e.allChecked),_("nzIndeterminate",e.indeterminate),f(),ie(" ",e.ui.checkAllText||e.l.checkAllText," ")}}function fg(t,n){if(t&1&&$(0,pg,2,3,"label",2),t&2){let e=p();T(e.ui.checkAll?0:-1)}}function mg(t,n){if(t&1&&Q(0,"nz-icon",7),t&2){let e=p(3);_("nzTooltipTitle",e.oh.text)("nzTooltipPlacement",e.oh.placement)("nzTooltipTrigger",e.oh.trigger)("nzTooltipOverlayClassName",e.oh.overlayClassName)("nzTooltipOverlayStyle",e.oh.overlayStyle)("nzTooltipMouseEnterDelay",e.oh.mouseEnterDelay)("nzTooltipMouseLeaveDelay",e.oh.mouseLeaveDelay)("nzType",e.oh.icon)}}function hg(t,n){if(t&1){let e=J();b(0,"label",5),K("ngModelChange",function(r){P(e);let o=p(2);return O(o._setValue(r))}),V(1),b(2,"span",6),V(3),$(4,mg,1,8,"nz-icon",7),C()()}if(t&2){let e=p(2);_("nzDisabled",e.disabled)("ngModel",e.value),f(),ie(" ",e.schema.title," "),f(2),ie(" ",e.ui.optional," "),f(),T(e.oh?4:-1)}}function _g(t,n){}function gg(t,n){if(t&1){let e=J();N(0,_g,0,0,"ng-template",9),b(1,"nz-checkbox-group",10),K("ngModelChange",function(r){P(e);let o=p(3);return O(o.groupInGridChange(r))}),C()}if(t&2){let e=p(3),i=de(1);_("ngTemplateOutlet",i),f(),_("ngModel",e.value)("nzOptions",e.data)}}function yg(t,n){}function vg(t,n){if(t&1&&(b(0,"div",13),N(1,yg,0,0,"ng-template",9),C()),t&2){let e=p(4),i=de(1);_("nzSpan",e.grid_span),f(),_("ngTemplateOutlet",i)}}function Cg(t,n){if(t&1&&(b(0,"div",13)(1,"label",14),V(2),C()()),t&2){let e=n.$implicit,i=p(4);_("nzSpan",i.grid_span),f(),_("nzValue",e.value)("ngModel",e.checked)("nzDisabled",e.disabled),f(),ie(" ",e.label," ")}}function bg(t,n){if(t&1){let e=J();b(0,"nz-checkbox-wrapper",11),K("nzOnChange",function(r){P(e);let o=p(3);return O(o.groupInGridChange(r))}),b(1,"div",12),$(2,vg,2,2,"div",13),$e(3,Cg,3,5,"div",13,Ge),C()()}if(t&2){let e=p(3);f(2),T(e.ui.checkAll?2:-1),f(),Te(e.data)}}function zg(t,n){if(t&1&&$(0,gg,2,3)(1,bg,5,1,"nz-checkbox-wrapper",8),t&2){let e=p(2);T(e.grid_span===0?0:1)}}function wg(t,n){if(t&1&&$(0,hg,5,5,"label",4)(1,zg,2,1),t&2){let e=p();T(e.data.length===0?0:1)}}var Sg=(t,n,e)=>({$implicit:t,schema:n,ui:e});function xg(t,n){}function $g(t,n){if(t&1){let e=J();b(0,"nz-year-picker",5),Pt("ngModelChange",function(r){P(e);let o=p();return Et(o.displayValue,r)||(o.displayValue=r),O(r)}),K("ngModelChange",function(r){P(e);let o=p();return O(o._change(r))})("nzOnOpenChange",function(r){P(e);let o=p();return O(o._openChange(r))}),C()}if(t&2){let e=p();je(e.ui.className),_("nzId",e.id)("nzDisabled",e.disabled)("nzSize",e.ui.size)("nzFormat",e.displayFormat),Tt("ngModel",e.displayValue),_("nzAllowClear",e.i.allowClear)("nzDisabledDate",e.ui.disabledDate)("nzLocale",e.ui.locale)("nzPlaceHolder",e.ui.placeholder)("nzPopupStyle",e.ui.popupStyle)("nzDropdownClassName",e.ui.dropdownClassName)("nzRenderExtraFooter",e.ui.renderExtraFooter)("nzInputReadOnly",e.ui.inputReadOnly)("nzInline",e.ui.inline)}}function Tg(t,n){if(t&1){let e=J();b(0,"nz-month-picker",5),Pt("ngModelChange",function(r){P(e);let o=p();return Et(o.displayValue,r)||(o.displayValue=r),O(r)}),K("ngModelChange",function(r){P(e);let o=p();return O(o._change(r))})("nzOnOpenChange",function(r){P(e);let o=p();return O(o._openChange(r))}),C()}if(t&2){let e=p();je(e.ui.className),_("nzId",e.id)("nzDisabled",e.disabled)("nzSize",e.ui.size)("nzFormat",e.displayFormat),Tt("ngModel",e.displayValue),_("nzAllowClear",e.i.allowClear)("nzDisabledDate",e.ui.disabledDate)("nzLocale",e.ui.locale)("nzPlaceHolder",e.ui.placeholder)("nzPopupStyle",e.ui.popupStyle)("nzDropdownClassName",e.ui.dropdownClassName)("nzRenderExtraFooter",e.ui.renderExtraFooter)("nzInputReadOnly",e.ui.inputReadOnly)("nzInline",e.ui.inline)}}function Eg(t,n){if(t&1){let e=J();b(0,"nz-week-picker",6),Pt("ngModelChange",function(r){P(e);let o=p();return Et(o.displayValue,r)||(o.displayValue=r),O(r)}),K("ngModelChange",function(r){P(e);let o=p();return O(o._change(r))})("nzOnOpenChange",function(r){P(e);let o=p();return O(o._openChange(r))}),C()}if(t&2){let e=p();je(e.ui.className),_("nzId",e.id)("nzDisabled",e.disabled)("nzSize",e.ui.size)("nzFormat",e.displayFormat),Tt("ngModel",e.displayValue),_("nzAllowClear",e.i.allowClear)("nzDisabledDate",e.ui.disabledDate)("nzLocale",e.ui.locale)("nzPlaceHolder",e.ui.placeholder)("nzPopupStyle",e.ui.popupStyle)("nzDropdownClassName",e.ui.dropdownClassName)("nzInputReadOnly",e.ui.inputReadOnly)("nzInline",e.ui.inline)}}function Pg(t,n){if(t&1){let e=J();b(0,"nz-range-picker",7),Pt("ngModelChange",function(r){P(e);let o=p();return Et(o.displayValue,r)||(o.displayValue=r),O(r)}),K("ngModelChange",function(r){P(e);let o=p();return O(o._change(r))})("nzOnOpenChange",function(r){P(e);let o=p();return O(o._openChange(r))})("nzOnOk",function(r){P(e);let o=p();return O(o._ok(r))}),C()}if(t&2){let e=p();je(e.ui.className),_("nzId",e.id)("nzDisabled",e.disabled)("nzSize",e.ui.size)("nzFormat",e.displayFormat),Tt("ngModel",e.displayValue),_("nzAllowClear",e.i.allowClear)("nzDisabledDate",e.ui.disabledDate)("nzLocale",e.ui.locale)("nzPlaceHolder",e.ui.placeholder)("nzPopupStyle",e.ui.popupStyle)("nzDropdownClassName",e.ui.dropdownClassName)("nzDisabledTime",e.ui.disabledTime)("nzRenderExtraFooter",e.ui.renderExtraFooter)("nzRanges",e.ui.ranges)("nzShowTime",e.ui.showTime)("nzSeparator",e.ui.separator)("nzShowWeekNumber",e.ui.showWeekNumber||!1)("nzMode",e.ui.rangeMode)("nzInputReadOnly",e.ui.inputReadOnly)("nzInline",e.ui.inline)}}function Og(t,n){if(t&1){let e=J();b(0,"nz-date-picker",8),Pt("ngModelChange",function(r){P(e);let o=p();return Et(o.displayValue,r)||(o.displayValue=r),O(r)}),K("ngModelChange",function(r){P(e);let o=p();return O(o._change(r))})("nzOnOpenChange",function(r){P(e);let o=p();return O(o._openChange(r))})("nzOnOk",function(r){P(e);let o=p();return O(o._ok(r))}),C()}if(t&2){let e=p();je(e.ui.className),_("nzId",e.id)("nzDisabled",e.disabled)("nzSize",e.ui.size)("nzFormat",e.displayFormat),Tt("ngModel",e.displayValue),_("nzAllowClear",e.i.allowClear)("nzDisabledDate",e.ui.disabledDate)("nzLocale",e.ui.locale)("nzPlaceHolder",e.ui.placeholder)("nzPopupStyle",e.ui.popupStyle)("nzDropdownClassName",e.ui.dropdownClassName)("nzDisabledTime",e.ui.disabledTime)("nzRenderExtraFooter",e.ui.renderExtraFooter)("nzShowTime",e.ui.showTime)("nzShowToday",e.i.showToday)("nzShowWeekNumber",e.ui.showWeekNumber||!1)("nzInputReadOnly",e.ui.inputReadOnly)("nzInline",e.ui.inline)}}var Ng=()=>[],Mg=()=>({$implicit:!0});function kg(t,n){if(t&1&&(b(0,"div",4),V(1),C()),t&2){let e=p(2);f(),ae(e.title)}}function Dg(t,n){if(t&1&&(b(0,"div",6),Q(1,"sf-item",7),C()),t&2){let e=p().$implicit;_("nzSpan",e.grid.span)("nzOffset",e.grid.offset)("nzXs",e.grid.xs)("nzSm",e.grid.sm)("nzMd",e.grid.md)("nzLg",e.grid.lg)("nzXl",e.grid.xl)("nzXXl",e.grid.xxl),f(),_("formProperty",e.property)("fixed-label",e.spanLabelFixed)}}function Ig(t,n){if(t&1&&$(0,Dg,2,10,"div",6),t&2){let e=n.$implicit;T(e.property.visible&&e.show?0:-1)}}function Vg(t,n){if(t&1&&(b(0,"div",5),$e(1,Ig,1,1,null,null,Ge),C()),t&2){let e=p(2);_("nzGutter",e.grid.gutter),f(),Te(e.list)}}function Fg(t,n){if(t&1&&Q(0,"sf-item",7),t&2){let e=p().$implicit;_("formProperty",e.property)("fixed-label",e.spanLabelFixed)}}function Rg(t,n){if(t&1&&$(0,Fg,1,2,"sf-item",7),t&2){let e=n.$implicit;T(e.property.visible&&e.show?0:-1)}}function jg(t,n){if(t&1&&$e(0,Rg,1,1,null,null,Ge),t&2){let e=p(2);Te(e.list)}}function Ag(t,n){if(t&1&&($(0,kg,2,1,"div",4),$(1,Vg,3,1,"div",5)(2,jg,2,0)),t&2){let e=n.$implicit,i=p();T(!e&&i.title?0:-1),f(),T(i.grid?1:2)}}function qg(t,n){if(t&1&&Q(0,"nz-icon",11),t&2){let e=p(3);_("nzType",e.expand?"down":"up")}}function Lg(t,n){if(t&1&&Q(0,"nz-icon",13),t&2){let e=p(4);_("nzTooltipTitle",e.oh.text)("nzTooltipPlacement",e.oh.placement)("nzTooltipTrigger",e.oh.trigger)("nzTooltipColor",e.oh.bgColor)("nzTooltipOverlayClassName",e.oh.overlayClassName)("nzTooltipOverlayStyle",e.oh.overlayStyle)("nzTooltipMouseEnterDelay",e.oh.mouseEnterDelay)("nzTooltipMouseLeaveDelay",e.oh.mouseLeaveDelay)("nzType",e.oh.icon)}}function Wg(t,n){if(t&1&&(b(0,"span",12),V(1),$(2,Lg,1,9,"nz-icon",13),C()),t&2){let e=p(3);f(),ie(" ",e.ui.optional," "),f(),T(e.oh?2:-1)}}function Bg(t,n){if(t&1){let e=J();b(0,"div",10),K("click",function(){P(e);let r=p(2);return O(r.changeExpand())}),$(1,qg,1,1,"nz-icon",11),V(2),$(3,Wg,3,2,"span",12),C()}if(t&2){let e=p(2);G("point",e.showExpand),f(),T(e.showExpand?1:-1),f(),ie(" ",e.title," "),f(),T(e.ui.optional||e.oh?3:-1)}}function Hg(t,n){}function Ug(t,n){if(t&1&&(b(0,"nz-card",8),N(1,Bg,4,5,"ng-template",null,1,ve)(3,Hg,0,0,"ng-template",9),C()),t&2){let e=de(2),i=p(),r=de(1);G("sf__object-card-fold",!i.expand),_("nzTitle",e)("nzExtra",i.ui.cardExtra)("nzSize",i.ui.cardSize||"small")("nzActions",i.ui.cardActions||ln(10,Ng))("nzBodyStyle",i.ui.cardBodyStyle)("nzBordered",i.ui.cardBordered||!0),f(3),_("ngTemplateOutlet",r)("ngTemplateOutletContext",ln(11,Mg))}}function Kg(t,n){}function Gg(t,n){if(t&1&&N(0,Kg,0,0,"ng-template",3),t&2){p();let e=de(1);_("ngTemplateOutlet",e)}}function Qg(t,n){if(t&1&&(b(0,"label",2),Q(1,"span",3),C()),t&2){let e=n.$implicit,i=p(2);_("nzValue",e.value)("nzDisabled",i.disabled||e.disabled),f(),_("innerHTML",e.label,$t)}}function Jg(t,n){if(t&1&&$e(0,Qg,2,3,"label",2,Ge),t&2){let e=p();Te(e.data)}}function Xg(t,n){if(t&1&&(b(0,"label",4),Q(1,"span",3),C()),t&2){let e=n.$implicit,i=p(2);_("nzValue",e.value)("nzDisabled",i.disabled||e.disabled),f(),_("innerHTML",e.label,$t)}}function Zg(t,n){if(t&1&&$e(0,Xg,2,3,"label",4,Ge),t&2){let e=p();Te(e.data)}}function Yg(t,n){if(t&1&&Q(0,"nz-option",3),t&2){let e=n.$implicit;_("nzLabel",e.label)("nzValue",e.value)("nzHide",e.hide)("nzDisabled",e.disabled)}}function ey(t,n){if(t&1&&$e(0,Yg,1,4,"nz-option",3,Ge),t&2){let e=p();Te(e.data)}}function ty(t,n){if(t&1&&Q(0,"nz-option",5),t&2){let e=n.$implicit;_("nzLabel",e.label)("nzValue",e.value)("nzDisabled",e.disabled)("nzHide",e.hide)}}function ny(t,n){if(t&1&&(b(0,"nz-option-group",4),$e(1,ty,1,4,"nz-option",5,Ge),C()),t&2){let e=n.$implicit;_("nzLabel",e.label),f(),Te(e.children)}}function iy(t,n){if(t&1&&$e(0,ny,3,1,"nz-option-group",4,Ge),t&2){let e=p();Te(e.data)}}function ry(t,n){if(t&1&&(b(0,"nz-option",2),Q(1,"nz-icon",6),V(2),C()),t&2){let e=p();f(2),ie(" ",e.ui.searchLoadingText," ")}}function oy(t,n){if(t&1){let e=J();b(0,"input",4),K("ngModelChange",function(r){P(e);let o=p();return O(o.change(r))})("keyup.enter",function(r){P(e);let o=p();return O(o.enter(r))})("focus",function(r){P(e);let o=p();return O(o.focus(r))})("blur",function(r){P(e);let o=p();return O(o.blur(r))}),C()}if(t&2){let e=p();_("disabled",e.disabled)("nzSize",e.ui.size)("nzBorderless",e.ui.borderless)("ngModel",e.value),Re("id",e.id)("disabled",e.disabled)("maxLength",e.schema.maxLength||null)("type",e.ui.type||"text")("placeholder",e.ui.placeholder)("autocomplete",e.ui.autocomplete)("autoFocus",e.ui.autofocus)}}function ay(t,n){}function sy(t,n){if(t&1&&(b(0,"nz-input-group",2),N(1,ay,0,0,"ng-template",3),C()),t&2){let e=p(),i=de(2);_("nzAddOnBefore",e.ui.addOnBefore)("nzAddOnAfter",e.ui.addOnAfter)("nzAddOnBeforeIcon",e.ui.addOnBeforeIcon)("nzAddOnAfterIcon",e.ui.addOnAfterIcon)("nzPrefix",e.ui.prefix)("nzPrefixIcon",e.ui.prefixIcon)("nzSuffix",e.ui.suffix)("nzSuffixIcon",e.ui.suffixIcon),f(),_("ngTemplateOutlet",i)}}function ly(t,n){}function cy(t,n){if(t&1&&N(0,ly,0,0,"ng-template",3),t&2){p();let e=de(2);_("ngTemplateOutlet",e)}}function dy(t,n){if(t&1&&Q(0,"span",1),t&2){let e=p();_("innerHTML",e.text,$t)}}function uy(t,n){if(t&1&&Q(0,"span",2),t&2){let e=p();_("innerText",e.text)}}function py(t,n){if(t&1){let e=J();b(0,"textarea",4),K("ngModelChange",function(r){P(e);let o=p();return O(o.change(r))})("focus",function(r){P(e);let o=p();return O(o.focus(r))})("blur",function(r){P(e);let o=p();return O(o.blur(r))}),V(1,"      "),C()}if(t&2){let e=p();_("disabled",e.disabled)("nzSize",e.ui.size)("ngModel",e.value)("nzAutosize",e.autosize)("nzBorderless",e.ui.borderless),Re("id",e.id)("disabled",e.disabled)("maxLength",e.schema.maxLength||null)("placeholder",e.ui.placeholder)}}function fy(t,n){if(t&1){let e=J();b(0,"nz-textarea-count",2)(1,"textarea",4),K("ngModelChange",function(r){P(e);let o=p();return O(o.change(r))})("focus",function(r){P(e);let o=p();return O(o.focus(r))})("blur",function(r){P(e);let o=p();return O(o.blur(r))}),V(2,"        "),C()()}if(t&2){let e=p();_("nzMaxCharacterCount",e.ui.maxCharacterCount)("nzComputeCharacterCount",e.ui.computeCharacterCount),f(),_("disabled",e.disabled)("nzSize",e.ui.size)("ngModel",e.value)("nzAutosize",e.autosize)("nzBorderless",e.ui.borderless),Re("id",e.id)("disabled",e.disabled)("maxLength",e.schema.maxLength||null)("placeholder",e.ui.placeholder)}}function my(t,n){}function hy(t,n){if(t&1&&N(0,my,0,0,"ng-template",3),t&2){p();let e=de(2);_("ngTemplateOutlet",e)}}var _y={formatMap:{"date-time":{widget:"date",showTime:!0,format:"yyyy-MM-dd'T'HH:mm:ss.SSSxxx"},date:{widget:"date",format:"yyyy-MM-dd"},"full-date":{widget:"date",format:"yyyy-MM-dd"},time:{widget:"time",format:"HH:mm:ss.SSSxxx"},"full-time":{widget:"time"},week:{widget:"date",mode:"week",format:"yyyy-ww"},month:{widget:"date",mode:"month",format:"yyyy-MM"},uri:{widget:"upload"},email:{widget:"autocomplete",type:"email"},color:{widget:"string",type:"color"},"":{widget:"string"}},ingoreKeywords:["type","enum"],liveValidate:!0,autocomplete:null,firstVisual:!1,onlyVisual:!1,errors:{},ui:{},button:{submit_type:"primary",reset_type:"default"},uiDateStringFormat:"yyyy-MM-dd HH:mm:ss",uiDateNumberFormat:"T",uiTimeStringFormat:"HH:mm:ss",uiTimeNumberFormat:"T",uiEmailSuffixes:["qq.com","163.com","gmail.com","126.com","aliyun.com"],delay:!1};function Ra(t){return t.merge("sf",_y)}var ft="/";function Iu(t){return t==null}function Ue(t,n){return t==null?n:`${t}`!="false"}function dr(t,...n){}function gy(t,n){let e=/^#\/definitions\/(.*)$/.exec(t);if(e&&e[1]){let i=e[1].split(ft),r=n;for(let o of i)if(o=o.replace(/~1/g,ft).replace(/~0/g,"~"),Object.prototype.hasOwnProperty.call(r,o))r=r[o];else throw new Error(`Could not find a definition for ${t}.`);return r}throw new Error(`Could not find a definition for ${t}.`)}function ja(t,n={}){if(Object.prototype.hasOwnProperty.call(t,"$ref")){let i=gy(t.$ref,n),e=t,{$ref:r}=e,o=Xa(e,["$ref"]);return ja(w(w({},i),o),n)}return t}function yy(t,n){let e=(i,r)=>{vy(i,r),Object.keys(i.properties).forEach(o=>{let a=i.properties[o],s=`$${o}`;a.items&&e(a.items,r[s].$items),a.properties&&e(a,r[s])})};e(t,n)}function vy(t,n){if(!(Object.prototype.hasOwnProperty.call(t,"if")&&Object.prototype.hasOwnProperty.call(t,"then")))return null;if(!t.if.properties)throw new Error("if: does not contain 'properties'");let e=Object.keys(t.properties),i=Object.keys(t.if.properties);Da(e,i),Da(e,t.then.required),t.required=t.required.concat(t.then.required);let r=Object.prototype.hasOwnProperty.call(t,"else");r&&(Da(e,t.else.required),t.required=t.required.concat(t.else.required));let o={},a={};return i.forEach(s=>{let l=t.if.properties[s].enum;o[s]=l,r&&(a[s]=c=>!l.includes(c))}),t.then.required.forEach(s=>n[`$${s}`].visibleIf=o),r&&t.else.required.forEach(s=>n[`$${s}`].visibleIf=a),t}function Da(t,n){n.forEach(e=>{if(!t.includes(e))throw new Error(`if: properties does not contain '${e}'`)})}function Cy(t,n){if(!Array.isArray(n))return t;let e=d=>d.reduce((u,g)=>(u[g]=!0,u),{}),i=d=>`property [${d.join("', '")}]`,r=e(t),o=e(n),a=n.filter(d=>d!=="*"&&!r[d]);if(a.length)throw new Error(`ui schema order list contains extraneous ${i(a)}`);let s=t.filter(d=>!o[d]),l=n.indexOf("*");if(l===-1){if(s.length)throw new Error(`ui schema order list does not contain ${i(s)}`);return n}if(l!==n.lastIndexOf("*"))throw new Error("ui schema order list contains more than one wildcard item");let c=[...n];return c.splice(l,1,...s),c}function by(t,n,e){return Iu(t)||!Array.isArray(t)||t.length===0?[]:(typeof t[0]!="object"&&(t=t.map(i=>({label:i,value:i}))),n&&(Array.isArray(n)||(n=[n]),t.forEach(i=>{~n.indexOf(i.value)&&(i.checked=!0)})),e&&t.forEach(i=>i.disabled=!0),t)}function Pu(t,n,e){return by(An(t||[]),n,e)}function Aa(t,n,e,i){return typeof n.asyncData=="function"?n.asyncData(i).pipe(Lt(r=>Pu(r,e,t.readOnly))):ns(Pu(t.enum,e,t.readOnly))}var ur=class{injector;_options;_errors=null;_valueChanges=new qt({path:null,pathValue:null,value:null});_errorsChanges=new qt(null);_visible=!0;_visibilityChanges=new qt(!0);_root;_parent;_objErrors={};schemaValidator;schema;ui;formData;_value=null;widget;path;propertyId;constructor(n,e,i,r,o,a,s,l){this.injector=n,this._options=l,this.schema=i,this.ui=r,this.schemaValidator=e.createValidatorFn(i,{ingoreKeywords:this.ui.ingoreKeywords,debug:r.debug}),this.formData=o||i.default,this._parent=a,a?this._root=a.root:this._root=this,this.path=s}get valueChanges(){return this._valueChanges}get errorsChanges(){return this._errorsChanges}get type(){return this.schema.type}get parent(){return this._parent}get root(){return this._root}get value(){return this._value}get errors(){return this._errors}get visible(){return this._visible}get valid(){return this._errors===null||this._errors.length===0}get options(){return this._options}cd(n=!1){this.widget?.detectChanges(n)}updateValueAndValidity(n){n=w({onlySelf:!1,emitValidator:!0,emitValueEvent:!0,updatePath:"",updateValue:null},n),this._updateValue(),n.emitValueEvent&&(n.updatePath=n.updatePath||this.path,n.updateValue=n.updateValue==null?this.value:n.updateValue,this.valueChanges.next({value:this.value,path:n.updatePath,pathValue:n.updateValue})),n.emitValidator&&this.ui.liveValidate===!0&&this._runValidation(),this.parent&&!n.onlySelf&&this.parent.updateValueAndValidity(Z(w({},n),{emitValidator:!1}))}searchProperty(n){let e=this,i=null,r=null;if(n[0]===ft)i=this.findRoot(),r=i.getProperty(n.substring(1));else for(;r===null&&e.parent!==null;)e=i=e.parent,r=i.getProperty(n);return r}findRoot(){let n=this;for(;n.parent!==null;)n=n.parent;return n}isEmptyData(n){if(Iu(n))return!0;switch(this.type){case"string":return`${n}`.length===0}return!1}_runValidation(){let n,e=this.isEmptyData(this._value);e&&this.ui._required?n=[{keyword:"required"}]:e?n=[]:n=this.schemaValidator(this._value)||[];let i=this.ui.validator;if(typeof i=="function"){let r=i(this.value,this,this.findRoot());if(r instanceof es){r.subscribe(o=>{this.setCustomErrors(n,o),this.cd(!1)});return}this.setCustomErrors(n,r);return}this._errors=n,this.setErrors(this._errors)}setCustomErrors(n,e){let i=Array.isArray(e)&&e.length>0;i&&e.forEach(r=>{if(!r.message)throw new Error("The custom validator must contain a 'message' attribute to viewed error text");r.keyword=null}),this._errors=i?n.concat(...e):n,this.setErrors(this._errors)}setErrors(n=[],e=!0){let i=Array.isArray(n)?n:[n];if(e&&i&&!this.ui.onlyVisual){let r=this.widget&&this.widget.l.error||{};i=i.map(o=>{let a=o.keyword==null&&o.message?o.message:(this.ui.errors||{})[o.keyword]||this._options.errors[o.keyword]||r[o.keyword]||"";return a&&typeof a=="function"&&(a=a(o)),a&&(~a.indexOf("{")&&o.params&&(a=a.replace(/{([.a-zA-Z0-9]+)}/g,(s,l)=>o.params[l]||"")),o.message=a),o})}this._errors=i,this._errorsChanges.next(i),this._parent&&this._parent.setParentAndPlatErrors(i,this.path)}setParentAndPlatErrors(n,e){this._objErrors[e]=n;let i=[];Object.keys(this._objErrors).forEach(r=>{let o=this.searchProperty(r);o&&!o.visible||i.push(...this._objErrors[r])}),this.setErrors(i,!1)}setVisible(n){return this._visible=n,this._visibilityChanges.next(n),n&&this.injector.get(Fn).onStable.pipe(rs(1)).subscribe(()=>{this.resetValue(this.value,!0)}),this}_bindVisibility(){let n=this.ui.visibleIf;if(typeof n=="object"&&Object.keys(n).length===0)this.setVisible(!1);else if(n!=null){let e=[];for(let i in n)if(Object.prototype.hasOwnProperty.call(n,i)){let r=this.searchProperty(i);if(r){let o=r.valueChanges.pipe(Lt(l=>{let c=n[i];if(typeof c=="function"){let d=c(l.value,r);if(typeof d=="object"){let u=w({show:!1,required:!1},d),g=this.parent?.schema.required;if(g&&this.propertyId){let y=g.findIndex(h=>h===this.propertyId);u.required?y===-1&&g.push(this.propertyId):y!==-1&&g.splice(y,1),this.ui._required=u.required}return u.show}return d}return c.indexOf("$ANY$")!==-1?l.value&&l.value.length>0:c.indexOf(l.value)!==-1})),a=r._visibilityChanges,s=wr([o,a]).pipe(Lt(l=>l[0]&&l[1]));e.push(s)}}wr(e).pipe(Lt(i=>this.ui.visibleIfLogical==="and"?i.every(r=>r):i.some(r=>r)),xr()).subscribe(i=>this.setVisible(i))}}updateFeedback(n=""){this.ui.feedback=n,this.widget?.injector.get(Bt).formStatusChanges.next({status:n,hasFeedback:!!n}),this.cd(!0)}},Nn=class t extends ur{properties=null;getProperty(n){let e=n.indexOf(ft),i=e!==-1?n.substring(0,e):n,r=this.properties[i];if(r!==null&&e!==-1&&r instanceof t){let o=n.substring(e+1);r=r.getProperty(o)}return r}forEachChild(n){for(let e in this.properties)if(Object.prototype.hasOwnProperty.call(this.properties,e)){let i=this.properties[e];n(i,e)}}forEachChildRecursive(n){this.forEachChild(e=>{n(e),e instanceof t&&e.forEachChildRecursive(n)})}_bindVisibility(){super._bindVisibility(),this._bindVisibilityRecursive()}_bindVisibilityRecursive(){this.forEachChildRecursive(n=>{n._bindVisibility()})}isRoot(){return this===this.root}},pr=class extends Nn{formPropertyFactory;_propertiesId=[];get propertiesId(){return this._propertiesId}constructor(n,e,i,r,o,a,s,l,c){super(n,i,r,o,a,s,l,c),this.formPropertyFactory=e,this.createProperties()}createProperties(){this.properties={},this._propertiesId=[];let n;try{n=Cy(Object.keys(this.schema.properties),this.ui.order)}catch(e){console.error(`Invalid ${this.schema.title||"root"} object field configuration:`,e)}n.forEach(e=>{this.properties[e]=this.formPropertyFactory.createProperty(this.schema.properties[e],this.ui[`$${e}`],(this.formData||{})[e],this,e),this._propertiesId.push(e)})}setValue(n,e){let i=this.properties;for(let r in n)Object.prototype.hasOwnProperty.call(n,r)&&i[r]&&i[r].setValue(n[r],!0);this.cd(e),this.updateValueAndValidity({onlySelf:e,emitValueEvent:!0})}resetValue(n,e){n=n||this.schema.default||{};let i=this.properties;for(let r in this.schema.properties)Object.prototype.hasOwnProperty.call(this.schema.properties,r)&&i[r].resetValue(n[r],!0);this.cd(e),this.updateValueAndValidity({onlySelf:e,emitValueEvent:!0})}_hasValue(){return this.value!=null&&!!Object.keys(this.value).length}_updateValue(){let n={};this.forEachChild((e,i)=>{e.visible&&e._hasValue()&&(n[i]=e.value)}),this._value=n}},fr=class extends Nn{formPropertyFactory;constructor(n,e,i,r,o,a,s,l,c){super(n,i,r,o,a,s,l,c),this.formPropertyFactory=e,this.properties=[]}getProperty(n){let e=n.indexOf(ft),i=+(e!==-1?n.substring(0,e):n),r=this.properties;if(isNaN(i)||i>=r.length)return;let o=n.substring(e+1);return r[i].getProperty(o)}setValue(n,e){this.properties=[],this.clearErrors(),this.resetProperties(n),this.cd(e),this.updateValueAndValidity({onlySelf:e,emitValueEvent:!0})}resetValue(n,e){this._value=n||this.schema.default||[],this.setValue(this._value,e)}_hasValue(){return!0}_updateValue(){let n=[];this.forEachChild(e=>{e.visible&&n.push(w(w({},this.widget?.cleanValue?null:e.formData),e.value))}),this._value=n}addProperty(n){let e=this.formPropertyFactory.createProperty(An(this.schema.items),An(this.ui.$items),n,this);return this.properties.push(e),e}resetProperties(n){for(let e of n)this.addProperty(e).resetValue(e,!0)}clearErrors(n){(n||this)._objErrors={}}add(n){let e=this.addProperty(n);return e.resetValue(n,!1),e}remove(n){let e=this.properties;this.clearErrors(),e.splice(n,1),e.forEach((i,r)=>{i.path=[i.parent.path,r].join(ft),this.clearErrors(i),i instanceof pr&&i.forEachChild(o=>{o.updateValueAndValidity({emitValueEvent:!1})})}),e.length===0&&this.updateValueAndValidity()}},fi=class extends ur{setValue(n,e){this._value=n,this.cd(e),this.updateValueAndValidity({onlySelf:e,emitValueEvent:!0})}resetValue(n,e){n==null&&(n=this.schema.default!==void 0?this.schema.default:this.fallbackValue()),this._value=n,this.updateValueAndValidity({onlySelf:e,emitValueEvent:!0}),this.widget&&(this.widget.reset(n),this.cd(e))}_hasValue(){return this.fallbackValue()!==this.value}_updateValue(){}},Ia=class extends fi{fallbackValue(){return null}},Va=class extends fi{fallbackValue(){return null}setValue(n,e){typeof n=="string"&&(n.length?n=n.indexOf(".")>-1?parseFloat(n):parseInt(n,10):n=void 0),this._value=n,this.cd(e),this.updateValueAndValidity({onlySelf:e,emitValueEvent:!0})}},Fa=class extends fi{fallbackValue(){return null}setValue(n,e){this._value=n??"",this.cd(e),this.updateValueAndValidity({onlySelf:e,emitValueEvent:!0})}},mi=class{injector;schemaValidatorFactory;options;constructor(n,e,i){this.injector=n,this.schemaValidatorFactory=e,this.options=Ra(i)}createProperty(n,e,i,r=null,o){let a=null,s="";if(r)switch(s+=r.path,r.parent!==null&&(s+=ft),r.type){case"object":s+=o;break;case"array":s+=r.properties.length;break;default:throw new Error(`Instanciation of a FormProperty with an unknown parent type: ${r.type}`)}else s=ft;if(n.$ref){let l=ja(n,r.root.schema.definitions);a=this.createProperty(l,e,i,r,s)}else switch((o&&r.schema.required.indexOf(o.split(ft).pop())!==-1||e.showRequired===!0)&&(e._required=!0),n.title==null&&(n.title=o),(n.type==="string"||n.type==="number")&&!n.format&&!e.format?e.widget==="date"?e._format=n.type==="string"?this.options.uiDateStringFormat:this.options.uiDateNumberFormat:e.widget==="time"&&(e._format=n.type==="string"?this.options.uiTimeStringFormat:this.options.uiTimeNumberFormat):e._format=e.format,n.type){case"integer":case"number":a=new Va(this.injector,this.schemaValidatorFactory,n,e,i,r,s,this.options);break;case"string":a=new Fa(this.injector,this.schemaValidatorFactory,n,e,i,r,s,this.options);break;case"boolean":a=new Ia(this.injector,this.schemaValidatorFactory,n,e,i,r,s,this.options);break;case"object":a=new pr(this.injector,this,this.schemaValidatorFactory,n,e,i,r,s,this.options);break;case"array":a=new fr(this.injector,this,this.schemaValidatorFactory,n,e,i,r,s,this.options);break;default:throw new TypeError(`Undefined type ${n.type}`)}return a.propertyId=o,a instanceof Nn&&this.initializeRoot(a),a}initializeRoot(n){n._bindVisibility()}},hi=class{onDestroy;constructor(){this.onDestroy=new _i}destroy(){this.onDestroy.next(!0)}},hr=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275prov=an({token:t,factory:t.\u0275fac})}return t})(),Vu=(()=>{class t extends hr{ngZone=S(Fn);cogSrv=S(Ee);ajv;options;constructor(){if(super(),!(typeof document=="object"&&document))return;this.options=Ra(this.cogSrv);let e=this.options.ajv||{};this.ngZone.runOutsideAngular(()=>{this.ajv=new Mu.default(Z(w({allErrors:!0,loopEnum:50},e),{formats:w({"data-url":/^data:([a-z]+\/[a-z0-9-+.]+)?;name=(.*);base64,(.*)$/,color:xi.color,mobile:xi.mobile,"id-card":xi.idCard},e.formats)})),(0,ku.default)(this.ajv)})}createValidatorFn(e,i){let r=[...this.options.ingoreKeywords,...i.ingoreKeywords||[]];return o=>{try{this.ngZone.runOutsideAngular(()=>this.ajv.validate(e,o))}catch{}let a=this.ajv.errors;return this.options&&r&&a&&(a=a.filter(s=>r.indexOf(s.keyword)===-1)),a}}static \u0275fac=function(i){return new(i||t)};static \u0275prov=an({token:t,factory:t.\u0275fac})}return t})(),en=class{_widgets={};defaultWidget;get widgets(){return this._widgets}setDefault(n){this.defaultWidget=n}register(n,e){this._widgets[n]=e}has(n){return Object.prototype.hasOwnProperty.call(this._widgets,n)}getType(n){return this.has(n)?this._widgets[n]:this.defaultWidget}},Fu=(()=>{class t{registry=S(en);createWidget(e,i){this.registry.has(i);let r=this.registry.getType(i);return e.createComponent(r)}static \u0275fac=function(i){return new(i||t)};static \u0275prov=an({token:t,factory:t.\u0275fac})}return t})(),zy=0,_r=(()=>{class t{widgetFactory=S(Fu);terminator=S(hi);ref;destroy$=new _i;widget=null;formProperty;footer=null;container;onWidgetInstanciated(e){this.widget=e;let i=`_sf-${zy++}`,r=this.formProperty.ui;this.widget.formProperty=this.formProperty,this.widget.schema=this.formProperty.schema,this.widget.ui=r,this.widget.id=i,this.formProperty.widget=e}ngOnInit(){this.terminator.onDestroy.subscribe(()=>this.ngOnDestroy())}ngOnChanges(){let e=this.formProperty;this.ref=this.widgetFactory.createWidget(this.container,e.ui.widget||e.schema.type),this.onWidgetInstanciated(this.ref.instance)}ngOnDestroy(){let{destroy$:e}=this;e.next(),e.complete(),this.ref.destroy()}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=W({type:t,selectors:[["sf-item"]],viewQuery:function(i,r){if(i&1&&Qe(F_,7,ps),i&2){let o;Ie(o=Ve())&&(r.container=o.first)}},hostVars:2,hostBindings:function(i,r){i&2&&G("sf__item",!0)},inputs:{formProperty:"formProperty",footer:"footer"},exportAs:["sfItem"],standalone:!1,features:[Wt([Bt]),ke],decls:3,vars:1,consts:[["target",""],[4,"ngTemplateOutlet"]],template:function(i,r){i&1&&N(0,R_,0,0,"ng-template",null,0,ve)(2,j_,1,0,"ng-container",1),i&2&&(f(2),_("ngTemplateOutlet",r.footer))},dependencies:[Ae],encapsulation:2})}return t})(),Ru=(()=>{class t{el=S(De).nativeElement;render=S(Se);_inited=!1;num;init(){if(!this._inited||this.num==null||this.num<=0)return;let e=this.el,i=e.querySelector(".ant-row")||e;this.render.addClass(i,"sf__fixed");let r=i.querySelector(".ant-form-item-label"),o=i.querySelector(".ant-form-item-control-wrapper,.ant-form-item-control"),a=`${this.num}px`;r?(this.render.setStyle(r,"flex",`0 0 ${a}`),this.render.setStyle(o,"max-width",`calc(100% - ${a})`)):this.render.setStyle(o,"margin-left",a)}ngAfterViewInit(){this._inited=!0,this.init()}ngOnChanges(){this._inited&&this.init()}static \u0275fac=function(i){return new(i||t)};static \u0275dir=gt({type:t,selectors:[["","fixed-label",""]],inputs:{num:[2,"fixed-label","num",e=>fe(e,0)]},standalone:!1,features:[ke]})}return t})();function wy(t,n,e){return new mi(t,n,e)}var Sy=(()=>{class t{formPropertyFactory=S(mi);terminator=S(hi);dom=S(Nr);cdr=S(Je);localeSrv=S(Rs);aclSrv=S(bs);i18nSrv=S(wi);platform=S(cn);cogSrv=S(Ee);_renders=new Map;_item;_valid=!0;_defUi;options;_inited=!1;locale={};rootProperty=null;_formData;_btn;_schema;_ui;get btnGrid(){return this._btn.render.grid}layout="horizontal";schema;ui;formData;button={};liveValidate=!0;autocomplete;firstVisual=!0;onlyVisual=!1;compact=!1;set mode(e){switch(e){case"search":this.layout="inline",this.firstVisual=!1,this.liveValidate=!1,this._btn&&(this._btn.submit=this._btn.search);break;case"edit":this.layout="horizontal",this.firstVisual=!1,this.liveValidate=!0,this._btn&&(this._btn.submit=this._btn.edit);break}this._mode=e}get mode(){return this._mode}_mode;loading=!1;disabled=!1;noColon=!1;cleanValue=!1;delay=!1;formValueChange=new rt;formChange=new rt;formSubmit=new rt;formReset=new rt;formError=new rt;get valid(){return this._valid}get value(){return this._item}getProperty(e){return this.rootProperty?.searchProperty(e)}getValue(e){return this.getProperty(e)?.value}setValue(e,i){let r=this.getProperty(e);if(!r)throw new Error(`Invalid path: ${e}`);return r.resetValue(i,!1),this}setDisabled(e,i){let r=this.getProperty(e);if(!r)throw new Error(`Invalid path: ${e}`);return r.schema.readOnly=i,r.widget.detectChanges(),this}setRequired(e,i){let r=this.getProperty(e);if(!r)throw new Error(`Invalid path: ${e}`);let o=e.split(ft).pop(),a=r.parent?.schema.required||[],s=a.findIndex(l=>l===o);return i?s===-1&&a.push(o):s!==-1&&a.splice(s,1),r.parent.schema.required=a,r.ui._required=i,r.widget.detectChanges(),this.validator({onlyRoot:!1}),this}updateFeedback(e,i=""){return this.getProperty(e)?.updateFeedback(i),this}onSubmit(e){e.preventDefault(),e.stopPropagation(),this.liveValidate||this.validator(),this.valid&&this.formSubmit.emit(this.value)}constructor(){this.options=Ra(this.cogSrv),this.liveValidate=this.options.liveValidate,this.firstVisual=this.options.firstVisual,this.autocomplete=this.options.autocomplete,this.delay=this.options.delay,this.localeSrv.change.pipe(Ce()).subscribe(()=>{this.locale=this.localeSrv.getData("sf"),this._inited&&(this.validator({emitError:!1,onlyRoot:!1}),this.coverButtonProperty(),this.cdr.markForCheck())}),rn(this.aclSrv.change,this.i18nSrv.change).pipe(Ke(()=>this._inited),Ce()).subscribe(()=>this.refreshSchema())}fanyi(e){return this.i18nSrv.fanyi(e)||e}inheritUI(e){["optionalHelp"].filter(i=>!!this._defUi[i]).forEach(i=>e[i]=w(w({},this._defUi[i]),e[i]))}coverProperty(){let e=this.layout==="horizontal",i=An(this.schema),{definitions:r}=i,o=(a,s,l,c,d)=>{Array.isArray(a.required)||(a.required=[]),Object.keys(a.properties).forEach(u=>{let g="$",y=g+u,h=ja(a.properties[u],r),v=w(w({},h.ui),l[y]),m=w(w(w(w(Z(w(w({},this._defUi),c),{visibleIf:void 0,hidden:void 0,optional:void 0,optionalHelp:void 0,widget:h.type}),h.format&&this.options.formatMap[h.format]),typeof h.ui=="string"?{widget:h.ui}:null),!h.format&&!h.ui&&Array.isArray(h.enum)&&h.enum.length>0?{widget:"select"}:null),v);if(Object.keys(m).filter(z=>z.startsWith(g)).forEach(z=>delete m[z]),e?c.spanLabelFixed?v.spanLabelFixed||(m.spanLabelFixed=c.spanLabelFixed):(m.spanLabel||(m.spanLabel=typeof c.spanLabel>"u"?5:c.spanLabel),m.spanControl||(m.spanControl=typeof c.spanControl>"u"?19:c.spanControl),m.offsetControl||(m.offsetControl=typeof c.offsetControl>"u"?null:c.offsetControl)):(m.spanLabel=null,m.spanControl=null,m.offsetControl=null),this.layout==="inline"&&delete m.grid,this.layout!=="horizontal"&&(m.spanLabelFixed=null),m.spanLabelFixed!=null&&m.spanLabelFixed>0&&(m.spanLabel=null,m.spanControl=null),m.widget==="date"&&m.end!=null){let z=a.properties[m.end];z?z.ui=Z(w({},z.ui),{widget:m.widget,hidden:!0}):m.end=null}if(this.inheritUI(m),m.optionalHelp){typeof m.optionalHelp=="string"&&(m.optionalHelp={text:m.optionalHelp});let z=m.optionalHelp=w({text:"",icon:"question-circle",placement:"top",trigger:"hover",mouseEnterDelay:.15,mouseLeaveDelay:.1},m.optionalHelp);z.i18n&&(z.text=this.fanyi(z.i18n)),z.text||(m.optionalHelp=void 0)}if(m.i18n&&(h.title=this.fanyi(m.i18n)),m.descriptionI18n&&(h.description=this.fanyi(m.descriptionI18n)),h.description&&(m._description=this.dom.bypassSecurityTrustHtml(h.description)),m.hidden=typeof m.hidden=="boolean"?m.hidden:!1,m.hidden===!1&&m.acl&&this.aclSrv&&!this.aclSrv.can(m.acl)&&(m.hidden=!0),d[y]=m,delete h.ui,m.hidden===!0){let z=a.required.indexOf(u);z!==-1&&a.required.splice(z,1)}h.items&&(m.$items=w(w(w({},h.items.ui),l[y]),m.$items),o(h.items,h.items,l[y]?.$items??{},m.$items,m.$items),delete h.items.ui),h.properties&&Object.keys(h.properties).length&&o(h,a,l[y]||{},m,m)})};this.ui==null&&(this.ui={}),this._defUi=w(w(w({onlyVisual:this.options.onlyVisual,size:this.options.size,liveValidate:this.liveValidate},this.options.ui),i.ui),this.ui["*"]),this.onlyVisual===!0&&(this._defUi.onlyVisual=!0),this.layout==="inline"&&delete this._defUi.grid,this._ui=w({},this._defUi),o(i,i,this.ui,this.ui,this._ui),yy(i,this._ui),this._schema=i,delete i.ui,dr(this._ui,"cover schema & ui",this._ui,i)}coverButtonProperty(){this._btn=w(w(w({render:{size:"default"}},this.locale),this.options.button),this.button);let e=Object.keys(this._ui).find(r=>r.startsWith("$")),i=this._btn.render;if(this.layout==="horizontal"){let r=e?this._ui[e]:this._defUi;i.grid||(i.grid={offset:r.spanLabel,span:r.spanControl}),i.spanLabelFixed==null&&(i.spanLabelFixed=r.spanLabelFixed),!i.class&&typeof r.spanLabelFixed=="number"&&r.spanLabelFixed>0&&(i.class="text-center")}else i.grid={};this._mode&&(this.mode=this._mode),dr(this._ui,"button property",this._btn)}ngOnInit(){this.platform.isBrowser&&(this.validator(),this._inited=!0)}ngOnChanges(e){if(!this.platform.isBrowser)return;let i=["disabled","loading"];if(Object.keys(e).every(r=>i.includes(r))){this.cdr.detectChanges();return}this.delay||this.refreshSchema()}_addTpl(e,i){this._inited&&(this._renders.has(e)||(this._renders.set(e,i),this.attachCustomRender()))}attachCustomRender(){this._renders.forEach((e,i)=>{let r=this.rootProperty?.searchProperty(i);r!=null&&(r.ui._render=e)})}validator(e={emitError:!0,onlyRoot:!0}){if(this.rootProperty==null||!this.platform.isBrowser)return!1;let i=o=>{o._runValidation(),!(!(o instanceof Nn)||!o.properties)&&(Array.isArray(o.properties)?o.properties.forEach(a=>i(a)):Object.keys(o.properties).forEach(a=>i(o.properties[a])))};e.onlyRoot?this.rootProperty._runValidation():i(this.rootProperty);let r=this.rootProperty.errors;return this._valid=!(r&&r.length),e.emitError&&!this._valid&&this.formError.emit(r),this.cdr.detectChanges(),this._valid}refreshSchema(e,i){if(!this.platform.isBrowser)return this;if(e&&(this.schema=e),i&&(this.ui=i),!this.schema||typeof this.schema.properties>"u")throw new Error("Invalid Schema");if(this.schema.ui&&typeof this.schema.ui=="string")throw new Error("Don't support string with root ui property");this.schema.type="object",this._formData=w({},this.formData),this._inited&&this.terminator.destroy(),this.cleanRootSub(),this.coverProperty(),this.coverButtonProperty(),this.rootProperty=this.formPropertyFactory.createProperty(this._schema,this._ui,this.formData),this.attachCustomRender(),this.cdr.detectChanges(),this.reset();let r=!0;return this.rootProperty.valueChanges.subscribe(o=>{if(this._item=w(w({},this.cleanValue?null:this.formData),o.value),r){r=!1;return}this.formChange.emit(this._item),this.formValueChange.emit({value:this._item,path:o.path,pathValue:o.pathValue})}),this.rootProperty.errorsChanges.subscribe(o=>{this._valid=!(o&&o.length),this.formError.emit(o),this.cdr.detectChanges()}),this}reset(e=!1){return this.rootProperty==null||!this.platform.isBrowser?this:(this.rootProperty.resetValue(this.formData,!1),Promise.resolve().then(()=>this.cdr.detectChanges()),e&&this.formReset.emit(this.value),this)}cleanRootSub(){this.rootProperty&&(this.rootProperty.errorsChanges.unsubscribe(),this.rootProperty.valueChanges.unsubscribe())}ngOnDestroy(){this.cleanRootSub(),this.terminator.destroy()}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=W({type:t,selectors:[["sf"],["","sf",""]],hostVars:16,hostBindings:function(i,r){i&2&&G("sf",!0)("sf__inline",r.layout==="inline")("sf__horizontal",r.layout==="horizontal")("sf__search",r.mode==="search")("sf__edit",r.mode==="edit")("sf__no-error",r.onlyVisual)("sf__no-colon",r.noColon)("sf__compact",r.compact)},inputs:{layout:"layout",schema:"schema",ui:"ui",formData:"formData",button:"button",liveValidate:[2,"liveValidate","liveValidate",A],autocomplete:"autocomplete",firstVisual:[2,"firstVisual","firstVisual",A],onlyVisual:[2,"onlyVisual","onlyVisual",A],compact:[2,"compact","compact",A],mode:"mode",loading:[2,"loading","loading",A],disabled:[2,"disabled","disabled",A],noColon:[2,"noColon","noColon",A],cleanValue:[2,"cleanValue","cleanValue",A],delay:[2,"delay","delay",A]},outputs:{formValueChange:"formValueChange",formChange:"formChange",formSubmit:"formSubmit",formReset:"formReset",formError:"formError"},exportAs:["sf"],standalone:!1,features:[Wt([Fu,{provide:mi,useFactory:wy,deps:[In,hr,Ee]},hi]),ke],ngContentSelectors:Du,decls:6,vars:3,consts:[["con",""],["btnTpl",""],["nz-form","",3,"submit","nzLayout"],[3,"formProperty","footer"],[3,"ngTemplateOutlet"],[1,"sf-btns",3,"class","fixed-label"],[1,"sf-btns",3,"fixed-label"],["nz-col","",1,"ant-form-item-control",3,"nzSpan","nzOffset","nzXs","nzSm","nzMd","nzLg","nzXl","nzXXl"],[1,"ant-form-item-control-input"],[1,"ant-form-item-control-input-content"],["type","submit","nz-button","","data-type","submit",3,"nzType","nzSize","nzLoading","disabled"],[3,"nzType","nzTheme","nzTwotoneColor","nzIconfont"],["type","button","nz-button","","data-type","reset",3,"nzType","nzSize","disabled"],["type","button","nz-button","","data-type","reset",3,"click","nzType","nzSize","disabled"]],template:function(i,r){if(i&1){let o=J();le(),N(0,A_,1,0,"ng-template",null,0,ve)(2,X_,2,1,"ng-template",null,1,ve),b(4,"form",2),K("submit",function(s){return P(o),O(r.onSubmit(s))}),$(5,Z_,1,2,"sf-item",3),C()}i&2&&(f(4),_("nzLayout",r.layout),Re("autocomplete",r.autocomplete),f(),T(r.rootProperty?5:-1))},dependencies:[Ae,Bs,Ls,Ws,Vr,Mt,Ir,hn,mn,Sl,$i,Fe,_r,Ru],encapsulation:2,changeDetection:0})}return t})(),mt=(()=>{class t{statusSrv=S(Bt);_showTitle=!1;id;schema;ui;showError;error;set showTitle(e){this._showTitle=!!e}title=null;get t(){return this.title===null?this.schema.title:this.title}get oh(){return this.ui.optionalHelp}ngOnChanges(){let e=!!this.error;this.statusSrv.formStatusChanges.next({status:e?"error":"",hasFeedback:!!this.ui.feedback})}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=W({type:t,selectors:[["sf-item-wrap"]],inputs:{id:"id",schema:"schema",ui:"ui",showError:"showError",error:"error",showTitle:"showTitle",title:"title"},standalone:!1,features:[ke],ngContentSelectors:Du,decls:8,vars:21,consts:[["nz-col","",1,"ant-form-item-label",3,"nzSpan"],["nz-col","",1,"ant-form-item-control",3,"nzSpan","nzOffset"],[1,"ant-form-item-control-input"],[1,"ant-form-item-control-input-content"],[1,"ant-form-item-explain","ant-form-item-explain-connected"],[1,"ant-form-item-extra",3,"innerHTML"],[3,"ant-form-item-required"],[1,"sf__label-text"],[1,"sf__optional"],["nz-tooltip","",3,"nzTooltipTitle","nzTooltipPlacement","nzTooltipTrigger","nzTooltipColor","nzTooltipOverlayClassName","nzTooltipOverlayStyle","nzTooltipMouseEnterDelay","nzTooltipMouseLeaveDelay","nzType"],["role","alert",1,"ant-form-item-explain-error"]],template:function(i,r){i&1&&(le(),b(0,"nz-form-item"),$(1,ng,2,2,"div",0),b(2,"div",1)(3,"div",2)(4,"div",3),ce(5),C()(),$(6,ig,3,2,"div",4),$(7,rg,1,1,"div",5),C()()),i&2&&(ot("width",r.ui.width,"px"),G("ant-form-item-has-error",r.showError)("ant-form-item-with-help",r.showError)("ant-form-item-has-success",r.ui.feedback==="success")("ant-form-item-has-warning",r.ui.feedback==="warning")("ant-form-item-has-error",r.ui.feedback==="error")("ant-form-item-is-validating",r.ui.feedback==="validating")("ant-form-item-has-feedback",r.ui.feedback),f(),T(r._showTitle?1:-1),f(),_("nzSpan",r.ui.spanControl)("nzOffset",r.ui.offsetControl),f(4),T(!r.ui.onlyVisual&&r.showError?6:-1),f(),T(r.schema.description?7:-1))},dependencies:[Mt,hn,mn,$i,Fe,vt],encapsulation:2,data:{animation:[bi]}})}return t})();var gr=(()=>{class t{cd=S(Je);injector=S(In);sfItemComp=S(_r);sfComp=S(Sy);formProperty;error;showError=!1;id="";schema;ui;get cls(){return this.ui.class||""}get disabled(){return!!(this.schema.readOnly===!0||this.sfComp.disabled)}get l(){return this.formProperty.root.widget.sfComp.locale}get oh(){return this.ui.optionalHelp}get dom(){return this.injector.get(Nr)}get cleanValue(){return this.sfComp.cleanValue}ngAfterViewInit(){this.formProperty.errorsChanges.pipe(on(this.sfItemComp.destroy$)).subscribe(e=>{if(e==null)return;dr(this.ui,"errorsChanges",this.formProperty.path,e);let i=this.sfComp?.firstVisual;(i||!i&&this.sfComp?._inited)&&(this.showError=e.length>0,this.error=this.showError?e[0].message:"",this.cd.detectChanges())}),this.afterViewInit()}setValue(e){this.formProperty.setValue(e,!1),dr(this.ui,"valueChanges",this.formProperty.path,this.formProperty)}get value(){return this.formProperty.value}detectChanges(e=!1){e?this.cd.markForCheck():this.formProperty.root.widget?.cd.markForCheck()}static \u0275fac=function(i){return new(i||t)};static \u0275dir=gt({type:t,hostVars:2,hostBindings:function(i,r){i&2&&je(r.cls)}})}return t})(),Wb=(()=>{class t extends gr{reset(e){}afterViewInit(){}static \u0275fac=(()=>{let e;return function(r){return(e||(e=se(t)))(r||t)}})();static \u0275dir=gt({type:t,features:[oe]})}return t})(),ht=(()=>{class t extends gr{reset(e){}afterViewInit(){}static \u0275fac=(()=>{let e;return function(r){return(e||(e=se(t)))(r||t)}})();static \u0275dir=gt({type:t,features:[oe]})}return t})(),xy=(()=>{class t extends gr{reset(e){}afterViewInit(){}ngAfterViewInit(){this.formProperty.errorsChanges.pipe(on(this.sfItemComp.destroy$)).subscribe(()=>this.cd.detectChanges())}static \u0275fac=(()=>{let e;return function(r){return(e||(e=se(t)))(r||t)}})();static \u0275dir=gt({type:t,features:[oe]})}return t})(),$y=(()=>{class t extends gr{reset(e){}afterViewInit(){}ngAfterViewInit(){this.formProperty.errorsChanges.pipe(on(this.sfItemComp.destroy$)).subscribe(()=>this.cd.detectChanges())}static \u0275fac=(()=>{let e;return function(r){return(e||(e=se(t)))(r||t)}})();static \u0275dir=gt({type:t,features:[oe]})}return t})(),Ty=(()=>{class t extends xy{addTitle;addType;removeTitle;arraySpan=8;get addDisabled(){return this.disabled||this.schema.maxItems!=null&&this.formProperty.properties.length>=this.schema.maxItems}get showRemove(){return!(this.disabled||!this.removeTitle||this.schema.minItems!=null&&this.formProperty.properties.length<=this.schema.minItems)}ngOnInit(){let{grid:e,addTitle:i,addType:r,removable:o,removeTitle:a}=this.ui;e&&e.arraySpan&&(this.arraySpan=e.arraySpan),this.addTitle=this.dom.bypassSecurityTrustHtml(i||this.l.addText),this.addType=r||"dashed",this.removeTitle=o===!1?null:a||this.l.removeText}reValid(e){this.formProperty.updateValueAndValidity(w({onlySelf:!1,emitValueEvent:!1,emitValidator:!0},e))}addItem(){let e=this.formProperty.add({});this.reValid(),this.ui.add?.(e)}removeItem(e){let i=this.formProperty.properties[e].path;this.formProperty.remove(e),this.reValid({updatePath:i,emitValueEvent:!0}),this.ui.remove?.(e)}static \u0275fac=(()=>{let e;return function(r){return(e||(e=se(t)))(r||t)}})();static \u0275cmp=W({type:t,selectors:[["sf-array"]],hostVars:2,hostBindings:function(i,r){i&2&&G("sf__array",!0)},standalone:!1,features:[oe],decls:9,vars:9,consts:[["nz-col","",1,"ant-form-item-label",3,"nzSpan"],["nz-col","",1,"ant-form-item-control-wrapper",3,"nzSpan","nzOffset"],[1,"ant-form-item-control"],["nz-row","",1,"sf__array-container"],[1,"ant-form-explain"],[1,"ant-form-extra",3,"innerHTML"],[1,"sf__optional"],["nz-tooltip","",3,"nzTooltipTitle","nzTooltipPlacement","nzTooltipTrigger","nzTooltipOverlayClassName","nzTooltipOverlayStyle","nzTooltipMouseEnterDelay","nzTooltipMouseLeaveDelay","nzType"],[1,"sf__array-add"],["type","button","nz-button","",3,"click","nzType","disabled","innerHTML"],["nz-col","",1,"sf__array-item",3,"nzSpan"],[3,"formProperty"],[1,"sf__array-remove"],[1,"sf__array-remove",3,"click"],["nzType","delete"]],template:function(i,r){i&1&&(b(0,"nz-form-item"),$(1,ag,8,9,"div",0),b(2,"div",1)(3,"div",2)(4,"div",3),$e(5,cg,1,1,null,null,fs),C(),$(7,dg,2,1,"div",4),$(8,ug,1,1,"div",5),C()()()),i&2&&(G("ant-form-item-with-help",r.showError),f(),T(r.schema.title?1:-1),f(),_("nzSpan",r.ui.spanControl)("nzOffset",r.ui.offsetControl),f(),G("has-error",r.showError),f(2),Te(r.formProperty.properties),f(2),T(!r.ui.onlyVisual&&r.showError?7:-1),f(),T(r.schema.description?8:-1))},dependencies:[Vr,Mt,Ir,Ar,hn,mn,$i,Fe,vt,_r],encapsulation:2})}return t})(),Ey=(()=>{class t extends ht{static \u0275fac=(()=>{let e;return function(r){return(e||(e=se(t)))(r||t)}})();static \u0275cmp=W({type:t,selectors:[["sf-boolean"]],standalone:!1,features:[oe],decls:2,vars:12,consts:[[3,"id","schema","ui","showError","error","showTitle"],[3,"ngModelChange","ngModel","nzDisabled","nzSize","nzCheckedChildren","nzUnCheckedChildren","nzLoading"]],template:function(i,r){i&1&&(b(0,"sf-item-wrap",0)(1,"nz-switch",1),K("ngModelChange",function(a){return r.setValue(a)}),C()()),i&2&&(_("id",r.id)("schema",r.schema)("ui",r.ui)("showError",r.showError)("error",r.error)("showTitle",r.schema.title),f(),_("ngModel",r.value)("nzDisabled",r.disabled)("nzSize",r.ui.size)("nzCheckedChildren",r.ui.checkedChildren)("nzUnCheckedChildren",r.ui.unCheckedChildren)("nzLoading",r.ui.loading))},dependencies:[yt,Xe,Pl,mt],encapsulation:2})}return t})(),Py=(()=>{class t extends ht{data=[];allChecked=!1;indeterminate=!1;grid_span;labelTitle="";inited=!1;reset(e){this.inited=!1,Aa(this.schema,this.ui,e).subscribe(i=>{this.data=i,this.allChecked=!1,this.indeterminate=!1,this.labelTitle=i.length===0?"":this.schema.title;let{span:r}=this.ui;this.grid_span=r&&r>0?r:0,this.updateAllChecked(),this.inited=!0,this.detectChanges()})}_setValue(e){this.setValue(e),this.detectChanges(),this.notifyChange(e)}notifySet(){let e=this.data.filter(i=>i.checked);this.updateAllChecked().setValue(e.map(i=>i.value)),this.notifyChange(e)}groupInGridChange(e){this.data.forEach(i=>i.checked=e.indexOf(i.value)!==-1),this.notifySet()}onAllChecked(){this.data.forEach(e=>e.checked=this.allChecked),this.notifySet()}updateAllChecked(){return this.data.every(e=>e.checked!==!0)?(this.allChecked=!1,this.indeterminate=!1):this.data.every(e=>e.checked===!0)?(this.allChecked=!0,this.indeterminate=!1):this.indeterminate=!0,this.detectChanges(),this}notifyChange(e){this.ui.change&&this.ui.change(e)}static \u0275fac=(()=>{let e;return function(r){return(e||(e=se(t)))(r||t)}})();static \u0275cmp=W({type:t,selectors:[["sf-checkbox"]],standalone:!1,features:[oe],decls:4,vars:8,consts:[["all",""],[3,"id","schema","ui","showError","error","showTitle","title"],["nz-checkbox","",1,"sf__checkbox-all","mr-sm",3,"ngModel","nzIndeterminate"],["nz-checkbox","",1,"sf__checkbox-all","mr-sm",3,"ngModelChange","ngModel","nzIndeterminate"],["nz-checkbox","",3,"nzDisabled","ngModel"],["nz-checkbox","",3,"ngModelChange","nzDisabled","ngModel"],[1,"sf__optional"],["nz-tooltip","",3,"nzTooltipTitle","nzTooltipPlacement","nzTooltipTrigger","nzTooltipOverlayClassName","nzTooltipOverlayStyle","nzTooltipMouseEnterDelay","nzTooltipMouseLeaveDelay","nzType"],[1,"sf__checkbox-list"],[3,"ngTemplateOutlet"],[3,"ngModelChange","ngModel","nzOptions"],[1,"sf__checkbox-list",3,"nzOnChange"],["nz-row",""],["nz-col","",3,"nzSpan"],["nz-checkbox","",3,"nzValue","ngModel","nzDisabled"]],template:function(i,r){i&1&&(N(0,fg,1,1,"ng-template",null,0,ve),b(2,"sf-item-wrap",1),$(3,wg,2,1),C()),i&2&&(f(2),_("id",r.id)("schema",r.schema)("ui",r.ui)("showError",r.showError)("error",r.error)("showTitle",!0)("title",r.labelTitle),f(),T(r.inited?3:-1))},dependencies:[Ae,yt,Xe,Mt,Qs,Js,Gs,hn,mn,Fe,vt,mt],encapsulation:2})}return t})(),Oy=(()=>{class t extends ht{static \u0275fac=(()=>{let e;return function(r){return(e||(e=se(t)))(r||t)}})();static \u0275cmp=W({type:t,selectors:[["sf-custom"]],standalone:!1,features:[oe],decls:2,vars:12,consts:[[3,"id","schema","ui","showError","error","showTitle"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(i,r){i&1&&(b(0,"sf-item-wrap",0),N(1,xg,0,0,"ng-template",1),C()),i&2&&(_("id",r.id)("schema",r.schema)("ui",r.ui)("showError",r.showError)("error",r.error)("showTitle",r.schema.title),f(),_("ngTemplateOutlet",r.ui._render)("ngTemplateOutletContext",_s(8,Sg,r,r.schema,r.ui)))},dependencies:[Ae,mt],encapsulation:2})}return t})(),Ny=(()=>{class t extends ht{startFormat;endFormat;flatRange=!1;mode;displayValue=null;displayFormat;i;ngOnInit(){let{mode:e,end:i,displayFormat:r,allowClear:o,showToday:a}=this.ui;if(this.mode=e||"date",this.flatRange=i!=null,this.startFormat=this.ui._format,this.flatRange){this.mode="range";let s=this.endProperty.ui;this.endFormat=s.format?s._format:this.startFormat}if(r)this.displayFormat=r;else switch(this.mode){case"year":this.displayFormat="yyyy";break;case"month":this.displayFormat="yyyy-MM";break;case"week":this.displayFormat="yyyy-ww";break}this.i={allowClear:Ue(o,!0),showToday:Ue(a,!0)}}reset(e){let i={formatString:this.startFormat,defaultValue:null};if(Array.isArray(e)?e=e.map(r=>zi(r,i)):e=zi(e,i),this.flatRange){let r=zi(this.endProperty.formData,{formatString:this.endFormat||this.startFormat,defaultValue:null});this.displayValue=e==null||r==null?[]:[e,r]}else this.displayValue=e;this.detectChanges(),this.displayValue&&setTimeout(()=>this._change(this.displayValue,!1))}_change(e,i=!0){if(i&&this.ui.change&&this.ui.change(e),e==null||Array.isArray(e)&&e.length<2){this.setValue(null),this.setEnd(null);return}let r=Array.isArray(e)?[vi(e[0],this.startFormat),vi(e[1],this.endFormat||this.startFormat)]:vi(e,this.startFormat);this.flatRange?(this.setValue(r[0]),this.setEnd(r[1])):this.setValue(r)}_openChange(e){this.ui.onOpenChange&&this.ui.onOpenChange(e)}_ok(e){this.ui.onOk&&this.ui.onOk(e)}get endProperty(){return this.formProperty.parent.properties[this.ui.end]}setEnd(e){this.flatRange&&(this.endProperty.setValue(e,!0),this.endProperty.updateValueAndValidity())}static \u0275fac=(()=>{let e;return function(r){return(e||(e=se(t)))(r||t)}})();static \u0275cmp=W({type:t,selectors:[["sf-date"]],standalone:!1,features:[oe],decls:6,vars:7,consts:[[3,"id","schema","ui","showError","error","showTitle"],[3,"nzId","nzDisabled","nzSize","nzFormat","ngModel","nzAllowClear","class","nzDisabledDate","nzLocale","nzPlaceHolder","nzPopupStyle","nzDropdownClassName","nzRenderExtraFooter","nzInputReadOnly","nzInline"],[3,"nzId","nzDisabled","nzSize","nzFormat","ngModel","nzAllowClear","class","nzDisabledDate","nzLocale","nzPlaceHolder","nzPopupStyle","nzDropdownClassName","nzInputReadOnly","nzInline"],[3,"nzId","nzDisabled","nzSize","nzFormat","ngModel","nzAllowClear","class","nzDisabledDate","nzLocale","nzPlaceHolder","nzPopupStyle","nzDropdownClassName","nzDisabledTime","nzRenderExtraFooter","nzRanges","nzShowTime","nzSeparator","nzShowWeekNumber","nzMode","nzInputReadOnly","nzInline"],[3,"nzId","nzDisabled","nzSize","nzFormat","ngModel","nzAllowClear","class","nzDisabledDate","nzLocale","nzPlaceHolder","nzPopupStyle","nzDropdownClassName","nzDisabledTime","nzRenderExtraFooter","nzShowTime","nzShowToday","nzShowWeekNumber","nzInputReadOnly","nzInline"],[3,"ngModelChange","nzOnOpenChange","nzId","nzDisabled","nzSize","nzFormat","ngModel","nzAllowClear","nzDisabledDate","nzLocale","nzPlaceHolder","nzPopupStyle","nzDropdownClassName","nzRenderExtraFooter","nzInputReadOnly","nzInline"],[3,"ngModelChange","nzOnOpenChange","nzId","nzDisabled","nzSize","nzFormat","ngModel","nzAllowClear","nzDisabledDate","nzLocale","nzPlaceHolder","nzPopupStyle","nzDropdownClassName","nzInputReadOnly","nzInline"],[3,"ngModelChange","nzOnOpenChange","nzOnOk","nzId","nzDisabled","nzSize","nzFormat","ngModel","nzAllowClear","nzDisabledDate","nzLocale","nzPlaceHolder","nzPopupStyle","nzDropdownClassName","nzDisabledTime","nzRenderExtraFooter","nzRanges","nzShowTime","nzSeparator","nzShowWeekNumber","nzMode","nzInputReadOnly","nzInline"],[3,"ngModelChange","nzOnOpenChange","nzOnOk","nzId","nzDisabled","nzSize","nzFormat","ngModel","nzAllowClear","nzDisabledDate","nzLocale","nzPlaceHolder","nzPopupStyle","nzDropdownClassName","nzDisabledTime","nzRenderExtraFooter","nzShowTime","nzShowToday","nzShowWeekNumber","nzInputReadOnly","nzInline"]],template:function(i,r){if(i&1&&(b(0,"sf-item-wrap",0),$(1,$g,1,16,"nz-year-picker",1)(2,Tg,1,16,"nz-month-picker",1)(3,Eg,1,15,"nz-week-picker",2)(4,Pg,1,22,"nz-range-picker",3)(5,Og,1,20,"nz-date-picker",4),C()),i&2){let o;_("id",r.id)("schema",r.schema)("ui",r.ui)("showError",r.showError)("error",r.error)("showTitle",r.schema.title),f(),T((o=r.mode)==="year"?1:o==="month"?2:o==="week"?3:o==="range"?4:5)}},dependencies:[yt,Xe,dl,pl,ul,ml,fl,mt],encapsulation:2})}return t})(),Ou=(()=>{class t extends ht{min;max;step;formatter=e=>e.toString();parser=e=>+e;width="";ngOnInit(){let{minimum:e,exclusiveMinimum:i,maximum:r,exclusiveMaximum:o,multipleOf:a,type:s}=this.schema;this.step=a||1,typeof e<"u"&&(this.min=i?e+this.step:e),typeof r<"u"&&(this.max=o?r-this.step:r),s==="integer"&&(this.min=Math.trunc(this.min),this.max=Math.trunc(this.max),this.step=Math.trunc(this.step));let l=this.ui;l.prefix!=null&&(l.formatter=c=>c==null?"":`${l.prefix} ${c}`,l.parser=c=>+c.replace(`${l.prefix} `,"")),l.unit!=null&&(l.formatter=c=>c==null?"":`${c} ${l.unit}`,l.parser=c=>+c.replace(` ${l.unit}`,"")),l.formatter&&(this.formatter=l.formatter),l.parser&&(this.parser=l.parser),this.width=typeof l.widgetWidth=="number"?`${l.widgetWidth}px`:l.widgetWidth??"90px"}_setValue(e){this.setValue(this.schema.type==="integer"?Math.floor(e):e),this.ui.change?.(this.value)}static \u0275fac=(()=>{let e;return function(r){return(e||(e=se(t)))(r||t)}})();static \u0275cmp=W({type:t,selectors:[["sf-number"]],standalone:!1,features:[oe],decls:2,vars:21,consts:[[3,"id","schema","ui","showError","error","showTitle"],[3,"ngModelChange","nzId","ngModel","nzDisabled","nzSize","nzMin","nzMax","nzStep","nzFormatter","nzParser","nzPrecision","nzPlaceHolder"]],template:function(i,r){i&1&&(b(0,"sf-item-wrap",0)(1,"nz-input-number",1),K("ngModelChange",function(a){return r._setValue(a)}),C()()),i&2&&(_("id",r.id)("schema",r.schema)("ui",r.ui)("showError",r.showError)("error",r.error)("showTitle",r.schema.title),f(),ot("width",r.width),G("ant-input-number__hide-step",r.ui.hideStep),_("nzId",r.id)("ngModel",r.value)("nzDisabled",r.disabled)("nzSize",r.ui.size)("nzMin",r.min)("nzMax",r.max)("nzStep",r.step)("nzFormatter",r.formatter)("nzParser",r.parser)("nzPrecision",r.ui.precision||null)("nzPlaceHolder",r.ui.placeholder||""))},dependencies:[yt,Xe,bl,mt],encapsulation:2})}return t})(),My=(()=>{class t extends $y{grid;type="default";list=[];title;showExpand=!0;expand=!0;ngOnInit(){let{formProperty:e,ui:i}=this,{grid:r,showTitle:o,type:a}=i;this.showExpand=Ue(i.showExpand,!0),this.expand=Ue(i.expand,!0),this.type=a??"default",(this.type==="card"||!e.isRoot()&&!(e.parent instanceof fr)&&o===!0)&&(this.title=this.schema.title),this.grid=r;let s=[];for(let l of e.propertiesId){let c=e.properties[l],d={property:c,grid:c.ui.grid||r||{},spanLabelFixed:c.ui.spanLabelFixed,show:c.ui.hidden===!1};s.push(d)}this.list=s}changeExpand(){this.showExpand&&(this.expand=!this.expand,this.detectChanges(!0))}static \u0275fac=(()=>{let e;return function(r){return(e||(e=se(t)))(r||t)}})();static \u0275cmp=W({type:t,selectors:[["sf-object"]],standalone:!1,features:[oe],decls:4,vars:1,consts:[["default",""],["cardTitleTpl",""],[1,"sf__object-card",3,"nzTitle","nzExtra","nzSize","nzActions","nzBodyStyle","nzBordered","sf__object-card-fold"],[3,"ngTemplateOutlet"],[1,"sf__title"],["nz-row","",3,"nzGutter"],["nz-col","",3,"nzSpan","nzOffset","nzXs","nzSm","nzMd","nzLg","nzXl","nzXXl"],[3,"formProperty","fixed-label"],[1,"sf__object-card",3,"nzTitle","nzExtra","nzSize","nzActions","nzBodyStyle","nzBordered"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"click"],[1,"mr-xs","text-xs",3,"nzType"],[1,"sf__optional"],["nz-tooltip","",3,"nzTooltipTitle","nzTooltipPlacement","nzTooltipTrigger","nzTooltipColor","nzTooltipOverlayClassName","nzTooltipOverlayStyle","nzTooltipMouseEnterDelay","nzTooltipMouseLeaveDelay","nzType"]],template:function(i,r){i&1&&(N(0,Ag,3,2,"ng-template",null,0,ve),$(2,Ug,4,12,"nz-card",2)(3,Gg,1,1,null,3)),i&2&&(f(2),T(r.type==="card"?2:3))},dependencies:[Ae,Mt,Ar,hn,mn,Fe,vt,_r,Ru],encapsulation:2})}return t})(),ky=(()=>{class t extends ht{data=[];styleType;reset(e){this.styleType=(this.ui.styleType||"default")==="default",Aa(this.schema,this.ui,e).subscribe(i=>{this.data=i,this.detectChanges()})}_setValue(e){this.setValue(e),this.ui.change&&this.ui.change(e)}static \u0275fac=(()=>{let e;return function(r){return(e||(e=se(t)))(r||t)}})();static \u0275cmp=W({type:t,selectors:[["sf-radio"]],standalone:!1,features:[oe],decls:4,vars:11,consts:[[3,"id","schema","ui","showError","error","showTitle"],[3,"ngModelChange","nzSize","nzName","ngModel","nzButtonStyle"],["nz-radio","",3,"nzValue","nzDisabled"],[3,"innerHTML"],["nz-radio-button","",3,"nzValue","nzDisabled"]],template:function(i,r){i&1&&(b(0,"sf-item-wrap",0)(1,"nz-radio-group",1),K("ngModelChange",function(a){return r._setValue(a)}),$(2,Jg,2,0)(3,Zg,2,0),C()()),i&2&&(_("id",r.id)("schema",r.schema)("ui",r.ui)("showError",r.showError)("error",r.error)("showTitle",r.schema.title),f(),_("nzSize",r.ui.size)("nzName",r.id)("ngModel",r.value)("nzButtonStyle",r.ui.buttonStyle||"outline"),f(),T(r.styleType?2:3))},dependencies:[yt,Xe,Ys,Zs,mt],encapsulation:2})}return t})(),Dy=(()=>{class t extends ht{search$=new _i;i;data=[];_value;hasGroup=!1;loading=!1;checkGroup(e){this.hasGroup=(e||[]).filter(i=>i.group===!0).length>0}ngOnInit(){let{autoClearSearchValue:e,borderless:i,autoFocus:r,dropdownMatchSelectWidth:o,serverSearch:a,maxMultipleCount:s,mode:l,showSearch:c,tokenSeparators:d,maxTagCount:u,compareWith:g,optionHeightPx:y,optionOverflowSize:h,showArrow:v}=this.ui;this.i={autoClearSearchValue:Ue(e,!0),borderless:Ue(i,!1),autoFocus:Ue(r,!1),dropdownMatchSelectWidth:Ue(o,!0),serverSearch:Ue(a,!1),maxMultipleCount:s||1/0,mode:l||"default",showSearch:Ue(c,!0),tokenSeparators:d||[],maxTagCount:u||1/0,optionHeightPx:y||32,optionOverflowSize:h||8,showArrow:Ue(v,!0),compareWith:g||((z,D)=>z===D)};let m=this.ui.onSearch;m&&this.search$.pipe(on(this.sfItemComp.destroy$),xr(),Sr(this.ui.searchDebounceTime||300),$r(z=>m(z)),is(()=>[])).subscribe(z=>{this.data=z,this.checkGroup(z),this.loading=!1,this.detectChanges()})}reset(e){let i=this.ui.onSearch;Aa(this.schema,this.ui,e).subscribe(r=>{this._value=e,i==null&&(this.data=r),this.checkGroup(r),this.detectChanges()}),e&&i!=null&&this.search$.next(e)}change(e){this.ui.change&&this.ui.change(e,this.getOrgData(e)),this.setValue(e??this.ui.clearValue)}getOrgData(e){let i=this.injector.get(Eu);return Array.isArray(e)?e.map(r=>i.findTree(this.data,o=>o.value===r)):i.findTree(this.data,r=>r.value===e)}openChange(e){this.ui.openChange&&this.ui.openChange(e)}scrollToBottom(){this.ui.scrollToBottom&&this.ui.scrollToBottom()}onSearch(e){this.ui.onSearch&&(this.loading=!0,this.search$.next(e))}static \u0275fac=(()=>{let e;return function(r){return(e||(e=se(t)))(r||t)}})();static \u0275cmp=W({type:t,selectors:[["sf-select"]],standalone:!1,features:[oe],decls:5,vars:39,consts:[[3,"id","schema","ui","showError","error","showTitle"],[3,"ngModelChange","nzOpenChange","nzOnSearch","nzScrollToBottom","nzId","nzDisabled","ngModel","nzSize","nzPlaceHolder","nzNotFoundContent","nzDropdownClassName","nzAllowClear","nzDropdownStyle","nzCustomTemplate","nzSuffixIcon","nzRemoveIcon","nzClearIcon","nzMenuItemSelectedIcon","nzMaxTagPlaceholder","nzDropdownRender","nzAutoClearSearchValue","nzBorderless","nzAutoFocus","nzDropdownMatchSelectWidth","nzServerSearch","nzMaxMultipleCount","nzMode","nzShowSearch","nzShowArrow","nzTokenSeparators","nzMaxTagCount","compareWith","nzOptionHeightPx","nzOptionOverflowSize"],["nzDisabled","","nzCustomContent",""],[3,"nzLabel","nzValue","nzHide","nzDisabled"],[3,"nzLabel"],[3,"nzLabel","nzValue","nzDisabled","nzHide"],["nzType","loading"]],template:function(i,r){i&1&&(b(0,"sf-item-wrap",0)(1,"nz-select",1),Pt("ngModelChange",function(a){return Et(r._value,a)||(r._value=a),a}),K("ngModelChange",function(a){return r.change(a)})("nzOpenChange",function(a){return r.openChange(a)})("nzOnSearch",function(a){return r.onSearch(a)})("nzScrollToBottom",function(){return r.scrollToBottom()}),$(2,ey,2,0),$(3,iy,2,0),$(4,ry,3,1,"nz-option",2),C()()),i&2&&(_("id",r.id)("schema",r.schema)("ui",r.ui)("showError",r.showError)("error",r.error)("showTitle",r.schema.title),f(),_("nzId",r.id)("nzDisabled",r.disabled),Tt("ngModel",r._value),_("nzSize",r.ui.size)("nzPlaceHolder",r.ui.placeholder)("nzNotFoundContent",r.ui.notFoundContent)("nzDropdownClassName",r.ui.dropdownClassName)("nzAllowClear",r.ui.allowClear)("nzDropdownStyle",r.ui.dropdownStyle)("nzCustomTemplate",r.ui.customTemplate)("nzSuffixIcon",r.ui.suffixIcon)("nzRemoveIcon",r.ui.removeIcon)("nzClearIcon",r.ui.clearIcon)("nzMenuItemSelectedIcon",r.ui.menuItemSelectedIcon)("nzMaxTagPlaceholder",r.ui.maxTagPlaceholder)("nzDropdownRender",r.ui.dropdownRender)("nzAutoClearSearchValue",r.i.autoClearSearchValue)("nzBorderless",r.i.borderless)("nzAutoFocus",r.i.autoFocus)("nzDropdownMatchSelectWidth",r.i.dropdownMatchSelectWidth)("nzServerSearch",r.i.serverSearch)("nzMaxMultipleCount",r.i.maxMultipleCount)("nzMode",r.i.mode)("nzShowSearch",r.i.showSearch)("nzShowArrow",r.i.showArrow)("nzTokenSeparators",r.i.tokenSeparators)("nzMaxTagCount",r.i.maxTagCount)("compareWith",r.i.compareWith)("nzOptionHeightPx",r.i.optionHeightPx)("nzOptionOverflowSize",r.i.optionOverflowSize),f(),T(!r.loading&&!r.hasGroup?2:-1),f(),T(!r.loading&&r.hasGroup?3:-1),f(),T(r.loading?4:-1))},dependencies:[yt,Xe,Mt,Fe,sl,ll,al,mt],encapsulation:2})}return t})(),Nu=(()=>{class t extends ht{type;change$=null;ngOnInit(){let{addOnAfter:e,addOnAfterIcon:i,addOnBefore:r,addOnBeforeIcon:o,prefix:a,prefixIcon:s,suffix:l,suffixIcon:c,autofocus:d}=this.ui;this.type=e||r||i||o||a||s||l||c?"addon":"",d===!0&&setTimeout(()=>{this.injector.get(De).nativeElement.querySelector(`#${this.id}`).focus()},20),this.initChange()}reset(e){!e&&this.schema.format==="color"&&this.setValue("#000000")}initChange(){let e=this.ui.changeDebounceTime,i=this.ui.change;if(e==null||e<=0||i==null)return;this.change$=new qt(this.value);let r=this.change$.asObservable().pipe(Sr(e),on(this.sfItemComp.destroy$));this.ui.changeMap!=null&&(r=r.pipe($r(this.ui.changeMap))),r.subscribe(o=>i(o))}change(e){if(this.setValue(e),this.change$!=null){this.change$.next(e);return}this.ui.change&&this.ui.change(e)}focus(e){this.ui.focus&&this.ui.focus(e)}blur(e){this.ui.blur&&this.ui.blur(e)}enter(e){this.ui.enter&&this.ui.enter(e)}static \u0275fac=(()=>{let e;return function(r){return(e||(e=se(t)))(r||t)}})();static \u0275cmp=W({type:t,selectors:[["sf-string"]],standalone:!1,features:[oe],decls:5,vars:7,consts:[["ipt",""],[3,"id","schema","ui","showError","error","showTitle"],[3,"nzAddOnBefore","nzAddOnAfter","nzAddOnBeforeIcon","nzAddOnAfterIcon","nzPrefix","nzPrefixIcon","nzSuffix","nzSuffixIcon"],[3,"ngTemplateOutlet"],["nz-input","",3,"ngModelChange","keyup.enter","focus","blur","disabled","nzSize","nzBorderless","ngModel"]],template:function(i,r){i&1&&(b(0,"sf-item-wrap",1),N(1,oy,1,11,"ng-template",null,0,ve),$(3,sy,2,9,"nz-input-group",2)(4,cy,1,1,null,3),C()),i&2&&(_("id",r.id)("schema",r.schema)("ui",r.ui)("showError",r.showError)("error",r.error)("showTitle",r.schema.title),f(3),T(r.type==="addon"?3:4))},dependencies:[Ae,Fr,yt,Xe,Mt,jr,yl,gl,mt],encapsulation:2})}return t})(),Iy=(()=>{class t extends ht{text="";ngOnInit(){this.ui._required=!1,this.ui.html=Ue(this.ui.html,!0)}reset(e){this.text=e||this.ui.defaultText||"-"}static \u0275fac=(()=>{let e;return function(r){return(e||(e=se(t)))(r||t)}})();static \u0275cmp=W({type:t,selectors:[["sf-text"]],standalone:!1,features:[oe],decls:3,vars:9,consts:[[3,"id","schema","ui","showError","error","showTitle"],[3,"innerHTML"],[3,"innerText"]],template:function(i,r){i&1&&(b(0,"sf-item-wrap",0),$(1,dy,1,1,"span",1)(2,uy,1,1,"span",2),C()),i&2&&(G("sf__text-html",r.ui.html),_("id",r.id)("schema",r.schema)("ui",r.ui)("showError",r.showError)("error",r.error)("showTitle",r.schema.title),f(),T(r.ui.html?1:2))},dependencies:[mt],encapsulation:2})}return t})(),Vy=(()=>{class t extends ht{autosize=!0;ngOnInit(){this.ui.autosize!=null&&(this.autosize=this.ui.autosize),this.ui.computeCharacterCount==null&&(this.ui.computeCharacterCount=e=>e.length)}change(e){this.setValue(e),this.ui.change&&this.ui.change(e)}focus(e){this.ui.focus&&this.ui.focus(e)}blur(e){this.ui.blur&&this.ui.blur(e)}static \u0275fac=(()=>{let e;return function(r){return(e||(e=se(t)))(r||t)}})();static \u0275cmp=W({type:t,selectors:[["sf-textarea"]],standalone:!1,features:[oe],decls:5,vars:7,consts:[["ipt",""],[3,"id","schema","ui","showError","error","showTitle"],[3,"nzMaxCharacterCount","nzComputeCharacterCount"],[3,"ngTemplateOutlet"],["nz-input","",3,"ngModelChange","focus","blur","disabled","nzSize","ngModel","nzAutosize","nzBorderless"]],template:function(i,r){i&1&&(b(0,"sf-item-wrap",1),N(1,py,2,9,"ng-template",null,0,ve),$(3,fy,3,11,"nz-textarea-count",2)(4,hy,1,1,null,3),C()),i&2&&(_("id",r.id)("schema",r.schema)("ui",r.ui)("showError",r.showError)("error",r.error)("showTitle",r.schema.title),f(3),T(r.ui.maxCharacterCount?3:4))},dependencies:[Ae,Fr,yt,Xe,vl,jr,_l,mt],encapsulation:2})}return t})(),mr=class extends en{constructor(){super(),this.register("object",My),this.register("array",Ty),this.register("text",Iy),this.register("string",Nu),this.register("number",Ou),this.register("integer",Ou),this.register("date",Ny),this.register("radio",ky),this.register("checkbox",Py),this.register("boolean",Ey),this.register("textarea",Vy),this.register("select",Dy),this.register("custom",Oy),this.setDefault(Nu)}},Fy=[Ns,El,Xs,hl,xl,wl,Nt,Cl,zl,Ms,el,cl,Ol,fn];var Bb=(()=>{class t{static forRoot(){return{ngModule:t,providers:[{provide:hr,useClass:Vu,deps:[Ee,Fn]},{provide:en,useClass:mr}]}}static \u0275fac=function(i){return new(i||t)};static \u0275mod=xe({type:t});static \u0275inj=we({imports:[Ot,Ks,js,Fy]})}return t})();function Hb(t){let n=[{provide:hr,useClass:Vu,deps:[Ee,Fn]},{provide:en,useClass:mr}];return t?.widgets&&n.push(cs(()=>{let e=S(en);t?.widgets?.forEach(i=>e.register(i.KEY,i.type))})),ls(n)}var qa=["*"];function jy(t,n){}function Ay(t,n){if(t&1&&(b(0,"span",1),N(1,jy,0,0,"ng-template",2),Q(2,"nz-icon",3),C()),t&2){let e=p(),i=de(4);_("nzDropdownMenu",e.nzOverlay),f(),_("ngTemplateOutlet",i)}}function qy(t,n){}function Ly(t,n){if(t&1&&N(0,qy,0,0,"ng-template",2),t&2){p();let e=de(4);_("ngTemplateOutlet",e)}}function Wy(t,n){if(t&1&&(ue(0),V(1),pe()),t&2){let e=p(2);f(),ie(" ",e.nzBreadCrumbComponent.nzSeparator," ")}}function By(t,n){if(t&1&&(b(0,"nz-breadcrumb-separator"),N(1,Wy,2,1,"ng-container",4),C()),t&2){let e=p();f(),_("nzStringTemplateOutlet",e.nzBreadCrumbComponent.nzSeparator)}}function Hy(t,n){t&1&&(b(0,"span",5),ce(1),C())}var Uy=(t,n)=>n.url;function Ky(t,n){if(t&1){let e=J();b(0,"nz-breadcrumb-item")(1,"a",0),K("click",function(r){let o=P(e).$implicit,a=p(2);return O(a.navigate(o.url,r))}),V(2),C()()}if(t&2){let e=n.$implicit;f(),Re("href",e.url,us),f(),ae(e.label)}}function Gy(t,n){if(t&1&&$e(0,Ky,3,2,"nz-breadcrumb-item",null,Uy),t&2){let e=p();Te(e.breadcrumbs)}}var yr=class{},Qy=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275cmp=W({type:t,selectors:[["nz-breadcrumb-separator"]],hostAttrs:[1,"ant-breadcrumb-separator"],exportAs:["nzBreadcrumbSeparator"],ngContentSelectors:qa,decls:1,vars:0,template:function(i,r){i&1&&(le(),ce(0))},encapsulation:2})}return t})(),vr=(()=>{class t{nzBreadCrumbComponent=S(yr);nzOverlay;static \u0275fac=function(i){return new(i||t)};static \u0275cmp=W({type:t,selectors:[["nz-breadcrumb-item"]],inputs:{nzOverlay:"nzOverlay"},exportAs:["nzBreadcrumbItem"],ngContentSelectors:qa,decls:5,vars:2,consts:[["noMenuTpl",""],["nz-dropdown","",1,"ant-breadcrumb-overlay-link",3,"nzDropdownMenu"],[3,"ngTemplateOutlet"],["nzType","down"],[4,"nzStringTemplateOutlet"],[1,"ant-breadcrumb-link"]],template:function(i,r){i&1&&(le(),$(0,Ay,3,2,"span",1)(1,Ly,1,1,null,2),$(2,By,2,1,"nz-breadcrumb-separator"),N(3,Hy,2,0,"ng-template",null,0,ve)),i&2&&(T(r.nzOverlay?0:1),f(2),T(r.nzBreadCrumbComponent.nzSeparator?2:-1))},dependencies:[Ae,Qy,rl,il,Nt,Fe,at,qe],encapsulation:2,changeDetection:0})}return t})(),La=(()=>{class t{injector=S(In);cdr=S(Je);elementRef=S(De);renderer=S(Se);directionality=S(dn);destroyRef=S(sn);nzAutoGenerate=!1;nzSeparator="/";nzRouteLabel="breadcrumb";nzRouteLabelFn=e=>e;nzRouteFn=e=>e;breadcrumbs=[];dir="ltr";ngOnInit(){this.nzAutoGenerate&&this.registerRouterChange(),this.directionality.change?.pipe(Ce(this.destroyRef)).subscribe(e=>{this.dir=e,this.prepareComponentForRtl(),this.cdr.detectChanges()}),this.dir=this.directionality.value,this.prepareComponentForRtl()}navigate(e,i){i.preventDefault(),this.injector.get(jn).navigateByUrl(e)}registerRouterChange(){try{let e=this.injector.get(jn),i=this.injector.get(ys);e.events.pipe(Ke(r=>r instanceof yi),Ce(this.destroyRef),os(!0)).subscribe(()=>{this.breadcrumbs=this.getBreadcrumbs(i.root),this.cdr.markForCheck()})}catch{throw new Error(`${Ss} You should import RouterModule if you want to use 'NzAutoGenerate'.`)}}getBreadcrumbs(e,i="",r=[]){let o=e.children;if(o.length===0)return r;for(let a of o)if(a.outlet===gs){let s=a.snapshot.url.map(u=>u.path).filter(u=>u).join("/"),l=s?`${i}/${s}`:i,c=this.nzRouteLabelFn(a.snapshot.data[this.nzRouteLabel]),d=this.nzRouteFn(l);if(s&&c){let u={label:c,params:a.snapshot.params,url:d};r.push(u)}return this.getBreadcrumbs(a,l,r)}return r}prepareComponentForRtl(){this.dir==="rtl"?this.renderer.addClass(this.elementRef.nativeElement,"ant-breadcrumb-rtl"):this.renderer.removeClass(this.elementRef.nativeElement,"ant-breadcrumb-rtl")}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=W({type:t,selectors:[["nz-breadcrumb"]],hostAttrs:[1,"ant-breadcrumb"],inputs:{nzAutoGenerate:[2,"nzAutoGenerate","nzAutoGenerate",A],nzSeparator:"nzSeparator",nzRouteLabel:"nzRouteLabel",nzRouteLabelFn:"nzRouteLabelFn",nzRouteFn:"nzRouteFn"},exportAs:["nzBreadcrumb"],features:[Wt([{provide:yr,useExisting:ss(()=>t)}])],ngContentSelectors:qa,decls:2,vars:1,consts:[[3,"click"]],template:function(i,r){i&1&&(le(),ce(0),$(1,Gy,2,0)),i&2&&(f(),T(r.nzAutoGenerate&&r.breadcrumbs.length?1:-1))},dependencies:[vr],encapsulation:2,changeDetection:0})}return t})(),ju=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=xe({type:t});static \u0275inj=we({imports:[La,vr]})}return t})();var Jy=["fixedEl"],Xy=["*"],Wa=function(t){return t.resize="resize",t.scroll="scroll",t.touchstart="touchstart",t.touchmove="touchmove",t.touchend="touchend",t.pageshow="pageshow",t.load="LOAD",t}(Wa||{});function Zy(t){return typeof window<"u"&&t===window}function Au(t){return Zy(t)?{top:0,left:0,bottom:0}:t.getBoundingClientRect()}var Yy="affix",Mn="ant-affix",ev=20,Ba=(()=>{var a;let t,n=[],e=[],i,r=[],o=[];return a=class{nzConfigService=S($s);scrollSrv=S(As);platform=S(cn);renderer=S(Se);nzResizeObserver=S(ol);cdr=S(Je);directionality=S(dn);destroyRef=S(sn);_nzModuleName=Yy;fixedEl;nzTarget;nzOffsetTop=xt(this,n,void 0);nzOffsetBottom=(xt(this,e),xt(this,r,void 0));nzChange=(xt(this,o),new rt);dir="ltr";placeholderNode=S(De).nativeElement;affixStyle;placeholderStyle;positionChangeSubscription=Ya.EMPTY;offsetChanged$=new ts(1);timeout;document=S(ds);get target(){let l=this.nzTarget;return(typeof l=="string"?this.document.querySelector(l):l)||window}constructor(){this.destroyRef.onDestroy(()=>{this.removeListeners()})}ngOnInit(){this.directionality.change?.pipe(Ce(this.destroyRef)).subscribe(l=>{this.dir=l,this.registerListeners(),this.updatePosition({}),this.cdr.detectChanges()}),this.dir=this.directionality.value}ngOnChanges(l){let{nzOffsetBottom:c,nzOffsetTop:d,nzTarget:u}=l;(c||d)&&this.offsetChanged$.next(),u&&this.registerListeners()}ngAfterViewInit(){this.registerListeners()}registerListeners(){if(!this.platform.isBrowser)return;this.removeListeners();let l=this.target===window?this.document.body:this.target;this.positionChangeSubscription=rn(...Object.keys(Wa).map(c=>xs(this.target,c)),this.offsetChanged$.pipe(Lt(()=>({}))),this.nzResizeObserver.observe(l)).pipe(as(ev,void 0,{trailing:!0}),Ce(this.destroyRef)).subscribe(c=>this.updatePosition(c)),this.timeout=setTimeout(()=>this.updatePosition({}))}removeListeners(){clearTimeout(this.timeout),this.positionChangeSubscription.unsubscribe()}getOffset(l,c){let d=l.getBoundingClientRect(),u=Au(c),g=this.scrollSrv.getScroll(c,!0),y=this.scrollSrv.getScroll(c,!1),h=this.document.body,v=h.clientTop||0,m=h.clientLeft||0;return{top:d.top-u.top+g-v,left:d.left-u.left+y-m,width:d.width,height:d.height}}setAffixStyle(l,c){let d=this.affixStyle,u=this.target===window;if(l.type==="scroll"&&d&&c&&u||Mr(d,c))return;let g=!!c,y=this.fixedEl.nativeElement;this.renderer.setStyle(y,"cssText",Dr(c)),this.affixStyle=c,g?y.classList.add(Mn):y.classList.remove(Mn),this.updateRtlClass(),(c&&!d||!c&&d)&&this.nzChange.emit(g)}setPlaceholderStyle(l){let c=this.placeholderStyle;Mr(l,c)||(this.renderer.setStyle(this.placeholderNode,"cssText",Dr(l)),this.placeholderStyle=l)}syncPlaceholderStyle(l){if(!this.affixStyle)return;this.renderer.setStyle(this.placeholderNode,"cssText",""),this.placeholderStyle=void 0;let c={width:this.placeholderNode.offsetWidth,height:this.fixedEl.nativeElement.offsetHeight};this.setAffixStyle(l,w(w({},this.affixStyle),c)),this.setPlaceholderStyle(c)}updatePosition(l){if(!this.platform.isBrowser)return;let c=this.target,d=this.nzOffsetTop,u=this.scrollSrv.getScroll(c,!0),g=this.getOffset(this.placeholderNode,c),y=this.fixedEl.nativeElement,h={width:y.offsetWidth,height:y.offsetHeight},v={top:!1,bottom:!1};typeof d!="number"&&typeof this.nzOffsetBottom!="number"?(v.top=!0,d=0):(v.top=typeof d=="number",v.bottom=typeof this.nzOffsetBottom=="number");let m=Au(c),z=c.innerHeight||c.clientHeight;if(u>=g.top-d&&v.top){let D=g.width,I=m.top+d;this.setAffixStyle(l,{position:"fixed",top:I,left:m.left+g.left,width:D}),this.setPlaceholderStyle({width:D,height:h.height})}else if(u<=g.top+h.height+this.nzOffsetBottom-z&&v.bottom){let D=c===window?0:window.innerHeight-m.bottom,I=g.width;this.setAffixStyle(l,{position:"fixed",bottom:D+this.nzOffsetBottom,left:m.left+g.left,width:I}),this.setPlaceholderStyle({width:I,height:g.height})}else l.type===Wa.resize&&this.affixStyle&&this.affixStyle.position==="fixed"&&this.placeholderNode.offsetWidth?this.setAffixStyle(l,Z(w({},this.affixStyle),{width:this.placeholderNode.offsetWidth})):this.setAffixStyle(l),this.setPlaceholderStyle();l.type==="resize"&&this.syncPlaceholderStyle(l)}updateRtlClass(){let l=this.fixedEl.nativeElement;this.dir==="rtl"?l.classList.contains(Mn)?l.classList.add(`${Mn}-rtl`):l.classList.remove(`${Mn}-rtl`):l.classList.remove(`${Mn}-rtl`)}},(()=>{let l=typeof Symbol=="function"&&Symbol.metadata?Object.create(null):void 0;t=[qn()],i=[qn()],Dn(null,null,t,{kind:"field",name:"nzOffsetTop",static:!1,private:!1,access:{has:c=>"nzOffsetTop"in c,get:c=>c.nzOffsetTop,set:(c,d)=>{c.nzOffsetTop=d}},metadata:l},n,e),Dn(null,null,i,{kind:"field",name:"nzOffsetBottom",static:!1,private:!1,access:{has:c=>"nzOffsetBottom"in c,get:c=>c.nzOffsetBottom,set:(c,d)=>{c.nzOffsetBottom=d}},metadata:l},r,o),l&&Object.defineProperty(a,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:l})})(),tn(a,"\u0275fac",function(c){return new(c||a)}),tn(a,"\u0275cmp",W({type:a,selectors:[["nz-affix"]],viewQuery:function(c,d){if(c&1&&Qe(Jy,7),c&2){let u;Ie(u=Ve())&&(d.fixedEl=u.first)}},inputs:{nzTarget:"nzTarget",nzOffsetTop:[2,"nzOffsetTop","nzOffsetTop",kr],nzOffsetBottom:[2,"nzOffsetBottom","nzOffsetBottom",kr]},outputs:{nzChange:"nzChange"},exportAs:["nzAffix"],features:[ke],ngContentSelectors:Xy,decls:3,vars:0,consts:[["fixedEl",""]],template:function(c,d){c&1&&(le(),b(0,"div",null,0),ce(2),C())},dependencies:[ws,zs],encapsulation:2,changeDetection:0})),a})(),qu=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=xe({type:t});static \u0275inj=we({imports:[Ba]})}return t})();var tv=["conTpl"],nv=["affix"],iv=["*"],rv=()=>({rows:3}),ov=()=>({size:"large",shape:"circle"});function av(t,n){}function sv(t,n){if(t&1&&(b(0,"nz-affix",3,1),N(2,av,0,0,"ng-template",4),C()),t&2){let e=p(),i=de(3);_("nzOffsetTop",e.fixedOffsetTop),f(2),_("ngTemplateOutlet",i)}}function lv(t,n){}function cv(t,n){if(t&1&&N(0,lv,0,0,"ng-template",4),t&2){p();let e=de(3);_("ngTemplateOutlet",e)}}function dv(t,n){}function uv(t,n){if(t&1&&N(0,dv,0,0,"ng-template",4),t&2){let e=p(2);_("ngTemplateOutlet",e.breadcrumb)}}function pv(t,n){if(t&1&&(b(0,"a",15),V(1),C()),t&2){let e=p().$implicit;_("routerLink",e.link),f(),ae(e.title)}}function fv(t,n){if(t&1&&V(0),t&2){let e=p().$implicit;ie(" ",e.title," ")}}function mv(t,n){if(t&1&&(b(0,"nz-breadcrumb-item"),$(1,pv,2,2,"a",15)(2,fv,1,1),C()),t&2){let e=n.$implicit;f(),T(e.link?1:2)}}function hv(t,n){if(t&1&&(b(0,"nz-breadcrumb"),$e(1,mv,3,1,"nz-breadcrumb-item",null,Ge),C()),t&2){let e=p(3);f(),Te(e.paths)}}function _v(t,n){if(t&1&&$(0,hv,3,0,"nz-breadcrumb"),t&2){let e=p(2);T(e.paths&&e.paths.length>0?0:-1)}}function gv(t,n){}function yv(t,n){if(t&1&&(b(0,"div",8),N(1,gv,0,0,"ng-template",4),C()),t&2){let e=p(2);f(),_("ngTemplateOutlet",e.logo)}}function vv(t,n){}function Cv(t,n){if(t&1&&N(0,vv,0,0,"ng-template",4),t&2){let e=p(3);_("ngTemplateOutlet",e._titleTpl)}}function bv(t,n){if(t&1&&(ue(0),V(1),pe()),t&2){let e=p(5);f(),ae(e.titleSub)}}function zv(t,n){if(t&1&&(b(0,"small"),N(1,bv,2,1,"ng-container",16),C()),t&2){let e=p(4);f(),_("nzStringTemplateOutlet",e.titleSub)}}function wv(t,n){if(t&1&&(V(0),$(1,zv,2,1,"small")),t&2){let e=p(3);ie(" ",e._titleVal," "),f(),T(e.titleSub?1:-1)}}function Sv(t,n){if(t&1&&(b(0,"h1",11),$(1,Cv,1,1,null,4)(2,wv,2,2),C()),t&2){let e=p(2);f(),T(e._titleTpl?1:2)}}function xv(t,n){}function $v(t,n){if(t&1&&(b(0,"div",12),N(1,xv,0,0,"ng-template",4),C()),t&2){let e=p(2);f(),_("ngTemplateOutlet",e.action)}}function Tv(t,n){}function Ev(t,n){}function Pv(t,n){if(t&1&&(b(0,"div",14),N(1,Ev,0,0,"ng-template",4),C()),t&2){let e=p(2);f(),_("ngTemplateOutlet",e.extra)}}function Ov(t,n){}function Nv(t,n){if(t&1){let e=J();b(0,"div",5)(1,"div")(2,"nz-skeleton",6),$(3,uv,1,1,null,4)(4,_v,1,1),b(5,"div",7),$(6,yv,2,1,"div",8),b(7,"div",9)(8,"div",10),$(9,Sv,3,1,"h1",11),$(10,$v,2,1,"div",12),C(),b(11,"div",10)(12,"div",13,2),K("cdkObserveContent",function(){P(e);let r=p();return O(r.checkContent())}),ce(14),N(15,Tv,0,0,"ng-template",4),C(),$(16,Pv,2,1,"div",14),C()()(),N(17,Ov,0,0,"ng-template",4),C()()()}if(t&2){let e=p();G("page-header-rtl",e.dir()==="rtl"),f(),G("page-header__wide",e.wide),f(),_("nzLoading",e.loading)("nzTitle",!1)("nzActive",!0)("nzParagraph",ln(16,rv))("nzAvatar",ln(17,ov)),f(),T(e.breadcrumb?3:4),f(3),T(e.logo?6:-1),f(3),T(e._titleVal||e._titleTpl?9:-1),f(),T(e.action?10:-1),f(5),_("ngTemplateOutlet",e.content),f(),T(e.extra?16:-1),f(),_("ngTemplateOutlet",e.tab)}}var Mv=(()=>{class t{renderer=S(Se);router=S(jn);cdr=S(Je);menuSrv=S(Is);i18nSrv=S(wi);titleSrv=S(Fs);reuseSrv=S(Ml,{optional:!0});settings=S(Vs);platform=S(cn);cogSrv=S(Ee);conTpl;affix;inited=!1;isBrowser=!0;dir=S(dn).valueSignal;get menus(){return this.menuSrv.getPathByUrl(this.router.url,this.recursiveBreadcrumb)}_titleVal="";paths=[];_title=null;_titleTpl=null;set title(e){e instanceof Vn?(this._title=null,this._titleTpl=e,this._titleVal=""):(this._title=e,this._titleVal=this._title)}titleSub;loading=!1;wide=!1;home;homeLink;homeI18n;autoBreadcrumb;autoTitle;syncTitle;fixed;fixedOffsetTop;breadcrumb=null;recursiveBreadcrumb;logo=null;action=null;content=null;extra=null;tab=null;constructor(){this.isBrowser=this.platform.isBrowser,this.cogSrv.attach(this,"pageHeader",{home:"\u9996\u9875",homeLink:"/",autoBreadcrumb:!0,recursiveBreadcrumb:!1,autoTitle:!0,syncTitle:!0,fixed:!1,fixedOffsetTop:64}),this.settings.notify.pipe(Ce(),Ke(i=>this.affix&&i.type==="layout"&&i.name==="collapsed")).subscribe(()=>this.affix.updatePosition({}));let e=[this.router.events.pipe(Ke(i=>i instanceof yi))];this.menuSrv!=null&&e.push(this.menuSrv.change),e.push(this.i18nSrv.change),rn(...e).pipe(Ce(),Ke(()=>this.inited)).subscribe(()=>this.refresh())}refresh(){this.setTitle().genBreadcrumb(),this.cdr.detectChanges()}genBreadcrumb(){if(this.breadcrumb||!this.autoBreadcrumb||this.menus.length<=0){this.paths=[];return}let e=[];this.menus.forEach(i=>{if(typeof i.hideInBreadcrumb<"u"&&i.hideInBreadcrumb)return;let r=i.text;i.i18n&&(r=this.i18nSrv.fanyi(i.i18n)),e.push({title:r,link:i.link&&[i.link]})}),this.home&&e.splice(0,0,{title:this.homeI18n&&this.i18nSrv.fanyi(this.homeI18n)||this.home,link:[this.homeLink]}),this.paths=e}setTitle(){if(this._title==null&&this._titleTpl==null&&this.autoTitle&&this.menus.length>0){let e=this.menus[this.menus.length-1],i=e.text;e.i18n&&(i=this.i18nSrv.fanyi(e.i18n)),this._titleVal=i}return this._titleVal&&this.syncTitle&&(this.titleSrv.setTitle(this._titleVal),!this.inited&&this.reuseSrv&&(this.reuseSrv.title=this._titleVal)),this}checkContent(){pn(this.conTpl.nativeElement)?this.renderer.setAttribute(this.conTpl.nativeElement,"hidden",""):this.renderer.removeAttribute(this.conTpl.nativeElement,"hidden")}ngOnInit(){this.refresh(),this.inited=!0}ngAfterViewInit(){this.checkContent()}ngOnChanges(){this.inited&&this.refresh()}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=W({type:t,selectors:[["page-header"]],viewQuery:function(i,r){if(i&1&&(Qe(tv,5),Qe(nv,5)),i&2){let o;Ie(o=Ve())&&(r.conTpl=o.first),Ie(o=Ve())&&(r.affix=o.first)}},inputs:{title:"title",titleSub:"titleSub",loading:[2,"loading","loading",A],wide:[2,"wide","wide",A],home:"home",homeLink:"homeLink",homeI18n:"homeI18n",autoBreadcrumb:[2,"autoBreadcrumb","autoBreadcrumb",A],autoTitle:[2,"autoTitle","autoTitle",A],syncTitle:[2,"syncTitle","syncTitle",A],fixed:[2,"fixed","fixed",A],fixedOffsetTop:[2,"fixedOffsetTop","fixedOffsetTop",fe],breadcrumb:"breadcrumb",recursiveBreadcrumb:[2,"recursiveBreadcrumb","recursiveBreadcrumb",A],logo:"logo",action:"action",content:"content",extra:"extra",tab:"tab"},exportAs:["pageHeader"],features:[ke],ngContentSelectors:iv,decls:4,vars:1,consts:[["phTpl",""],["affix",""],["conTpl",""],[3,"nzOffsetTop"],[3,"ngTemplateOutlet"],[1,"page-header"],[1,"d-block",3,"nzLoading","nzTitle","nzActive","nzParagraph","nzAvatar"],[1,"page-header__detail"],[1,"page-header__logo"],[1,"page-header__main"],[1,"page-header__row"],[1,"page-header__title"],[1,"page-header__action"],[1,"page-header__desc",3,"cdkObserveContent"],[1,"page-header__extra"],[3,"routerLink"],[4,"nzStringTemplateOutlet"]],template:function(i,r){i&1&&(le(),$(0,sv,3,2,"nz-affix",3)(1,cv,1,1,null,4),N(2,Nv,18,18,"ng-template",null,0,ve)),i&2&&T(r.isBrowser&&r.fixed?0:1)},dependencies:[Ba,Ae,$l,La,vr,vs,qe,un],encapsulation:2,changeDetection:0})}return t})(),kv=[Mv],Yz=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=xe({type:t});static \u0275inj=we({imports:[Ot,Cs,Ci,qu,Tl,ju,at,kv]})}return t})();var Ua=["*"];function Dv(t,n){if(t&1&&(ue(0),V(1),pe()),t&2){let e=p(2);f(),ae(e.title)}}function Iv(t,n){if(t&1&&(b(0,"div",0),N(1,Dv,2,1,"ng-container",1),C()),t&2){let e=p();f(),_("nzStringTemplateOutlet",e.title)}}var Vv=["contentElement"];function Fv(t,n){if(t&1&&(ue(0),V(1),pe()),t&2){let e=p(2);f(),ae(e.label)}}function Rv(t,n){if(t&1&&(ue(0),V(1),pe()),t&2){let e=p(3);f(),ae(e.optional)}}function jv(t,n){if(t&1&&Q(0,"nz-icon",12),t&2){let e=p(3);_("nzTooltipTitle",e.optionalHelp)("nzTooltipColor",e.optionalHelpColor)}}function Av(t,n){if(t&1&&(b(0,"span",11),N(1,Rv,2,1,"ng-container",9),$(2,jv,1,2,"nz-icon",12),C()),t&2){let e=p(2);G("se__label-optional-no-text",!e.optional),f(),_("nzStringTemplateOutlet",e.optional),f(),T(e.optionalHelp?2:-1)}}function qv(t,n){if(t&1&&(b(0,"label",7)(1,"span",8),N(2,Fv,2,1,"ng-container",9),C(),$(3,Av,3,4,"span",10),C()),t&2){let e=p();G("ant-form-item-required",e.required)("se__no-colon",e._noColon),Re("for",e._id),f(2),_("nzStringTemplateOutlet",e.label),f(),T(e.optional||e.optionalHelp?3:-1)}}function Lv(t,n){if(t&1&&(ue(0),V(1),pe()),t&2){let e=p(2);f(),ae(e._error)}}function Wv(t,n){if(t&1&&(b(0,"div",5)(1,"div",13),N(2,Lv,2,1,"ng-container",9),C()()),t&2){let e=p();_("@helpMotion",void 0),f(2),_("nzStringTemplateOutlet",e._error)}}function Bv(t,n){if(t&1&&(ue(0),V(1),pe()),t&2){let e=p(2);f(),ae(e.extra)}}function Hv(t,n){if(t&1&&(b(0,"div",6),N(1,Bv,2,1,"ng-container",9),C()),t&2){let e=p();f(),_("nzStringTemplateOutlet",e.extra)}}var Uv=(()=>{class t{parentComp=S(Lu,{host:!0,optional:!0});el=S(De).nativeElement;ren=S(Se);constructor(){if(this.parentComp==null)throw new Error("[se-title] must include 'se-container' component")}setClass(){let{el:e}=this,i=this.parentComp.gutter;this.ren.setStyle(e,"padding-left",`${i/2}px`),this.ren.setStyle(e,"padding-right",`${i/2}px`)}ngOnInit(){this.setClass()}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=W({type:t,selectors:[["se-title"],["","se-title",""]],hostVars:2,hostBindings:function(i,r){i&2&&G("se__title",!0)},exportAs:["seTitle"],ngContentSelectors:Ua,decls:1,vars:0,template:function(i,r){i&1&&(le(),ce(0))},encapsulation:2,changeDetection:0})}return t})(),Lu=(()=>{class t{cogSrv=S(Ee);errorNotify$=new qt(null);colInCon;col;labelWidth;noColon=!1;title;get gutter(){return this.nzLayout==="horizontal"?this._gutter:0}set gutter(e){this._gutter=e}_gutter;get nzLayout(){return this._nzLayout}set nzLayout(e){this._nzLayout=e,e==="inline"&&(this.size="compact")}_nzLayout;size;firstVisual;ingoreDirty;line=!1;set errors(e){this.setErrors(e)}get margin(){return-(this.gutter/2)}get errorNotify(){return this.errorNotify$.pipe(Ke(e=>e!=null))}constructor(){this.cogSrv.attach(this,"se",{size:"default",nzLayout:"horizontal",gutter:32,col:2,labelWidth:150,firstVisual:!1,ingoreDirty:!1})}setErrors(e){for(let i of e)this.errorNotify$.next(i)}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=W({type:t,selectors:[["se-container"],["","se-container",""]],hostVars:16,hostBindings:function(i,r){i&2&&(ot("margin-left",r.margin,"px")("margin-right",r.margin,"px"),G("ant-row",!0)("se__container",!0)("se__horizontal",r.nzLayout==="horizontal")("se__vertical",r.nzLayout==="vertical")("se__inline",r.nzLayout==="inline")("se__compact",r.size==="compact"))},inputs:{colInCon:[2,"se-container","colInCon",e=>e==null?null:fe(e)],col:[2,"col","col",e=>e==null?null:fe(e)],labelWidth:[2,"labelWidth","labelWidth",e=>e==null?null:fe(e)],noColon:[2,"noColon","noColon",A],title:"title",gutter:[2,"gutter","gutter",fe],nzLayout:"nzLayout",size:"size",firstVisual:[2,"firstVisual","firstVisual",A],ingoreDirty:[2,"ingoreDirty","ingoreDirty",A],line:[2,"line","line",A],errors:"errors"},exportAs:["seContainer"],ngContentSelectors:Ua,decls:2,vars:1,consts:[["se-title",""],[4,"nzStringTemplateOutlet"]],template:function(i,r){i&1&&(le(),$(0,Iv,2,1,"div",0),ce(1)),i&2&&T(r.title?0:-1)},dependencies:[Uv,qe],encapsulation:2,changeDetection:0})}return t})(),Ha="se",Kv=0,zw=(()=>{class t{parentComp=S(Lu,{host:!0,optional:!0});el=S(De).nativeElement;rep=S(Si);ren=S(Se);cdr=S(Je);statusSrv=S(Bt);destroy$=S(sn);ngModel;formControlName;contentElement;clsMap=[];inited=!1;onceFlag=!1;errorData={};isBindModel=!1;invalid=!1;_labelWidth=null;_noColon=null;_error;optional=null;optionalHelp=null;optionalHelpColor;set error(e){this.errorData=typeof e=="string"||e instanceof Vn?{"":e}:e}extra;label;col;required=!1;controlClass="";line;labelWidth;noColon;hideLabel=!1;set id(e){this._id=e,this._autoId=!1}_id=`_se-${++Kv}`;_autoId=!0;get paddingValue(){return this.parentComp.gutter/2}get showErr(){return this.invalid&&!!this._error&&!this.compact}get compact(){return this.parentComp.size==="compact"}get ngControl(){return this.ngModel||this.formControlName}constructor(){if(this.parentComp==null)throw new Error("[se] must include 'se-container' component");this.parentComp.errorNotify.pipe(Ce(),Ke(e=>this.inited&&this.ngControl!=null&&this.ngControl.name===e.name)).subscribe(e=>{this.error=e.error,this.updateStatus(this.ngControl.invalid)})}setClass(){let{el:e,ren:i,clsMap:r,col:o,cdr:a,line:s,labelWidth:l,rep:c,noColon:d}=this,u=this.parentComp;this._noColon=d??u.noColon,this._labelWidth=u.nzLayout==="horizontal"?l??u.labelWidth:null,r.forEach(h=>i.removeClass(e,h)),r.length=0;let g=u.colInCon||u.col,y=u.nzLayout==="horizontal"?c.genCls(o??g,g):[];return r.push("ant-form-item",...y,`${Ha}__item`),(s||u.line)&&r.push(`${Ha}__line`),r.forEach(h=>i.addClass(e,h)),a.detectChanges(),this}bindModel(){if(!(!this.ngControl||this.isBindModel)){if(this.isBindModel=!0,this.ngControl.statusChanges.pipe(Ce(this.destroy$)).subscribe(e=>this.updateStatus(e==="INVALID")),this._autoId){let e=this.ngControl.valueAccessor,i=(e?.elementRef||e?._elementRef)?.nativeElement;i&&(i.id?this._id=i.id:i.id=this._id)}if(this.required!==!0){let e=this.ngControl?.control?.hasValidator(qs.required);e!==!0&&(e=(this.ngControl?._rawValidators).find(r=>r instanceof Us)!=null),this.required=e,this.cdr.detectChanges()}}}updateStatus(e){if(this.ngControl?.disabled||this.ngControl?.isDisabled)return;this.invalid=!this.onceFlag&&e&&this.parentComp.ingoreDirty===!1&&!this.ngControl?.dirty?!1:e;let i=this.ngControl?.errors;if(i!=null&&Object.keys(i).length>0){let r=Object.keys(i)[0]||"",o=this.errorData[r];this._error=o??(this.errorData[""]||"")}this.statusSrv.formStatusChanges.next({status:this.invalid?"error":"",hasFeedback:!1}),this.cdr.detectChanges()}checkContent(){let e=this.contentElement.nativeElement,i=`${Ha}__item-empty`;pn(e)?this.ren.addClass(e,i):this.ren.removeClass(e,i)}ngAfterContentInit(){this.checkContent()}ngOnChanges(){this.onceFlag=this.parentComp.firstVisual,this.inited&&this.setClass().bindModel()}ngAfterViewInit(){this.setClass().bindModel(),this.inited=!0,this.onceFlag&&Promise.resolve().then(()=>{this.updateStatus(this.ngControl.invalid),this.onceFlag=!1})}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=W({type:t,selectors:[["se"]],contentQueries:function(i,r,o){if(i&1&&(Tr(o,Xe,7),Tr(o,Hs,7)),i&2){let a;Ie(a=Ve())&&(r.ngModel=a.first),Ie(a=Ve())&&(r.formControlName=a.first)}},viewQuery:function(i,r){if(i&1&&Qe(Vv,7),i&2){let o;Ie(o=Ve())&&(r.contentElement=o.first)}},hostVars:10,hostBindings:function(i,r){i&2&&(ot("padding-left",r.paddingValue,"px")("padding-right",r.paddingValue,"px"),G("se__hide-label",r.hideLabel)("ant-form-item-has-error",r.invalid)("ant-form-item-with-help",r.showErr))},inputs:{optional:"optional",optionalHelp:"optionalHelp",optionalHelpColor:"optionalHelpColor",error:"error",extra:"extra",label:"label",col:[2,"col","col",e=>e==null?null:fe(e)],required:[2,"required","required",A],controlClass:"controlClass",line:[2,"line","line",e=>e==null?null:A(e)],labelWidth:[2,"labelWidth","labelWidth",e=>e==null?null:fe(e)],noColon:[2,"noColon","noColon",e=>e==null?null:A(e)],hideLabel:[2,"hideLabel","hideLabel",A],id:"id"},exportAs:["se"],features:[Wt([Bt]),ke],ngContentSelectors:Ua,decls:9,vars:10,consts:[["contentElement",""],[1,"ant-form-item-label"],[1,"se__label",3,"ant-form-item-required","se__no-colon"],[1,"ant-form-item-control","se__control"],[1,"ant-form-item-control-input-content",3,"cdkObserveContent"],[1,"ant-form-item-explain","ant-form-item-explain-connected"],[1,"ant-form-item-extra"],[1,"se__label"],[1,"se__label-text"],[4,"nzStringTemplateOutlet"],[1,"se__label-optional",3,"se__label-optional-no-text"],[1,"se__label-optional"],["nz-tooltip","","nzType","question-circle",3,"nzTooltipTitle","nzTooltipColor"],["role","alert",1,"ant-form-item-explain-error"]],template:function(i,r){if(i&1){let o=J();le(),b(0,"div",1),$(1,qv,4,7,"label",2),C(),b(2,"div",3)(3,"div")(4,"div",4,0),K("cdkObserveContent",function(){return P(o),O(r.checkContent())}),ce(6),C()(),$(7,Wv,3,2,"div",5),$(8,Hv,2,1,"div",6),C()}i&2&&(ot("width",r._labelWidth,"px"),G("se__nolabel",r.hideLabel||!r.label),f(),T(r.label?1:-1),f(2),je(hs("ant-form-item-control-input ",r.controlClass)),f(4),T(r.showErr?7:-1),f(),T(r.extra&&!r.compact?8:-1))},dependencies:[qe,vt,Fe,un],encapsulation:2,data:{animation:[bi]},changeDetection:0})}return t})();var ww=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=xe({type:t});static \u0275inj=we({imports:[Ot,fn,Nt,at]})}return t})();var Ga=["*"];function Gv(t,n){if(t&1&&(ue(0),V(1),pe()),t&2){let e=p(2);f(),ae(e.title)}}function Qv(t,n){if(t&1&&(b(0,"sv-title"),N(1,Gv,2,1,"ng-container",1),C()),t&2){let e=p();f(),_("nzStringTemplateOutlet",e.title)}}var Jv=["conEl"];function Xv(t,n){if(t&1&&(ue(0),V(1),pe()),t&2){let e=p(2);f(),ae(e.label)}}function Zv(t,n){if(t&1&&(ue(0),V(1),pe()),t&2){let e=p(3);f(),ae(e.optional)}}function Yv(t,n){if(t&1&&Q(0,"nz-icon",10),t&2){let e=p(3);_("nzTooltipTitle",e.optionalHelp)("nzTooltipColor",e.optionalHelpColor)}}function eC(t,n){if(t&1&&(b(0,"span",9),N(1,Zv,2,1,"ng-container",7),$(2,Yv,1,2,"nz-icon",10),C()),t&2){let e=p(2);G("sv__label-optional-no-text",!e.optional),f(),_("nzStringTemplateOutlet",e.optional),f(),T(e.optionalHelp?2:-1)}}function tC(t,n){if(t&1&&(b(0,"div",5)(1,"span",6),N(2,Xv,2,1,"ng-container",7),C(),$(3,eC,3,4,"span",8),C()),t&2){let e=p();ot("width",e.labelWidth,"px"),G("sv__label-empty",!e.label)("sv__label-width",e.labelWidth!==null&&e.labelWidth!==void 0)("sv__no-colon",e._noColon),f(2),_("nzStringTemplateOutlet",e.label),f(),T(e.optional||e.optionalHelp?3:-1)}}function nC(t,n){if(t&1&&(b(0,"span",4),V(1),C()),t&2){let e=p(2);f(),ae(e.unit)}}function iC(t,n){if(t&1&&N(0,nC,2,1,"span",11),t&2){let e=p();_("nzStringTemplateOutlet",e.unit)}}var rC=(()=>{class t{el=S(De).nativeElement;parentComp=S(Wu,{host:!0,optional:!0});ren=S(Se);constructor(){if(this.parentComp==null)throw new Error("[sv-title] must include 'sv-container' component")}setClass(){let e=this.parentComp.gutter,i=this.el;this.ren.setStyle(i,"padding-left",`${e/2}px`),this.ren.setStyle(i,"padding-right",`${e/2}px`)}ngOnInit(){this.setClass()}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=W({type:t,selectors:[["sv-title"],["","sv-title",""]],hostVars:2,hostBindings:function(i,r){i&2&&G("sv__title",!0)},exportAs:["svTitle"],ngContentSelectors:Ga,decls:1,vars:0,template:function(i,r){i&1&&(le(),ce(0))},encapsulation:2,changeDetection:0})}return t})(),Wu=(()=>{class t{cogSrv=S(Ee);colInCon;title;size;gutter;layout;labelWidth;col;default;noColon=!1;bordered=!1;get margin(){return this.bordered?{}:{"margin-left":`${-(this.gutter/2)}px`,"margin-right":`${-(this.gutter/2)}px`}}constructor(){this.cogSrv.attach(this,"sv",{size:"large",gutter:32,layout:"horizontal",col:3,default:!0})}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=W({type:t,selectors:[["sv-container"],["","sv-container",""]],hostVars:14,hostBindings:function(i,r){i&2&&G("sv__container",!0)("sv__horizontal",r.layout==="horizontal")("sv__vertical",r.layout==="vertical")("sv__small",r.size==="small")("sv__large",r.size==="large")("sv__bordered",r.bordered)("clearfix",!0)},inputs:{colInCon:[2,"sv-container","colInCon",e=>e==null?null:fe(e)],title:"title",size:"size",gutter:[2,"gutter","gutter",fe],layout:"layout",labelWidth:[2,"labelWidth","labelWidth",fe],col:[2,"col","col",fe],default:[2,"default","default",A],noColon:[2,"noColon","noColon",A],bordered:[2,"bordered","bordered",A]},exportAs:["svContainer"],ngContentSelectors:Ga,decls:3,vars:3,consts:[[1,"ant-row"],[4,"nzStringTemplateOutlet"]],template:function(i,r){i&1&&(le(),b(0,"div",0),$(1,Qv,2,1,"sv-title"),ce(2),C()),i&2&&(gi(r.margin),f(),T(r.title?1:-1))},dependencies:[rC,qe],encapsulation:2,changeDetection:0})}return t})();var Ka="sv",Aw=(()=>{class t{el=S(De).nativeElement;parentComp=S(Wu,{host:!0,optional:!0});rep=S(Si);ren=S(Se);conEl;clsMap=[];_noColon=!1;optional;optionalHelp;optionalHelpColor;label;unit;col;default;type;noColon;hideLabel=!1;get paddingValue(){return this.parentComp.bordered?null:this.parentComp.gutter/2}get labelWidth(){let{labelWidth:e,layout:i}=this.parentComp;return i==="horizontal"?e:null}constructor(){if(this.parentComp==null)throw new Error("[sv] must include 'sv-container' component")}setClass(){let{ren:e,col:i,clsMap:r,type:o,rep:a,noColon:s}=this,l=this.parentComp,c=this.el;this._noColon=l.bordered?!0:s??l.noColon,r.forEach(u=>e.removeClass(c,u)),r.length=0;let d=l.colInCon||l.col;r.push(...a.genCls(i??d,d)),r.push(`${Ka}__item`),l.labelWidth&&r.push(`${Ka}__item-fixed`),o&&r.push(`${Ka}__type-${o}`),r.forEach(u=>e.addClass(c,u))}ngAfterViewInit(){this.setClass(),this.checkContent()}ngOnChanges(){this.setClass()}checkContent(){let{conEl:e}=this,i=this.default;if(!(i??this.parentComp?.default))return;let r=e.nativeElement,o="sv__default";r.classList.contains(o)&&r.classList.remove(o),pn(r)&&r.classList.add(o)}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=W({type:t,selectors:[["sv"],["","sv",""]],viewQuery:function(i,r){if(i&1&&Qe(Jv,5),i&2){let o;Ie(o=Ve())&&(r.conEl=o.first)}},hostVars:4,hostBindings:function(i,r){i&2&&ot("padding-left",r.paddingValue,"px")("padding-right",r.paddingValue,"px")},inputs:{optional:"optional",optionalHelp:"optionalHelp",optionalHelpColor:"optionalHelpColor",label:"label",unit:"unit",col:[2,"col","col",e=>e==null?null:fe(e)],default:[2,"default","default",e=>e==null?null:A(e)],type:"type",noColon:[2,"noColon","noColon",e=>e==null?null:A(e)],hideLabel:[2,"hideLabel","hideLabel",A]},exportAs:["sv"],features:[ke],ngContentSelectors:Ga,decls:6,vars:2,consts:[["conEl",""],[1,"sv__label",3,"sv__label-empty","sv__label-width","sv__no-colon","width"],[1,"sv__detail"],[3,"cdkObserveContent"],[1,"sv__unit"],[1,"sv__label"],[1,"sv__label-text"],[4,"nzStringTemplateOutlet"],[1,"sv__label-optional",3,"sv__label-optional-no-text"],[1,"sv__label-optional"],["nz-tooltip","","nzType","question-circle",3,"nzTooltipTitle","nzTooltipColor"],["class","sv__unit",4,"nzStringTemplateOutlet"]],template:function(i,r){if(i&1){let o=J();le(),$(0,tC,4,10,"div",1),b(1,"div",2)(2,"span",3,0),K("cdkObserveContent",function(){return P(o),O(r.checkContent())}),ce(4),C(),$(5,iC,1,1,"span",4),C()}i&2&&(T(r.hideLabel?-1:0),f(5),T(r.unit?5:-1))},dependencies:[qe,vt,Fe,un],encapsulation:2,changeDetection:0})}return t})();var qw=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=xe({type:t});static \u0275inj=we({imports:[Ot,Ci,fn,Nt,at]})}return t})();var Bu=t=>({$implicit:t});function oC(t,n){if(t&1&&(ue(0),V(1),pe()),t&2){let e=p(3);f(),ie(" ",e.nzTitle," ")}}function aC(t,n){if(t&1&&(b(0,"div",7),N(1,oC,2,1,"ng-container",9),C()),t&2){let e=p(2);f(),_("nzStringTemplateOutlet",e.nzTitle)("nzStringTemplateOutletContext",Or(2,Bu,e.nzTitleContext))}}function sC(t,n){if(t&1&&(ue(0),V(1),pe()),t&2){let e=p(2);f(),ie(" ",e.nzContent," ")}}function lC(t,n){if(t&1&&(b(0,"div",2)(1,"div",3)(2,"div",4),Q(3,"span",5),C(),b(4,"div",6)(5,"div"),$(6,aC,2,4,"div",7),b(7,"div",8),N(8,sC,2,1,"ng-container",9),C()()()()()),t&2){let e=p();gi(e.nzOverlayStyle),je(e._classMap),G("ant-popover-rtl",e.dir==="rtl"),_("@.disabled",!!(e.noAnimation!=null&&e.noAnimation.nzNoAnimation))("nzNoAnimation",e.noAnimation==null?null:e.noAnimation.nzNoAnimation)("@zoomBigMotion","active"),f(6),T(e.nzTitle?6:-1),f(2),_("nzStringTemplateOutlet",e.nzContent)("nzStringTemplateOutletContext",Or(12,Bu,e.nzContentContext))}}var cC="popover",sS=(()=>{var r;let t=tl,n,e=[],i=[];return r=class extends t{_nzModuleName=cC;arrowPointAtCenter;title;titleContext=null;content;contentContext=null;directiveTitle;trigger="hover";placement="top";origin;visible;mouseEnterDelay;mouseLeaveDelay;overlayClassName;overlayStyle;overlayClickable;directiveContent=null;nzPopoverBackdrop=xt(this,e,!1);visibleChange=(xt(this,i),new rt);getProxyPropertyMap(){return w({nzPopoverBackdrop:["nzBackdrop",()=>this.nzPopoverBackdrop],titleContext:["nzTitleContext",()=>this.titleContext],contentContext:["nzContentContext",()=>this.contentContext]},super.getProxyPropertyMap())}constructor(){super(Hu)}},(()=>{let a=typeof Symbol=="function"&&Symbol.metadata?Object.create(t[Symbol.metadata]??null):void 0;n=[qn()],Dn(null,null,n,{kind:"field",name:"nzPopoverBackdrop",static:!1,private:!1,access:{has:s=>"nzPopoverBackdrop"in s,get:s=>s.nzPopoverBackdrop,set:(s,l)=>{s.nzPopoverBackdrop=l}},metadata:a},e,i),a&&Object.defineProperty(r,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a})})(),tn(r,"\u0275fac",function(s){return new(s||r)}),tn(r,"\u0275dir",gt({type:r,selectors:[["","nz-popover",""]],hostVars:2,hostBindings:function(s,l){s&2&&G("ant-popover-open",l.visible)},inputs:{arrowPointAtCenter:[2,"nzPopoverArrowPointAtCenter","arrowPointAtCenter",A],title:[0,"nzPopoverTitle","title"],titleContext:[0,"nzPopoverTitleContext","titleContext"],content:[0,"nzPopoverContent","content"],contentContext:[0,"nzPopoverContentContext","contentContext"],directiveTitle:[0,"nz-popover","directiveTitle"],trigger:[0,"nzPopoverTrigger","trigger"],placement:[0,"nzPopoverPlacement","placement"],origin:[0,"nzPopoverOrigin","origin"],visible:[0,"nzPopoverVisible","visible"],mouseEnterDelay:[0,"nzPopoverMouseEnterDelay","mouseEnterDelay"],mouseLeaveDelay:[0,"nzPopoverMouseLeaveDelay","mouseLeaveDelay"],overlayClassName:[0,"nzPopoverOverlayClassName","overlayClassName"],overlayStyle:[0,"nzPopoverOverlayStyle","overlayStyle"],overlayClickable:[0,"nzPopoverOverlayClickable","overlayClickable"],nzPopoverBackdrop:"nzPopoverBackdrop"},outputs:{visibleChange:"nzPopoverVisibleChange"},exportAs:["nzPopover"],features:[oe]})),r})(),Hu=(()=>{class t extends nl{_prefix="ant-popover";nzContentContext=null;get hasBackdrop(){return this.nzTrigger==="click"?this.nzBackdrop:!1}isEmpty(){return Rr(this.nzTitle)&&Rr(this.nzContent)}static \u0275fac=(()=>{let e;return function(r){return(e||(e=se(t)))(r||t)}})();static \u0275cmp=W({type:t,selectors:[["nz-popover"]],exportAs:["nzPopoverComponent"],features:[oe],decls:2,vars:6,consts:[["overlay","cdkConnectedOverlay"],["cdkConnectedOverlay","","nzConnectedOverlay","",3,"overlayOutsideClick","detach","positionChange","cdkConnectedOverlayHasBackdrop","cdkConnectedOverlayOrigin","cdkConnectedOverlayPositions","cdkConnectedOverlayOpen","cdkConnectedOverlayPush","nzArrowPointAtCenter"],[1,"ant-popover",3,"nzNoAnimation"],[1,"ant-popover-content"],[1,"ant-popover-arrow"],[1,"ant-popover-arrow-content"],["role","tooltip",1,"ant-popover-inner"],[1,"ant-popover-title"],[1,"ant-popover-inner-content"],[4,"nzStringTemplateOutlet","nzStringTemplateOutletContext"]],template:function(i,r){if(i&1){let o=J();N(0,lC,9,14,"ng-template",1,0,ve),K("overlayOutsideClick",function(s){return P(o),O(r.onClickOutside(s))})("detach",function(){return P(o),O(r.hide())})("positionChange",function(s){return P(o),O(r.onPositionChange(s))})}i&2&&_("cdkConnectedOverlayHasBackdrop",r.hasBackdrop)("cdkConnectedOverlayOrigin",r.origin)("cdkConnectedOverlayPositions",r._positions)("cdkConnectedOverlayOpen",r._visible)("cdkConnectedOverlayPush",r.cdkConnectedOverlayPush)("nzArrowPointAtCenter",r.nzArrowPointAtCenter)},dependencies:[Es,Ts,Os,Ps,Ds,at,qe],encapsulation:2,data:{animation:[ks]},changeDetection:0})}return t})(),lS=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=xe({type:t});static \u0275inj=we({imports:[Hu]})}return t})();export{Sy as a,mt as b,Wb as c,Bb as d,Hb as e,vr as f,La as g,ju as h,Mv as i,Yz as j,Lu as k,zw as l,ww as m,Wu as n,Aw as o,qw as p,sS as q,lS as r};
