import{a as Ha,b as Qa,c as Ya,d as ec,e as nc,f as dc,h as fc,i as vc,j as Ec}from"./chunk-V76BPLTX.js";import{d as Xa,e as Ja,f as Za,g as tc}from"./chunk-2KM5AKIM.js";import{a as Ac}from"./chunk-STOC4C52.js";import{b as Tc,c as Ic}from"./chunk-NT4WRECT.js";import{a as Kt,b as tt,c as dt,d as ft,e as pt,f as H,g as gt,h as mt,i as rc,j as sc,k as ic,l as _e,m as oc,n as ac,p as cc,q as jn,r as uc,s as lc,t as hc}from"./chunk-KCKDIXOZ.js";import{C as Xe,D as ut,E as lt,F as ge,G as Ht,H as qr,I as $n,J as ht,K as vt,L as Je,M as me,O as It,Q as N,e as Mn,h as Ln,i as Un,j as Bn,k as qn,o as Br,r as Wt,s as de,t as Ye,u as Ct,v as fe,x as pe}from"./chunk-IZ254OCI.js";import{e as _c,f as yc,g as wc}from"./chunk-COYHQH7I.js";import"./chunk-BYXBJQAS.js";import"./chunk-GYW6ORB4.js";import"./chunk-4TLOXKSY.js";import{C as mc,d as pc,x as gc}from"./chunk-VFHUVCF3.js";import"./chunk-ELSWLGE4.js";import{$ as Ur,$c as yo,$e as xo,$f as Oa,Af as aa,Bf as ca,Cf as ua,Df as la,Ef as ha,Eh as ja,F as Mr,Ff as da,Ga as lo,Gf as fa,Hf as pa,If as ga,Jf as ma,Kf as _a,La as ho,Lf as ya,Lh as Ga,M as oo,Mf as wa,Nc as le,Nf as va,Oc as he,Of as Ea,P as ao,Pc as mo,Pf as Ta,Q as co,Qf as Ia,Rf as Aa,Rh as za,Sf as Vn,T as uo,Tf as ba,U as Lr,Ua as W,Uf as Sa,Ug as qa,Vf as Ra,Wf as Ca,Xf as Pa,Yf as Da,Ze as ko,Zf as Na,Zh as Ka,_a as fo,_c as _o,_e as Oo,_f as ka,_h as Wa,ad as wo,af as Vo,ag as xa,ba as at,bf as Fo,bg as Va,ca as Rt,cf as Mo,cg as Fa,da as On,df as Lo,dg as Fn,ea as ct,ed as vo,ef as Uo,eg as Ma,ff as Bo,fg as La,gd as Eo,gf as qo,gg as Ua,hd as To,hf as $o,if as jo,jf as Go,kb as po,kd as Io,kf as zo,kh as $a,lf as Ko,ma as K,md as Ao,mf as Wo,nd as bo,nf as Ho,of as Qo,pd as xn,pf as Yo,qf as Xo,ra as L,rd as So,rf as Jo,s as Qe,sd as Ro,se as No,sf as Zo,td as Co,tf as ta,ud as Po,uf as ea,vc as go,vd as Do,vf as na,w as Fr,wf as ra,wg as Ba,xa as Tt,xf as sa,y as io,yf as ia,zf as oa}from"./chunk-INLYT7NR.js";import{a as He,b as Vr,i as S}from"./chunk-57BLH6QZ.js";var bc=new go("20.1.0");var ye=class ye{constructor(){this.router=On(xn);this.titleSrv=On(Ga);this.modalSrv=On($a);this.ngAlainVersion=Wa.full;this.ngZorroVersion=bc.full;this.donePreloader=ja()}ngOnInit(){let t=!1;this.router.events.subscribe(r=>{r instanceof To&&(t=!0),t&&r instanceof Eo&&this.modalSrv.confirm({nzTitle:"\u63D0\u9192",nzContent:Kt.production?"\u5E94\u7528\u53EF\u80FD\u5DF2\u53D1\u5E03\u65B0\u7248\u672C\uFF0C\u8BF7\u70B9\u51FB\u5237\u65B0\u624D\u80FD\u751F\u6548\u3002":`\u65E0\u6CD5\u52A0\u8F7D\u8DEF\u7531\uFF1A${r.url}`,nzCancelDisabled:!1,nzOkText:"\u5237\u65B0",nzCancelText:"\u5FFD\u7565",nzOnOk:()=>location.reload()}),r instanceof vo&&(this.donePreloader(),this.titleSrv.setTitle(),this.modalSrv.closeAll())})}};ye.\u0275fac=function(r){return new(r||ye)},ye.\u0275cmp=ho({type:ye,selectors:[["app-root"]],hostVars:2,hostBindings:function(r,i){r&2&&fo("ng-alain-version",i.ngAlainVersion)("ng-zorro-version",i.ngZorroVersion)},decls:1,vars:0,template:function(r,i){r&1&&po(0,"router-outlet")},dependencies:[Ao],encapsulation:2});var Gn=ye;var Sc=[aa,qo,Ea,Xo,ha,sa,Fn,Ia,Vn,ga,Ma,xo,oa,$o,Ua,la,Fo,Ta];var Rc=[ko,Oo,Mo,Vo,Bo,Lo,Uo,jo,zo,Go,Wo,Ko,Ho,Qo,Yo,Jo,Zo,ea,ta,ra,na,ia,ca,ua,fa,da,pa,ya,ma,_a,wa,va,Oa,Vn,Aa,ba,Ra,Sa,Pa,Ca,Da,ka,Na,xa,Va,Fa,Fn,La];var Cc=[{path:"",component:vc,canActivate:[fc,Xa],canActivateChild:[Ja],data:{},children:[{path:"",redirectTo:"dashboard",pathMatch:"full"},{path:"dashboard",loadChildren:()=>import("./chunk-H4XDSVKQ.js").then(n=>n.routes)},{path:"widgets",loadChildren:()=>import("./chunk-G6Y2SL7I.js").then(n=>n.routes)},{path:"style",loadChildren:()=>import("./chunk-QC2YOIRL.js").then(n=>n.routes)},{path:"delon",loadChildren:()=>import("./chunk-CW2MCBC7.js").then(n=>n.routes)},{path:"extras",loadChildren:()=>import("./chunk-XV7W6VZL.js").then(n=>n.routes)},{path:"pro",loadChildren:()=>import("./chunk-M5L32GT3.js").then(n=>n.routes)}]},{path:"data-v",component:Ec,children:[{path:"",loadChildren:()=>import("./chunk-BACCLRYR.js").then(n=>n.routes)}]},{path:"",loadChildren:()=>import("./chunk-JRDW6EER.js").then(n=>n.routes)},{path:"exception",loadChildren:()=>import("./chunk-COM6CVLV.js").then(n=>n.routes)},{path:"**",redirectTo:"exception/404"}];var zn="analytics",bh="firebase_id",Sh="origin",Rh=60*1e3,Ch="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Hr="https://www.googletagmanager.com/gtag/js";var st=new Ht("@firebase/analytics");var Ph={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Et=new fe("analytics","Analytics",Ph);function Dh(n){if(!n.startsWith(Hr)){let t=Et.create("invalid-gtag-resource",{gtagURL:n});return st.warn(t.message),""}return n}function Vc(n){return Promise.all(n.map(t=>t.catch(r=>r)))}function Nh(n,t){let r;return window.trustedTypes&&(r=window.trustedTypes.createPolicy(n,t)),r}function kh(n,t){let r=Nh("firebase-js-sdk-policy",{createScriptURL:Dh}),i=document.createElement("script"),a=`${Hr}?l=${n}&id=${t}`;i.src=r?r?.createScriptURL(a):a,i.async=!0,document.head.appendChild(i)}function Oh(n){let t=[];return Array.isArray(window[n])?t=window[n]:window[n]=t,t}function xh(n,t,r,i,a,u){return S(this,null,function*(){let h=i[a];try{if(h)yield t[h];else{let E=(yield Vc(r)).find(T=>T.measurementId===a);E&&(yield t[E.appId])}}catch(g){st.error(g)}n("config",a,u)})}function Vh(n,t,r,i,a){return S(this,null,function*(){try{let u=[];if(a&&a.send_to){let h=a.send_to;Array.isArray(h)||(h=[h]);let g=yield Vc(r);for(let E of h){let T=g.find(R=>R.measurementId===E),A=T&&t[T.appId];if(A)u.push(A);else{u=[];break}}}u.length===0&&(u=Object.values(t)),yield Promise.all(u),n("event",i,a||{})}catch(u){st.error(u)}})}function Fh(n,t,r,i){function a(u,...h){return S(this,null,function*(){try{if(u==="event"){let[g,E]=h;yield Vh(n,t,r,g,E)}else if(u==="config"){let[g,E]=h;yield xh(n,t,r,i,g,E)}else if(u==="consent"){let[g,E]=h;n("consent",g,E)}else if(u==="get"){let[g,E,T]=h;n("get",g,E,T)}else if(u==="set"){let[g]=h;n("set",g)}else n(u,...h)}catch(g){st.error(g)}})}return a}function Mh(n,t,r,i,a){let u=function(...h){window[i].push(arguments)};return window[a]&&typeof window[a]=="function"&&(u=window[a]),window[a]=Fh(u,n,t,r),{gtagCore:u,wrappedGtag:window[a]}}function Lh(n){let t=window.document.getElementsByTagName("script");for(let r of Object.values(t))if(r.src&&r.src.includes(Hr)&&r.src.includes(n))return r;return null}var Uh=30,Bh=1e3,jr=class{constructor(t={},r=Bh){this.throttleMetadata=t,this.intervalMillis=r}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,r){this.throttleMetadata[t]=r}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}},Fc=new jr;function qh(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}function $h(n){return S(this,null,function*(){var t;let{appId:r,apiKey:i}=n,a={method:"GET",headers:qh(i)},u=Ch.replace("{app-id}",r),h=yield fetch(u,a);if(h.status!==200&&h.status!==304){let g="";try{let E=yield h.json();!((t=E.error)===null||t===void 0)&&t.message&&(g=E.error.message)}catch{}throw Et.create("config-fetch-failed",{httpStatus:h.status,responseMessage:g})}return h.json()})}function jh(i){return S(this,arguments,function*(n,t=Fc,r){let{appId:a,apiKey:u,measurementId:h}=n.options;if(!a)throw Et.create("no-app-id");if(!u){if(h)return{measurementId:h,appId:a};throw Et.create("no-api-key")}let g=t.getThrottleMetadata(a)||{backoffCount:0,throttleEndTimeMillis:Date.now()},E=new Gr;return setTimeout(()=>S(null,null,function*(){E.abort()}),r!==void 0?r:Rh),Mc({appId:a,apiKey:u,measurementId:h},g,E,t)})}function Mc(u,h,g){return S(this,arguments,function*(n,{throttleEndTimeMillis:t,backoffCount:r},i,a=Fc){var E;let{appId:T,measurementId:A}=n;try{yield Gh(i,t)}catch(R){if(A)return st.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${A} provided in the "measurementId" field in the local Firebase config. [${R?.message}]`),{appId:T,measurementId:A};throw R}try{let R=yield $h(n);return a.deleteThrottleMetadata(T),R}catch(R){let b=R;if(!zh(b)){if(a.deleteThrottleMetadata(T),A)return st.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${A} provided in the "measurementId" field in the local Firebase config. [${b?.message}]`),{appId:T,measurementId:A};throw R}let F=Number((E=b?.customData)===null||E===void 0?void 0:E.httpStatus)===503?Xe(r,a.intervalMillis,Uh):Xe(r,a.intervalMillis),P={throttleEndTimeMillis:Date.now()+F,backoffCount:r+1};return a.setThrottleMetadata(T,P),st.debug(`Calling attemptFetch again in ${F} millis`),Mc(n,P,i,a)}})}function Gh(n,t){return new Promise((r,i)=>{let a=Math.max(t-Date.now(),0),u=setTimeout(r,a);n.addEventListener(()=>{clearTimeout(u),i(Et.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function zh(n){if(!(n instanceof Ct)||!n.customData)return!1;let t=Number(n.customData.httpStatus);return t===429||t===500||t===503||t===504}var Gr=class{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}};var zr;function Kh(n,t,r,i,a){return S(this,null,function*(){if(a&&a.global){n("event",r,i);return}else{let u=yield t,h=Object.assign(Object.assign({},i),{send_to:u});n("event",r,h)}})}function Wh(n,t,r,i){return S(this,null,function*(){if(i&&i.global)return n("set",{user_id:r}),Promise.resolve();{let a=yield t;n("config",a,{update:!0,user_id:r})}})}var Kr;function Hh(n){Kr=n}function Qh(n){zr=n}function Yh(){return S(this,null,function*(){if(Wt())try{yield de()}catch(n){return st.warn(Et.create("indexeddb-unavailable",{errorInfo:n?.toString()}).message),!1}else return st.warn(Et.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0})}function Xh(n,t,r,i,a,u,h){return S(this,null,function*(){var g;let E=jh(n);E.then(F=>{r[F.measurementId]=F.appId,n.options.measurementId&&F.measurementId!==n.options.measurementId&&st.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${F.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(F=>st.error(F)),t.push(E);let T=Yh().then(F=>{if(F)return i.getId()}),[A,R]=yield Promise.all([E,T]);Lh(u)||kh(u,A.measurementId),Kr&&(a("consent","default",Kr),Hh(void 0)),a("js",new Date);let b=(g=h?.config)!==null&&g!==void 0?g:{};return b[Sh]="firebase",b.update=!0,R!=null&&(b[bh]=R),a("config",A.measurementId,b),zr&&(a("set",zr),Qh(void 0)),A.measurementId})}var Wr=class{constructor(t){this.app=t}_delete(){return delete we[this.app.options.appId],Promise.resolve()}},we={},Pc=[],Dc={},$r="dataLayer",Jh="gtag",Nc,Qr,kc=!1;function Zh(){let n=[];if(Br()&&n.push("This is a browser extension environment."),Ye()||n.push("Cookies are not available."),n.length>0){let t=n.map((i,a)=>`(${a+1}) ${i}`).join(" "),r=Et.create("invalid-analytics-context",{errorInfo:t});st.warn(r.message)}}function td(n,t,r){Zh();let i=n.options.appId;if(!i)throw Et.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)st.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Et.create("no-api-key");if(we[i]!=null)throw Et.create("already-exists",{id:i});if(!kc){Oh($r);let{wrappedGtag:u,gtagCore:h}=Mh(we,Pc,Dc,$r,Jh);Qr=u,Nc=h,kc=!0}return we[i]=Xh(n,Pc,Dc,t,Nc,$r,r),new Wr(n)}function Lc(n=It()){n=ut(n);let t=vt(n,zn);return t.isInitialized()?t.getImmediate():Uc(n)}function Uc(n,t={}){let r=vt(n,zn);if(r.isInitialized()){let a=r.getImmediate();if(pe(t,r.getOptions()))return a;throw Et.create("already-initialized")}return r.initialize({options:t})}function Bc(){return S(this,null,function*(){if(Br()||!Ye()||!Wt())return!1;try{return yield de()}catch{return!1}})}function qc(n,t,r){n=ut(n),Wh(Qr,we[n.app.options.appId],t,r).catch(i=>st.error(i))}function Yr(n,t,r,i){n=ut(n),Kh(Qr,we[n.app.options.appId],t,r,i).catch(a=>st.error(a))}var Oc="@firebase/analytics",xc="0.10.17";function ed(){ht(new lt(zn,(t,{options:r})=>{let i=t.getProvider("app").getImmediate(),a=t.getProvider("installations-internal").getImmediate();return td(i,a,r)},"PUBLIC")),ht(new lt("analytics-internal",n,"PRIVATE")),N(Oc,xc),N(Oc,xc,"esm2017");function n(t){try{let r=t.getProvider(zn).getImmediate();return{logEvent:(i,a,u)=>Yr(r,i,a,u)}}catch(r){throw Et.create("interop-component-reg-failed",{reason:r})}}}ed();var ee=class{constructor(t){return t}},Gc="analytics",Jr=class{constructor(){return ft(Gc)}};var zc=H(Lc,!0);var Kc=H(Bc,!1),nd=H(Yr,!1,2);var rd=H(qc,!0,2);var ts=(()=>{class n{initialized;disposables=[];constructor(r,i,a){N("angularfire",tt.full,"user-tracking");let u;this.initialized=i.runOutsideAngular(()=>new Promise(h=>{u=h})),Kc().then(()=>{let h=a.get(ee);h?this.disposables=[lc(r).subscribe(g=>{rd(h,g?.uid),u()})]:u()})}ngOnDestroy(){this.disposables.forEach(r=>r.unsubscribe())}static \u0275fac=function(i){return new(i||n)(Rt(cc),Rt(W),Rt(K))};static \u0275prov=Ur({token:n,factory:n.\u0275fac})}return n})(),sd="firebase_event_origin",id="firebase_previous_class",od="firebase_previous_id",ad="firebase_previous_screen",cd="firebase_screen_class",$c="firebase_screen_id",ud="firebase_screen",Zr="outlet",ld="page_path",hd="page_title",Ze="screen_class",jc="screen_name",dd="screen_view",fd="auto",pd="#",gd=Math.floor(Math.random()*(2**32-1))-2**31,Xr={},md=n=>{let t=[n[Ze],n[Zr]].join(pd);if(Xr.hasOwnProperty(t))return Xr[t];{let r=gd++;return Xr[t]=r,r}},_d=(n,t,r)=>n.events.pipe(Mr(a=>a instanceof Io)).pipe(Lr(a=>{let h=n.parseUrl(n.url.replace(/(?:\().+(?:\))/g,b=>b.replace("://",":///"))).root.children[a.snapshot.outlet]?.toString()||"",g=n.routerState.root.children.map(b=>b).find(b=>b.outlet===a.snapshot.outlet);if(!g)return Qe(null);let E=g;for(;E.firstChild;)E=E.firstChild;let T=E.pathFromRoot.map(b=>b.routeConfig?.path).filter(b=>b).join("/")||"/",A={[jc]:T,[ld]:`/${h}`,[sd]:fd,[ud]:T,[Zr]:a.snapshot.outlet};t&&(A[hd]=t.getTitle());let R=g.component;if(R){if(R===bo){let b=a.snapshot;for(;b.firstChild;)b=b.firstChild;R=b.component}}else R=a.snapshot.component;if(typeof R=="string")return Qe(Vr(He({},A),{[Ze]:R}));if(R){let b=r.resolveComponentFactory(R);return Qe(Vr(He({},A),{[Ze]:b.selector}))}return Qe(null)}),Mr(a=>!!a),Fr(a=>He({[cd]:a[Ze],[$c]:md(a)},a)),ao(a=>a[Zr]),io(a=>a.pipe(oo((u,h)=>JSON.stringify(u)===JSON.stringify(h)),uo(void 0),co(),Fr(([u,h])=>u?He({[id]:u[Ze],[ad]:u[jc],[od]:u[$c]},h):h)))),Wc=(()=>{class n{disposable;constructor(r,i,a,u,h,g){N("angularfire",tt.full,"screen-tracking"),Kc().then(()=>{let E=g.get(ee);!r||!E||u.runOutsideAngular(()=>{this.disposable=_d(r,i,a).pipe(Lr(T=>S(this,null,function*(){return h&&(yield h.initialized),nd(E,dd,T)}))).subscribe()})})}ngOnDestroy(){this.disposable&&this.disposable.unsubscribe()}static \u0275fac=function(i){return new(i||n)(Rt(xn,8),Rt(wo,8),Rt(lo),Rt(W),Rt(ts,8),Rt(K))};static \u0275prov=Ur({token:n,factory:n.\u0275fac})}return n})(),es=new at("angularfire2.analytics-instances");function yd(n,t,r){if(!le(r))return null;let i=dt(Gc,n,t);return i&&new ee(i)}function wd(n){return(t,r,i)=>{if(!le(i))return null;let a=t.runOutsideAngular(()=>n(r));return new ee(a)}}var vd={provide:Jr,deps:[[new L,es]]},Ed={provide:ee,useFactory:yd,deps:[[new L,es],gt,Tt]};function Hc(n,...t){return N("angularfire",tt.full,"analytics"),ct([Ed,vd,{provide:es,useFactory:wd(n),multi:!0,deps:[W,K,Tt,pt,mt,...t]}])}var Qc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Yc={};var Kn,Xc;(function(){var n;function t(y,l){function f(){}f.prototype=l.prototype,y.D=l.prototype,y.prototype=new f,y.prototype.constructor=y,y.C=function(p,m,w){for(var d=Array(arguments.length-2),Ot=2;Ot<arguments.length;Ot++)d[Ot-2]=arguments[Ot];return l.prototype[m].apply(p,d)}}function r(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(i,r),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(y,l,f){f||(f=0);var p=Array(16);if(typeof l=="string")for(var m=0;16>m;++m)p[m]=l.charCodeAt(f++)|l.charCodeAt(f++)<<8|l.charCodeAt(f++)<<16|l.charCodeAt(f++)<<24;else for(m=0;16>m;++m)p[m]=l[f++]|l[f++]<<8|l[f++]<<16|l[f++]<<24;l=y.g[0],f=y.g[1],m=y.g[2];var w=y.g[3],d=l+(w^f&(m^w))+p[0]+3614090360&4294967295;l=f+(d<<7&4294967295|d>>>25),d=w+(m^l&(f^m))+p[1]+3905402710&4294967295,w=l+(d<<12&4294967295|d>>>20),d=m+(f^w&(l^f))+p[2]+606105819&4294967295,m=w+(d<<17&4294967295|d>>>15),d=f+(l^m&(w^l))+p[3]+3250441966&4294967295,f=m+(d<<22&4294967295|d>>>10),d=l+(w^f&(m^w))+p[4]+4118548399&4294967295,l=f+(d<<7&4294967295|d>>>25),d=w+(m^l&(f^m))+p[5]+1200080426&4294967295,w=l+(d<<12&4294967295|d>>>20),d=m+(f^w&(l^f))+p[6]+2821735955&4294967295,m=w+(d<<17&4294967295|d>>>15),d=f+(l^m&(w^l))+p[7]+4249261313&4294967295,f=m+(d<<22&4294967295|d>>>10),d=l+(w^f&(m^w))+p[8]+1770035416&4294967295,l=f+(d<<7&4294967295|d>>>25),d=w+(m^l&(f^m))+p[9]+2336552879&4294967295,w=l+(d<<12&4294967295|d>>>20),d=m+(f^w&(l^f))+p[10]+4294925233&4294967295,m=w+(d<<17&4294967295|d>>>15),d=f+(l^m&(w^l))+p[11]+2304563134&4294967295,f=m+(d<<22&4294967295|d>>>10),d=l+(w^f&(m^w))+p[12]+1804603682&4294967295,l=f+(d<<7&4294967295|d>>>25),d=w+(m^l&(f^m))+p[13]+4254626195&4294967295,w=l+(d<<12&4294967295|d>>>20),d=m+(f^w&(l^f))+p[14]+2792965006&4294967295,m=w+(d<<17&4294967295|d>>>15),d=f+(l^m&(w^l))+p[15]+1236535329&4294967295,f=m+(d<<22&4294967295|d>>>10),d=l+(m^w&(f^m))+p[1]+4129170786&4294967295,l=f+(d<<5&4294967295|d>>>27),d=w+(f^m&(l^f))+p[6]+3225465664&4294967295,w=l+(d<<9&4294967295|d>>>23),d=m+(l^f&(w^l))+p[11]+643717713&4294967295,m=w+(d<<14&4294967295|d>>>18),d=f+(w^l&(m^w))+p[0]+3921069994&4294967295,f=m+(d<<20&4294967295|d>>>12),d=l+(m^w&(f^m))+p[5]+3593408605&4294967295,l=f+(d<<5&4294967295|d>>>27),d=w+(f^m&(l^f))+p[10]+38016083&4294967295,w=l+(d<<9&4294967295|d>>>23),d=m+(l^f&(w^l))+p[15]+3634488961&4294967295,m=w+(d<<14&4294967295|d>>>18),d=f+(w^l&(m^w))+p[4]+3889429448&4294967295,f=m+(d<<20&4294967295|d>>>12),d=l+(m^w&(f^m))+p[9]+568446438&4294967295,l=f+(d<<5&4294967295|d>>>27),d=w+(f^m&(l^f))+p[14]+3275163606&4294967295,w=l+(d<<9&4294967295|d>>>23),d=m+(l^f&(w^l))+p[3]+4107603335&4294967295,m=w+(d<<14&4294967295|d>>>18),d=f+(w^l&(m^w))+p[8]+1163531501&4294967295,f=m+(d<<20&4294967295|d>>>12),d=l+(m^w&(f^m))+p[13]+2850285829&4294967295,l=f+(d<<5&4294967295|d>>>27),d=w+(f^m&(l^f))+p[2]+4243563512&4294967295,w=l+(d<<9&4294967295|d>>>23),d=m+(l^f&(w^l))+p[7]+1735328473&4294967295,m=w+(d<<14&4294967295|d>>>18),d=f+(w^l&(m^w))+p[12]+2368359562&4294967295,f=m+(d<<20&4294967295|d>>>12),d=l+(f^m^w)+p[5]+4294588738&4294967295,l=f+(d<<4&4294967295|d>>>28),d=w+(l^f^m)+p[8]+2272392833&4294967295,w=l+(d<<11&4294967295|d>>>21),d=m+(w^l^f)+p[11]+1839030562&4294967295,m=w+(d<<16&4294967295|d>>>16),d=f+(m^w^l)+p[14]+4259657740&4294967295,f=m+(d<<23&4294967295|d>>>9),d=l+(f^m^w)+p[1]+2763975236&4294967295,l=f+(d<<4&4294967295|d>>>28),d=w+(l^f^m)+p[4]+1272893353&4294967295,w=l+(d<<11&4294967295|d>>>21),d=m+(w^l^f)+p[7]+4139469664&4294967295,m=w+(d<<16&4294967295|d>>>16),d=f+(m^w^l)+p[10]+3200236656&4294967295,f=m+(d<<23&4294967295|d>>>9),d=l+(f^m^w)+p[13]+681279174&4294967295,l=f+(d<<4&4294967295|d>>>28),d=w+(l^f^m)+p[0]+3936430074&4294967295,w=l+(d<<11&4294967295|d>>>21),d=m+(w^l^f)+p[3]+3572445317&4294967295,m=w+(d<<16&4294967295|d>>>16),d=f+(m^w^l)+p[6]+76029189&4294967295,f=m+(d<<23&4294967295|d>>>9),d=l+(f^m^w)+p[9]+3654602809&4294967295,l=f+(d<<4&4294967295|d>>>28),d=w+(l^f^m)+p[12]+3873151461&4294967295,w=l+(d<<11&4294967295|d>>>21),d=m+(w^l^f)+p[15]+530742520&4294967295,m=w+(d<<16&4294967295|d>>>16),d=f+(m^w^l)+p[2]+3299628645&4294967295,f=m+(d<<23&4294967295|d>>>9),d=l+(m^(f|~w))+p[0]+4096336452&4294967295,l=f+(d<<6&4294967295|d>>>26),d=w+(f^(l|~m))+p[7]+1126891415&4294967295,w=l+(d<<10&4294967295|d>>>22),d=m+(l^(w|~f))+p[14]+2878612391&4294967295,m=w+(d<<15&4294967295|d>>>17),d=f+(w^(m|~l))+p[5]+4237533241&4294967295,f=m+(d<<21&4294967295|d>>>11),d=l+(m^(f|~w))+p[12]+1700485571&4294967295,l=f+(d<<6&4294967295|d>>>26),d=w+(f^(l|~m))+p[3]+2399980690&4294967295,w=l+(d<<10&4294967295|d>>>22),d=m+(l^(w|~f))+p[10]+4293915773&4294967295,m=w+(d<<15&4294967295|d>>>17),d=f+(w^(m|~l))+p[1]+2240044497&4294967295,f=m+(d<<21&4294967295|d>>>11),d=l+(m^(f|~w))+p[8]+1873313359&4294967295,l=f+(d<<6&4294967295|d>>>26),d=w+(f^(l|~m))+p[15]+4264355552&4294967295,w=l+(d<<10&4294967295|d>>>22),d=m+(l^(w|~f))+p[6]+2734768916&4294967295,m=w+(d<<15&4294967295|d>>>17),d=f+(w^(m|~l))+p[13]+1309151649&4294967295,f=m+(d<<21&4294967295|d>>>11),d=l+(m^(f|~w))+p[4]+4149444226&4294967295,l=f+(d<<6&4294967295|d>>>26),d=w+(f^(l|~m))+p[11]+3174756917&4294967295,w=l+(d<<10&4294967295|d>>>22),d=m+(l^(w|~f))+p[2]+718787259&4294967295,m=w+(d<<15&4294967295|d>>>17),d=f+(w^(m|~l))+p[9]+3951481745&4294967295,y.g[0]=y.g[0]+l&4294967295,y.g[1]=y.g[1]+(m+(d<<21&4294967295|d>>>11))&4294967295,y.g[2]=y.g[2]+m&4294967295,y.g[3]=y.g[3]+w&4294967295}i.prototype.u=function(y,l){l===void 0&&(l=y.length);for(var f=l-this.blockSize,p=this.B,m=this.h,w=0;w<l;){if(m==0)for(;w<=f;)a(this,y,w),w+=this.blockSize;if(typeof y=="string"){for(;w<l;)if(p[m++]=y.charCodeAt(w++),m==this.blockSize){a(this,p),m=0;break}}else for(;w<l;)if(p[m++]=y[w++],m==this.blockSize){a(this,p),m=0;break}}this.h=m,this.o+=l},i.prototype.v=function(){var y=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);y[0]=128;for(var l=1;l<y.length-8;++l)y[l]=0;var f=8*this.o;for(l=y.length-8;l<y.length;++l)y[l]=f&255,f/=256;for(this.u(y),y=Array(16),l=f=0;4>l;++l)for(var p=0;32>p;p+=8)y[f++]=this.g[l]>>>p&255;return y};function u(y,l){var f=g;return Object.prototype.hasOwnProperty.call(f,y)?f[y]:f[y]=l(y)}function h(y,l){this.h=l;for(var f=[],p=!0,m=y.length-1;0<=m;m--){var w=y[m]|0;p&&w==l||(f[m]=w,p=!1)}this.g=f}var g={};function E(y){return-128<=y&&128>y?u(y,function(l){return new h([l|0],0>l?-1:0)}):new h([y|0],0>y?-1:0)}function T(y){if(isNaN(y)||!isFinite(y))return R;if(0>y)return C(T(-y));for(var l=[],f=1,p=0;y>=f;p++)l[p]=y/f|0,f*=4294967296;return new h(l,0)}function A(y,l){if(y.length==0)throw Error("number format error: empty string");if(l=l||10,2>l||36<l)throw Error("radix out of range: "+l);if(y.charAt(0)=="-")return C(A(y.substring(1),l));if(0<=y.indexOf("-"))throw Error('number format error: interior "-" character');for(var f=T(Math.pow(l,8)),p=R,m=0;m<y.length;m+=8){var w=Math.min(8,y.length-m),d=parseInt(y.substring(m,m+w),l);8>w?(w=T(Math.pow(l,w)),p=p.j(w).add(T(d))):(p=p.j(f),p=p.add(T(d)))}return p}var R=E(0),b=E(1),F=E(16777216);n=h.prototype,n.m=function(){if(x(this))return-C(this).m();for(var y=0,l=1,f=0;f<this.g.length;f++){var p=this.i(f);y+=(0<=p?p:4294967296+p)*l,l*=4294967296}return y},n.toString=function(y){if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(P(this))return"0";if(x(this))return"-"+C(this).toString(y);for(var l=T(Math.pow(y,6)),f=this,p="";;){var m=$(f,l).g;f=q(f,m.j(l));var w=((0<f.g.length?f.g[0]:f.h)>>>0).toString(y);if(f=m,P(f))return w+p;for(;6>w.length;)w="0"+w;p=w+p}},n.i=function(y){return 0>y?0:y<this.g.length?this.g[y]:this.h};function P(y){if(y.h!=0)return!1;for(var l=0;l<y.g.length;l++)if(y.g[l]!=0)return!1;return!0}function x(y){return y.h==-1}n.l=function(y){return y=q(this,y),x(y)?-1:P(y)?0:1};function C(y){for(var l=y.g.length,f=[],p=0;p<l;p++)f[p]=~y.g[p];return new h(f,~y.h).add(b)}n.abs=function(){return x(this)?C(this):this},n.add=function(y){for(var l=Math.max(this.g.length,y.g.length),f=[],p=0,m=0;m<=l;m++){var w=p+(this.i(m)&65535)+(y.i(m)&65535),d=(w>>>16)+(this.i(m)>>>16)+(y.i(m)>>>16);p=d>>>16,w&=65535,d&=65535,f[m]=d<<16|w}return new h(f,f[f.length-1]&-2147483648?-1:0)};function q(y,l){return y.add(C(l))}n.j=function(y){if(P(this)||P(y))return R;if(x(this))return x(y)?C(this).j(C(y)):C(C(this).j(y));if(x(y))return C(this.j(C(y)));if(0>this.l(F)&&0>y.l(F))return T(this.m()*y.m());for(var l=this.g.length+y.g.length,f=[],p=0;p<2*l;p++)f[p]=0;for(p=0;p<this.g.length;p++)for(var m=0;m<y.g.length;m++){var w=this.i(p)>>>16,d=this.i(p)&65535,Ot=y.i(m)>>>16,Pe=y.i(m)&65535;f[2*p+2*m]+=d*Pe,et(f,2*p+2*m),f[2*p+2*m+1]+=w*Pe,et(f,2*p+2*m+1),f[2*p+2*m+1]+=d*Ot,et(f,2*p+2*m+1),f[2*p+2*m+2]+=w*Ot,et(f,2*p+2*m+2)}for(p=0;p<l;p++)f[p]=f[2*p+1]<<16|f[2*p];for(p=l;p<2*l;p++)f[p]=0;return new h(f,0)};function et(y,l){for(;(y[l]&65535)!=y[l];)y[l+1]+=y[l]>>>16,y[l]&=65535,l++}function G(y,l){this.g=y,this.h=l}function $(y,l){if(P(l))throw Error("division by zero");if(P(y))return new G(R,R);if(x(y))return l=$(C(y),l),new G(C(l.g),C(l.h));if(x(l))return l=$(y,C(l)),new G(C(l.g),l.h);if(30<y.g.length){if(x(y)||x(l))throw Error("slowDivide_ only works with positive integers.");for(var f=b,p=l;0>=p.l(y);)f=kt(f),p=kt(p);var m=ot(f,1),w=ot(p,1);for(p=ot(p,2),f=ot(f,2);!P(p);){var d=w.add(p);0>=d.l(y)&&(m=m.add(f),w=d),p=ot(p,1),f=ot(f,1)}return l=q(y,m.j(l)),new G(m,l)}for(m=R;0<=y.l(l);){for(f=Math.max(1,Math.floor(y.m()/l.m())),p=Math.ceil(Math.log(f)/Math.LN2),p=48>=p?1:Math.pow(2,p-48),w=T(f),d=w.j(l);x(d)||0<d.l(y);)f-=p,w=T(f),d=w.j(l);P(w)&&(w=b),m=m.add(w),y=q(y,d)}return new G(m,y)}n.A=function(y){return $(this,y).h},n.and=function(y){for(var l=Math.max(this.g.length,y.g.length),f=[],p=0;p<l;p++)f[p]=this.i(p)&y.i(p);return new h(f,this.h&y.h)},n.or=function(y){for(var l=Math.max(this.g.length,y.g.length),f=[],p=0;p<l;p++)f[p]=this.i(p)|y.i(p);return new h(f,this.h|y.h)},n.xor=function(y){for(var l=Math.max(this.g.length,y.g.length),f=[],p=0;p<l;p++)f[p]=this.i(p)^y.i(p);return new h(f,this.h^y.h)};function kt(y){for(var l=y.g.length+1,f=[],p=0;p<l;p++)f[p]=y.i(p)<<1|y.i(p-1)>>>31;return new h(f,y.h)}function ot(y,l){var f=l>>5;l%=32;for(var p=y.g.length-f,m=[],w=0;w<p;w++)m[w]=0<l?y.i(w+f)>>>l|y.i(w+f+1)<<32-l:y.i(w+f);return new h(m,y.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,Xc=Yc.Md5=i,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=T,h.fromString=A,Kn=Yc.Integer=h}).apply(typeof Qc<"u"?Qc:typeof self<"u"?self:typeof window<"u"?window:{});var Wn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ft={};var Jc,Td,Zc,tu,eu,nu,ru,su,iu;(function(){var n,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(e,s,o){return e==Array.prototype||e==Object.prototype||(e[s]=o.value),e};function r(e){e=[typeof globalThis=="object"&&globalThis,e,typeof window=="object"&&window,typeof self=="object"&&self,typeof Wn=="object"&&Wn];for(var s=0;s<e.length;++s){var o=e[s];if(o&&o.Math==Math)return o}throw Error("Cannot find global object")}var i=r(this);function a(e,s){if(s)t:{var o=i;e=e.split(".");for(var c=0;c<e.length-1;c++){var _=e[c];if(!(_ in o))break t;o=o[_]}e=e[e.length-1],c=o[e],s=s(c),s!=c&&s!=null&&t(o,e,{configurable:!0,writable:!0,value:s})}}function u(e,s){e instanceof String&&(e+="");var o=0,c=!1,_={next:function(){if(!c&&o<e.length){var v=o++;return{value:s(v,e[v]),done:!1}}return c=!0,{done:!0,value:void 0}}};return _[Symbol.iterator]=function(){return _},_}a("Array.prototype.values",function(e){return e||function(){return u(this,function(s,o){return o})}});var h=h||{},g=this||self;function E(e){var s=typeof e;return s=s!="object"?s:e?Array.isArray(e)?"array":s:"null",s=="array"||s=="object"&&typeof e.length=="number"}function T(e){var s=typeof e;return s=="object"&&e!=null||s=="function"}function A(e,s,o){return e.call.apply(e.bind,arguments)}function R(e,s,o){if(!e)throw Error();if(2<arguments.length){var c=Array.prototype.slice.call(arguments,2);return function(){var _=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(_,c),e.apply(s,_)}}return function(){return e.apply(s,arguments)}}function b(e,s,o){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?A:R,b.apply(null,arguments)}function F(e,s){var o=Array.prototype.slice.call(arguments,1);return function(){var c=o.slice();return c.push.apply(c,arguments),e.apply(this,c)}}function P(e,s){function o(){}o.prototype=s.prototype,e.aa=s.prototype,e.prototype=new o,e.prototype.constructor=e,e.Qb=function(c,_,v){for(var I=Array(arguments.length-2),M=2;M<arguments.length;M++)I[M-2]=arguments[M];return s.prototype[_].apply(c,I)}}function x(e){let s=e.length;if(0<s){let o=Array(s);for(let c=0;c<s;c++)o[c]=e[c];return o}return[]}function C(e,s){for(let o=1;o<arguments.length;o++){let c=arguments[o];if(E(c)){let _=e.length||0,v=c.length||0;e.length=_+v;for(let I=0;I<v;I++)e[_+I]=c[I]}else e.push(c)}}class q{constructor(s,o){this.i=s,this.j=o,this.h=0,this.g=null}get(){let s;return 0<this.h?(this.h--,s=this.g,this.g=s.next,s.next=null):s=this.i(),s}}function et(e){return/^[\s\xa0]*$/.test(e)}function G(){var e=g.navigator;return e&&(e=e.userAgent)?e:""}function $(e){return $[" "](e),e}$[" "]=function(){};var kt=G().indexOf("Gecko")!=-1&&!(G().toLowerCase().indexOf("webkit")!=-1&&G().indexOf("Edge")==-1)&&!(G().indexOf("Trident")!=-1||G().indexOf("MSIE")!=-1)&&G().indexOf("Edge")==-1;function ot(e,s,o){for(let c in e)s.call(o,e[c],c,e)}function y(e,s){for(let o in e)s.call(void 0,e[o],o,e)}function l(e){let s={};for(let o in e)s[o]=e[o];return s}let f="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function p(e,s){let o,c;for(let _=1;_<arguments.length;_++){c=arguments[_];for(o in c)e[o]=c[o];for(let v=0;v<f.length;v++)o=f[v],Object.prototype.hasOwnProperty.call(c,o)&&(e[o]=c[o])}}function m(e){var s=1;e=e.split(":");let o=[];for(;0<s&&e.length;)o.push(e.shift()),s--;return e.length&&o.push(e.join(":")),o}function w(e){g.setTimeout(()=>{throw e},0)}function d(){var e=lr;let s=null;return e.g&&(s=e.g,e.g=e.g.next,e.g||(e.h=null),s.next=null),s}class Ot{constructor(){this.h=this.g=null}add(s,o){let c=Pe.get();c.set(s,o),this.h?this.h.next=c:this.g=c,this.h=c}}var Pe=new q(()=>new Gl,e=>e.reset());class Gl{constructor(){this.next=this.g=this.h=null}set(s,o){this.h=s,this.g=o,this.next=null}reset(){this.next=this.g=this.h=null}}let De,Ne=!1,lr=new Ot,si=()=>{let e=g.Promise.resolve(void 0);De=()=>{e.then(zl)}};var zl=()=>{for(var e;e=d();){try{e.h.call(e.g)}catch(o){w(o)}var s=Pe;s.j(e),100>s.h&&(s.h++,e.next=s.g,s.g=e)}Ne=!1};function $t(){this.s=this.s,this.C=this.C}$t.prototype.s=!1,$t.prototype.ma=function(){this.s||(this.s=!0,this.N())},$t.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Y(e,s){this.type=e,this.g=this.target=s,this.defaultPrevented=!1}Y.prototype.h=function(){this.defaultPrevented=!0};var Kl=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var e=!1,s=Object.defineProperty({},"passive",{get:function(){e=!0}});try{let o=()=>{};g.addEventListener("test",o,s),g.removeEventListener("test",o,s)}catch{}return e}();function ke(e,s){if(Y.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var o=this.type=e.type,c=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=s,s=e.relatedTarget){if(kt){t:{try{$(s.nodeName);var _=!0;break t}catch{}_=!1}_||(s=null)}}else o=="mouseover"?s=e.fromElement:o=="mouseout"&&(s=e.toElement);this.relatedTarget=s,c?(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:Wl[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&ke.aa.h.call(this)}}P(ke,Y);var Wl={2:"touch",3:"pen",4:"mouse"};ke.prototype.h=function(){ke.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Oe="closure_listenable_"+(1e6*Math.random()|0),Hl=0;function Ql(e,s,o,c,_){this.listener=e,this.proxy=null,this.src=s,this.type=o,this.capture=!!c,this.ha=_,this.key=++Hl,this.da=this.fa=!1}function mn(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function _n(e){this.src=e,this.g={},this.h=0}_n.prototype.add=function(e,s,o,c,_){var v=e.toString();e=this.g[v],e||(e=this.g[v]=[],this.h++);var I=dr(e,s,c,_);return-1<I?(s=e[I],o||(s.fa=!1)):(s=new Ql(s,this.src,v,!!c,_),s.fa=o,e.push(s)),s};function hr(e,s){var o=s.type;if(o in e.g){var c=e.g[o],_=Array.prototype.indexOf.call(c,s,void 0),v;(v=0<=_)&&Array.prototype.splice.call(c,_,1),v&&(mn(s),e.g[o].length==0&&(delete e.g[o],e.h--))}}function dr(e,s,o,c){for(var _=0;_<e.length;++_){var v=e[_];if(!v.da&&v.listener==s&&v.capture==!!o&&v.ha==c)return _}return-1}var fr="closure_lm_"+(1e6*Math.random()|0),pr={};function ii(e,s,o,c,_){if(c&&c.once)return ai(e,s,o,c,_);if(Array.isArray(s)){for(var v=0;v<s.length;v++)ii(e,s[v],o,c,_);return null}return o=yr(o),e&&e[Oe]?e.K(s,o,T(c)?!!c.capture:!!c,_):oi(e,s,o,!1,c,_)}function oi(e,s,o,c,_,v){if(!s)throw Error("Invalid event type");var I=T(_)?!!_.capture:!!_,M=mr(e);if(M||(e[fr]=M=new _n(e)),o=M.add(s,o,c,I,v),o.proxy)return o;if(c=Yl(),o.proxy=c,c.src=e,c.listener=o,e.addEventListener)Kl||(_=I),_===void 0&&(_=!1),e.addEventListener(s.toString(),c,_);else if(e.attachEvent)e.attachEvent(ui(s.toString()),c);else if(e.addListener&&e.removeListener)e.addListener(c);else throw Error("addEventListener and attachEvent are unavailable.");return o}function Yl(){function e(o){return s.call(e.src,e.listener,o)}let s=Xl;return e}function ai(e,s,o,c,_){if(Array.isArray(s)){for(var v=0;v<s.length;v++)ai(e,s[v],o,c,_);return null}return o=yr(o),e&&e[Oe]?e.L(s,o,T(c)?!!c.capture:!!c,_):oi(e,s,o,!0,c,_)}function ci(e,s,o,c,_){if(Array.isArray(s))for(var v=0;v<s.length;v++)ci(e,s[v],o,c,_);else c=T(c)?!!c.capture:!!c,o=yr(o),e&&e[Oe]?(e=e.i,s=String(s).toString(),s in e.g&&(v=e.g[s],o=dr(v,o,c,_),-1<o&&(mn(v[o]),Array.prototype.splice.call(v,o,1),v.length==0&&(delete e.g[s],e.h--)))):e&&(e=mr(e))&&(s=e.g[s.toString()],e=-1,s&&(e=dr(s,o,c,_)),(o=-1<e?s[e]:null)&&gr(o))}function gr(e){if(typeof e!="number"&&e&&!e.da){var s=e.src;if(s&&s[Oe])hr(s.i,e);else{var o=e.type,c=e.proxy;s.removeEventListener?s.removeEventListener(o,c,e.capture):s.detachEvent?s.detachEvent(ui(o),c):s.addListener&&s.removeListener&&s.removeListener(c),(o=mr(s))?(hr(o,e),o.h==0&&(o.src=null,s[fr]=null)):mn(e)}}}function ui(e){return e in pr?pr[e]:pr[e]="on"+e}function Xl(e,s){if(e.da)e=!0;else{s=new ke(s,this);var o=e.listener,c=e.ha||e.src;e.fa&&gr(e),e=o.call(c,s)}return e}function mr(e){return e=e[fr],e instanceof _n?e:null}var _r="__closure_events_fn_"+(1e9*Math.random()>>>0);function yr(e){return typeof e=="function"?e:(e[_r]||(e[_r]=function(s){return e.handleEvent(s)}),e[_r])}function X(){$t.call(this),this.i=new _n(this),this.M=this,this.F=null}P(X,$t),X.prototype[Oe]=!0,X.prototype.removeEventListener=function(e,s,o,c){ci(this,e,s,o,c)};function nt(e,s){var o,c=e.F;if(c)for(o=[];c;c=c.F)o.push(c);if(e=e.M,c=s.type||s,typeof s=="string")s=new Y(s,e);else if(s instanceof Y)s.target=s.target||e;else{var _=s;s=new Y(c,e),p(s,_)}if(_=!0,o)for(var v=o.length-1;0<=v;v--){var I=s.g=o[v];_=yn(I,c,!0,s)&&_}if(I=s.g=e,_=yn(I,c,!0,s)&&_,_=yn(I,c,!1,s)&&_,o)for(v=0;v<o.length;v++)I=s.g=o[v],_=yn(I,c,!1,s)&&_}X.prototype.N=function(){if(X.aa.N.call(this),this.i){var e=this.i,s;for(s in e.g){for(var o=e.g[s],c=0;c<o.length;c++)mn(o[c]);delete e.g[s],e.h--}}this.F=null},X.prototype.K=function(e,s,o,c){return this.i.add(String(e),s,!1,o,c)},X.prototype.L=function(e,s,o,c){return this.i.add(String(e),s,!0,o,c)};function yn(e,s,o,c){if(s=e.i.g[String(s)],!s)return!0;s=s.concat();for(var _=!0,v=0;v<s.length;++v){var I=s[v];if(I&&!I.da&&I.capture==o){var M=I.listener,z=I.ha||I.src;I.fa&&hr(e.i,I),_=M.call(z,c)!==!1&&_}}return _&&!c.defaultPrevented}function li(e,s,o){if(typeof e=="function")o&&(e=b(e,o));else if(e&&typeof e.handleEvent=="function")e=b(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(s)?-1:g.setTimeout(e,s||0)}function hi(e){e.g=li(()=>{e.g=null,e.i&&(e.i=!1,hi(e))},e.l);let s=e.h;e.h=null,e.m.apply(null,s)}class Jl extends $t{constructor(s,o){super(),this.m=s,this.l=o,this.h=null,this.i=!1,this.g=null}j(s){this.h=arguments,this.g?this.i=!0:hi(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function xe(e){$t.call(this),this.h=e,this.g={}}P(xe,$t);var di=[];function fi(e){ot(e.g,function(s,o){this.g.hasOwnProperty(o)&&gr(s)},e),e.g={}}xe.prototype.N=function(){xe.aa.N.call(this),fi(this)},xe.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var wr=g.JSON.stringify,Zl=g.JSON.parse,th=class{stringify(e){return g.JSON.stringify(e,void 0)}parse(e){return g.JSON.parse(e,void 0)}};function vr(){}vr.prototype.h=null;function pi(e){return e.h||(e.h=e.i())}function gi(){}var Ve={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Er(){Y.call(this,"d")}P(Er,Y);function Tr(){Y.call(this,"c")}P(Tr,Y);var Xt={},mi=null;function wn(){return mi=mi||new X}Xt.La="serverreachability";function _i(e){Y.call(this,Xt.La,e)}P(_i,Y);function Fe(e){let s=wn();nt(s,new _i(s))}Xt.STAT_EVENT="statevent";function yi(e,s){Y.call(this,Xt.STAT_EVENT,e),this.stat=s}P(yi,Y);function rt(e){let s=wn();nt(s,new yi(s,e))}Xt.Ma="timingevent";function wi(e,s){Y.call(this,Xt.Ma,e),this.size=s}P(wi,Y);function Me(e,s){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){e()},s)}function Le(){this.g=!0}Le.prototype.xa=function(){this.g=!1};function eh(e,s,o,c,_,v){e.info(function(){if(e.g)if(v)for(var I="",M=v.split("&"),z=0;z<M.length;z++){var V=M[z].split("=");if(1<V.length){var J=V[0];V=V[1];var Z=J.split("_");I=2<=Z.length&&Z[1]=="type"?I+(J+"="+V+"&"):I+(J+"=redacted&")}}else I=null;else I=v;return"XMLHTTP REQ ("+c+") [attempt "+_+"]: "+s+`
`+o+`
`+I})}function nh(e,s,o,c,_,v,I){e.info(function(){return"XMLHTTP RESP ("+c+") [ attempt "+_+"]: "+s+`
`+o+`
`+v+" "+I})}function oe(e,s,o,c){e.info(function(){return"XMLHTTP TEXT ("+s+"): "+sh(e,o)+(c?" "+c:"")})}function rh(e,s){e.info(function(){return"TIMEOUT: "+s})}Le.prototype.info=function(){};function sh(e,s){if(!e.g)return s;if(!s)return null;try{var o=JSON.parse(s);if(o){for(e=0;e<o.length;e++)if(Array.isArray(o[e])){var c=o[e];if(!(2>c.length)){var _=c[1];if(Array.isArray(_)&&!(1>_.length)){var v=_[0];if(v!="noop"&&v!="stop"&&v!="close")for(var I=1;I<_.length;I++)_[I]=""}}}}return wr(o)}catch{return s}}var vn={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},vi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ir;function En(){}P(En,vr),En.prototype.g=function(){return new XMLHttpRequest},En.prototype.i=function(){return{}},Ir=new En;function jt(e,s,o,c){this.j=e,this.i=s,this.l=o,this.R=c||1,this.U=new xe(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ei}function Ei(){this.i=null,this.g="",this.h=!1}var Ti={},Ar={};function br(e,s,o){e.L=1,e.v=bn(xt(s)),e.m=o,e.P=!0,Ii(e,null)}function Ii(e,s){e.F=Date.now(),Tn(e),e.A=xt(e.v);var o=e.A,c=e.R;Array.isArray(c)||(c=[String(c)]),Mi(o.i,"t",c),e.C=0,o=e.j.J,e.h=new Ei,e.g=eo(e.j,o?s:null,!e.m),0<e.O&&(e.M=new Jl(b(e.Y,e,e.g),e.O)),s=e.U,o=e.g,c=e.ca;var _="readystatechange";Array.isArray(_)||(_&&(di[0]=_.toString()),_=di);for(var v=0;v<_.length;v++){var I=ii(o,_[v],c||s.handleEvent,!1,s.h||s);if(!I)break;s.g[I.key]=I}s=e.H?l(e.H):{},e.m?(e.u||(e.u="POST"),s["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,s)):(e.u="GET",e.g.ea(e.A,e.u,null,s)),Fe(),eh(e.i,e.u,e.A,e.l,e.R,e.m)}jt.prototype.ca=function(e){e=e.target;let s=this.M;s&&Vt(e)==3?s.j():this.Y(e)},jt.prototype.Y=function(e){try{if(e==this.g)t:{let Z=Vt(this.g);var s=this.g.Ba();let ue=this.g.Z();if(!(3>Z)&&(Z!=3||this.g&&(this.h.h||this.g.oa()||Gi(this.g)))){this.J||Z!=4||s==7||(s==8||0>=ue?Fe(3):Fe(2)),Sr(this);var o=this.g.Z();this.X=o;e:if(Ai(this)){var c=Gi(this.g);e="";var _=c.length,v=Vt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Jt(this),Ue(this);var I="";break e}this.h.i=new g.TextDecoder}for(s=0;s<_;s++)this.h.h=!0,e+=this.h.i.decode(c[s],{stream:!(v&&s==_-1)});c.length=0,this.h.g+=e,this.C=0,I=this.h.g}else I=this.g.oa();if(this.o=o==200,nh(this.i,this.u,this.A,this.l,this.R,Z,o),this.o){if(this.T&&!this.K){e:{if(this.g){var M,z=this.g;if((M=z.g?z.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!et(M)){var V=M;break e}}V=null}if(o=V)oe(this.i,this.l,o,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Rr(this,o);else{this.o=!1,this.s=3,rt(12),Jt(this),Ue(this);break t}}if(this.P){o=!0;let bt;for(;!this.J&&this.C<I.length;)if(bt=ih(this,I),bt==Ar){Z==4&&(this.s=4,rt(14),o=!1),oe(this.i,this.l,null,"[Incomplete Response]");break}else if(bt==Ti){this.s=4,rt(15),oe(this.i,this.l,I,"[Invalid Chunk]"),o=!1;break}else oe(this.i,this.l,bt,null),Rr(this,bt);if(Ai(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Z!=4||I.length!=0||this.h.h||(this.s=1,rt(16),o=!1),this.o=this.o&&o,!o)oe(this.i,this.l,I,"[Invalid Chunked Response]"),Jt(this),Ue(this);else if(0<I.length&&!this.W){this.W=!0;var J=this.j;J.g==this&&J.ba&&!J.M&&(J.j.info("Great, no buffering proxy detected. Bytes received: "+I.length),Or(J),J.M=!0,rt(11))}}else oe(this.i,this.l,I,null),Rr(this,I);Z==4&&Jt(this),this.o&&!this.J&&(Z==4?Xi(this.j,this):(this.o=!1,Tn(this)))}else Th(this.g),o==400&&0<I.indexOf("Unknown SID")?(this.s=3,rt(12)):(this.s=0,rt(13)),Jt(this),Ue(this)}}}catch{}finally{}};function Ai(e){return e.g?e.u=="GET"&&e.L!=2&&e.j.Ca:!1}function ih(e,s){var o=e.C,c=s.indexOf(`
`,o);return c==-1?Ar:(o=Number(s.substring(o,c)),isNaN(o)?Ti:(c+=1,c+o>s.length?Ar:(s=s.slice(c,c+o),e.C=c+o,s)))}jt.prototype.cancel=function(){this.J=!0,Jt(this)};function Tn(e){e.S=Date.now()+e.I,bi(e,e.I)}function bi(e,s){if(e.B!=null)throw Error("WatchDog timer not null");e.B=Me(b(e.ba,e),s)}function Sr(e){e.B&&(g.clearTimeout(e.B),e.B=null)}jt.prototype.ba=function(){this.B=null;let e=Date.now();0<=e-this.S?(rh(this.i,this.A),this.L!=2&&(Fe(),rt(17)),Jt(this),this.s=2,Ue(this)):bi(this,this.S-e)};function Ue(e){e.j.G==0||e.J||Xi(e.j,e)}function Jt(e){Sr(e);var s=e.M;s&&typeof s.ma=="function"&&s.ma(),e.M=null,fi(e.U),e.g&&(s=e.g,e.g=null,s.abort(),s.ma())}function Rr(e,s){try{var o=e.j;if(o.G!=0&&(o.g==e||Cr(o.h,e))){if(!e.K&&Cr(o.h,e)&&o.G==3){try{var c=o.Da.g.parse(s)}catch{c=null}if(Array.isArray(c)&&c.length==3){var _=c;if(_[0]==0){t:if(!o.u){if(o.g)if(o.g.F+3e3<e.F)Dn(o),Cn(o);else break t;kr(o),rt(18)}}else o.za=_[1],0<o.za-o.T&&37500>_[2]&&o.F&&o.v==0&&!o.C&&(o.C=Me(b(o.Za,o),6e3));if(1>=Ci(o.h)&&o.ca){try{o.ca()}catch{}o.ca=void 0}}else te(o,11)}else if((e.K||o.g==e)&&Dn(o),!et(s))for(_=o.Da.g.parse(s),s=0;s<_.length;s++){let V=_[s];if(o.T=V[0],V=V[1],o.G==2)if(V[0]=="c"){o.K=V[1],o.ia=V[2];let J=V[3];J!=null&&(o.la=J,o.j.info("VER="+o.la));let Z=V[4];Z!=null&&(o.Aa=Z,o.j.info("SVER="+o.Aa));let ue=V[5];ue!=null&&typeof ue=="number"&&0<ue&&(c=1.5*ue,o.L=c,o.j.info("backChannelRequestTimeoutMs_="+c)),c=o;let bt=e.g;if(bt){let kn=bt.g?bt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(kn){var v=c.h;v.g||kn.indexOf("spdy")==-1&&kn.indexOf("quic")==-1&&kn.indexOf("h2")==-1||(v.j=v.l,v.g=new Set,v.h&&(Pr(v,v.h),v.h=null))}if(c.D){let xr=bt.g?bt.g.getResponseHeader("X-HTTP-Session-Id"):null;xr&&(c.ya=xr,U(c.I,c.D,xr))}}o.G=3,o.l&&o.l.ua(),o.ba&&(o.R=Date.now()-e.F,o.j.info("Handshake RTT: "+o.R+"ms")),c=o;var I=e;if(c.qa=to(c,c.J?c.ia:null,c.W),I.K){Pi(c.h,I);var M=I,z=c.L;z&&(M.I=z),M.B&&(Sr(M),Tn(M)),c.g=I}else Qi(c);0<o.i.length&&Pn(o)}else V[0]!="stop"&&V[0]!="close"||te(o,7);else o.G==3&&(V[0]=="stop"||V[0]=="close"?V[0]=="stop"?te(o,7):Nr(o):V[0]!="noop"&&o.l&&o.l.ta(V),o.v=0)}}Fe(4)}catch{}}var oh=class{constructor(e,s){this.g=e,this.map=s}};function Si(e){this.l=e||10,g.PerformanceNavigationTiming?(e=g.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ri(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function Ci(e){return e.h?1:e.g?e.g.size:0}function Cr(e,s){return e.h?e.h==s:e.g?e.g.has(s):!1}function Pr(e,s){e.g?e.g.add(s):e.h=s}function Pi(e,s){e.h&&e.h==s?e.h=null:e.g&&e.g.has(s)&&e.g.delete(s)}Si.prototype.cancel=function(){if(this.i=Di(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let e of this.g.values())e.cancel();this.g.clear()}};function Di(e){if(e.h!=null)return e.i.concat(e.h.D);if(e.g!=null&&e.g.size!==0){let s=e.i;for(let o of e.g.values())s=s.concat(o.D);return s}return x(e.i)}function ah(e){if(e.V&&typeof e.V=="function")return e.V();if(typeof Map<"u"&&e instanceof Map||typeof Set<"u"&&e instanceof Set)return Array.from(e.values());if(typeof e=="string")return e.split("");if(E(e)){for(var s=[],o=e.length,c=0;c<o;c++)s.push(e[c]);return s}s=[],o=0;for(c in e)s[o++]=e[c];return s}function ch(e){if(e.na&&typeof e.na=="function")return e.na();if(!e.V||typeof e.V!="function"){if(typeof Map<"u"&&e instanceof Map)return Array.from(e.keys());if(!(typeof Set<"u"&&e instanceof Set)){if(E(e)||typeof e=="string"){var s=[];e=e.length;for(var o=0;o<e;o++)s.push(o);return s}s=[],o=0;for(let c in e)s[o++]=c;return s}}}function Ni(e,s){if(e.forEach&&typeof e.forEach=="function")e.forEach(s,void 0);else if(E(e)||typeof e=="string")Array.prototype.forEach.call(e,s,void 0);else for(var o=ch(e),c=ah(e),_=c.length,v=0;v<_;v++)s.call(void 0,c[v],o&&o[v],e)}var ki=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function uh(e,s){if(e){e=e.split("&");for(var o=0;o<e.length;o++){var c=e[o].indexOf("="),_=null;if(0<=c){var v=e[o].substring(0,c);_=e[o].substring(c+1)}else v=e[o];s(v,_?decodeURIComponent(_.replace(/\+/g," ")):"")}}}function Zt(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof Zt){this.h=e.h,In(this,e.j),this.o=e.o,this.g=e.g,An(this,e.s),this.l=e.l;var s=e.i,o=new $e;o.i=s.i,s.g&&(o.g=new Map(s.g),o.h=s.h),Oi(this,o),this.m=e.m}else e&&(s=String(e).match(ki))?(this.h=!1,In(this,s[1]||"",!0),this.o=Be(s[2]||""),this.g=Be(s[3]||"",!0),An(this,s[4]),this.l=Be(s[5]||"",!0),Oi(this,s[6]||"",!0),this.m=Be(s[7]||"")):(this.h=!1,this.i=new $e(null,this.h))}Zt.prototype.toString=function(){var e=[],s=this.j;s&&e.push(qe(s,xi,!0),":");var o=this.g;return(o||s=="file")&&(e.push("//"),(s=this.o)&&e.push(qe(s,xi,!0),"@"),e.push(encodeURIComponent(String(o)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o=this.s,o!=null&&e.push(":",String(o))),(o=this.l)&&(this.g&&o.charAt(0)!="/"&&e.push("/"),e.push(qe(o,o.charAt(0)=="/"?dh:hh,!0))),(o=this.i.toString())&&e.push("?",o),(o=this.m)&&e.push("#",qe(o,ph)),e.join("")};function xt(e){return new Zt(e)}function In(e,s,o){e.j=o?Be(s,!0):s,e.j&&(e.j=e.j.replace(/:$/,""))}function An(e,s){if(s){if(s=Number(s),isNaN(s)||0>s)throw Error("Bad port number "+s);e.s=s}else e.s=null}function Oi(e,s,o){s instanceof $e?(e.i=s,gh(e.i,e.h)):(o||(s=qe(s,fh)),e.i=new $e(s,e.h))}function U(e,s,o){e.i.set(s,o)}function bn(e){return U(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Be(e,s){return e?s?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function qe(e,s,o){return typeof e=="string"?(e=encodeURI(e).replace(s,lh),o&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function lh(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var xi=/[#\/\?@]/g,hh=/[#\?:]/g,dh=/[#\?]/g,fh=/[#\?@]/g,ph=/#/g;function $e(e,s){this.h=this.g=null,this.i=e||null,this.j=!!s}function Gt(e){e.g||(e.g=new Map,e.h=0,e.i&&uh(e.i,function(s,o){e.add(decodeURIComponent(s.replace(/\+/g," ")),o)}))}n=$e.prototype,n.add=function(e,s){Gt(this),this.i=null,e=ae(this,e);var o=this.g.get(e);return o||this.g.set(e,o=[]),o.push(s),this.h+=1,this};function Vi(e,s){Gt(e),s=ae(e,s),e.g.has(s)&&(e.i=null,e.h-=e.g.get(s).length,e.g.delete(s))}function Fi(e,s){return Gt(e),s=ae(e,s),e.g.has(s)}n.forEach=function(e,s){Gt(this),this.g.forEach(function(o,c){o.forEach(function(_){e.call(s,_,c,this)},this)},this)},n.na=function(){Gt(this);let e=Array.from(this.g.values()),s=Array.from(this.g.keys()),o=[];for(let c=0;c<s.length;c++){let _=e[c];for(let v=0;v<_.length;v++)o.push(s[c])}return o},n.V=function(e){Gt(this);let s=[];if(typeof e=="string")Fi(this,e)&&(s=s.concat(this.g.get(ae(this,e))));else{e=Array.from(this.g.values());for(let o=0;o<e.length;o++)s=s.concat(e[o])}return s},n.set=function(e,s){return Gt(this),this.i=null,e=ae(this,e),Fi(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[s]),this.h+=1,this},n.get=function(e,s){return e?(e=this.V(e),0<e.length?String(e[0]):s):s};function Mi(e,s,o){Vi(e,s),0<o.length&&(e.i=null,e.g.set(ae(e,s),x(o)),e.h+=o.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let e=[],s=Array.from(this.g.keys());for(var o=0;o<s.length;o++){var c=s[o];let v=encodeURIComponent(String(c)),I=this.V(c);for(c=0;c<I.length;c++){var _=v;I[c]!==""&&(_+="="+encodeURIComponent(String(I[c]))),e.push(_)}}return this.i=e.join("&")};function ae(e,s){return s=String(s),e.j&&(s=s.toLowerCase()),s}function gh(e,s){s&&!e.j&&(Gt(e),e.i=null,e.g.forEach(function(o,c){var _=c.toLowerCase();c!=_&&(Vi(this,c),Mi(this,_,o))},e)),e.j=s}function mh(e,s){let o=new Le;if(g.Image){let c=new Image;c.onload=F(zt,o,"TestLoadImage: loaded",!0,s,c),c.onerror=F(zt,o,"TestLoadImage: error",!1,s,c),c.onabort=F(zt,o,"TestLoadImage: abort",!1,s,c),c.ontimeout=F(zt,o,"TestLoadImage: timeout",!1,s,c),g.setTimeout(function(){c.ontimeout&&c.ontimeout()},1e4),c.src=e}else s(!1)}function _h(e,s){let o=new Le,c=new AbortController,_=setTimeout(()=>{c.abort(),zt(o,"TestPingServer: timeout",!1,s)},1e4);fetch(e,{signal:c.signal}).then(v=>{clearTimeout(_),v.ok?zt(o,"TestPingServer: ok",!0,s):zt(o,"TestPingServer: server error",!1,s)}).catch(()=>{clearTimeout(_),zt(o,"TestPingServer: error",!1,s)})}function zt(e,s,o,c,_){try{_&&(_.onload=null,_.onerror=null,_.onabort=null,_.ontimeout=null),c(o)}catch{}}function yh(){this.g=new th}function wh(e,s,o){let c=o||"";try{Ni(e,function(_,v){let I=_;T(_)&&(I=wr(_)),s.push(c+v+"="+encodeURIComponent(I))})}catch(_){throw s.push(c+"type="+encodeURIComponent("_badmap")),_}}function je(e){this.l=e.Ub||null,this.j=e.eb||!1}P(je,vr),je.prototype.g=function(){return new Sn(this.l,this.j)},je.prototype.i=function(e){return function(){return e}}({});function Sn(e,s){X.call(this),this.D=e,this.o=s,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}P(Sn,X),n=Sn.prototype,n.open=function(e,s){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=s,this.readyState=1,ze(this)},n.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let s={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(s.body=e),(this.D||g).fetch(new Request(this.A,s)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ge(this)),this.readyState=0},n.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,ze(this)),this.g&&(this.readyState=3,ze(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Li(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))};function Li(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}n.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var s=e.value?e.value:new Uint8Array(0);(s=this.v.decode(s,{stream:!e.done}))&&(this.response=this.responseText+=s)}e.done?Ge(this):ze(this),this.readyState==3&&Li(this)}},n.Ra=function(e){this.g&&(this.response=this.responseText=e,Ge(this))},n.Qa=function(e){this.g&&(this.response=e,Ge(this))},n.ga=function(){this.g&&Ge(this)};function Ge(e){e.readyState=4,e.l=null,e.j=null,e.v=null,ze(e)}n.setRequestHeader=function(e,s){this.u.append(e,s)},n.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let e=[],s=this.h.entries();for(var o=s.next();!o.done;)o=o.value,e.push(o[0]+": "+o[1]),o=s.next();return e.join(`\r
`)};function ze(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(Sn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});function Ui(e){let s="";return ot(e,function(o,c){s+=c,s+=":",s+=o,s+=`\r
`}),s}function Dr(e,s,o){t:{for(c in o){var c=!1;break t}c=!0}c||(o=Ui(o),typeof e=="string"?o!=null&&encodeURIComponent(String(o)):U(e,s,o))}function B(e){X.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}P(B,X);var vh=/^https?$/i,Eh=["POST","PUT"];n=B.prototype,n.Ha=function(e){this.J=e},n.ea=function(e,s,o,c){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);s=s?s.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ir.g(),this.v=this.o?pi(this.o):pi(Ir),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(s,String(e),!0),this.B=!1}catch(v){Bi(this,v);return}if(e=o||"",o=new Map(this.headers),c)if(Object.getPrototypeOf(c)===Object.prototype)for(var _ in c)o.set(_,c[_]);else if(typeof c.keys=="function"&&typeof c.get=="function")for(let v of c.keys())o.set(v,c.get(v));else throw Error("Unknown input type for opt_headers: "+String(c));c=Array.from(o.keys()).find(v=>v.toLowerCase()=="content-type"),_=g.FormData&&e instanceof g.FormData,!(0<=Array.prototype.indexOf.call(Eh,s,void 0))||c||_||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[v,I]of o)this.g.setRequestHeader(v,I);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ji(this),this.u=!0,this.g.send(e),this.u=!1}catch(v){Bi(this,v)}};function Bi(e,s){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=s,e.m=5,qi(e),Rn(e)}function qi(e){e.A||(e.A=!0,nt(e,"complete"),nt(e,"error"))}n.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,nt(this,"complete"),nt(this,"abort"),Rn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Rn(this,!0)),B.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?$i(this):this.bb())},n.bb=function(){$i(this)};function $i(e){if(e.h&&typeof h<"u"&&(!e.v[1]||Vt(e)!=4||e.Z()!=2)){if(e.u&&Vt(e)==4)li(e.Ea,0,e);else if(nt(e,"readystatechange"),Vt(e)==4){e.h=!1;try{let I=e.Z();t:switch(I){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var s=!0;break t;default:s=!1}var o;if(!(o=s)){var c;if(c=I===0){var _=String(e.D).match(ki)[1]||null;!_&&g.self&&g.self.location&&(_=g.self.location.protocol.slice(0,-1)),c=!vh.test(_?_.toLowerCase():"")}o=c}if(o)nt(e,"complete"),nt(e,"success");else{e.m=6;try{var v=2<Vt(e)?e.g.statusText:""}catch{v=""}e.l=v+" ["+e.Z()+"]",qi(e)}}finally{Rn(e)}}}}function Rn(e,s){if(e.g){ji(e);let o=e.g,c=e.v[0]?()=>{}:null;e.g=null,e.v=null,s||nt(e,"ready");try{o.onreadystatechange=c}catch{}}}function ji(e){e.I&&(g.clearTimeout(e.I),e.I=null)}n.isActive=function(){return!!this.g};function Vt(e){return e.g?e.g.readyState:0}n.Z=function(){try{return 2<Vt(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(e){if(this.g){var s=this.g.responseText;return e&&s.indexOf(e)==0&&(s=s.substring(e.length)),Zl(s)}};function Gi(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}function Th(e){let s={};e=(e.g&&2<=Vt(e)&&e.g.getAllResponseHeaders()||"").split(`\r
`);for(let c=0;c<e.length;c++){if(et(e[c]))continue;var o=m(e[c]);let _=o[0];if(o=o[1],typeof o!="string")continue;o=o.trim();let v=s[_]||[];s[_]=v,v.push(o)}y(s,function(c){return c.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ke(e,s,o){return o&&o.internalChannelParams&&o.internalChannelParams[e]||s}function zi(e){this.Aa=0,this.i=[],this.j=new Le,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ke("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ke("baseRetryDelayMs",5e3,e),this.cb=Ke("retryDelaySeedMs",1e4,e),this.Wa=Ke("forwardChannelMaxRetries",2,e),this.wa=Ke("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new Si(e&&e.concurrentRequestLimit),this.Da=new yh,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=zi.prototype,n.la=8,n.G=1,n.connect=function(e,s,o,c){rt(0),this.W=e,this.H=s||{},o&&c!==void 0&&(this.H.OSID=o,this.H.OAID=c),this.F=this.X,this.I=to(this,null,this.W),Pn(this)};function Nr(e){if(Ki(e),e.G==3){var s=e.U++,o=xt(e.I);if(U(o,"SID",e.K),U(o,"RID",s),U(o,"TYPE","terminate"),We(e,o),s=new jt(e,e.j,s),s.L=2,s.v=bn(xt(o)),o=!1,g.navigator&&g.navigator.sendBeacon)try{o=g.navigator.sendBeacon(s.v.toString(),"")}catch{}!o&&g.Image&&(new Image().src=s.v,o=!0),o||(s.g=eo(s.j,null),s.g.ea(s.v)),s.F=Date.now(),Tn(s)}Zi(e)}function Cn(e){e.g&&(Or(e),e.g.cancel(),e.g=null)}function Ki(e){Cn(e),e.u&&(g.clearTimeout(e.u),e.u=null),Dn(e),e.h.cancel(),e.s&&(typeof e.s=="number"&&g.clearTimeout(e.s),e.s=null)}function Pn(e){if(!Ri(e.h)&&!e.s){e.s=!0;var s=e.Ga;De||si(),Ne||(De(),Ne=!0),lr.add(s,e),e.B=0}}function Ih(e,s){return Ci(e.h)>=e.h.j-(e.s?1:0)?!1:e.s?(e.i=s.D.concat(e.i),!0):e.G==1||e.G==2||e.B>=(e.Va?0:e.Wa)?!1:(e.s=Me(b(e.Ga,e,s),Ji(e,e.B)),e.B++,!0)}n.Ga=function(e){if(this.s)if(this.s=null,this.G==1){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;let _=new jt(this,this.j,e),v=this.o;if(this.S&&(v?(v=l(v),p(v,this.S)):v=this.S),this.m!==null||this.O||(_.H=v,v=null),this.P)t:{for(var s=0,o=0;o<this.i.length;o++){e:{var c=this.i[o];if("__data__"in c.map&&(c=c.map.__data__,typeof c=="string")){c=c.length;break e}c=void 0}if(c===void 0)break;if(s+=c,4096<s){s=o;break t}if(s===4096||o===this.i.length-1){s=o+1;break t}}s=1e3}else s=1e3;s=Hi(this,_,s),o=xt(this.I),U(o,"RID",e),U(o,"CVER",22),this.D&&U(o,"X-HTTP-Session-Id",this.D),We(this,o),v&&(this.O?s="headers="+encodeURIComponent(String(Ui(v)))+"&"+s:this.m&&Dr(o,this.m,v)),Pr(this.h,_),this.Ua&&U(o,"TYPE","init"),this.P?(U(o,"$req",s),U(o,"SID","null"),_.T=!0,br(_,o,null)):br(_,o,s),this.G=2}}else this.G==3&&(e?Wi(this,e):this.i.length==0||Ri(this.h)||Wi(this))};function Wi(e,s){var o;s?o=s.l:o=e.U++;let c=xt(e.I);U(c,"SID",e.K),U(c,"RID",o),U(c,"AID",e.T),We(e,c),e.m&&e.o&&Dr(c,e.m,e.o),o=new jt(e,e.j,o,e.B+1),e.m===null&&(o.H=e.o),s&&(e.i=s.D.concat(e.i)),s=Hi(e,o,1e3),o.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),Pr(e.h,o),br(o,c,s)}function We(e,s){e.H&&ot(e.H,function(o,c){U(s,c,o)}),e.l&&Ni({},function(o,c){U(s,c,o)})}function Hi(e,s,o){o=Math.min(e.i.length,o);var c=e.l?b(e.l.Na,e.l,e):null;t:{var _=e.i;let v=-1;for(;;){let I=["count="+o];v==-1?0<o?(v=_[0].g,I.push("ofs="+v)):v=0:I.push("ofs="+v);let M=!0;for(let z=0;z<o;z++){let V=_[z].g,J=_[z].map;if(V-=v,0>V)v=Math.max(0,_[z].g-100),M=!1;else try{wh(J,I,"req"+V+"_")}catch{c&&c(J)}}if(M){c=I.join("&");break t}}}return e=e.i.splice(0,o),s.D=e,c}function Qi(e){if(!e.g&&!e.u){e.Y=1;var s=e.Fa;De||si(),Ne||(De(),Ne=!0),lr.add(s,e),e.v=0}}function kr(e){return e.g||e.u||3<=e.v?!1:(e.Y++,e.u=Me(b(e.Fa,e),Ji(e,e.v)),e.v++,!0)}n.Fa=function(){if(this.u=null,Yi(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=Me(b(this.ab,this),e)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,rt(10),Cn(this),Yi(this))};function Or(e){e.A!=null&&(g.clearTimeout(e.A),e.A=null)}function Yi(e){e.g=new jt(e,e.j,"rpc",e.Y),e.m===null&&(e.g.H=e.o),e.g.O=0;var s=xt(e.qa);U(s,"RID","rpc"),U(s,"SID",e.K),U(s,"AID",e.T),U(s,"CI",e.F?"0":"1"),!e.F&&e.ja&&U(s,"TO",e.ja),U(s,"TYPE","xmlhttp"),We(e,s),e.m&&e.o&&Dr(s,e.m,e.o),e.L&&(e.g.I=e.L);var o=e.g;e=e.ia,o.L=1,o.v=bn(xt(s)),o.m=null,o.P=!0,Ii(o,e)}n.Za=function(){this.C!=null&&(this.C=null,Cn(this),kr(this),rt(19))};function Dn(e){e.C!=null&&(g.clearTimeout(e.C),e.C=null)}function Xi(e,s){var o=null;if(e.g==s){Dn(e),Or(e),e.g=null;var c=2}else if(Cr(e.h,s))o=s.D,Pi(e.h,s),c=1;else return;if(e.G!=0){if(s.o)if(c==1){o=s.m?s.m.length:0,s=Date.now()-s.F;var _=e.B;c=wn(),nt(c,new wi(c,o)),Pn(e)}else Qi(e);else if(_=s.s,_==3||_==0&&0<s.X||!(c==1&&Ih(e,s)||c==2&&kr(e)))switch(o&&0<o.length&&(s=e.h,s.i=s.i.concat(o)),_){case 1:te(e,5);break;case 4:te(e,10);break;case 3:te(e,6);break;default:te(e,2)}}}function Ji(e,s){let o=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(o*=2),o*s}function te(e,s){if(e.j.info("Error code "+s),s==2){var o=b(e.fb,e),c=e.Xa;let _=!c;c=new Zt(c||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||In(c,"https"),bn(c),_?mh(c.toString(),o):_h(c.toString(),o)}else rt(2);e.G=0,e.l&&e.l.sa(s),Zi(e),Ki(e)}n.fb=function(e){e?(this.j.info("Successfully pinged google.com"),rt(2)):(this.j.info("Failed to ping google.com"),rt(1))};function Zi(e){if(e.G=0,e.ka=[],e.l){let s=Di(e.h);(s.length!=0||e.i.length!=0)&&(C(e.ka,s),C(e.ka,e.i),e.h.i.length=0,x(e.i),e.i.length=0),e.l.ra()}}function to(e,s,o){var c=o instanceof Zt?xt(o):new Zt(o);if(c.g!="")s&&(c.g=s+"."+c.g),An(c,c.s);else{var _=g.location;c=_.protocol,s=s?s+"."+_.hostname:_.hostname,_=+_.port;var v=new Zt(null);c&&In(v,c),s&&(v.g=s),_&&An(v,_),o&&(v.l=o),c=v}return o=e.D,s=e.ya,o&&s&&U(c,o,s),U(c,"VER",e.la),We(e,c),c}function eo(e,s,o){if(s&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return s=e.Ca&&!e.pa?new B(new je({eb:o})):new B(e.pa),s.Ha(e.J),s}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function no(){}n=no.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Nn(){}Nn.prototype.g=function(e,s){return new wt(e,s)};function wt(e,s){X.call(this),this.g=new zi(s),this.l=e,this.h=s&&s.messageUrlParams||null,e=s&&s.messageHeaders||null,s&&s.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=s&&s.initMessageHeaders||null,s&&s.messageContentType&&(e?e["X-WebChannel-Content-Type"]=s.messageContentType:e={"X-WebChannel-Content-Type":s.messageContentType}),s&&s.va&&(e?e["X-WebChannel-Client-Profile"]=s.va:e={"X-WebChannel-Client-Profile":s.va}),this.g.S=e,(e=s&&s.Sb)&&!et(e)&&(this.g.m=e),this.v=s&&s.supportsCrossDomainXhr||!1,this.u=s&&s.sendRawJson||!1,(s=s&&s.httpSessionIdParam)&&!et(s)&&(this.g.D=s,e=this.h,e!==null&&s in e&&(e=this.h,s in e&&delete e[s])),this.j=new ce(this)}P(wt,X),wt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},wt.prototype.close=function(){Nr(this.g)},wt.prototype.o=function(e){var s=this.g;if(typeof e=="string"){var o={};o.__data__=e,e=o}else this.u&&(o={},o.__data__=wr(e),e=o);s.i.push(new oh(s.Ya++,e)),s.G==3&&Pn(s)},wt.prototype.N=function(){this.g.l=null,delete this.j,Nr(this.g),delete this.g,wt.aa.N.call(this)};function ro(e){Er.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var s=e.__sm__;if(s){t:{for(let o in s){e=o;break t}e=void 0}(this.i=e)&&(e=this.i,s=s!==null&&e in s?s[e]:void 0),this.data=s}else this.data=e}P(ro,Er);function so(){Tr.call(this),this.status=1}P(so,Tr);function ce(e){this.g=e}P(ce,no),ce.prototype.ua=function(){nt(this.g,"a")},ce.prototype.ta=function(e){nt(this.g,new ro(e))},ce.prototype.sa=function(e){nt(this.g,new so)},ce.prototype.ra=function(){nt(this.g,"b")},Nn.prototype.createWebChannel=Nn.prototype.g,wt.prototype.send=wt.prototype.o,wt.prototype.open=wt.prototype.m,wt.prototype.close=wt.prototype.close,iu=Ft.createWebChannelTransport=function(){return new Nn},su=Ft.getStatEventTarget=function(){return wn()},ru=Ft.Event=Xt,nu=Ft.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},vn.NO_ERROR=0,vn.TIMEOUT=8,vn.HTTP_ERROR=6,eu=Ft.ErrorCode=vn,vi.COMPLETE="complete",tu=Ft.EventType=vi,gi.EventType=Ve,Ve.OPEN="a",Ve.CLOSE="b",Ve.ERROR="c",Ve.MESSAGE="d",X.prototype.listen=X.prototype.K,Zc=Ft.WebChannel=gi,Td=Ft.FetchXmlHttpFactory=je,B.prototype.listenOnce=B.prototype.L,B.prototype.getLastError=B.prototype.Ka,B.prototype.getLastErrorCode=B.prototype.Ba,B.prototype.getStatus=B.prototype.Z,B.prototype.getResponseJson=B.prototype.Oa,B.prototype.getResponseText=B.prototype.oa,B.prototype.send=B.prototype.ea,B.prototype.setWithCredentials=B.prototype.Ha,Jc=Ft.XhrIo=B}).apply(typeof Wn<"u"?Wn:typeof self<"u"?self:typeof window<"u"?window:{});var ou="@firebase/firestore",au="4.8.0";var Q=class{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}};Q.UNAUTHENTICATED=new Q(null),Q.GOOGLE_CREDENTIALS=new Q("google-credentials-uid"),Q.FIRST_PARTY=new Q("first-party-uid"),Q.MOCK_USER=new Q("mock-user");var an="11.10.0";var Ae=new Ht("@firebase/firestore");function St(n,...t){if(Ae.logLevel<=ge.DEBUG){let r=t.map(Ts);Ae.debug(`Firestore (${an}): ${n}`,...r)}}function vu(n,...t){if(Ae.logLevel<=ge.ERROR){let r=t.map(Ts);Ae.error(`Firestore (${an}): ${n}`,...r)}}function Id(n,...t){if(Ae.logLevel<=ge.WARN){let r=t.map(Ts);Ae.warn(`Firestore (${an}): ${n}`,...r)}}function Ts(n){if(typeof n=="string")return n;try{return function(r){return JSON.stringify(r)}(n)}catch{return n}}function _t(n,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,Eu(n,i,r)}function Eu(n,t,r){let i=`FIRESTORE (${an}) INTERNAL ASSERTION FAILED: ${t} (ID: ${n.toString(16)})`;if(r!==void 0)try{i+=" CONTEXT: "+JSON.stringify(r)}catch{i+=" CONTEXT: "+r}throw vu(i),new Error(i)}function ne(n,t,r,i){let a="Unexpected state";typeof r=="string"?a=r:i=r,n||Eu(t,a,i)}var O={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},D=class extends Ct{constructor(t,r){super(t,r),this.code=t,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var re=class{constructor(){this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}};var Hn=class{constructor(t,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}},rs=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,r){t.enqueueRetryable(()=>r(Q.UNAUTHENTICATED))}shutdown(){}},ss=class{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,r){this.changeListener=r,t.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}},is=class{constructor(t){this.t=t,this.currentUser=Q.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,r){ne(this.o===void 0,42304);let i=this.i,a=E=>this.i!==i?(i=this.i,r(E)):Promise.resolve(),u=new re;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new re,t.enqueueRetryable(()=>a(this.currentUser))};let h=()=>{let E=u;t.enqueueRetryable(()=>S(this,null,function*(){yield E.promise,yield a(this.currentUser)}))},g=E=>{St("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=E,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(E=>g(E)),setTimeout(()=>{if(!this.auth){let E=this.t.getImmediate({optional:!0});E?g(E):(St("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new re)}},0),h()}getToken(){let t=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(i=>this.i!==t?(St("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(ne(typeof i.accessToken=="string",31837,{l:i}),new Hn(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let t=this.auth&&this.auth.getUid();return ne(t===null||typeof t=="string",2055,{h:t}),new Q(t)}},os=class{constructor(t,r,i){this.P=t,this.T=r,this.I=i,this.type="FirstParty",this.user=Q.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},as=class{constructor(t,r,i){this.P=t,this.T=r,this.I=i}getToken(){return Promise.resolve(new os(this.P,this.T,this.I))}start(t,r){t.enqueueRetryable(()=>r(Q.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Qn=class{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},cs=class{constructor(t,r){this.V=r,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Je(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,r){ne(this.o===void 0,3512);let i=u=>{u.error!=null&&St("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);let h=u.token!==this.m;return this.m=u.token,St("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?r(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable(()=>i(u))};let a=u=>{St("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>a(u)),setTimeout(()=>{if(!this.appCheck){let u=this.V.getImmediate({optional:!0});u?a(u):St("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Qn(this.p));let t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(r=>r?(ne(typeof r.token=="string",44558,{tokenResult:r}),this.m=r.token,new Qn(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function Ad(n){let t=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(r);else for(let i=0;i<n;i++)r[i]=Math.floor(256*Math.random());return r}function bd(){return new TextEncoder}var us=class{static newId(){let t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516),i="";for(;i.length<20;){let a=Ad(40);for(let u=0;u<a.length;++u)i.length<20&&a[u]<r&&(i+=t.charAt(a[u]%62))}return i}};function At(n,t){return n<t?-1:n>t?1:0}function Sd(n,t){let r=0;for(;r<n.length&&r<t.length;){let i=n.codePointAt(r),a=t.codePointAt(r);if(i!==a){if(i<128&&a<128)return At(i,a);{let u=bd(),h=Rd(u.encode(cu(n,r)),u.encode(cu(t,r)));return h!==0?h:At(i,a)}}r+=i>65535?2:1}return At(n.length,t.length)}function cu(n,t){return n.codePointAt(t)>65535?n.substring(t,t+2):n.substring(t,t+1)}function Rd(n,t){for(let r=0;r<n.length&&r<t.length;++r)if(n[r]!==t[r])return At(n[r],t[r]);return At(n.length,t.length)}var uu="__name__",Yn=class n{constructor(t,r,i){r===void 0?r=0:r>t.length&&_t(637,{offset:r,range:t.length}),i===void 0?i=t.length-r:i>t.length-r&&_t(1746,{length:i,range:t.length-r}),this.segments=t,this.offset=r,this.len=i}get length(){return this.len}isEqual(t){return n.comparator(this,t)===0}child(t){let r=this.segments.slice(this.offset,this.limit());return t instanceof n?t.forEach(i=>{r.push(i)}):r.push(t),this.construct(r)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}forEach(t){for(let r=this.offset,i=this.limit();r<i;r++)t(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,r){let i=Math.min(t.length,r.length);for(let a=0;a<i;a++){let u=n.compareSegments(t.get(a),r.get(a));if(u!==0)return u}return At(t.length,r.length)}static compareSegments(t,r){let i=n.isNumericId(t),a=n.isNumericId(r);return i&&!a?-1:!i&&a?1:i&&a?n.extractNumericId(t).compare(n.extractNumericId(r)):Sd(t,r)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Kn.fromString(t.substring(4,t.length-2))}},Mt=class n extends Yn{construct(t,r,i){return new n(t,r,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){let r=[];for(let i of t){if(i.indexOf("//")>=0)throw new D(O.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);r.push(...i.split("/").filter(a=>a.length>0))}return new n(r)}static emptyPath(){return new n([])}},Cd=/^[_a-zA-Z][_a-zA-Z0-9]*$/,ls=class n extends Yn{construct(t,r,i){return new n(t,r,i)}static isValidIdentifier(t){return Cd.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===uu}static keyField(){return new n([uu])}static fromServerFormat(t){let r=[],i="",a=0,u=()=>{if(i.length===0)throw new D(O.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(i),i=""},h=!1;for(;a<t.length;){let g=t[a];if(g==="\\"){if(a+1===t.length)throw new D(O.INVALID_ARGUMENT,"Path has trailing escape character: "+t);let E=t[a+1];if(E!=="\\"&&E!=="."&&E!=="`")throw new D(O.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=E,a+=2}else g==="`"?(h=!h,a++):g!=="."||h?(i+=g,a++):(u(),a++)}if(u(),h)throw new D(O.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new n(r)}static emptyPath(){return new n([])}};var Lt=class n{constructor(t){this.path=t}static fromPath(t){return new n(Mt.fromString(t))}static fromName(t){return new n(Mt.fromString(t).popFirst(5))}static empty(){return new n(Mt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Mt.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,r){return Mt.comparator(t.path,r.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new n(new Mt(t.slice()))}};function Pd(n,t,r,i){if(t===!0&&i===!0)throw new D(O.INVALID_ARGUMENT,`${n} and ${r} cannot be used together.`)}function Dd(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Nd(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let t=function(i){return i.constructor?i.constructor.name:null}(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":_t(12329,{type:typeof n})}function kd(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new D(O.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let r=Nd(n);throw new D(O.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${r}`)}}return n}function j(n,t){let r={typeString:n};return t&&(r.value=t),r}function cn(n,t){if(!Dd(n))throw new D(O.INVALID_ARGUMENT,"JSON must be an object");let r;for(let i in t)if(t[i]){let a=t[i].typeString,u="value"in t[i]?{value:t[i].value}:void 0;if(!(i in n)){r=`JSON missing required field: '${i}'`;break}let h=n[i];if(a&&typeof h!==a){r=`JSON field '${i}' must be a ${a}.`;break}if(u!==void 0&&h!==u.value){r=`Expected '${i}' field to equal '${u.value}'`;break}}if(r)throw new D(O.INVALID_ARGUMENT,r);return!0}var lu=-62135596800,hu=1e6,tn=class n{static now(){return n.fromMillis(Date.now())}static fromDate(t){return n.fromMillis(t.getTime())}static fromMillis(t){let r=Math.floor(t/1e3),i=Math.floor((t-1e3*r)*hu);return new n(r,i)}constructor(t,r){if(this.seconds=t,this.nanoseconds=r,r<0)throw new D(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new D(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(t<lu)throw new D(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new D(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/hu}_compareTo(t){return this.seconds===t.seconds?At(this.nanoseconds,t.nanoseconds):At(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:n._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(cn(t,n._jsonSchema))return new n(t.seconds,t.nanoseconds)}valueOf(){let t=this.seconds-lu;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};tn._jsonSchemaVersion="firestore/timestamp/1.0",tn._jsonSchema={type:j("string",tn._jsonSchemaVersion),seconds:j("number"),nanoseconds:j("number")};var hs=class{constructor(t,r,i,a){this.indexId=t,this.collectionGroup=r,this.fields=i,this.indexState=a}};hs.UNKNOWN_ID=-1;function Od(n){return n.name==="IndexedDbTransactionError"}function xd(n){return n===0&&1/n==-1/0}var Vd="remoteDocuments",Tu="owner";var Iu="mutationQueues";var Au="mutations";var bu="documentMutations",Fd="remoteDocumentsV14";var Su="remoteDocumentGlobal";var Ru="targets";var Cu="targetDocuments";var Pu="targetGlobal",Du="collectionParents";var Nu="clientMetadata";var ku="bundles";var Ou="namedQueries";var Md="indexConfiguration";var Ld="indexState";var Ud="indexEntries";var xu="documentOverlays";var Bd="globals";var qd=[Iu,Au,bu,Vd,Ru,Tu,Pu,Cu,Nu,Su,Du,ku,Ou],Em=[...qd,xu],$d=[Iu,Au,bu,Fd,Ru,Tu,Pu,Cu,Nu,Su,Du,ku,Ou,xu],jd=$d,Gd=[...jd,Md,Ld,Ud];var Tm=[...Gd,Bd];var be=class n{constructor(t,r){this.comparator=t,this.root=r||Dt.EMPTY}insert(t,r){return new n(this.comparator,this.root.insert(t,r,this.comparator).copy(null,null,Dt.BLACK,null,null))}remove(t){return new n(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Dt.BLACK,null,null))}get(t){let r=this.root;for(;!r.isEmpty();){let i=this.comparator(t,r.key);if(i===0)return r.value;i<0?r=r.left:i>0&&(r=r.right)}return null}indexOf(t){let r=0,i=this.root;for(;!i.isEmpty();){let a=this.comparator(t,i.key);if(a===0)return r+i.left.size;a<0?i=i.left:(r+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((r,i)=>(t(r,i),!1))}toString(){let t=[];return this.inorderTraversal((r,i)=>(t.push(`${r}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new ve(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new ve(this.root,t,this.comparator,!1)}getReverseIterator(){return new ve(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new ve(this.root,t,this.comparator,!0)}},ve=class{constructor(t,r,i,a){this.isReverse=a,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=r?i(t.key,r):1,r&&a&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop(),r={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}},Dt=class n{constructor(t,r,i,a,u){this.key=t,this.value=r,this.color=i??n.RED,this.left=a??n.EMPTY,this.right=u??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,r,i,a,u){return new n(t??this.key,r??this.value,i??this.color,a??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,i){let a=this,u=i(t,a.key);return a=u<0?a.copy(null,null,null,a.left.insert(t,r,i),null):u===0?a.copy(null,r,null,null,null):a.copy(null,null,null,null,a.right.insert(t,r,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,r){let i,a=this;if(r(t,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(t,r),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),r(t,a.key)===0){if(a.right.isEmpty())return n.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(t,r))}return a.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){let t=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){let t=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){let t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth(){let t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _t(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _t(14113,{key:this.key,value:this.value});let t=this.left.check();if(t!==this.right.check())throw _t(27949);return t+(this.isRed()?0:1)}};Dt.EMPTY=null,Dt.RED=!0,Dt.BLACK=!1;Dt.EMPTY=new class{constructor(){this.size=0}get key(){throw _t(57766)}get value(){throw _t(16141)}get color(){throw _t(16727)}get left(){throw _t(29726)}get right(){throw _t(36894)}copy(t,r,i,a,u){return this}insert(t,r,i){return new Dt(t,r)}remove(t,r){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Xn=class n{constructor(t){this.comparator=t,this.data=new be(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((r,i)=>(t(r),!1))}forEachInRange(t,r){let i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){let a=i.getNext();if(this.comparator(a.key,t[1])>=0)return;r(a.key)}}forEachWhile(t,r){let i;for(i=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){let r=this.data.getIteratorFrom(t);return r.hasNext()?r.getNext().key:null}getIterator(){return new Jn(this.data.getIterator())}getIteratorFrom(t){return new Jn(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let r=this;return r.size<t.size&&(r=t,t=this),t.forEach(i=>{r=r.add(i)}),r}isEqual(t){if(!(t instanceof n)||this.size!==t.size)return!1;let r=this.data.getIterator(),i=t.data.getIterator();for(;r.hasNext();){let a=r.getNext().key,u=i.getNext().key;if(this.comparator(a,u)!==0)return!1}return!0}toArray(){let t=[];return this.forEach(r=>{t.push(r)}),t}toString(){let t=[];return this.forEach(r=>t.push(r)),"SortedSet("+t.toString()+")"}copy(t){let r=new n(this.comparator);return r.data=t,r}},Jn=class{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var ds=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Qt=class n{constructor(t){this.binaryString=t}static fromBase64String(t){let r=function(a){try{return atob(a)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new ds("Invalid base64 string: "+u):u}}(t);return new n(r)}static fromUint8Array(t){let r=function(a){let u="";for(let h=0;h<a.length;++h)u+=String.fromCharCode(a[h]);return u}(t);return new n(r)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){let i=new Uint8Array(r.length);for(let a=0;a<r.length;a++)i[a]=r.charCodeAt(a);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return At(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}};Qt.EMPTY_BYTE_STRING=new Qt("");var zd=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Kd(n){if(ne(!!n,39018),typeof n=="string"){let t=0,r=zd.exec(n);if(ne(!!r,46558,{timestamp:n}),r[1]){let a=r[1];a=(a+"000000000").substr(0,9),t=Number(a)}let i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:en(n.seconds),nanos:en(n.nanos)}}function en(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Wd(n){return typeof n=="string"?Qt.fromBase64String(n):Qt.fromUint8Array(n)}var fs="(default)",ps=class n{constructor(t,r){this.projectId=t,this.database=r||fs}static empty(){return new n("","")}get isDefaultDatabase(){return this.database===fs}isEqual(t){return t instanceof n&&t.projectId===this.projectId&&t.database===this.database}};var Vu="__type__",Hd="__max__";var Fu="__vector__",Mu="value";function Qd(n){var t,r;return((r=(((t=n?.mapValue)===null||t===void 0?void 0:t.fields)||{})[Vu])===null||r===void 0?void 0:r.stringValue)===Fu}function Yd(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===Hd}var Am={mapValue:{fields:{[Vu]:{stringValue:Fu},[Mu]:{arrayValue:{}}}}};var gs=class{constructor(t,r=null,i=[],a=[],u=null,h="F",g=null,E=null){this.path=t,this.collectionGroup=r,this.explicitOrderBy=i,this.filters=a,this.limit=u,this.limitType=h,this.startAt=g,this.endAt=E,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}};function Xd(n){return new gs(n)}var bm=new be(Lt.comparator);var Sm=new be(Lt.comparator);var Rm=new be(Lt.comparator),Cm=new Xn(Lt.comparator);var Pm=new Xn(At);var du,k;(k=du||(du={}))[k.OK=0]="OK",k[k.CANCELLED=1]="CANCELLED",k[k.UNKNOWN=2]="UNKNOWN",k[k.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",k[k.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",k[k.NOT_FOUND=5]="NOT_FOUND",k[k.ALREADY_EXISTS=6]="ALREADY_EXISTS",k[k.PERMISSION_DENIED=7]="PERMISSION_DENIED",k[k.UNAUTHENTICATED=16]="UNAUTHENTICATED",k[k.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",k[k.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",k[k.ABORTED=10]="ABORTED",k[k.OUT_OF_RANGE=11]="OUT_OF_RANGE",k[k.UNIMPLEMENTED=12]="UNIMPLEMENTED",k[k.INTERNAL=13]="INTERNAL",k[k.UNAVAILABLE=14]="UNAVAILABLE",k[k.DATA_LOSS=15]="DATA_LOSS";var Dm=new Kn([4294967295,4294967295],0);var Zn=class{constructor(){}bt(t,r){this.Dt(t,r),r.vt()}Dt(t,r){if("nullValue"in t)this.Ct(r,5);else if("booleanValue"in t)this.Ct(r,10),r.Ft(t.booleanValue?1:0);else if("integerValue"in t)this.Ct(r,15),r.Ft(en(t.integerValue));else if("doubleValue"in t){let i=en(t.doubleValue);isNaN(i)?this.Ct(r,13):(this.Ct(r,15),xd(i)?r.Ft(0):r.Ft(i))}else if("timestampValue"in t){let i=t.timestampValue;this.Ct(r,20),typeof i=="string"&&(i=Kd(i)),r.Mt(`${i.seconds||""}`),r.Ft(i.nanos||0)}else if("stringValue"in t)this.xt(t.stringValue,r),this.Ot(r);else if("bytesValue"in t)this.Ct(r,30),r.Nt(Wd(t.bytesValue)),this.Ot(r);else if("referenceValue"in t)this.Bt(t.referenceValue,r);else if("geoPointValue"in t){let i=t.geoPointValue;this.Ct(r,45),r.Ft(i.latitude||0),r.Ft(i.longitude||0)}else"mapValue"in t?Yd(t)?this.Ct(r,Number.MAX_SAFE_INTEGER):Qd(t)?this.Lt(t.mapValue,r):(this.kt(t.mapValue,r),this.Ot(r)):"arrayValue"in t?(this.qt(t.arrayValue,r),this.Ot(r)):_t(19022,{Qt:t})}xt(t,r){this.Ct(r,25),this.$t(t,r)}$t(t,r){r.Mt(t)}kt(t,r){let i=t.fields||{};this.Ct(r,55);for(let a of Object.keys(i))this.xt(a,r),this.Dt(i[a],r)}Lt(t,r){var i,a;let u=t.fields||{};this.Ct(r,53);let h=Mu,g=((a=(i=u[h].arrayValue)===null||i===void 0?void 0:i.values)===null||a===void 0?void 0:a.length)||0;this.Ct(r,15),r.Ft(en(g)),this.xt(h,r),this.Dt(u[h],r)}qt(t,r){let i=t.values||[];this.Ct(r,50);for(let a of i)this.Dt(a,r)}Bt(t,r){this.Ct(r,37),Lt.fromName(t).path.forEach(i=>{this.Ct(r,60),this.$t(i,r)})}Ct(t,r){t.Ft(r)}Ot(t){t.Ft(2)}};Zn.Ut=new Zn;var Nm=new Uint8Array(0);var Lu=41943040,Pt=class n{static withCacheSize(t){return new n(t,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,r,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=i}};Pt.DEFAULT_COLLECTION_PERCENTILE=10,Pt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Pt.DEFAULT=new Pt(Lu,Pt.DEFAULT_COLLECTION_PERCENTILE,Pt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Pt.DISABLED=new Pt(-1,0,0);var Jd=1048576;function ns(){return typeof document<"u"?document:null}var ms=class{constructor(t,r,i=1e3,a=1.5,u=6e4){this.Fi=t,this.timerId=r,this.d_=i,this.E_=a,this.A_=u,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(t){this.cancel();let r=Math.floor(this.R_+this.p_()),i=Math.max(0,Date.now()-this.m_),a=Math.max(0,r-i);a>0&&St("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.R_} ms, delay with jitter: ${r} ms, last attempt: ${i} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,a,()=>(this.m_=Date.now(),t())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}};var _s=class n{constructor(t,r,i,a,u){this.asyncQueue=t,this.timerId=r,this.targetTimeMs=i,this.op=a,this.removalCallback=u,this.deferred=new re,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,r,i,a,u){let h=Date.now()+i,g=new n(t,r,h,a,u);return g.start(i),g}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new D(O.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};var fu,pu;(pu=fu||(fu={})).Fa="default",pu.Cache="cache";function Zd(n){let t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}var gu=new Map;var Uu="firestore.googleapis.com",mu=!0,tr=class{constructor(t){var r,i;if(t.host===void 0){if(t.ssl!==void 0)throw new D(O.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Uu,this.ssl=mu}else this.host=t.host,this.ssl=(r=t.ssl)!==null&&r!==void 0?r:mu;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=Lu;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<Jd)throw new D(O.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}Pd("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Zd((i=t.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new D(O.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new D(O.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new D(O.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(i,a){return i.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}},er=class{constructor(t,r,i,a){this._authCredentials=t,this._appCheckCredentials=r,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new tr({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new D(O.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new D(O.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new tr(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new rs;switch(i.type){case"firstParty":return new as(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new D(O.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return S(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){let i=gu.get(r);i&&(St("ComponentProvider","Removing Datastore"),gu.delete(r),i.terminate())}(this),Promise.resolve()}};function Bu(n,t,r,i={}){var a;n=kd(n,er);let u=Ln(t),h=n._getSettings(),g=Object.assign(Object.assign({},h),{emulatorOptions:n._getEmulatorOptions()}),E=`${t}:${r}`;u&&(Un(`https://${E}`),qn("Firestore",!0)),h.host!==Uu&&h.host!==E&&Id("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let T=Object.assign(Object.assign({},h),{host:E,ssl:u,emulatorOptions:i});if(!pe(T,g)&&(n._setSettings(T),i.mockUserToken)){let A,R;if(typeof i.mockUserToken=="string")A=i.mockUserToken,R=Q.MOCK_USER;else{A=Bn(i.mockUserToken,(a=n._app)===null||a===void 0?void 0:a.options.projectId);let b=i.mockUserToken.sub||i.mockUserToken.user_id;if(!b)throw new D(O.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");R=new Q(b)}n._authCredentials=new ss(new Hn(A,R))}}var ys=class n{constructor(t,r,i){this.converter=r,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new n(this.firestore,t,this._query)}},se=class n{constructor(t,r,i){this.converter=r,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ws(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new n(this.firestore,t,this._key)}toJSON(){return{type:n._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,r,i){if(cn(r,n._jsonSchema))return new n(t,i||null,new Lt(Mt.fromString(r.referencePath)))}};se._jsonSchemaVersion="firestore/documentReference/1.0",se._jsonSchema={type:j("string",se._jsonSchemaVersion),referencePath:j("string")};var ws=class n extends ys{constructor(t,r,i){super(t,r,Xd(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let t=this._path.popLast();return t.isEmpty()?null:new se(this.firestore,null,new Lt(t))}withConverter(t){return new n(this.firestore,t,this._path)}};var _u="AsyncQueue",nr=class{constructor(t=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new ms(this,"async_queue_retry"),this.oc=()=>{let i=ns();i&&St(_u,"Visibility state changed to "+i.visibilityState),this.F_.y_()},this._c=t;let r=ns();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.ac(),this.uc(t)}enterRestrictedMode(t){if(!this.Xu){this.Xu=!0,this.rc=t||!1;let r=ns();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.oc)}}enqueue(t){if(this.ac(),this.Xu)return new Promise(()=>{});let r=new re;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(t().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Zu.push(t),this.cc()))}cc(){return S(this,null,function*(){if(this.Zu.length!==0){try{yield this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(t){if(!Od(t))throw t;St(_u,"Operation failed with retryable error: "+t)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}})}uc(t){let r=this._c.then(()=>(this.nc=!0,t().catch(i=>{throw this.tc=i,this.nc=!1,vu("INTERNAL UNHANDLED ERROR: ",yu(i)),i}).then(i=>(this.nc=!1,i))));return this._c=r,r}enqueueAfterDelay(t,r,i){this.ac(),this.sc.indexOf(t)>-1&&(r=0);let a=_s.createAndSchedule(this,t,r,i,u=>this.lc(u));return this.ec.push(a),a}ac(){this.tc&&_t(47125,{hc:yu(this.tc)})}verifyOperationInProgress(){}Pc(){return S(this,null,function*(){let t;do t=this._c,yield t;while(t!==this._c)})}Tc(t){for(let r of this.ec)if(r.timerId===t)return!0;return!1}Ic(t){return this.Pc().then(()=>{this.ec.sort((r,i)=>r.targetTimeMs-i.targetTimeMs);for(let r of this.ec)if(r.skipDelay(),t!=="all"&&r.timerId===t)break;return this.Pc()})}dc(t){this.sc.push(t)}lc(t){let r=this.ec.indexOf(t);this.ec.splice(r,1)}};function yu(n){let t=n.message||"";return n.stack&&(t=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),t}var vs=class extends er{constructor(t,r,i,a){super(t,r,i,a),this.type="firestore",this._queue=new nr,this._persistenceKey=a?.name||"[DEFAULT]"}_terminate(){return S(this,null,function*(){if(this._firestoreClient){let t=this._firestoreClient.terminate();this._queue=new nr(t),this._firestoreClient=void 0,yield t}})}};function qu(n,t){let r=typeof n=="object"?n:It(),i=typeof n=="string"?n:t||fs,a=vt(r,"firestore").getImmediate({identifier:i});if(!a._initialized){let u=Mn("firestore");u&&Bu(a,...u)}return a}var nn=class n{constructor(t){this._byteString=t}static fromBase64String(t){try{return new n(Qt.fromBase64String(t))}catch(r){throw new D(O.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(t){return new n(Qt.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:n._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(cn(t,n._jsonSchema))return n.fromBase64String(t.bytes)}};nn._jsonSchemaVersion="firestore/bytes/1.0",nn._jsonSchema={type:j("string",nn._jsonSchemaVersion),bytes:j("string")};var rr=class{constructor(...t){for(let r=0;r<t.length;++r)if(t[r].length===0)throw new D(O.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ls(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}};var rn=class n{constructor(t,r){if(!isFinite(t)||t<-90||t>90)throw new D(O.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(r)||r<-180||r>180)throw new D(O.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=t,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return At(this._lat,t._lat)||At(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:n._jsonSchemaVersion}}static fromJSON(t){if(cn(t,n._jsonSchema))return new n(t.latitude,t.longitude)}};rn._jsonSchemaVersion="firestore/geoPoint/1.0",rn._jsonSchema={type:j("string",rn._jsonSchemaVersion),latitude:j("number"),longitude:j("number")};var sn=class n{constructor(t){this._values=(t||[]).map(r=>r)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(i,a){if(i.length!==a.length)return!1;for(let u=0;u<i.length;++u)if(i[u]!==a[u])return!1;return!0}(this._values,t._values)}toJSON(){return{type:n._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(cn(t,n._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every(r=>typeof r=="number"))return new n(t.vectorValues);throw new D(O.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}};sn._jsonSchemaVersion="firestore/vectorValue/1.0",sn._jsonSchema={type:j("string",sn._jsonSchemaVersion),vectorValues:j("object")};var tf=new RegExp("[~\\*/\\[\\]]");function ef(n,t,r){if(t.search(tf)>=0)throw wu(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,r);try{return new rr(...t.split("."))._internalPath}catch{throw wu(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,r)}}function wu(n,t,r,i,a){let u=i&&!i.isEmpty(),h=a!==void 0,g=`Function ${t}() called with invalid data`;r&&(g+=" (via `toFirestore()`)"),g+=". ";let E="";return(u||h)&&(E+=" (found",u&&(E+=` in field ${i}`),h&&(E+=` in document ${a}`),E+=")"),new D(O.INVALID_ARGUMENT,g+n+E)}var sr=class{constructor(t,r,i,a,u){this._firestore=t,this._userDataWriter=r,this._key=i,this._document=a,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new se(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let t=new Es(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){let r=this._document.data.field($u("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r)}}},Es=class extends sr{data(){return super.data()}};function $u(n,t){return typeof t=="string"?ef(n,t):t instanceof rr?t._internalPath:t._delegate._internalPath}var Ee=class{constructor(t,r){this.hasPendingWrites=t,this.fromCache=r}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}},Te=class n extends sr{constructor(t,r,i,a,u,h){super(t,r,i,a,h),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){let r=new Ie(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,r={}){if(this._document){let i=this._document.data.field($u("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,r.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new D(O.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let t=this._document,r={};return r.type=n._jsonSchemaVersion,r.bundle="",r.bundleSource="DocumentSnapshot",r.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?r:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),r.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),r)}};Te._jsonSchemaVersion="firestore/documentSnapshot/1.0",Te._jsonSchema={type:j("string",Te._jsonSchemaVersion),bundleSource:j("string","DocumentSnapshot"),bundleName:j("string"),bundle:j("string")};var Ie=class extends Te{data(t={}){return super.data(t)}},on=class n{constructor(t,r,i,a){this._firestore=t,this._userDataWriter=r,this._snapshot=a,this.metadata=new Ee(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){let t=[];return this.forEach(r=>t.push(r)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,r){this._snapshot.docs.forEach(i=>{t.call(r,new Ie(this._firestore,this._userDataWriter,i.key,i,new Ee(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){let r=!!t.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new D(O.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(a,u){if(a._snapshot.oldDocs.isEmpty()){let h=0;return a._snapshot.docChanges.map(g=>{let E=new Ie(a._firestore,a._userDataWriter,g.doc.key,g.doc,new Ee(a._snapshot.mutatedKeys.has(g.doc.key),a._snapshot.fromCache),a.query.converter);return g.doc,{type:"added",doc:E,oldIndex:-1,newIndex:h++}})}{let h=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(g=>u||g.type!==3).map(g=>{let E=new Ie(a._firestore,a._userDataWriter,g.doc.key,g.doc,new Ee(a._snapshot.mutatedKeys.has(g.doc.key),a._snapshot.fromCache),a.query.converter),T=-1,A=-1;return g.type!==0&&(T=h.indexOf(g.doc.key),h=h.delete(g.doc.key)),g.type!==1&&(h=h.add(g.doc),A=h.indexOf(g.doc.key)),{type:nf(g.type),doc:E,oldIndex:T,newIndex:A}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new D(O.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let t={};t.type=n._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=us.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let r=[],i=[],a=[];return this.docs.forEach(u=>{u._document!==null&&(r.push(u._document),i.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),a.push(u.ref.path))}),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}};function nf(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _t(61501,{type:n})}}on._jsonSchemaVersion="firestore/querySnapshot/1.0",on._jsonSchema={type:j("string",on._jsonSchemaVersion),bundleSource:j("string","QuerySnapshot"),bundleName:j("string"),bundle:j("string")};(function(t,r=!0){(function(a){an=a})(me),ht(new lt("firestore",(i,{instanceIdentifier:a,options:u})=>{let h=i.getProvider("app").getImmediate(),g=new vs(new is(i.getProvider("auth-internal")),new cs(h,i.getProvider("app-check-internal")),function(T,A){if(!Object.prototype.hasOwnProperty.apply(T.options,["projectId"]))throw new D(O.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ps(T.options.projectId,A)}(h,a),h);return u=Object.assign({useFetchStreams:r},u),g._setSettings(u),g},"PUBLIC").setMultipleInstances(!0)),N(ou,au,t),N(ou,au,"esm2017")})();var un=class{constructor(t){return t}},ju="firestore",Is=class{constructor(){return ft(ju)}};var As=new at("angularfire2.firestore-instances");function rf(n,t){let r=dt(ju,n,t);return r&&new un(r)}function sf(n){return(t,r)=>{let i=t.runOutsideAngular(()=>n(r));return new un(i)}}var of={provide:Is,deps:[[new L,As]]},af={provide:un,useFactory:rf,deps:[[new L,As],gt]};function Gu(n,...t){return N("angularfire",tt.full,"fst"),ct([af,of,{provide:As,useFactory:sf(n),multi:!0,deps:[W,K,pt,mt,[new L,jn],[new L,_e],...t]}])}var zu=H(qu,!0);var cf="/firebase-messaging-sw.js",uf="/firebase-cloud-messaging-push-scope",Ju="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",lf="https://fcmregistrations.googleapis.com/v1",Zu="google.c.a.c_id",hf="google.c.a.c_l",df="google.c.a.ts",ff="google.c.a.e",Ku=1e4;var ir=function(n){return n.PUSH_RECEIVED="push-received",n.NOTIFICATION_CLICKED="notification-clicked",n}(ir||{});function Ut(n){let t=new Uint8Array(n);return btoa(String.fromCharCode(...t)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function pf(n){let t="=".repeat((4-n.length%4)%4),r=(n+t).replace(/\-/g,"+").replace(/_/g,"/"),i=atob(r),a=new Uint8Array(i.length);for(let u=0;u<i.length;++u)a[u]=i.charCodeAt(u);return a}var bs="fcm_token_details_db",gf=5,Wu="fcm_token_object_Store";function mf(n){return S(this,null,function*(){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(u=>u.name).includes(bs))return null;let t=null;return(yield qr(bs,gf,{upgrade:(i,a,u,h)=>S(null,null,function*(){var g;if(a<2||!i.objectStoreNames.contains(Wu))return;let E=h.objectStore(Wu),T=yield E.index("fcmSenderId").get(n);if(yield E.clear(),!!T){if(a===2){let A=T;if(!A.auth||!A.p256dh||!A.endpoint)return;t={token:A.fcmToken,createTime:(g=A.createTime)!==null&&g!==void 0?g:Date.now(),subscriptionOptions:{auth:A.auth,p256dh:A.p256dh,endpoint:A.endpoint,swScope:A.swScope,vapidKey:typeof A.vapidKey=="string"?A.vapidKey:Ut(A.vapidKey)}}}else if(a===3){let A=T;t={token:A.fcmToken,createTime:A.createTime,subscriptionOptions:{auth:Ut(A.auth),p256dh:Ut(A.p256dh),endpoint:A.endpoint,swScope:A.swScope,vapidKey:Ut(A.vapidKey)}}}else if(a===4){let A=T;t={token:A.fcmToken,createTime:A.createTime,subscriptionOptions:{auth:Ut(A.auth),p256dh:Ut(A.p256dh),endpoint:A.endpoint,swScope:A.swScope,vapidKey:Ut(A.vapidKey)}}}}})})).close(),yield $n(bs),yield $n("fcm_vapid_details_db"),yield $n("undefined"),_f(t)?t:null})}function _f(n){if(!n||!n.subscriptionOptions)return!1;let{subscriptionOptions:t}=n;return typeof n.createTime=="number"&&n.createTime>0&&typeof n.token=="string"&&n.token.length>0&&typeof t.auth=="string"&&t.auth.length>0&&typeof t.p256dh=="string"&&t.p256dh.length>0&&typeof t.endpoint=="string"&&t.endpoint.length>0&&typeof t.swScope=="string"&&t.swScope.length>0&&typeof t.vapidKey=="string"&&t.vapidKey.length>0}var yf="firebase-messaging-database",wf=1,ln="firebase-messaging-store",Ss=null;function tl(){return Ss||(Ss=qr(yf,wf,{upgrade:(n,t)=>{switch(t){case 0:n.createObjectStore(ln)}}})),Ss}function vf(n){return S(this,null,function*(){let t=el(n),i=yield(yield tl()).transaction(ln).objectStore(ln).get(t);if(i)return i;{let a=yield mf(n.appConfig.senderId);if(a)return yield Ps(n,a),a}})}function Ps(n,t){return S(this,null,function*(){let r=el(n),a=(yield tl()).transaction(ln,"readwrite");return yield a.objectStore(ln).put(t,r),yield a.done,t})}function el({appConfig:n}){return n.appId}var Ef={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},it=new fe("messaging","Messaging",Ef);function Tf(n,t){return S(this,null,function*(){let r=yield Ns(n),i=nl(t),a={method:"POST",headers:r,body:JSON.stringify(i)},u;try{u=yield(yield fetch(Ds(n.appConfig),a)).json()}catch(h){throw it.create("token-subscribe-failed",{errorInfo:h?.toString()})}if(u.error){let h=u.error.message;throw it.create("token-subscribe-failed",{errorInfo:h})}if(!u.token)throw it.create("token-subscribe-no-token");return u.token})}function If(n,t){return S(this,null,function*(){let r=yield Ns(n),i=nl(t.subscriptionOptions),a={method:"PATCH",headers:r,body:JSON.stringify(i)},u;try{u=yield(yield fetch(`${Ds(n.appConfig)}/${t.token}`,a)).json()}catch(h){throw it.create("token-update-failed",{errorInfo:h?.toString()})}if(u.error){let h=u.error.message;throw it.create("token-update-failed",{errorInfo:h})}if(!u.token)throw it.create("token-update-no-token");return u.token})}function Af(n,t){return S(this,null,function*(){let i={method:"DELETE",headers:yield Ns(n)};try{let u=yield(yield fetch(`${Ds(n.appConfig)}/${t}`,i)).json();if(u.error){let h=u.error.message;throw it.create("token-unsubscribe-failed",{errorInfo:h})}}catch(a){throw it.create("token-unsubscribe-failed",{errorInfo:a?.toString()})}})}function Ds({projectId:n}){return`${lf}/projects/${n}/registrations`}function Ns(r){return S(this,arguments,function*({appConfig:n,installations:t}){let i=yield t.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n.apiKey,"x-goog-firebase-installations-auth":`FIS ${i}`})})}function nl({p256dh:n,auth:t,endpoint:r,vapidKey:i}){let a={web:{endpoint:r,auth:t,p256dh:n}};return i!==Ju&&(a.web.applicationPubKey=i),a}var bf=7*24*60*60*1e3;function Sf(n){return S(this,null,function*(){let t=yield Cf(n.swRegistration,n.vapidKey),r={vapidKey:n.vapidKey,swScope:n.swRegistration.scope,endpoint:t.endpoint,auth:Ut(t.getKey("auth")),p256dh:Ut(t.getKey("p256dh"))},i=yield vf(n.firebaseDependencies);if(i){if(Pf(i.subscriptionOptions,r))return Date.now()>=i.createTime+bf?Rf(n,{token:i.token,createTime:Date.now(),subscriptionOptions:r}):i.token;try{yield Af(n.firebaseDependencies,i.token)}catch(a){console.warn(a)}return Hu(n.firebaseDependencies,r)}else return Hu(n.firebaseDependencies,r)})}function Rf(n,t){return S(this,null,function*(){try{let r=yield If(n.firebaseDependencies,t),i=Object.assign(Object.assign({},t),{token:r,createTime:Date.now()});return yield Ps(n.firebaseDependencies,i),r}catch(r){throw r}})}function Hu(n,t){return S(this,null,function*(){let i={token:yield Tf(n,t),createTime:Date.now(),subscriptionOptions:t};return yield Ps(n,i),i.token})}function Cf(n,t){return S(this,null,function*(){let r=yield n.pushManager.getSubscription();return r||n.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:pf(t)})})}function Pf(n,t){let r=t.vapidKey===n.vapidKey,i=t.endpoint===n.endpoint,a=t.auth===n.auth,u=t.p256dh===n.p256dh;return r&&i&&a&&u}function Qu(n){let t={from:n.from,collapseKey:n.collapse_key,messageId:n.fcmMessageId};return Df(t,n),Nf(t,n),kf(t,n),t}function Df(n,t){if(!t.notification)return;n.notification={};let r=t.notification.title;r&&(n.notification.title=r);let i=t.notification.body;i&&(n.notification.body=i);let a=t.notification.image;a&&(n.notification.image=a);let u=t.notification.icon;u&&(n.notification.icon=u)}function Nf(n,t){t.data&&(n.data=t.data)}function kf(n,t){var r,i,a,u,h;if(!t.fcmOptions&&!(!((r=t.notification)===null||r===void 0)&&r.click_action))return;n.fcmOptions={};let g=(a=(i=t.fcmOptions)===null||i===void 0?void 0:i.link)!==null&&a!==void 0?a:(u=t.notification)===null||u===void 0?void 0:u.click_action;g&&(n.fcmOptions.link=g);let E=(h=t.fcmOptions)===null||h===void 0?void 0:h.analytics_label;E&&(n.fcmOptions.analyticsLabel=E)}function Of(n){return typeof n=="object"&&!!n&&Zu in n}xf("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");function xf(n,t){let r=[];for(let i=0;i<n.length;i++)r.push(n.charAt(i)),i<t.length&&r.push(t.charAt(i));return r.join("")}function Vf(n){if(!n||!n.options)throw Rs("App Configuration Object");if(!n.name)throw Rs("App Name");let t=["projectId","apiKey","appId","messagingSenderId"],{options:r}=n;for(let i of t)if(!r[i])throw Rs(i);return{appName:n.name,projectId:r.projectId,apiKey:r.apiKey,appId:r.appId,senderId:r.messagingSenderId}}function Rs(n){return it.create("missing-app-config-values",{valueName:n})}var Cs=class{constructor(t,r,i){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;let a=Vf(t);this.firebaseDependencies={app:t,appConfig:a,installations:r,analyticsProvider:i}}_delete(){return Promise.resolve()}};function Ff(n){return S(this,null,function*(){try{n.swRegistration=yield navigator.serviceWorker.register(cf,{scope:uf}),n.swRegistration.update().catch(()=>{}),yield Mf(n.swRegistration)}catch(t){throw it.create("failed-service-worker-registration",{browserErrorMessage:t?.message})}})}function Mf(n){return S(this,null,function*(){return new Promise((t,r)=>{let i=setTimeout(()=>r(new Error(`Service worker not registered after ${Ku} ms`)),Ku),a=n.installing||n.waiting;n.active?(clearTimeout(i),t()):a?a.onstatechange=u=>{var h;((h=u.target)===null||h===void 0?void 0:h.state)==="activated"&&(a.onstatechange=null,clearTimeout(i),t())}:(clearTimeout(i),r(new Error("No incoming service worker found.")))})})}function Lf(n,t){return S(this,null,function*(){if(!t&&!n.swRegistration&&(yield Ff(n)),!(!t&&n.swRegistration)){if(!(t instanceof ServiceWorkerRegistration))throw it.create("invalid-sw-registration");n.swRegistration=t}})}function Uf(n,t){return S(this,null,function*(){t?n.vapidKey=t:n.vapidKey||(n.vapidKey=Ju)})}function Bf(n,t){return S(this,null,function*(){if(!navigator)throw it.create("only-available-in-window");if(Notification.permission==="default"&&(yield Notification.requestPermission()),Notification.permission!=="granted")throw it.create("permission-blocked");return yield Uf(n,t?.vapidKey),yield Lf(n,t?.serviceWorkerRegistration),Sf(n)})}function qf(n,t,r){return S(this,null,function*(){let i=$f(t);(yield n.firebaseDependencies.analyticsProvider.get()).logEvent(i,{message_id:r[Zu],message_name:r[hf],message_time:r[df],message_device_time:Math.floor(Date.now()/1e3)})})}function $f(n){switch(n){case ir.NOTIFICATION_CLICKED:return"notification_open";case ir.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function jf(n,t){return S(this,null,function*(){let r=t.data;if(!r.isFirebaseMessaging)return;n.onMessageHandler&&r.messageType===ir.PUSH_RECEIVED&&(typeof n.onMessageHandler=="function"?n.onMessageHandler(Qu(r)):n.onMessageHandler.next(Qu(r)));let i=r.data;Of(i)&&i[ff]==="1"&&(yield qf(n,r.messageType,i))})}var Yu="@firebase/messaging",Xu="0.12.22";var Gf=n=>{let t=new Cs(n.getProvider("app").getImmediate(),n.getProvider("installations-internal").getImmediate(),n.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",r=>jf(t,r)),t},zf=n=>{let t=n.getProvider("messaging").getImmediate();return{getToken:i=>Bf(t,i)}};function Kf(){ht(new lt("messaging",Gf,"PUBLIC")),ht(new lt("messaging-internal",zf,"PRIVATE")),N(Yu,Xu),N(Yu,Xu,"esm2017")}function rl(){return S(this,null,function*(){try{yield de()}catch{return!1}return typeof window<"u"&&Wt()&&Ye()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})}function sl(n=It()){return rl().then(t=>{if(!t)throw it.create("unsupported-browser")},t=>{throw it.create("indexed-db-unsupported")}),vt(ut(n),"messaging").getImmediate()}Kf();var hn=class{constructor(t){return t}},il="messaging",ks=class{constructor(){return ft(il)}};var Os=new at("angularfire2.messaging-instances");function Wf(n,t,r){if(he(r))return null;let i=dt(il,n,t);return i&&new hn(i)}function Hf(n){return(t,r,i)=>{if(he(i))return null;let a=t.runOutsideAngular(()=>n(r));return new hn(a)}}var Qf={provide:ks,deps:[[new L,Os]]},Yf={provide:hn,useFactory:Wf,deps:[[new L,Os],gt,Tt]};function ol(n,...t){return N("angularfire",tt.full,"fcm"),ct([Yf,Qf,{provide:Os,useFactory:Hf(n),multi:!0,deps:[W,K,Tt,pt,mt,...t]}])}var al=H(sl,!0);var dn=class{constructor(t){return t}},cl="performance",xs=class{constructor(){return ft(cl)}};var Vs=new at("angularfire2.performance-instances");function Xf(n,t,r){if(!le(r))return null;let i=dt(cl,n,t);return i&&new dn(i)}function Jf(n){return(t,r,i)=>{if(!le(r))return null;let a=t.runOutsideAngular(()=>n(i));return new dn(a)}}var Zf={provide:xs,deps:[[new L,Vs]]},tp={provide:dn,useFactory:Xf,deps:[[new L,Vs],gt,Tt]};function ul(n,...t){return N("angularfire",tt.full,"perf"),ct([tp,Zf,{provide:Vs,useFactory:Jf(n),multi:!0,deps:[W,Tt,K,pt,mt,...t]}])}var ll=H(Ac,!0);var ml="firebasestorage.googleapis.com",ep="storageBucket",np=2*60*1e3,rp=10*60*1e3;var Nt=class n extends Ct{constructor(t,r,i=0){super(Fs(t),`Firebase Storage: ${r} (${Fs(t)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,n.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return Fs(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}},qt=function(n){return n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment",n}(qt||{});function Fs(n){return"storage/"+n}function sp(){let n="An unknown error occurred, please check the error payload for server response.";return new Nt(qt.UNKNOWN,n)}function ip(){return new Nt(qt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function op(){return new Nt(qt.CANCELED,"User canceled the upload/download.")}function ap(n){return new Nt(qt.INVALID_URL,"Invalid URL '"+n+"'.")}function cp(n){return new Nt(qt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function hl(n){return new Nt(qt.INVALID_ARGUMENT,n)}function _l(){return new Nt(qt.APP_DELETED,"The Firebase app was deleted.")}function up(n){return new Nt(qt.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}var Bt=class n{constructor(t,r){this.bucket=t,this.path_=r}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){let t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,r){let i;try{i=n.makeFromUrl(t,r)}catch{return new n(t,"")}if(i.path==="")return i;throw cp(t)}static makeFromUrl(t,r){let i=null,a="([A-Za-z0-9.\\-_]+)";function u($){$.path.charAt($.path.length-1)==="/"&&($.path_=$.path_.slice(0,-1))}let h="(/(.*))?$",g=new RegExp("^gs://"+a+h,"i"),E={bucket:1,path:3};function T($){$.path_=decodeURIComponent($.path)}let A="v[A-Za-z0-9_]+",R=r.replace(/[.]/g,"\\."),b="(/([^?#]*).*)?$",F=new RegExp(`^https?://${R}/${A}/b/${a}/o${b}`,"i"),P={bucket:1,path:3},x=r===ml?"(?:storage.googleapis.com|storage.cloud.google.com)":r,C="([^?#]*)",q=new RegExp(`^https?://${x}/${a}/${C}`,"i"),G=[{regex:g,indices:E,postModify:u},{regex:F,indices:P,postModify:T},{regex:q,indices:{bucket:1,path:2},postModify:T}];for(let $=0;$<G.length;$++){let kt=G[$],ot=kt.regex.exec(t);if(ot){let y=ot[kt.indices.bucket],l=ot[kt.indices.path];l||(l=""),i=new n(y,l),kt.postModify(i);break}}if(i==null)throw ap(t);return i}},Ms=class{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}};function lp(n,t,r){let i=1,a=null,u=null,h=!1,g=0;function E(){return g===2}let T=!1;function A(...C){T||(T=!0,t.apply(null,C))}function R(C){a=setTimeout(()=>{a=null,n(F,E())},C)}function b(){u&&clearTimeout(u)}function F(C,...q){if(T){b();return}if(C){b(),A.call(null,C,...q);return}if(E()||h){b(),A.call(null,C,...q);return}i<64&&(i*=2);let G;g===1?(g=2,G=0):G=(i+Math.random())*1e3,R(G)}let P=!1;function x(C){P||(P=!0,b(),!T&&(a!==null?(C||(g=2),clearTimeout(a),R(0)):C||(g=1)))}return R(0),u=setTimeout(()=>{h=!0,x(!0)},r),x}function hp(n){n(!1)}function dp(n){return n!==void 0}function dl(n,t,r,i){if(i<t)throw hl(`Invalid value for '${n}'. Expected ${t} or greater.`);if(i>r)throw hl(`Invalid value for '${n}'. Expected ${r} or less.`)}function fp(n){let t=encodeURIComponent,r="?";for(let i in n)if(n.hasOwnProperty(i)){let a=t(i)+"="+t(n[i]);r=r+a+"&"}return r=r.slice(0,-1),r}var Ls=function(n){return n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT",n}(Ls||{});function pp(n,t){let r=n>=500&&n<600,a=[408,429].indexOf(n)!==-1,u=t.indexOf(n)!==-1;return r||a||u}var Us=class{constructor(t,r,i,a,u,h,g,E,T,A,R,b=!0,F=!1){this.url_=t,this.method_=r,this.headers_=i,this.body_=a,this.successCodes_=u,this.additionalRetryCodes_=h,this.callback_=g,this.errorCallback_=E,this.timeout_=T,this.progressCallback_=A,this.connectionFactory_=R,this.retry=b,this.isUsingEmulator=F,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((P,x)=>{this.resolve_=P,this.reject_=x,this.start_()})}start_(){let t=(i,a)=>{if(a){i(!1,new Se(!1,null,!0));return}let u=this.connectionFactory_();this.pendingConnection_=u;let h=g=>{let E=g.loaded,T=g.lengthComputable?g.total:-1;this.progressCallback_!==null&&this.progressCallback_(E,T)};this.progressCallback_!==null&&u.addUploadProgressListener(h),u.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(h),this.pendingConnection_=null;let g=u.getErrorCode()===Ls.NO_ERROR,E=u.getStatus();if(!g||pp(E,this.additionalRetryCodes_)&&this.retry){let A=u.getErrorCode()===Ls.ABORT;i(!1,new Se(!1,null,A));return}let T=this.successCodes_.indexOf(E)!==-1;i(!0,new Se(T,u))})},r=(i,a)=>{let u=this.resolve_,h=this.reject_,g=a.connection;if(a.wasSuccessCode)try{let E=this.callback_(g,g.getResponse());dp(E)?u(E):u()}catch(E){h(E)}else if(g!==null){let E=sp();E.serverResponse=g.getErrorText(),this.errorCallback_?h(this.errorCallback_(g,E)):h(E)}else if(a.canceled){let E=this.appDelete_?_l():op();h(E)}else{let E=ip();h(E)}};this.canceled_?r(!1,new Se(!1,null,!0)):this.backoffId_=lp(t,r,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&hp(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}},Se=class{constructor(t,r,i){this.wasSuccessCode=t,this.connection=r,this.canceled=!!i}};function gp(n,t){t!==null&&t.length>0&&(n.Authorization="Firebase "+t)}function mp(n,t){n["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function _p(n,t){t&&(n["X-Firebase-GMPID"]=t)}function yp(n,t){t!==null&&(n["X-Firebase-AppCheck"]=t)}function wp(n,t,r,i,a,u,h=!0,g=!1){let E=fp(n.urlParams),T=n.url+E,A=Object.assign({},n.headers);return _p(A,t),gp(A,r),mp(A,u),yp(A,i),new Us(T,n.method,A,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,a,h,g)}function vp(n){if(n.length===0)return null;let t=n.lastIndexOf("/");return t===-1?"":n.slice(0,t)}function Ep(n){let t=n.lastIndexOf("/",n.length-2);return t===-1?n:n.slice(t+1)}var Py=256*1024;var Bs=class n{constructor(t,r){this._service=t,r instanceof Bt?this._location=r:this._location=Bt.makeFromUrl(r,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,r){return new n(t,r)}get root(){let t=new Bt(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Ep(this._location.path)}get storage(){return this._service}get parent(){let t=vp(this._location.path);if(t===null)return null;let r=new Bt(this._location.bucket,t);return new n(this._service,r)}_throwIfRoot(t){if(this._location.path==="")throw up(t)}};function fl(n,t){let r=t?.[ep];return r==null?null:Bt.makeFromBucketSpec(r,n)}function Tp(n,t,r,i={}){n.host=`${t}:${r}`;let a=Ln(t);a&&(Un(`https://${n.host}/b`),qn("Storage",!0)),n._isUsingEmulator=!0,n._protocol=a?"https":"http";let{mockUserToken:u}=i;u&&(n._overrideAuthToken=typeof u=="string"?u:Bn(u,n.app.options.projectId))}var qs=class{constructor(t,r,i,a,u,h=!1){this.app=t,this._authProvider=r,this._appCheckProvider=i,this._url=a,this._firebaseVersion=u,this._isUsingEmulator=h,this._bucket=null,this._host=ml,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=np,this._maxUploadRetryTime=rp,this._requests=new Set,a!=null?this._bucket=Bt.makeFromBucketSpec(a,this._host):this._bucket=fl(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=Bt.makeFromBucketSpec(this._url,t):this._bucket=fl(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){dl("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){dl("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}_getAuthToken(){return S(this,null,function*(){if(this._overrideAuthToken)return this._overrideAuthToken;let t=this._authProvider.getImmediate({optional:!0});if(t){let r=yield t.getToken();if(r!==null)return r.accessToken}return null})}_getAppCheckToken(){return S(this,null,function*(){if(Je(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let t=this._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new Bs(this,t)}_makeRequest(t,r,i,a,u=!0){if(this._deleted)return new Ms(_l());{let h=wp(t,this._appId,i,a,r,this._firebaseVersion,u,this._isUsingEmulator);return this._requests.add(h),h.getPromise().then(()=>this._requests.delete(h),()=>this._requests.delete(h)),h}}makeRequestWithTokens(t,r){return S(this,null,function*(){let[i,a]=yield Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,r,i,a).getPromise()})}},pl="@firebase/storage",gl="0.13.14";var yl="storage";function wl(n=It(),t){n=ut(n);let i=vt(n,yl).getImmediate({identifier:t}),a=Mn("storage");return a&&vl(i,...a),i}function vl(n,t,r,i={}){Tp(n,t,r,i)}function Ip(n,{instanceIdentifier:t}){let r=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),a=n.getProvider("app-check-internal");return new qs(r,i,a,t,me)}function Ap(){ht(new lt(yl,Ip,"PUBLIC").setMultipleInstances(!0)),N(pl,gl,""),N(pl,gl,"esm2017")}Ap();var fn=class{constructor(t){return t}},El="storage",$s=class{constructor(){return ft(El)}};var js=new at("angularfire2.storage-instances");function bp(n,t){let r=dt(El,n,t);return r&&new fn(r)}function Sp(n){return(t,r)=>{let i=t.runOutsideAngular(()=>n(r));return new fn(i)}}var Rp={provide:$s,deps:[[new L,js]]},Cp={provide:fn,useFactory:bp,deps:[[new L,js],gt]};function Tl(n,...t){return N("angularfire",tt.full,"gcs"),ct([Cp,Rp,{provide:js,useFactory:Sp(n),multi:!0,deps:[W,K,pt,mt,[new L,jn],[new L,_e],...t]}])}var Il=H(wl,!0);var Gs="@firebase/remote-config",Al="0.6.5";var Sl="remote-config",bl=100;var Pp={"already-initialized":"Remote Config already initialized","registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser","custom-signal-max-allowed-signals":"Setting more than {$maxSignals} custom signals is not supported."},yt=new fe("remoteconfig","Remote Config",Pp);function Rl(n=It(),t={}){var r,i;n=ut(n);let a=vt(n,Sl);if(a.isInitialized()){let h=a.getOptions();if(pe(h,t))return a.getImmediate();throw yt.create("already-initialized")}a.initialize({options:t});let u=a.getImmediate();return t.initialFetchResponse&&(u._initializePromise=Promise.all([u._storage.setLastSuccessfulFetchResponse(t.initialFetchResponse),u._storage.setActiveConfigEtag(((r=t.initialFetchResponse)===null||r===void 0?void 0:r.eTag)||""),u._storageCache.setLastSuccessfulFetchTimestampMillis(Date.now()),u._storageCache.setLastFetchStatus("success"),u._storageCache.setActiveConfig(((i=t.initialFetchResponse)===null||i===void 0?void 0:i.config)||{})]).then(),u._isInitializationComplete=!0),u}function Cl(n){let t=ut(n);return t._initializePromise||(t._initializePromise=t._storageCache.loadFromStorage().then(()=>{t._isInitializationComplete=!0})),t._initializePromise}var zs=class{constructor(t,r,i,a){this.client=t,this.storage=r,this.storageCache=i,this.logger=a}isCachedDataFresh(t,r){if(!r)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;let i=Date.now()-r,a=i<=t;return this.logger.debug(`Config fetch cache check. Cache age millis: ${i}. Cache max age millis (minimumFetchIntervalMillis setting): ${t}. Is cache hit: ${a}.`),a}fetch(t){return S(this,null,function*(){let[r,i]=yield Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()]);if(i&&this.isCachedDataFresh(t.cacheMaxAgeMillis,r))return i;t.eTag=i&&i.eTag;let a=yield this.client.fetch(t),u=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return a.status===200&&u.push(this.storage.setLastSuccessfulFetchResponse(a)),yield Promise.all(u),a})}};function Dp(n=navigator){return n.languages&&n.languages[0]||n.language}var Ks=class{constructor(t,r,i,a,u,h){this.firebaseInstallations=t,this.sdkVersion=r,this.namespace=i,this.projectId=a,this.apiKey=u,this.appId=h}fetch(t){return S(this,null,function*(){let[r,i]=yield Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()]),u=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${this.projectId}/namespaces/${this.namespace}:fetch?key=${this.apiKey}`,h={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":t.eTag||"*"},g={sdk_version:this.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:this.appId,language_code:Dp(),custom_signals:t.customSignals},E={method:"POST",headers:h,body:JSON.stringify(g)},T=fetch(u,E),A=new Promise((C,q)=>{t.signal.addEventListener(()=>{let et=new Error("The operation was aborted.");et.name="AbortError",q(et)})}),R;try{yield Promise.race([T,A]),R=yield T}catch(C){let q="fetch-client-network";throw C?.name==="AbortError"&&(q="fetch-timeout"),yt.create(q,{originalErrorMessage:C?.message})}let b=R.status,F=R.headers.get("ETag")||void 0,P,x;if(R.status===200){let C;try{C=yield R.json()}catch(q){throw yt.create("fetch-client-parse",{originalErrorMessage:q?.message})}P=C.entries,x=C.state}if(x==="INSTANCE_STATE_UNSPECIFIED"?b=500:x==="NO_CHANGE"?b=304:(x==="NO_TEMPLATE"||x==="EMPTY_CONFIG")&&(P={}),b!==304&&b!==200)throw yt.create("fetch-status",{httpStatus:b});return{status:b,eTag:F,config:P}})}};function Np(n,t){return new Promise((r,i)=>{let a=Math.max(t-Date.now(),0),u=setTimeout(r,a);n.addEventListener(()=>{clearTimeout(u),i(yt.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function kp(n){if(!(n instanceof Ct)||!n.customData)return!1;let t=Number(n.customData.httpStatus);return t===429||t===500||t===503||t===504}var Ws=class{constructor(t,r){this.client=t,this.storage=r}fetch(t){return S(this,null,function*(){let r=(yield this.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return this.attemptFetch(t,r)})}attemptFetch(a,u){return S(this,arguments,function*(t,{throttleEndTimeMillis:r,backoffCount:i}){yield Np(t.signal,r);try{let h=yield this.client.fetch(t);return yield this.storage.deleteThrottleMetadata(),h}catch(h){if(!kp(h))throw h;let g={throttleEndTimeMillis:Date.now()+Xe(i),backoffCount:i+1};return yield this.storage.setThrottleMetadata(g),this.attemptFetch(t,g)}})}};var Op=60*1e3,xp=12*60*60*1e3,Hs=class{get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}constructor(t,r,i,a,u){this.app=t,this._client=r,this._storageCache=i,this._storage=a,this._logger=u,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:Op,minimumFetchIntervalMillis:xp},this.defaultConfig={}}};function or(n,t){let r=n.target.error||void 0;return yt.create(t,{originalErrorMessage:r&&r?.message})}var Yt="app_namespace_store",Vp="firebase_remote_config",Fp=1;function Mp(){return new Promise((n,t)=>{try{let r=indexedDB.open(Vp,Fp);r.onerror=i=>{t(or(i,"storage-open"))},r.onsuccess=i=>{n(i.target.result)},r.onupgradeneeded=i=>{let a=i.target.result;switch(i.oldVersion){case 0:a.createObjectStore(Yt,{keyPath:"compositeKey"})}}}catch(r){t(yt.create("storage-open",{originalErrorMessage:r?.message}))}})}var ar=class{getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(t){return this.set("last_fetch_status",t)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(t){return this.set("last_successful_fetch_timestamp_millis",t)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(t){return this.set("last_successful_fetch_response",t)}getActiveConfig(){return this.get("active_config")}setActiveConfig(t){return this.set("active_config",t)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(t){return this.set("active_config_etag",t)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(t){return this.set("throttle_metadata",t)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}getCustomSignals(){return this.get("custom_signals")}},Qs=class extends ar{constructor(t,r,i,a=Mp()){super(),this.appId=t,this.appName=r,this.namespace=i,this.openDbPromise=a}setCustomSignals(t){return S(this,null,function*(){let i=(yield this.openDbPromise).transaction([Yt],"readwrite"),a=yield this.getWithTransaction("custom_signals",i),u=Pl(t,a||{});return yield this.setWithTransaction("custom_signals",u,i),u})}getWithTransaction(t,r){return S(this,null,function*(){return new Promise((i,a)=>{let u=r.objectStore(Yt),h=this.createCompositeKey(t);try{let g=u.get(h);g.onerror=E=>{a(or(E,"storage-get"))},g.onsuccess=E=>{let T=E.target.result;i(T?T.value:void 0)}}catch(g){a(yt.create("storage-get",{originalErrorMessage:g?.message}))}})})}setWithTransaction(t,r,i){return S(this,null,function*(){return new Promise((a,u)=>{let h=i.objectStore(Yt),g=this.createCompositeKey(t);try{let E=h.put({compositeKey:g,value:r});E.onerror=T=>{u(or(T,"storage-set"))},E.onsuccess=()=>{a()}}catch(E){u(yt.create("storage-set",{originalErrorMessage:E?.message}))}})})}get(t){return S(this,null,function*(){let i=(yield this.openDbPromise).transaction([Yt],"readonly");return this.getWithTransaction(t,i)})}set(t,r){return S(this,null,function*(){let a=(yield this.openDbPromise).transaction([Yt],"readwrite");return this.setWithTransaction(t,r,a)})}delete(t){return S(this,null,function*(){let r=yield this.openDbPromise;return new Promise((i,a)=>{let h=r.transaction([Yt],"readwrite").objectStore(Yt),g=this.createCompositeKey(t);try{let E=h.delete(g);E.onerror=T=>{a(or(T,"storage-delete"))},E.onsuccess=()=>{i()}}catch(E){a(yt.create("storage-delete",{originalErrorMessage:E?.message}))}})})}createCompositeKey(t){return[this.appId,this.appName,this.namespace,t].join()}},Ys=class extends ar{constructor(){super(...arguments),this.storage={}}get(t){return S(this,null,function*(){return Promise.resolve(this.storage[t])})}set(t,r){return S(this,null,function*(){return this.storage[t]=r,Promise.resolve(void 0)})}delete(t){return S(this,null,function*(){return this.storage[t]=void 0,Promise.resolve()})}setCustomSignals(t){return S(this,null,function*(){let r=this.storage.custom_signals||{};return this.storage.custom_signals=Pl(t,r),Promise.resolve(this.storage.custom_signals)})}};function Pl(n,t){let r=Object.assign(Object.assign({},t),n),i=Object.fromEntries(Object.entries(r).filter(([a,u])=>u!==null).map(([a,u])=>typeof u=="number"?[a,u.toString()]:[a,u]));if(Object.keys(i).length>bl)throw yt.create("custom-signal-max-allowed-signals",{maxSignals:bl});return i}var Xs=class{constructor(t){this.storage=t}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}getCustomSignals(){return this.customSignals}loadFromStorage(){return S(this,null,function*(){let t=this.storage.getLastFetchStatus(),r=this.storage.getLastSuccessfulFetchTimestampMillis(),i=this.storage.getActiveConfig(),a=this.storage.getCustomSignals(),u=yield t;u&&(this.lastFetchStatus=u);let h=yield r;h&&(this.lastSuccessfulFetchTimestampMillis=h);let g=yield i;g&&(this.activeConfig=g);let E=yield a;E&&(this.customSignals=E)})}setLastFetchStatus(t){return this.lastFetchStatus=t,this.storage.setLastFetchStatus(t)}setLastSuccessfulFetchTimestampMillis(t){return this.lastSuccessfulFetchTimestampMillis=t,this.storage.setLastSuccessfulFetchTimestampMillis(t)}setActiveConfig(t){return this.activeConfig=t,this.storage.setActiveConfig(t)}setCustomSignals(t){return S(this,null,function*(){this.customSignals=yield this.storage.setCustomSignals(t)})}};function Lp(){ht(new lt(Sl,n,"PUBLIC").setMultipleInstances(!0)),N(Gs,Al),N(Gs,Al,"esm2017");function n(t,{options:r}){let i=t.getProvider("app").getImmediate(),a=t.getProvider("installations-internal").getImmediate(),{projectId:u,apiKey:h,appId:g}=i.options;if(!u)throw yt.create("registration-project-id");if(!h)throw yt.create("registration-api-key");if(!g)throw yt.create("registration-app-id");let E=r?.templateId||"firebase",T=Wt()?new Qs(g,i.name,E):new Ys,A=new Xs(T),R=new Ht(Gs);R.logLevel=ge.ERROR;let b=new Ks(a,me,E,u,h,g),F=new Ws(b,T),P=new zs(F,T,A,R),x=new Hs(i,P,A,T,R);return Cl(x),x}}Lp();var pn=class{constructor(t){return t}},Dl="remote-config",Js=class{constructor(){return ft(Dl)}};var Zs=new at("angularfire2.remote-config-instances");function Up(n,t,r){if(he(r))return null;let i=dt(Dl,n,t);return i&&new pn(i)}function Bp(n){return(t,r,i)=>{if(he(i))return null;let a=t.runOutsideAngular(()=>n(r));return new pn(a)}}var qp={provide:Js,deps:[[new L,Zs]]},$p={provide:pn,useFactory:Up,deps:[[new L,Zs],gt,Tt]};function Nl(n,...t){return N("angularfire",tt.full,"rc"),ct([$p,qp,{provide:Zs,useFactory:Bp(n),multi:!0,deps:[W,K,Tt,pt,mt,...t]}])}var kl=H(Rl,!0);var Ol="@firebase/ai",xl="1.4.1";var Re="AI",Vl="us-central1";var Fw=180*1e3;var ti=function(n){return n.STOP="STOP",n.MAX_TOKENS="MAX_TOKENS",n.SAFETY="SAFETY",n.RECITATION="RECITATION",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.SPII="SPII",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n}(ti||{});var Fl={VERTEX_AI:"VERTEX_AI",GOOGLE_AI:"GOOGLE_AI"};var cr=class{constructor(t){this.backendType=t}},ur=class extends cr{constructor(){super(Fl.GOOGLE_AI)}},Ce=class extends cr{constructor(t=Vl){super(Fl.VERTEX_AI),t?this.location=t:this.location=Vl}};var ei=class{constructor(t,r,i,a){this.app=t,this.backend=r;let u=a?.getImmediate({optional:!0}),h=i?.getImmediate({optional:!0});this.auth=h||null,this.appCheck=u||null,r instanceof Ce?this.location=r.location:this.location=""}_delete(){return Promise.resolve()}};var ie=class n extends Ct{constructor(t,r,i){let a=Re,u=`${a}/${t}`,h=`${a}: ${r} (${u})`;super(t,h),this.code=t,this.customErrorData=i,Error.captureStackTrace&&Error.captureStackTrace(this,n),Object.setPrototypeOf(this,n.prototype),this.toString=()=>h}};function jp(n){if(n instanceof ur)return`${Re}/googleai`;if(n instanceof Ce)return`${Re}/vertexai/${n.location}`;throw new ie("error",`Invalid backend: ${JSON.stringify(n.backendType)}`)}function Gp(n){let t=n.split("/");if(t[0]!==Re)throw new ie("error",`Invalid instance identifier, unknown prefix '${t[0]}'`);switch(t[1]){case"vertexai":let i=t[2];if(!i)throw new ie("error",`Invalid instance identifier, unknown location '${n}'`);return new Ce(i);case"googleai":return new ur;default:throw new ie("error",`Invalid instance identifier string: '${n}'`)}}var Mw=new Ht("@firebase/vertexai");var Lw=[ti.RECITATION,ti.SAFETY];function Ml(n=It(),t){n=ut(n);let r=vt(n,Re),i=new Ce(t?.location),a=jp(i);return r.getImmediate({identifier:a})}function zp(){ht(new lt(Re,(n,{instanceIdentifier:t})=>{if(!t)throw new ie("error","AIService instance identifier is undefined.");let r=Gp(t),i=n.getProvider("app").getImmediate(),a=n.getProvider("auth-internal"),u=n.getProvider("app-check-internal");return new ei(i,r,a,u)},"PUBLIC").setMultipleInstances(!0)),N(Ol,xl),N(Ol,xl,"esm2017")}zp();var gn=class{constructor(t){return t}},Ll="vertexai",ni=class{constructor(){return ft(Ll)}};var ri=new at("angularfire2.vertexai-instances");function Kp(n,t){let r=dt(Ll,n,t);return r&&new gn(r)}function Wp(n){return(t,r)=>{let i=t.runOutsideAngular(()=>n(r));return new gn(i)}}var Hp={provide:ni,deps:[[new L,ri]]},Qp={provide:gn,useFactory:Kp,deps:[[new L,ri],gt]};function Ul(n,...t){return N("angularfire",tt.full,"vertexai"),ct([Qp,Hp,{provide:ri,useFactory:Wp(n),multi:!0,deps:[W,K,pt,mt,[new L,_e],...t]}])}var Bl=H(Ml,!0);var Yp={abbr:"zh-CN",ng:Ha,zorro:qa,date:Qa,delon:za},Xp={st:{modal:{size:"lg"}},pageHeader:{homeI18n:"home"},lodop:{license:"A59B099A586B3851E0F0D7FDBF37B603",licenseA:"C94CEE276DB2187AE6B65D56B3FC2848"},auth:{login_url:"/passport/login"}},Jp={},ql=[Po(),Do(),Ro({scrollPositionRestoration:"top"})];Kt.useHash&&ql.push(Co());var $l=[_o(yo([...Kt.interceptorFns??[],Za,nc])),Ba(),So(Cc,...ql),Ka({config:Xp,defaultLang:Yp,i18nClass:Ya,icons:[...Rc,...Sc]}),No(Jp),tc(),pc(...wc),gc(...yc),mc({widgets:_c}),dc(),...Kt.providers||[]];Kt.api?.refreshTokenEnabled&&Kt.api.refreshTokenType==="auth-refresh"&&$l.push(ec());var jl={providers:[...$l,rc(()=>sc({projectId:"lin-in",appId:"1:387803341154:web:ab7b9becf85beed6a78c3b",storageBucket:"lin-in.firebasestorage.app",apiKey:"AIzaSyCX4rENtBHJAxypxNpx5YrFU-gHZl3L2-s",authDomain:"lin-in.firebaseapp.com",messagingSenderId:"387803341154",measurementId:"G-7WQGH06K1G"})),uc(()=>hc()),Hc(()=>zc()),Wc,ts,oc(()=>{let n=new ic("6LfZgXwrAAAAABMJ0e0Ym-ZbBuoJU5AFdXJa90am");return ac(void 0,{provider:n,isTokenAutoRefreshEnabled:!0})}),Gu(()=>zu()),Tc(()=>Ic()),ol(()=>al()),ul(()=>ll()),Tl(()=>Il()),Nl(()=>kl()),Ul(()=>Bl())]};mo(Gn,jl).catch(n=>console.error(n));
